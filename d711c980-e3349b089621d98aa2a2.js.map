{"version":3,"sources":["webpack://jacdac-docs/./node_modules/blockly/blockly_compressed.js"],"names":[],"mappings":";;;;;AAAA,yHAAyB;;AAEzB;AACA;;AAEA;AACA,MAAM,IAA0C;AAChD;AACA,IAAI,iCAAO,EAAE,oCAAE,OAAO;AAAA;AAAA;AAAA,kGAAC;AACvB,GAAG,MAAM,EAMN;AACH,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uGAAuG,qBAAM,GAAG,qBAAM;AACtH,GAAG;;AAEH;AACA,oEAAoE;AACpE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,EAAE;AACtB,oBAAoB,EAAE;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B,kCAAkC,cAAc;AAChD;AACA;;AAEA;AACA;;AAEA,eAAe,cAAc;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B,iDAAiD,cAAc;AAC/D;AACA;;AAEA;AACA;;AAEA,eAAe,cAAc;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;;AAEA;;AAEA,mBAAmB,cAAc;AACjC,kIAAkI,GAAG;AACrI;;AAEA;AACA;AACA;;AAEA;AACA,oEAAoE,kBAAkB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B,cAAc;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD,aAAa,YAAY,cAAc;AAC5F;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,cAAc;AAC3C;AACA,kOAAkO,oKAAoK,oBAAoB,wVAAwV,UAAU,gBAAgB,UAAU;AACtxB;;AAEA;AACA;;AAEA,0BAA0B,cAAc;AACxC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kEAAkE,QAAQ;AAC1E;AACA;;AAEA;AACA;;AAEA,8CAA8C,SAAS,EAAE;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C;AAC/C;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,UAAU;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,6BAA6B;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,UAAU;AAClC;AACA;AACA,KAAK;AACL;;AAEA,6FAA6F,mCAAmC;AAChI;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mCAAmC;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA,6FAA6F,mCAAmC;AAChI;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,mCAAmC;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qHAAqH,UAAU;AAC/H;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uDAAuD,UAAU;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY,2KAA2K,gHAAgH;AAChT;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA,eAAe,UAAU;AACzB;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,mCAAmC;AACzD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0EAA0E;AAC1E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,QAAQ,SAAS,eAAe;AAC7E;AACA;AACA;;AAEA;AACA,YAAY;AACZ,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,UAAU;AACzB;AACA;;AAEA;;AAEA,eAAe,UAAU;AACzB;AACA;;AAEA;AACA;;AAEA;AACA,wEAAwE,UAAU;AAClF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,oBAAoB;AAC1C,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,eAAe,oBAAoB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC,GAAG;AAC3C,iGAAiG;AACjG,cAAc,qBAAqB;AACnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,cAAc;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,qXAAqX;AACrX,oDAAoD;AACpD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;;AAEA,8BAA8B,QAAQ;AACtC;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO,4BAA4B,QAAQ;AAC3C;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,WAAW,qBAAqB;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B,UAAU;AACxC;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,UAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,sBAAsB,UAAU;AAChC;AACA;AACA;;AAEA;AACA,sBAAsB,UAAU;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK,WAAW,qBAAqB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,UAAU;AAChC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,UAAU;AAChC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE,KAAK,4DAA4D,+DAA+D;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iHAAiH;AACjH;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4EAA4E;AAC5E;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,gGAAgG;AACrG;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,2BAA2B,kBAAkB,qBAAqB,uBAAuB,mBAAmB,KAAK,uBAAuB,kBAAkB,uBAAuB,mBAAmB,KAAK,mBAAmB,iBAAiB,uBAAuB,qBAAqB,uBAAuB,KAAK,2BAA2B,sBAAsB,0BAA0B,8BAA8B,KAAK,2BAA2B,kBAAkB,uBAAuB,WAAW,YAAY,KAAK,kDAAkD,sBAAsB,KAAK,8BAA8B,kBAAkB,uBAAuB,WAAW,YAAY,aAAa,cAAc,iCAAiC,gBAAgB,KAAK,wGAAwG,8BAA8B,KAAK,wBAAwB,8BAA8B,2BAA2B,iDAAiD,gBAAgB,kBAAkB,yBAAyB,gBAAgB,iBAAiB,uBAAuB,oBAAoB,KAAK,yBAAyB,uBAAuB,YAAY,WAAW,kBAAkB,kBAAkB,sBAAsB,0BAA0B,2BAA2B,uBAAuB,iBAAiB,2CAA2C,KAAK,wCAAwC,2CAA2C,KAAK,6BAA6B,sBAAsB,mBAAmB,uBAAuB,uBAAuB,KAAK,2BAA2B,uBAAuB,YAAY,WAAW,gBAAgB,iBAAiB,gBAAgB,8BAA8B,0BAA0B,KAAK,4BAA4B,0BAA0B,gBAAgB,eAAe,gBAAgB,uBAAuB,kBAAkB,sBAAsB,+BAA+B,oBAAoB,KAAK,sBAAsB,0BAA0B,2BAA2B,gCAAgC,0BAA0B,KAAK,yBAAyB,6BAA6B,4BAA4B,oCAAoC,0BAA0B,KAAK,sBAAsB,sBAAsB,eAAe,KAAK,sBAAsB,sBAAsB,eAAe,KAAK,wBAAwB,oBAAoB,oBAAoB,KAAK,uCAAuC,eAAe,iBAAiB,sBAAsB,KAAK,uBAAuB,eAAe,0BAA0B,oBAAoB,KAAK,wCAAwC,kBAAkB,KAAK,uBAAuB,iDAAiD,iBAAiB,yBAAyB,KAAK,sBAAsB,mDAAmD,qBAAqB,6BAA6B,KAAK,8BAA8B,mDAAmD,qBAAqB,6BAA6B,KAAK,gDAAgD,mDAAmD,qBAAqB,6BAA6B,KAAK,4CAA4C,mDAAmD,KAAK,0EAA0E,qBAAqB,uBAAuB,KAAK,uCAAuC,kBAAkB,KAAK,mCAAmC,qBAAqB,uBAAuB,KAAK,8EAA8E,kBAAkB,KAAK,qIAAqI,qBAAqB,iBAAiB,KAAK,2BAA2B,2BAA2B,KAAK,kCAAkC,yBAAyB,KAAK,oBAAoB,uBAAuB,gBAAgB,KAAK,uBAAuB,oBAAoB,KAAK,wDAAwD,sBAAsB,0BAA0B,8BAA8B,oBAAoB,KAAK,oBAAoB,kBAAkB,KAAK,+CAA+C,mBAAmB,KAAK,uBAAuB,oBAAoB,KAAK,iEAAiE,gBAAgB,KAAK,uBAAuB,eAAe,iBAAiB,sBAAsB,KAAK,wBAAwB,eAAe,KAAK,yBAAyB,cAAc,eAAe,KAAK,uBAAuB,iBAAiB,uBAAuB,iBAAiB,cAAc,kBAAkB,eAAe,gBAAgB,uBAAuB,mBAAmB,2BAA2B,KAAK,kCAAkC,kBAAkB,KAAK,4BAA4B,oBAAoB,oBAAoB,KAAK,+BAA+B,eAAe,iBAAiB,oBAAoB,KAAK,8BAA8B,eAAe,qBAAqB,KAAK,oCAAoC,gBAAgB,KAAK,6BAA6B,gBAAgB,KAAK,+DAA+D,uBAAuB,kBAAkB,KAAK,iCAAiC,eAAe,KAAK,6BAA6B,eAAe,KAAK,iGAAiG,eAAe,KAAK,4CAA4C,eAAe,KAAK,+HAA+H,eAAe,KAAK,0BAA0B,qBAAqB,KAAK,4BAA4B,sBAAsB,+BAA+B,yBAAyB,KAAK,2BAA2B,uBAAuB,aAAa,cAAc,KAAK,6BAA6B,yBAAyB,KAAK,yBAAyB,uBAAuB,qBAAqB,KAAK,0BAA0B,uBAAuB,0BAA0B,KAAK,2CAA2C,uBAAuB,KAAK,8CAA8C,sBAAsB,wBAAwB,KAAK,oCAAoC,qBAAqB,kCAAkC,2CAA2C,wCAAwC,cAAc,kBAAkB,mBAAmB,uBAAuB,qBAAqB,uBAAuB,qBAAqB,mBAAmB,KAAK,mDAAmD,2CAA2C,KAAK,sCAAsC,wBAAwB,oBAAoB,8DAA8D,kBAAkB,uBAAuB,mBAAmB,KAAK,sBAAsB,iBAAiB,gBAAgB,oBAAoB,qBAAqB,cAAc,mBAAmB,sBAAsB,wBAAwB,KAAK,8BAA8B,gBAAgB,oBAAoB,KAAK,+BAA+B,qCAAqC,KAAK,8BAA8B,iBAAiB,uBAAuB,gBAAgB,KAAK,uDAAuD,kEAAkE,gBAAgB,uBAAuB,qBAAqB,KAAK,kDAAkD,iBAAiB,wBAAwB,KAAK;AACzxP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,2BAA2B;AACxD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,KAAK,qEAAqE;AAC1E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,UAAU;AACzB;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,yBAAyB;AAC5C;AACA,wEAAwE;AACxE;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,wBAAwB;AACxB;AACA,gIAAgI;AAChI;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iJAAiJ;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mJAAmJ;AACnJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,+EAA+E;AAC/E;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,wBAAwB;AACjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,UAAU,gBAAgB;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC,wCAAwC,UAAU;AAClD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uCAAuC,oBAAoB;AAC3D,8BAA8B,cAAc;AAC5C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wGAAwG,oBAAoB;AAC5H;AACA;;AAEA,mCAAmC,UAAU;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC;;AAEA,0BAA0B,QAAQ;AAClC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,UAAU;AAChC,wCAAwC,UAAU;AAClD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA,OAAO;AACP;;AAEA,mBAAmB,kBAAkB;AACrC;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,wBAAwB;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe,gDAAgD;AAC/D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+HAA+H,kEAAkE;AACjM;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAqE,wBAAwB;AAC7F;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sEAAsE,qEAAqE,6DAA6D;AACxM;;AAEA,0BAA0B,oBAAoB;AAC9C;AACA;AACA;AACA;AACA;;AAEA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA,+GAA+G;AAC/G;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;;AAEA;AACA;;AAEA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0IAA0I;AAC1I,KAAK;;AAEL;AACA;AACA;;AAEA;AACA,mEAAmE,uCAAuC;AAC1G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,cAAc;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,cAAc;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD,UAAU;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,0DAA0D,UAAU;AACpE;AACA;AACA;AACA;;AAEA;AACA,uDAAuD,cAAc;AACrE,kCAAkC,6BAA6B;AAC/D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD,UAAU;AAC5D;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gEAAgE,cAAc;AAC9E;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAA6B,cAAc;AAC3C;AACA;AACA,KAAK,4CAA4C,cAAc;AAC/D;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA,4CAA4C,wBAAwB;AACpE;AACA;;AAEA,YAAY,0BAA0B;AACtC;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,yDAAyD;AAChF;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+EAA+E,8DAA8D;AAC7I;AACA;;AAEA,sBAAsB,wBAAwB;AAC9C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iDAAiD,UAAU;AAC3D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kFAAkF;AAClF;AACA;AACA;AACA,8CAA8C;AAC9C;AACA,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,uGAAuG,6FAA6F,2FAA2F;AAC/R;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,+MAA+M;AAC/M;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sDAAsD,UAAU;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sGAAsG;AACtG;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2JAA2J;AAC3J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAqE,wBAAwB;AAC7F,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAsB,sBAAsB;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6DAA6D,0BAA0B;AACvF;AACA;AACA;;AAEA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kDAAkD,QAAQ;AAC1D;AACA;;AAEA;;AAEA,mBAAmB,uBAAuB;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,UAAU;AAC7B;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0NAA0N;AAC1N;;AAEA;AACA,6BAA6B,2BAA2B;AACxD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC,GAAG;AACxC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA,2DAA2D,UAAU;AACrE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,uBAAuB;AACtC,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C,wBAAwB,mBAAmB;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B,uBAAuB;AACrD,wBAAwB,mBAAmB;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B,uBAAuB;AACrD,wBAAwB,mBAAmB;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,oLAAoL;AACpL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,2BAA2B;AAC9C;AACA;;AAEA,eAAe,2BAA2B;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0CAA0C,GAAG;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8DAA8D,GAAG;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,gBAAgB;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,OAAO;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,6BAA6B;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,cAAc;AAChF;AACA;AACA;;AAEA;AACA,4FAA4F;AAC5F;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,UAAU;AACzB;AACA;AACA,4BAA4B,UAAU;AACtC;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,kCAAkC,cAAc;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oEAAoE,uBAAuB;AAC3F;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,wBAAwB;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,wBAAwB;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC,aAAa;AAChD,8EAA8E,wBAAwB;AACtG;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,wBAAwB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oDAAoD;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yFAAyF,cAAc;AACvG,0DAA0D,cAAc;AACxE;AACA;;AAEA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,sBAAsB,4GAA4G;AAClI;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,4GAA4G;AAClI;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,UAAU;AAC9B;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,uBAAuB;AAC7C;AACA;;AAEA;;AAEA,eAAe,cAAc;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uEAAuE;AACvE;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sIAAsI,uBAAuB;AAC7J;AACA;;AAEA;AACA;;AAEA,iBAAiB,UAAU;AAC3B;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAmD,cAAc;AACjE;AACA;;AAEA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;;AAEA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,eAAe,8BAA8B;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wCAAwC,cAAc;AACtD;AACA;;AAEA,eAAe,uBAAuB;AACtC,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,UAAU;AACzD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2GAA2G;AAC3G;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;;AAEA,0BAA0B,GAAG;AAC7B;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6HAA6H;AAC7H;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,2BAA2B;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yEAAyE,UAAU;AACnF;;AAEA,iEAAiE,UAAU;AAC3E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,uCAAuC;AAC1D;AACA;AACA;;AAEA,UAAU,6DAA6D;AACvE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iDAAiD,OAAO;AACxD;AACA,gDAAgD,2CAA2C;AAC3F;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qCAAqC,OAAO;AAC5C;AACA;;AAEA;AACA;;AAEA;AACA,YAAY,gBAAgB;AAC5B;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,uCAAuC;AACxE;AACA;;AAEA,UAAU,6DAA6D;AACvE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gDAAgD;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sDAAsD,UAAU;AAChE;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sHAAsH;AACtH;AACA;AACA,KAAK,yJAAyJ;AAC9J;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,gBAAgB;AACtC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,mCAAmC;AAClD;AACA;;AAEA;AACA;;AAEA,eAAe,UAAU;AACzB,wBAAwB,6BAA6B;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,iEAAiE,UAAU;AAC3E,0DAA0D,QAAQ;AAClE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,wBAAwB,cAAc;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,UAAU;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD,GAAG;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4JAA4J,UAAU;AACtK;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4DAA4D,GAAG;AAC/D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sHAAsH;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gCAAgC,QAAQ;AACxC;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA,yDAAyD,QAAQ;AACjE;AACA;;AAEA,yFAAyF,cAAc;AACvG;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,gCAAgC;AACxD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,uDAAuD,UAAU;AACjE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8EAA8E;AAC9E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oDAAoD,cAAc;AAClE;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,wDAAwD,UAAU;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,yEAAyE;AACzE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,uDAAuD,UAAU;AACjE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,wDAAwD,UAAU;AAClE;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,UAAU;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,cAAc;AACtD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oVAAoV;AACpV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,uDAAuD;AAC3E;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,uDAAuD,qDAAqD;AAC5G;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kFAAkF,UAAU;AAC5F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8FAA8F,UAAU;AACxG;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,+CAA+C,UAAU;AACzD;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,iBAAiB;AAC/C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iFAAiF;AACjF,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+FAA+F;AAC/F;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU,2BAA2B;AACrC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,cAAc;AACjC;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+CAA+C,cAAc;AAC7D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iDAAiD,2BAA2B,WAAW,YAAY,WAAW,cAAc,cAAc,gBAAgB,uBAAuB,EAAE;;AAEnL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB,wBAAwB;AAChD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,UAAU;AACxE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2EAA2E,UAAU;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D,UAAU;AACtE;AACA;;AAEA,eAAe,uBAAuB;AACtC;AACA;;AAEA,mCAAmC,sBAAsB;AACzD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4DAA4D,UAAU;AACtE,iJAAiJ,GAAG;AACpJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;;AAEA,oDAAoD,UAAU;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mEAAmE,UAAU;AAC7E;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,UAAU;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,8EAA8E,UAAU;AACxF;AACA;;AAEA,oDAAoD,UAAU;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mEAAmE,UAAU;AAC7E;AACA;AACA;AACA;;AAEA,eAAe,sBAAsB;AACrC;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8CAA8C,YAAY,iBAAiB,EAAE,6BAA6B,YAAY,EAAE,6BAA6B,YAAY,EAAE,sBAAsB,iBAAiB,EAAE,gCAAgC,YAAY,EAAE;;AAE1P;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,iCAAiC;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,6DAA6D,mBAAmB;;AAEhF;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,QAAQ;AACzB,mCAAmC,EAAE,KAAK,EAAE;AAC5C;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C;AAC/C;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2HAA2H;AAC3H;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,eAAe;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0EAA0E,+CAA+C,KAAK,4DAA4D,0BAA0B,KAAK,uEAAuE,0BAA0B,KAAK,qBAAqB,iBAAiB,sBAAsB,uBAAuB,uBAAuB,wBAAwB,KAAK,mDAAmD,qBAAqB,2BAA2B,sBAAsB,kDAAkD,iBAAiB,2BAA2B,uBAAuB,gBAAgB,KAAK,4BAA4B,oCAAoC,KAAK,0DAA0D,gCAAgC,KAAK,iDAAiD,qCAAqC,KAAK,+EAA+E,iCAAiC,KAAK,0BAA0B,oCAAoC,KAAK,+CAA+C,qCAAqC,KAAK,uBAAuB,oBAAoB,0BAA0B,mBAAmB,2BAA2B,KAAK,6CAA6C,mDAAmD,KAAK,4CAA4C,gBAAgB,KAAK;AACv/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+CAA+C,kCAAkC,WAAW,eAAe,EAAE,uDAAuD,iCAAiC,qBAAqB,cAAc,qBAAqB,gBAAgB,UAAU,EAAE;AACzR;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C;;AAEA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,oCAAoC;AAC1D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6DAA6D,UAAU;AACvE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6CAA6C,iCAAiC;AAC9E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC,wBAAwB;AAC7D;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC,wBAAwB;AAC7D;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAmB,2BAA2B;AAC9C;AACA;;AAEA,eAAe,8BAA8B;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gDAAgD,mDAAmD,KAAK,yBAAyB,mDAAmD,qBAAqB,6BAA6B,KAAK,wBAAwB,2BAA2B,wBAAwB,qBAAqB,yBAAyB,uBAAuB,gBAAgB,6CAA6C,KAAK,6BAA6B,kBAAkB,oBAAoB,2BAA2B,KAAK,mCAAmC,kBAAkB,KAAK;AAC1lB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yDAAyD,UAAU;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC,qEAAqE;AAC1G;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC,GAAG;AACxC;AACA;AACA,oCAAoC,GAAG;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yDAAyD,UAAU;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qEAAqE,gBAAgB,KAAK,4DAA4D,gBAAgB,KAAK,8DAA8D,gBAAgB,KAAK;AAC9P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,0BAA0B,cAAc;AACxC,wBAAwB,GAAG;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,yBAAyB,cAAc;AACvC,8BAA8B,GAAG;AACjC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,yBAAyB,cAAc;AACvC,8BAA8B,GAAG;AACjC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,6EAA6E;AAC7E;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,+EAA+E,wBAAwB;AACvG;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,+FAA+F,yBAAyB;AACxH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,UAAU;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA,0BAA0B,UAAU;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;;AAEA,2EAA2E,cAAc;AACzF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,oCAAoC;AAC1E,uBAAuB,eAAe;AACtC;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C,cAAc,iBAAiB,YAAY,kBAAkB,EAAE,qBAAqB,cAAc,iBAAiB,EAAE,qBAAqB,YAAY,kBAAkB,sBAAsB,EAAE,oBAAoB,cAAc,iBAAiB,uBAAuB,sBAAsB,EAAE;AAC/U;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sFAAsF,wFAAwF,yFAAyF,yFAAyF;AAChW;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,8BAA8B,mBAAmB,kBAAkB,iBAAiB,KAAK,+BAA+B,4BAA4B,2BAA2B,oBAAoB,0BAA0B,iBAAiB,eAAe,gBAAgB,KAAK,wDAAwD,uBAAuB,+CAA+C,uBAAuB,KAAK,0DAA0D,kCAAkC,4BAA4B,uBAAuB,KAAK;AAC9mB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uFAAuF;AACvF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gFAAgF;AAChF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,cAAc;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uDAAuD,UAAU;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B,cAAc;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD;AACA;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wEAAwE,OAAO;AAC/E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,gCAAgC;AAC/C;AACA;;AAEA;;AAEA,0BAA0B,cAAc;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iEAAiE,cAAc;AAC/E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mDAAmD,wBAAwB,cAAc,kBAAkB,cAAc,kBAAkB,EAAE,uCAAuC,oBAAoB,EAAE;AAC1M;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C,6BAA6B,cAAc;AAC3C;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uGAAuG,cAAc;AACrH;AACA;AACA;AACA;AACA;;AAEA,eAAe,cAAc;AAC7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qEAAqE;AACrE;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kEAAkE,mHAAmH,KAAK,uBAAuB,eAAe,KAAK,0EAA0E,gDAAgD,qBAAqB,iBAAiB,KAAK,0EAA0E,eAAe,KAAK,kCAAkC,eAAe,KAAK,yCAAyC,eAAe,KAAK,wDAAwD,iBAAiB,oBAAoB,KAAK,4BAA4B,oDAAoD,oDAAoD,KAAK,wCAAwC,iBAAiB,sBAAsB,KAAK,4CAA4C,iBAAiB,KAAK,2CAA2C,qBAAqB,KAAK,8FAA8F,kBAAkB,KAAK,+CAA+C,wDAAwD,iBAAiB,KAAK;AACnxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6CAA6C,sBAAsB;AACnE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;;AAEA;AACA;;AAEA;AACA,6CAA6C,sBAAsB;AACnE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA2C,sBAAsB;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA2C,sBAAsB;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,6BAA6B,sBAAsB;AACnD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,UAAU;AAC9C;AACA;AACA;AACA;;AAEA,eAAe,8BAA8B;AAC7C;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,kBAAkB;AACxC;AACA;AACA;;AAEA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2CAA2C,kBAAkB;AAC7D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,kBAAkB;AACxC,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,4BAA4B;AAClD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,eAAe;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,+BAA+B;AACrD;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gDAAgD,UAAU;AAC1D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,wBAAwB;AAC9C,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;;AAEA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B,YAAY,YAAY;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY,YAAY;AACrE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,uLAAuL,wDAAwD,iBAAiB,KAAK;AACrQ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6GAA6G;AAC7G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,kBAAkB;AAChD;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA;AACA;;AAEA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4DAA4D,kBAAkB;AAC9E;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,8BAA8B,kBAAkB;AAChD;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,iEAAiE,mHAAmH,KAAK,uBAAuB,eAAe,KAAK,8HAA8H,gDAAgD,KAAK,uJAAuJ,kBAAkB,KAAK,kCAAkC,kBAAkB,KAAK,yCAAyC,kBAAkB,KAAK,+MAA+M,iBAAiB,oBAAoB,KAAK,4BAA4B,oDAAoD,oDAAoD,mBAAmB,KAAK,+BAA+B,0BAA0B,KAAK,qFAAqF,oDAAoD,KAAK,oDAAoD,gBAAgB,KAAK,4CAA4C,8CAA8C,KAAK,iDAAiD,wEAAwE,+CAA+C,wDAAwD,iBAAiB,KAAK;AAC7rD;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,qKAAqK;AAChM;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+FAA+F,0BAA0B;AACzH;AACA;AACA;AACA;AACA;AACA,8HAA8H;AAC9H;AACA;;AAEA,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gGAAgG,kBAAkB;AAClH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+CAA+C,0BAA0B;AACzE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sJAAsJ,6DAA6D;AACnN;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,6FAA6F,YAAY,YAAY;AACrH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gDAAgD,UAAU;AAC1D;AACA;AACA;;AAEA;AACA;;AAEA,uDAAuD,UAAU;AACjE;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uDAAuD,UAAU;AACjE;AACA;AACA;;AAEA;AACA,6FAA6F,UAAU;AACvG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,E","file":"d711c980-e3349b089621d98aa2a2.js","sourcesContent":["// Do not edit this file; automatically generated by gulp.\n\n/* eslint-disable */\n;\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports = factory();\n  } else {\n    // Browser\n    root.Blockly = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var Blockly = {\n    connectionTypes: {\n      INPUT_VALUE: 1,\n      OUTPUT_VALUE: 2,\n      NEXT_STATEMENT: 3,\n      PREVIOUS_STATEMENT: 4\n    }\n  };\n  Blockly.constants = {};\n  Blockly.LINE_MODE_MULTIPLIER = 40;\n  Blockly.PAGE_MODE_MULTIPLIER = 125;\n  Blockly.DRAG_RADIUS = 5;\n  Blockly.FLYOUT_DRAG_RADIUS = 10;\n  Blockly.SNAP_RADIUS = 28;\n  Blockly.CONNECTING_SNAP_RADIUS = Blockly.SNAP_RADIUS;\n  Blockly.CURRENT_CONNECTION_PREFERENCE = 8;\n  Blockly.BUMP_DELAY = 250;\n  Blockly.BUMP_RANDOMNESS = 10;\n  Blockly.COLLAPSE_CHARS = 30;\n  Blockly.LONGPRESS = 750;\n  Blockly.SOUND_LIMIT = 100;\n  Blockly.DRAG_STACK = !0;\n  Blockly.HSV_SATURATION = .45;\n  Blockly.HSV_VALUE = .65;\n  Blockly.SPRITE = {\n    width: 96,\n    height: 124,\n    url: \"sprites.png\"\n  };\n  Blockly.constants.ALIGN = {\n    LEFT: -1,\n    CENTRE: 0,\n    RIGHT: 1\n  };\n  Blockly.DRAG_NONE = 0;\n  Blockly.DRAG_STICKY = 1;\n  Blockly.DRAG_BEGIN = 1;\n  Blockly.DRAG_FREE = 2;\n  Blockly.OPPOSITE_TYPE = [];\n  Blockly.OPPOSITE_TYPE[Blockly.connectionTypes.INPUT_VALUE] = Blockly.connectionTypes.OUTPUT_VALUE;\n  Blockly.OPPOSITE_TYPE[Blockly.connectionTypes.OUTPUT_VALUE] = Blockly.connectionTypes.INPUT_VALUE;\n  Blockly.OPPOSITE_TYPE[Blockly.connectionTypes.NEXT_STATEMENT] = Blockly.connectionTypes.PREVIOUS_STATEMENT;\n  Blockly.OPPOSITE_TYPE[Blockly.connectionTypes.PREVIOUS_STATEMENT] = Blockly.connectionTypes.NEXT_STATEMENT;\n  Blockly.DELETE_AREA_NONE = null;\n  Blockly.DELETE_AREA_TRASH = 1;\n  Blockly.DELETE_AREA_TOOLBOX = 2;\n  Blockly.VARIABLE_CATEGORY_NAME = \"VARIABLE\";\n  Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME = \"VARIABLE_DYNAMIC\";\n  Blockly.PROCEDURE_CATEGORY_NAME = \"PROCEDURE\";\n  Blockly.RENAME_VARIABLE_ID = \"RENAME_VARIABLE_ID\";\n  Blockly.DELETE_VARIABLE_ID = \"DELETE_VARIABLE_ID\";\n  Blockly.constants.COLLAPSED_INPUT_NAME = \"_TEMP_COLLAPSED_INPUT\";\n  Blockly.constants.COLLAPSED_FIELD_NAME = \"_TEMP_COLLAPSED_FIELD\";\n  Blockly.utils = {};\n\n  Blockly.utils.global = function () {\n    return \"object\" === typeof self ? self : \"object\" === typeof window ? window : \"object\" === typeof global ? global : this;\n  }();\n\n  Blockly.Msg = {};\n  Blockly.utils.global.Blockly || (Blockly.utils.global.Blockly = {});\n  Blockly.utils.global.Blockly.Msg || (Blockly.utils.global.Blockly.Msg = Blockly.Msg);\n  Blockly.utils.colour = {};\n\n  Blockly.utils.colour.parse = function (a) {\n    a = String(a).toLowerCase().trim();\n    var b = Blockly.utils.colour.names[a];\n    if (b) return b;\n    b = \"0x\" == a.substring(0, 2) ? \"#\" + a.substring(2) : a;\n    b = \"#\" == b[0] ? b : \"#\" + b;\n    if (/^#[0-9a-f]{6}$/.test(b)) return b;\n    if (/^#[0-9a-f]{3}$/.test(b)) return [\"#\", b[1], b[1], b[2], b[2], b[3], b[3]].join(\"\");\n    var c = a.match(/^(?:rgb)?\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/);\n    return c && (a = Number(c[1]), b = Number(c[2]), c = Number(c[3]), 0 <= a && 256 > a && 0 <= b && 256 > b && 0 <= c && 256 > c) ? Blockly.utils.colour.rgbToHex(a, b, c) : null;\n  };\n\n  Blockly.utils.colour.rgbToHex = function (a, b, c) {\n    b = a << 16 | b << 8 | c;\n    return 16 > a ? \"#\" + (16777216 | b).toString(16).substr(1) : \"#\" + b.toString(16);\n  };\n\n  Blockly.utils.colour.hexToRgb = function (a) {\n    a = Blockly.utils.colour.parse(a);\n    if (!a) return [0, 0, 0];\n    a = parseInt(a.substr(1), 16);\n    return [a >> 16, a >> 8 & 255, a & 255];\n  };\n\n  Blockly.utils.colour.hsvToHex = function (a, b, c) {\n    var d = 0,\n        e = 0,\n        f = 0;\n    if (0 == b) f = e = d = c;else {\n      var g = Math.floor(a / 60),\n          h = a / 60 - g;\n      a = c * (1 - b);\n      var k = c * (1 - b * h);\n      b = c * (1 - b * (1 - h));\n\n      switch (g) {\n        case 1:\n          d = k;\n          e = c;\n          f = a;\n          break;\n\n        case 2:\n          d = a;\n          e = c;\n          f = b;\n          break;\n\n        case 3:\n          d = a;\n          e = k;\n          f = c;\n          break;\n\n        case 4:\n          d = b;\n          e = a;\n          f = c;\n          break;\n\n        case 5:\n          d = c;\n          e = a;\n          f = k;\n          break;\n\n        case 6:\n        case 0:\n          d = c, e = b, f = a;\n      }\n    }\n    return Blockly.utils.colour.rgbToHex(Math.floor(d), Math.floor(e), Math.floor(f));\n  };\n\n  Blockly.utils.colour.blend = function (a, b, c) {\n    a = Blockly.utils.colour.parse(a);\n    if (!a) return null;\n    b = Blockly.utils.colour.parse(b);\n    if (!b) return null;\n    a = Blockly.utils.colour.hexToRgb(a);\n    b = Blockly.utils.colour.hexToRgb(b);\n    return Blockly.utils.colour.rgbToHex(Math.round(b[0] + c * (a[0] - b[0])), Math.round(b[1] + c * (a[1] - b[1])), Math.round(b[2] + c * (a[2] - b[2])));\n  };\n\n  Blockly.utils.colour.names = {\n    aqua: \"#00ffff\",\n    black: \"#000000\",\n    blue: \"#0000ff\",\n    fuchsia: \"#ff00ff\",\n    gray: \"#808080\",\n    green: \"#008000\",\n    lime: \"#00ff00\",\n    maroon: \"#800000\",\n    navy: \"#000080\",\n    olive: \"#808000\",\n    purple: \"#800080\",\n    red: \"#ff0000\",\n    silver: \"#c0c0c0\",\n    teal: \"#008080\",\n    white: \"#ffffff\",\n    yellow: \"#ffff00\"\n  };\n\n  Blockly.utils.Coordinate = function (a, b) {\n    this.x = a;\n    this.y = b;\n  };\n\n  Blockly.utils.Coordinate.equals = function (a, b) {\n    return a == b ? !0 : a && b ? a.x == b.x && a.y == b.y : !1;\n  };\n\n  Blockly.utils.Coordinate.distance = function (a, b) {\n    var c = a.x - b.x;\n    a = a.y - b.y;\n    return Math.sqrt(c * c + a * a);\n  };\n\n  Blockly.utils.Coordinate.magnitude = function (a) {\n    return Math.sqrt(a.x * a.x + a.y * a.y);\n  };\n\n  Blockly.utils.Coordinate.difference = function (a, b) {\n    return new Blockly.utils.Coordinate(a.x - b.x, a.y - b.y);\n  };\n\n  Blockly.utils.Coordinate.sum = function (a, b) {\n    return new Blockly.utils.Coordinate(a.x + b.x, a.y + b.y);\n  };\n\n  Blockly.utils.Coordinate.prototype.scale = function (a) {\n    this.x *= a;\n    this.y *= a;\n    return this;\n  };\n\n  Blockly.utils.Coordinate.prototype.translate = function (a, b) {\n    this.x += a;\n    this.y += b;\n    return this;\n  };\n\n  Blockly.utils.Rect = function (a, b, c, d) {\n    this.top = a;\n    this.bottom = b;\n    this.left = c;\n    this.right = d;\n  };\n\n  Blockly.utils.Rect.prototype.contains = function (a, b) {\n    return a >= this.left && a <= this.right && b >= this.top && b <= this.bottom;\n  };\n\n  Blockly.utils.Rect.prototype.intersects = function (a) {\n    return !(this.left > a.right || this.right < a.left || this.top > a.bottom || this.bottom < a.top);\n  };\n\n  Blockly.utils.string = {};\n\n  Blockly.utils.string.startsWith = function (a, b) {\n    return 0 == a.lastIndexOf(b, 0);\n  };\n\n  Blockly.utils.string.shortestStringLength = function (a) {\n    return a.length ? a.reduce(function (b, c) {\n      return b.length < c.length ? b : c;\n    }).length : 0;\n  };\n\n  Blockly.utils.string.commonWordPrefix = function (a, b) {\n    if (!a.length) return 0;\n    if (1 == a.length) return a[0].length;\n    var c = 0;\n    b = b || Blockly.utils.string.shortestStringLength(a);\n\n    for (var d = 0; d < b; d++) {\n      for (var e = a[0][d], f = 1; f < a.length; f++) {\n        if (e != a[f][d]) return c;\n      }\n\n      \" \" == e && (c = d + 1);\n    }\n\n    for (f = 1; f < a.length; f++) {\n      if ((e = a[f][d]) && \" \" != e) return c;\n    }\n\n    return b;\n  };\n\n  Blockly.utils.string.commonWordSuffix = function (a, b) {\n    if (!a.length) return 0;\n    if (1 == a.length) return a[0].length;\n    var c = 0;\n    b = b || Blockly.utils.string.shortestStringLength(a);\n\n    for (var d = 0; d < b; d++) {\n      for (var e = a[0].substr(-d - 1, 1), f = 1; f < a.length; f++) {\n        if (e != a[f].substr(-d - 1, 1)) return c;\n      }\n\n      \" \" == e && (c = d + 1);\n    }\n\n    for (f = 1; f < a.length; f++) {\n      if ((e = a[f].charAt(a[f].length - d - 1)) && \" \" != e) return c;\n    }\n\n    return b;\n  };\n\n  Blockly.utils.string.wrap = function (a, b) {\n    a = a.split(\"\\n\");\n\n    for (var c = 0; c < a.length; c++) {\n      a[c] = Blockly.utils.string.wrapLine_(a[c], b);\n    }\n\n    return a.join(\"\\n\");\n  };\n\n  Blockly.utils.string.wrapLine_ = function (a, b) {\n    if (a.length <= b) return a;\n\n    for (var c = a.trim().split(/\\s+/), d = 0; d < c.length; d++) {\n      c[d].length > b && (b = c[d].length);\n    }\n\n    d = -Infinity;\n    var e = 1;\n\n    do {\n      var f = d;\n      var g = a;\n      a = [];\n      var h = c.length / e,\n          k = 1;\n\n      for (d = 0; d < c.length - 1; d++) {\n        k < (d + 1.5) / h ? (k++, a[d] = !0) : a[d] = !1;\n      }\n\n      a = Blockly.utils.string.wrapMutate_(c, a, b);\n      d = Blockly.utils.string.wrapScore_(c, a, b);\n      a = Blockly.utils.string.wrapToText_(c, a);\n      e++;\n    } while (d > f);\n\n    return g;\n  };\n\n  Blockly.utils.string.wrapScore_ = function (a, b, c) {\n    for (var d = [0], e = [], f = 0; f < a.length; f++) {\n      d[d.length - 1] += a[f].length, !0 === b[f] ? (d.push(0), e.push(a[f].charAt(a[f].length - 1))) : !1 === b[f] && d[d.length - 1]++;\n    }\n\n    a = Math.max.apply(Math, d);\n\n    for (f = b = 0; f < d.length; f++) {\n      b -= 2 * Math.pow(Math.abs(c - d[f]), 1.5), b -= Math.pow(a - d[f], 1.5), -1 != \".?!\".indexOf(e[f]) ? b += c / 3 : -1 != \",;)]}\".indexOf(e[f]) && (b += c / 4);\n    }\n\n    1 < d.length && d[d.length - 1] <= d[d.length - 2] && (b += .5);\n    return b;\n  };\n\n  Blockly.utils.string.wrapMutate_ = function (a, b, c) {\n    for (var d = Blockly.utils.string.wrapScore_(a, b, c), e, f = 0; f < b.length - 1; f++) {\n      if (b[f] != b[f + 1]) {\n        var g = [].concat(b);\n        g[f] = !g[f];\n        g[f + 1] = !g[f + 1];\n        var h = Blockly.utils.string.wrapScore_(a, g, c);\n        h > d && (d = h, e = g);\n      }\n    }\n\n    return e ? Blockly.utils.string.wrapMutate_(a, e, c) : b;\n  };\n\n  Blockly.utils.string.wrapToText_ = function (a, b) {\n    for (var c = [], d = 0; d < a.length; d++) {\n      c.push(a[d]), void 0 !== b[d] && c.push(b[d] ? \"\\n\" : \" \");\n    }\n\n    return c.join(\"\");\n  };\n\n  Blockly.utils.Size = function (a, b) {\n    this.width = a;\n    this.height = b;\n  };\n\n  Blockly.utils.Size.equals = function (a, b) {\n    return a == b ? !0 : a && b ? a.width == b.width && a.height == b.height : !1;\n  };\n\n  Blockly.utils.style = {};\n\n  Blockly.utils.style.getSize = function (a) {\n    if (\"none\" != Blockly.utils.style.getStyle_(a, \"display\")) return Blockly.utils.style.getSizeWithDisplay_(a);\n    var b = a.style,\n        c = b.display,\n        d = b.visibility,\n        e = b.position;\n    b.visibility = \"hidden\";\n    b.position = \"absolute\";\n    b.display = \"inline\";\n    var f = a.offsetWidth;\n    a = a.offsetHeight;\n    b.display = c;\n    b.position = e;\n    b.visibility = d;\n    return new Blockly.utils.Size(f, a);\n  };\n\n  Blockly.utils.style.getSizeWithDisplay_ = function (a) {\n    return new Blockly.utils.Size(a.offsetWidth, a.offsetHeight);\n  };\n\n  Blockly.utils.style.getStyle_ = function (a, b) {\n    return Blockly.utils.style.getComputedStyle(a, b) || Blockly.utils.style.getCascadedStyle(a, b) || a.style && a.style[b];\n  };\n\n  Blockly.utils.style.getComputedStyle = function (a, b) {\n    return document.defaultView && document.defaultView.getComputedStyle && (a = document.defaultView.getComputedStyle(a, null)) ? a[b] || a.getPropertyValue(b) || \"\" : \"\";\n  };\n\n  Blockly.utils.style.getCascadedStyle = function (a, b) {\n    return a.currentStyle ? a.currentStyle[b] : null;\n  };\n\n  Blockly.utils.style.getPageOffset = function (a) {\n    var b = new Blockly.utils.Coordinate(0, 0);\n    a = a.getBoundingClientRect();\n    var c = document.documentElement;\n    c = new Blockly.utils.Coordinate(window.pageXOffset || c.scrollLeft, window.pageYOffset || c.scrollTop);\n    b.x = a.left + c.x;\n    b.y = a.top + c.y;\n    return b;\n  };\n\n  Blockly.utils.style.getViewportPageOffset = function () {\n    var a = document.body,\n        b = document.documentElement;\n    return new Blockly.utils.Coordinate(a.scrollLeft || b.scrollLeft, a.scrollTop || b.scrollTop);\n  };\n\n  Blockly.utils.style.setElementShown = function (a, b) {\n    a.style.display = b ? \"\" : \"none\";\n  };\n\n  Blockly.utils.style.isRightToLeft = function (a) {\n    return \"rtl\" == Blockly.utils.style.getStyle_(a, \"direction\");\n  };\n\n  Blockly.utils.style.getBorderBox = function (a) {\n    var b = Blockly.utils.style.getComputedStyle(a, \"borderLeftWidth\"),\n        c = Blockly.utils.style.getComputedStyle(a, \"borderRightWidth\"),\n        d = Blockly.utils.style.getComputedStyle(a, \"borderTopWidth\");\n    a = Blockly.utils.style.getComputedStyle(a, \"borderBottomWidth\");\n    return {\n      top: parseFloat(d),\n      right: parseFloat(c),\n      bottom: parseFloat(a),\n      left: parseFloat(b)\n    };\n  };\n\n  Blockly.utils.style.scrollIntoContainerView = function (a, b, c) {\n    a = Blockly.utils.style.getContainerOffsetToScrollInto(a, b, c);\n    b.scrollLeft = a.x;\n    b.scrollTop = a.y;\n  };\n\n  Blockly.utils.style.getContainerOffsetToScrollInto = function (a, b, c) {\n    var d = Blockly.utils.style.getPageOffset(a),\n        e = Blockly.utils.style.getPageOffset(b),\n        f = Blockly.utils.style.getBorderBox(b),\n        g = d.x - e.x - f.left;\n    d = d.y - e.y - f.top;\n    e = Blockly.utils.style.getSizeWithDisplay_(a);\n    a = b.clientWidth - e.width;\n    e = b.clientHeight - e.height;\n    f = b.scrollLeft;\n    b = b.scrollTop;\n    c ? (f += g - a / 2, b += d - e / 2) : (f += Math.min(g, Math.max(g - a, 0)), b += Math.min(d, Math.max(d - e, 0)));\n    return new Blockly.utils.Coordinate(f, b);\n  };\n\n  Blockly.utils.userAgent = {};\n\n  (function (a) {\n    function b(d) {\n      return -1 != c.indexOf(d.toUpperCase());\n    }\n\n    Blockly.utils.userAgent.raw = a;\n    var c = Blockly.utils.userAgent.raw.toUpperCase();\n    Blockly.utils.userAgent.IE = b(\"Trident\") || b(\"MSIE\");\n    Blockly.utils.userAgent.EDGE = b(\"Edge\");\n    Blockly.utils.userAgent.JAVA_FX = b(\"JavaFX\");\n    Blockly.utils.userAgent.CHROME = (b(\"Chrome\") || b(\"CriOS\")) && !Blockly.utils.userAgent.EDGE;\n    Blockly.utils.userAgent.WEBKIT = b(\"WebKit\") && !Blockly.utils.userAgent.EDGE;\n    Blockly.utils.userAgent.GECKO = b(\"Gecko\") && !Blockly.utils.userAgent.WEBKIT && !Blockly.utils.userAgent.IE && !Blockly.utils.userAgent.EDGE;\n    Blockly.utils.userAgent.ANDROID = b(\"Android\");\n    Blockly.utils.userAgent.IPAD = b(\"iPad\");\n    Blockly.utils.userAgent.IPOD = b(\"iPod\");\n    Blockly.utils.userAgent.IPHONE = b(\"iPhone\") && !Blockly.utils.userAgent.IPAD && !Blockly.utils.userAgent.IPOD;\n    Blockly.utils.userAgent.MAC = b(\"Macintosh\");\n    Blockly.utils.userAgent.TABLET = Blockly.utils.userAgent.IPAD || Blockly.utils.userAgent.ANDROID && !b(\"Mobile\") || b(\"Silk\");\n    Blockly.utils.userAgent.MOBILE = !Blockly.utils.userAgent.TABLET && (Blockly.utils.userAgent.IPOD || Blockly.utils.userAgent.IPHONE || Blockly.utils.userAgent.ANDROID || b(\"IEMobile\"));\n  })(Blockly.utils.global.navigator && Blockly.utils.global.navigator.userAgent || \"\");\n\n  Blockly.utils.noEvent = function (a) {\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.utils.isTargetInput = function (a) {\n    return \"textarea\" == a.target.type || \"text\" == a.target.type || \"number\" == a.target.type || \"email\" == a.target.type || \"password\" == a.target.type || \"search\" == a.target.type || \"tel\" == a.target.type || \"url\" == a.target.type || a.target.isContentEditable || a.target.dataset && \"true\" == a.target.dataset.isTextInput;\n  };\n\n  Blockly.utils.getRelativeXY = function (a) {\n    var b = new Blockly.utils.Coordinate(0, 0),\n        c = a.getAttribute(\"x\");\n    c && (b.x = parseInt(c, 10));\n    if (c = a.getAttribute(\"y\")) b.y = parseInt(c, 10);\n    if (c = (c = a.getAttribute(\"transform\")) && c.match(Blockly.utils.getRelativeXY.XY_REGEX_)) b.x += Number(c[1]), c[3] && (b.y += Number(c[3]));\n    (a = a.getAttribute(\"style\")) && -1 < a.indexOf(\"translate\") && (a = a.match(Blockly.utils.getRelativeXY.XY_STYLE_REGEX_)) && (b.x += Number(a[1]), a[3] && (b.y += Number(a[3])));\n    return b;\n  };\n\n  Blockly.utils.getInjectionDivXY_ = function (a) {\n    for (var b = 0, c = 0; a;) {\n      var d = Blockly.utils.getRelativeXY(a);\n      b += d.x;\n      c += d.y;\n      if (-1 != (\" \" + (a.getAttribute(\"class\") || \"\") + \" \").indexOf(\" injectionDiv \")) break;\n      a = a.parentNode;\n    }\n\n    return new Blockly.utils.Coordinate(b, c);\n  };\n\n  Blockly.utils.getRelativeXY.XY_REGEX_ = /translate\\(\\s*([-+\\d.e]+)([ ,]\\s*([-+\\d.e]+)\\s*)?/;\n  Blockly.utils.getRelativeXY.XY_STYLE_REGEX_ = /transform:\\s*translate(?:3d)?\\(\\s*([-+\\d.e]+)\\s*px([ ,]\\s*([-+\\d.e]+)\\s*px)?/;\n\n  Blockly.utils.isRightButton = function (a) {\n    return a.ctrlKey && Blockly.utils.userAgent.MAC ? !0 : 2 == a.button;\n  };\n\n  Blockly.utils.mouseToSvg = function (a, b, c) {\n    var d = b.createSVGPoint();\n    d.x = a.clientX;\n    d.y = a.clientY;\n    c || (c = b.getScreenCTM().inverse());\n    return d.matrixTransform(c);\n  };\n\n  Blockly.utils.getScrollDeltaPixels = function (a) {\n    switch (a.deltaMode) {\n      default:\n        return {\n          x: a.deltaX,\n          y: a.deltaY\n        };\n\n      case 1:\n        return {\n          x: a.deltaX * Blockly.LINE_MODE_MULTIPLIER,\n          y: a.deltaY * Blockly.LINE_MODE_MULTIPLIER\n        };\n\n      case 2:\n        return {\n          x: a.deltaX * Blockly.PAGE_MODE_MULTIPLIER,\n          y: a.deltaY * Blockly.PAGE_MODE_MULTIPLIER\n        };\n    }\n  };\n\n  Blockly.utils.tokenizeInterpolation = function (a) {\n    return Blockly.utils.tokenizeInterpolation_(a, !0);\n  };\n\n  Blockly.utils.replaceMessageReferences = function (a) {\n    if (\"string\" != typeof a) return a;\n    a = Blockly.utils.tokenizeInterpolation_(a, !1);\n    return a.length ? String(a[0]) : \"\";\n  };\n\n  Blockly.utils.checkMessageReferences = function (a) {\n    for (var b = !0, c = Blockly.Msg, d = a.match(/%{BKY_[A-Z]\\w*}/ig), e = 0; e < d.length; e++) {\n      var f = d[e].toUpperCase();\n      void 0 == c[f.slice(6, -1)] && (console.warn(\"No message string for \" + d[e] + \" in \" + a), b = !1);\n    }\n\n    return b;\n  };\n\n  Blockly.utils.tokenizeInterpolation_ = function (a, b) {\n    var c = [],\n        d = a.split(\"\");\n    d.push(\"\");\n    var e = 0;\n    a = [];\n\n    for (var f = null, g = 0; g < d.length; g++) {\n      var h = d[g];\n      0 == e ? \"%\" == h ? ((h = a.join(\"\")) && c.push(h), a.length = 0, e = 1) : a.push(h) : 1 == e ? \"%\" == h ? (a.push(h), e = 0) : b && \"0\" <= h && \"9\" >= h ? (e = 2, f = h, (h = a.join(\"\")) && c.push(h), a.length = 0) : \"{\" == h ? e = 3 : (a.push(\"%\", h), e = 0) : 2 == e ? \"0\" <= h && \"9\" >= h ? f += h : (c.push(parseInt(f, 10)), g--, e = 0) : 3 == e && (\"\" == h ? (a.splice(0, 0, \"%{\"), g--, e = 0) : \"}\" != h ? a.push(h) : (e = a.join(\"\"), /[A-Z]\\w*/i.test(e) ? (h = e.toUpperCase(), (h = Blockly.utils.string.startsWith(h, \"BKY_\") ? h.substring(4) : null) && h in Blockly.Msg ? (e = Blockly.Msg[h], \"string\" == typeof e ? Array.prototype.push.apply(c, Blockly.utils.tokenizeInterpolation_(e, b)) : b ? c.push(String(e)) : c.push(e)) : c.push(\"%{\" + e + \"}\")) : c.push(\"%{\" + e + \"}\"), e = a.length = 0));\n    }\n\n    (h = a.join(\"\")) && c.push(h);\n    b = [];\n\n    for (g = a.length = 0; g < c.length; ++g) {\n      \"string\" == typeof c[g] ? a.push(c[g]) : ((h = a.join(\"\")) && b.push(h), a.length = 0, b.push(c[g]));\n    }\n\n    (h = a.join(\"\")) && b.push(h);\n    a.length = 0;\n    return b;\n  };\n\n  Blockly.utils.genUid = function () {\n    for (var a = Blockly.utils.genUid.soup_.length, b = [], c = 0; 20 > c; c++) {\n      b[c] = Blockly.utils.genUid.soup_.charAt(Math.random() * a);\n    }\n\n    return b.join(\"\");\n  };\n\n  Blockly.utils.genUid.soup_ = \"!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n  Blockly.utils.is3dSupported = function () {\n    if (void 0 !== Blockly.utils.is3dSupported.cached_) return Blockly.utils.is3dSupported.cached_;\n    if (!Blockly.utils.global.getComputedStyle) return !1;\n    var a = document.createElement(\"p\"),\n        b = \"none\",\n        c = {\n      webkitTransform: \"-webkit-transform\",\n      OTransform: \"-o-transform\",\n      msTransform: \"-ms-transform\",\n      MozTransform: \"-moz-transform\",\n      transform: \"transform\"\n    };\n    document.body.insertBefore(a, null);\n\n    for (var d in c) {\n      if (void 0 !== a.style[d]) {\n        a.style[d] = \"translate3d(1px,1px,1px)\";\n        b = Blockly.utils.global.getComputedStyle(a);\n        if (!b) return document.body.removeChild(a), !1;\n        b = b.getPropertyValue(c[d]);\n      }\n    }\n\n    document.body.removeChild(a);\n    Blockly.utils.is3dSupported.cached_ = \"none\" !== b;\n    return Blockly.utils.is3dSupported.cached_;\n  };\n\n  Blockly.utils.runAfterPageLoad = function (a) {\n    if (\"object\" != typeof document) throw Error(\"Blockly.utils.runAfterPageLoad() requires browser document.\");\n    if (\"complete\" == document.readyState) a();else var b = setInterval(function () {\n      \"complete\" == document.readyState && (clearInterval(b), a());\n    }, 10);\n  };\n\n  Blockly.utils.getViewportBBox = function () {\n    var a = Blockly.utils.style.getViewportPageOffset();\n    return new Blockly.utils.Rect(a.y, document.documentElement.clientHeight + a.y, a.x, document.documentElement.clientWidth + a.x);\n  };\n\n  Blockly.utils.arrayRemove = function (a, b) {\n    b = a.indexOf(b);\n    if (-1 == b) return !1;\n    a.splice(b, 1);\n    return !0;\n  };\n\n  Blockly.utils.getDocumentScroll = function () {\n    var a = document.documentElement,\n        b = window;\n    return Blockly.utils.userAgent.IE && b.pageYOffset != a.scrollTop ? new Blockly.utils.Coordinate(a.scrollLeft, a.scrollTop) : new Blockly.utils.Coordinate(b.pageXOffset || a.scrollLeft, b.pageYOffset || a.scrollTop);\n  };\n\n  Blockly.utils.getBlockTypeCounts = function (a, b) {\n    var c = Object.create(null),\n        d = a.getDescendants(!0);\n    b && (a = a.getNextBlock()) && (a = d.indexOf(a), d.splice(a, d.length - a));\n\n    for (a = 0; b = d[a]; a++) {\n      c[b.type] ? c[b.type]++ : c[b.type] = 1;\n    }\n\n    return c;\n  };\n\n  Blockly.utils.screenToWsCoordinates = function (a, b) {\n    var c = b.x;\n    b = b.y;\n    var d = a.getInjectionDiv().getBoundingClientRect();\n    c = new Blockly.utils.Coordinate(c - d.left, b - d.top);\n    b = a.getOriginOffsetInPixels();\n    return Blockly.utils.Coordinate.difference(c, b).scale(1 / a.scale);\n  };\n\n  Blockly.utils.parseBlockColour = function (a) {\n    var b = \"string\" == typeof a ? Blockly.utils.replaceMessageReferences(a) : a,\n        c = Number(b);\n    if (!isNaN(c) && 0 <= c && 360 >= c) return {\n      hue: c,\n      hex: Blockly.utils.colour.hsvToHex(c, Blockly.HSV_SATURATION, 255 * Blockly.HSV_VALUE)\n    };\n    if (c = Blockly.utils.colour.parse(b)) return {\n      hue: null,\n      hex: c\n    };\n    c = 'Invalid colour: \"' + b + '\"';\n    a != b && (c += ' (from \"' + a + '\")');\n    throw Error(c);\n  };\n\n  Blockly.Touch = {};\n  Blockly.Touch.TOUCH_ENABLED = \"ontouchstart\" in Blockly.utils.global || !!(Blockly.utils.global.document && document.documentElement && \"ontouchstart\" in document.documentElement) || !(!Blockly.utils.global.navigator || !Blockly.utils.global.navigator.maxTouchPoints && !Blockly.utils.global.navigator.msMaxTouchPoints);\n  Blockly.Touch.touchIdentifier_ = null;\n  Blockly.Touch.TOUCH_MAP = {};\n  Blockly.utils.global.PointerEvent ? Blockly.Touch.TOUCH_MAP = {\n    mousedown: [\"pointerdown\"],\n    mouseenter: [\"pointerenter\"],\n    mouseleave: [\"pointerleave\"],\n    mousemove: [\"pointermove\"],\n    mouseout: [\"pointerout\"],\n    mouseover: [\"pointerover\"],\n    mouseup: [\"pointerup\", \"pointercancel\"],\n    touchend: [\"pointerup\"],\n    touchcancel: [\"pointercancel\"]\n  } : Blockly.Touch.TOUCH_ENABLED && (Blockly.Touch.TOUCH_MAP = {\n    mousedown: [\"touchstart\"],\n    mousemove: [\"touchmove\"],\n    mouseup: [\"touchend\", \"touchcancel\"]\n  });\n  Blockly.longPid_ = 0;\n\n  Blockly.longStart = function (a, b) {\n    Blockly.longStop_();\n    a.changedTouches && 1 != a.changedTouches.length || (Blockly.longPid_ = setTimeout(function () {\n      a.changedTouches && (a.button = 2, a.clientX = a.changedTouches[0].clientX, a.clientY = a.changedTouches[0].clientY);\n      b && b.handleRightClick(a);\n    }, Blockly.LONGPRESS));\n  };\n\n  Blockly.longStop_ = function () {\n    Blockly.longPid_ && (clearTimeout(Blockly.longPid_), Blockly.longPid_ = 0);\n  };\n\n  Blockly.Touch.clearTouchIdentifier = function () {\n    Blockly.Touch.touchIdentifier_ = null;\n  };\n\n  Blockly.Touch.shouldHandleEvent = function (a) {\n    return !Blockly.Touch.isMouseOrTouchEvent(a) || Blockly.Touch.checkTouchIdentifier(a);\n  };\n\n  Blockly.Touch.getTouchIdentifierFromEvent = function (a) {\n    return void 0 != a.pointerId ? a.pointerId : a.changedTouches && a.changedTouches[0] && void 0 !== a.changedTouches[0].identifier && null !== a.changedTouches[0].identifier ? a.changedTouches[0].identifier : \"mouse\";\n  };\n\n  Blockly.Touch.checkTouchIdentifier = function (a) {\n    var b = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    return void 0 !== Blockly.Touch.touchIdentifier_ && null !== Blockly.Touch.touchIdentifier_ ? Blockly.Touch.touchIdentifier_ == b : \"mousedown\" == a.type || \"touchstart\" == a.type || \"pointerdown\" == a.type ? (Blockly.Touch.touchIdentifier_ = b, !0) : !1;\n  };\n\n  Blockly.Touch.setClientFromTouch = function (a) {\n    if (Blockly.utils.string.startsWith(a.type, \"touch\")) {\n      var b = a.changedTouches[0];\n      a.clientX = b.clientX;\n      a.clientY = b.clientY;\n    }\n  };\n\n  Blockly.Touch.isMouseOrTouchEvent = function (a) {\n    return Blockly.utils.string.startsWith(a.type, \"touch\") || Blockly.utils.string.startsWith(a.type, \"mouse\") || Blockly.utils.string.startsWith(a.type, \"pointer\");\n  };\n\n  Blockly.Touch.isTouchEvent = function (a) {\n    return Blockly.utils.string.startsWith(a.type, \"touch\") || Blockly.utils.string.startsWith(a.type, \"pointer\");\n  };\n\n  Blockly.Touch.splitEventByTouches = function (a) {\n    var b = [];\n    if (a.changedTouches) for (var c = 0; c < a.changedTouches.length; c++) {\n      b[c] = {\n        type: a.type,\n        changedTouches: [a.changedTouches[c]],\n        target: a.target,\n        stopPropagation: function stopPropagation() {\n          a.stopPropagation();\n        },\n        preventDefault: function preventDefault() {\n          a.preventDefault();\n        }\n      };\n    } else b.push(a);\n    return b;\n  };\n\n  Blockly.browserEvents = {};\n\n  Blockly.browserEvents.conditionalBind = function (a, b, c, d, e, f) {\n    var g = !1,\n        h = function h(p) {\n      var q = !e;\n      p = Blockly.Touch.splitEventByTouches(p);\n\n      for (var t = 0, r; r = p[t]; t++) {\n        if (!q || Blockly.Touch.shouldHandleEvent(r)) Blockly.Touch.setClientFromTouch(r), c ? d.call(c, r) : d(r), g = !0;\n      }\n    },\n        k = [];\n\n    if (Blockly.utils.global.PointerEvent && b in Blockly.Touch.TOUCH_MAP) for (var l = 0, m; m = Blockly.Touch.TOUCH_MAP[b][l]; l++) {\n      a.addEventListener(m, h, !1), k.push([a, m, h]);\n    } else if (a.addEventListener(b, h, !1), k.push([a, b, h]), b in Blockly.Touch.TOUCH_MAP) {\n      var n = function n(p) {\n        h(p);\n        var q = !f;\n        g && q && p.preventDefault();\n      };\n\n      for (l = 0; m = Blockly.Touch.TOUCH_MAP[b][l]; l++) {\n        a.addEventListener(m, n, !1), k.push([a, m, n]);\n      }\n    }\n    return k;\n  };\n\n  Blockly.browserEvents.bind = function (a, b, c, d) {\n    var e = function e(l) {\n      c ? d.call(c, l) : d(l);\n    },\n        f = [];\n\n    if (Blockly.utils.global.PointerEvent && b in Blockly.Touch.TOUCH_MAP) for (var g = 0, h; h = Blockly.Touch.TOUCH_MAP[b][g]; g++) {\n      a.addEventListener(h, e, !1), f.push([a, h, e]);\n    } else if (a.addEventListener(b, e, !1), f.push([a, b, e]), b in Blockly.Touch.TOUCH_MAP) {\n      var k = function k(l) {\n        if (l.changedTouches && 1 == l.changedTouches.length) {\n          var m = l.changedTouches[0];\n          l.clientX = m.clientX;\n          l.clientY = m.clientY;\n        }\n\n        e(l);\n        l.preventDefault();\n      };\n\n      for (g = 0; h = Blockly.Touch.TOUCH_MAP[b][g]; g++) {\n        a.addEventListener(h, k, !1), f.push([a, h, k]);\n      }\n    }\n    return f;\n  };\n\n  Blockly.browserEvents.unbind = function (a) {\n    for (; a.length;) {\n      var b = a.pop(),\n          c = b[2];\n      b[0].removeEventListener(b[1], c, !1);\n    }\n\n    return c;\n  };\n\n  Blockly.registry = {};\n  Blockly.registry.typeMap_ = {};\n  Blockly.registry.DEFAULT = \"default\";\n\n  Blockly.registry.Type = function (a) {\n    this.name_ = a;\n  };\n\n  Blockly.registry.Type.prototype.toString = function () {\n    return this.name_;\n  };\n\n  Blockly.registry.Type.CONNECTION_CHECKER = new Blockly.registry.Type(\"connectionChecker\");\n  Blockly.registry.Type.CURSOR = new Blockly.registry.Type(\"cursor\");\n  Blockly.registry.Type.EVENT = new Blockly.registry.Type(\"event\");\n  Blockly.registry.Type.FIELD = new Blockly.registry.Type(\"field\");\n  Blockly.registry.Type.RENDERER = new Blockly.registry.Type(\"renderer\");\n  Blockly.registry.Type.TOOLBOX = new Blockly.registry.Type(\"toolbox\");\n  Blockly.registry.Type.THEME = new Blockly.registry.Type(\"theme\");\n  Blockly.registry.Type.TOOLBOX_ITEM = new Blockly.registry.Type(\"toolboxItem\");\n  Blockly.registry.Type.FLYOUTS_VERTICAL_TOOLBOX = new Blockly.registry.Type(\"flyoutsVerticalToolbox\");\n  Blockly.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX = new Blockly.registry.Type(\"flyoutsHorizontalToolbox\");\n  Blockly.registry.Type.METRICS_MANAGER = new Blockly.registry.Type(\"metricsManager\");\n\n  Blockly.registry.register = function (a, b, c, d) {\n    if (!(a instanceof Blockly.registry.Type) && \"string\" != typeof a || \"\" == String(a).trim()) throw Error('Invalid type \"' + a + '\". The type must be a non-empty string or a Blockly.registry.Type.');\n    a = String(a).toLowerCase();\n    if (\"string\" != typeof b || \"\" == b.trim()) throw Error('Invalid name \"' + b + '\". The name must be a non-empty string.');\n    b = b.toLowerCase();\n    if (!c) throw Error(\"Can not register a null value\");\n    var e = Blockly.registry.typeMap_[a];\n    e || (e = Blockly.registry.typeMap_[a] = {});\n    Blockly.registry.validate_(a, c);\n    if (!d && e[b]) throw Error('Name \"' + b + '\" with type \"' + a + '\" already registered.');\n    e[b] = c;\n  };\n\n  Blockly.registry.validate_ = function (a, b) {\n    switch (a) {\n      case String(Blockly.registry.Type.FIELD):\n        if (\"function\" != typeof b.fromJson) throw Error('Type \"' + a + '\" must have a fromJson function');\n    }\n  };\n\n  Blockly.registry.unregister = function (a, b) {\n    a = String(a).toLowerCase();\n    b = b.toLowerCase();\n    var c = Blockly.registry.typeMap_[a];\n    c && c[b] ? delete Blockly.registry.typeMap_[a][b] : console.warn(\"Unable to unregister [\" + b + \"][\" + a + \"] from the registry.\");\n  };\n\n  Blockly.registry.getItem_ = function (a, b, c) {\n    a = String(a).toLowerCase();\n    b = b.toLowerCase();\n    var d = Blockly.registry.typeMap_[a];\n\n    if (!d || !d[b]) {\n      b = \"Unable to find [\" + b + \"][\" + a + \"] in the registry.\";\n      if (c) throw Error(b + \" You must require or register a \" + a + \" plugin.\");\n      console.warn(b);\n      return null;\n    }\n\n    return d[b];\n  };\n\n  Blockly.registry.hasItem = function (a, b) {\n    a = String(a).toLowerCase();\n    b = b.toLowerCase();\n    return (a = Blockly.registry.typeMap_[a]) ? !!a[b] : !1;\n  };\n\n  Blockly.registry.getClass = function (a, b, c) {\n    return Blockly.registry.getItem_(a, b, c);\n  };\n\n  Blockly.registry.getObject = function (a, b, c) {\n    return Blockly.registry.getItem_(a, b, c);\n  };\n\n  Blockly.registry.getClassFromOptions = function (a, b, c) {\n    b = b.plugins[a.toString()] || Blockly.registry.DEFAULT;\n    return \"function\" == typeof b ? b : Blockly.registry.getClass(a, b, c);\n  };\n\n  Blockly.Events = {};\n  Blockly.Events.group_ = \"\";\n  Blockly.Events.recordUndo = !0;\n  Blockly.Events.disabled_ = 0;\n  Blockly.Events.CREATE = \"create\";\n  Blockly.Events.BLOCK_CREATE = Blockly.Events.CREATE;\n  Blockly.Events.DELETE = \"delete\";\n  Blockly.Events.BLOCK_DELETE = Blockly.Events.DELETE;\n  Blockly.Events.CHANGE = \"change\";\n  Blockly.Events.BLOCK_CHANGE = Blockly.Events.CHANGE;\n  Blockly.Events.MOVE = \"move\";\n  Blockly.Events.BLOCK_MOVE = Blockly.Events.MOVE;\n  Blockly.Events.VAR_CREATE = \"var_create\";\n  Blockly.Events.VAR_DELETE = \"var_delete\";\n  Blockly.Events.VAR_RENAME = \"var_rename\";\n  Blockly.Events.UI = \"ui\";\n  Blockly.Events.BLOCK_DRAG = \"drag\";\n  Blockly.Events.SELECTED = \"selected\";\n  Blockly.Events.CLICK = \"click\";\n  Blockly.Events.MARKER_MOVE = \"marker_move\";\n  Blockly.Events.BUBBLE_OPEN = \"bubble_open\";\n  Blockly.Events.TRASHCAN_OPEN = \"trashcan_open\";\n  Blockly.Events.TOOLBOX_ITEM_SELECT = \"toolbox_item_select\";\n  Blockly.Events.THEME_CHANGE = \"theme_change\";\n  Blockly.Events.VIEWPORT_CHANGE = \"viewport_change\";\n  Blockly.Events.COMMENT_CREATE = \"comment_create\";\n  Blockly.Events.COMMENT_DELETE = \"comment_delete\";\n  Blockly.Events.COMMENT_CHANGE = \"comment_change\";\n  Blockly.Events.COMMENT_MOVE = \"comment_move\";\n  Blockly.Events.FINISHED_LOADING = \"finished_loading\";\n  Blockly.Events.BUMP_EVENTS = [Blockly.Events.BLOCK_CREATE, Blockly.Events.BLOCK_MOVE, Blockly.Events.COMMENT_CREATE, Blockly.Events.COMMENT_MOVE];\n  Blockly.Events.FIRE_QUEUE_ = [];\n\n  Blockly.Events.fire = function (a) {\n    Blockly.Events.isEnabled() && (Blockly.Events.FIRE_QUEUE_.length || setTimeout(Blockly.Events.fireNow_, 0), Blockly.Events.FIRE_QUEUE_.push(a));\n  };\n\n  Blockly.Events.fireNow_ = function () {\n    for (var a = Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_, !0), b = Blockly.Events.FIRE_QUEUE_.length = 0, c; c = a[b]; b++) {\n      if (c.workspaceId) {\n        var d = Blockly.Workspace.getById(c.workspaceId);\n        d && d.fireChangeListener(c);\n      }\n    }\n  };\n\n  Blockly.Events.filter = function (a, b) {\n    a = a.slice();\n    b || a.reverse();\n\n    for (var c = [], d = Object.create(null), e = 0, f; f = a[e]; e++) {\n      if (!f.isNull()) {\n        var g = [f.isUiEvent ? Blockly.Events.UI : f.type, f.blockId, f.workspaceId].join(\" \"),\n            h = d[g],\n            k = h ? h.event : null;\n        if (!h) d[g] = {\n          event: f,\n          index: e\n        }, c.push(f);else if (f.type == Blockly.Events.MOVE && h.index == e - 1) k.newParentId = f.newParentId, k.newInputName = f.newInputName, k.newCoordinate = f.newCoordinate, h.index = e;else if (f.type == Blockly.Events.CHANGE && f.element == k.element && f.name == k.name) k.newValue = f.newValue;else if (f.type != Blockly.Events.CLICK || k.type != Blockly.Events.BUBBLE_OPEN) d[g] = {\n          event: f,\n          index: e\n        }, c.push(f);\n      }\n    }\n\n    a = c.filter(function (l) {\n      return !l.isNull();\n    });\n    b || a.reverse();\n\n    for (e = 1; f = a[e]; e++) {\n      f.type == Blockly.Events.CHANGE && \"mutation\" == f.element && a.unshift(a.splice(e, 1)[0]);\n    }\n\n    return a;\n  };\n\n  Blockly.Events.clearPendingUndo = function () {\n    for (var a = 0, b; b = Blockly.Events.FIRE_QUEUE_[a]; a++) {\n      b.recordUndo = !1;\n    }\n  };\n\n  Blockly.Events.disable = function () {\n    Blockly.Events.disabled_++;\n  };\n\n  Blockly.Events.enable = function () {\n    Blockly.Events.disabled_--;\n  };\n\n  Blockly.Events.isEnabled = function () {\n    return 0 == Blockly.Events.disabled_;\n  };\n\n  Blockly.Events.getGroup = function () {\n    return Blockly.Events.group_;\n  };\n\n  Blockly.Events.setGroup = function (a) {\n    Blockly.Events.group_ = \"boolean\" == typeof a ? a ? Blockly.utils.genUid() : \"\" : a;\n  };\n\n  Blockly.Events.getDescendantIds = function (a) {\n    var b = [];\n    a = a.getDescendants(!1);\n\n    for (var c = 0, d; d = a[c]; c++) {\n      b[c] = d.id;\n    }\n\n    return b;\n  };\n\n  Blockly.Events.fromJson = function (a, b) {\n    var c = Blockly.Events.get(a.type);\n    if (!c) throw Error(\"Unknown event type.\");\n    c = new c();\n    c.fromJson(a);\n    c.workspaceId = b.id;\n    return c;\n  };\n\n  Blockly.Events.get = function (a) {\n    return Blockly.registry.getClass(Blockly.registry.Type.EVENT, a);\n  };\n\n  Blockly.Events.disableOrphans = function (a) {\n    if ((a.type == Blockly.Events.MOVE || a.type == Blockly.Events.CREATE) && a.workspaceId) {\n      var b = Blockly.Workspace.getById(a.workspaceId),\n          c = b.getBlockById(a.blockId);\n\n      if (c) {\n        a = Blockly.Events.recordUndo;\n\n        try {\n          Blockly.Events.recordUndo = !1;\n          var d = c.getParent();\n\n          if (d && d.isEnabled()) {\n            var e = c.getDescendants(!1);\n            b = 0;\n\n            for (var f; f = e[b]; b++) {\n              f.setEnabled(!0);\n            }\n          } else if ((c.outputConnection || c.previousConnection) && !b.isDragging()) {\n            do {\n              c.setEnabled(!1), c = c.getNextBlock();\n            } while (c);\n          }\n        } finally {\n          Blockly.Events.recordUndo = a;\n        }\n      }\n    }\n  };\n\n  Blockly.Events.Abstract = function () {\n    this.isBlank = null;\n    this.workspaceId = void 0;\n    this.group = Blockly.Events.getGroup();\n    this.recordUndo = Blockly.Events.recordUndo;\n  };\n\n  Blockly.Events.Abstract.prototype.isUiEvent = !1;\n\n  Blockly.Events.Abstract.prototype.toJson = function () {\n    var a = {\n      type: this.type\n    };\n    this.group && (a.group = this.group);\n    return a;\n  };\n\n  Blockly.Events.Abstract.prototype.fromJson = function (a) {\n    this.isBlank = !1;\n    this.group = a.group;\n  };\n\n  Blockly.Events.Abstract.prototype.isNull = function () {\n    return !1;\n  };\n\n  Blockly.Events.Abstract.prototype.run = function (a) {};\n\n  Blockly.Events.Abstract.prototype.getEventWorkspace_ = function () {\n    if (this.workspaceId) var a = Blockly.Workspace.getById(this.workspaceId);\n    if (!a) throw Error(\"Workspace is null. Event must have been generated from real Blockly events.\");\n    return a;\n  };\n\n  Blockly.utils.object = {};\n\n  Blockly.utils.object.inherits = function (a, b) {\n    a.superClass_ = b.prototype;\n    a.prototype = Object.create(b.prototype);\n    a.prototype.constructor = a;\n  };\n\n  Blockly.utils.object.mixin = function (a, b) {\n    for (var c in b) {\n      a[c] = b[c];\n    }\n  };\n\n  Blockly.utils.object.deepMerge = function (a, b) {\n    for (var c in b) {\n      a[c] = null != b[c] && \"object\" === typeof b[c] ? Blockly.utils.object.deepMerge(a[c] || Object.create(null), b[c]) : b[c];\n    }\n\n    return a;\n  };\n\n  Blockly.utils.object.values = function (a) {\n    return Object.values ? Object.values(a) : Object.keys(a).map(function (b) {\n      return a[b];\n    });\n  };\n\n  Blockly.utils.xml = {};\n  Blockly.utils.xml.NAME_SPACE = \"https://developers.google.com/blockly/xml\";\n\n  Blockly.utils.xml.document = function () {\n    return document;\n  };\n\n  Blockly.utils.xml.createElement = function (a) {\n    return Blockly.utils.xml.document().createElementNS(Blockly.utils.xml.NAME_SPACE, a);\n  };\n\n  Blockly.utils.xml.createTextNode = function (a) {\n    return Blockly.utils.xml.document().createTextNode(a);\n  };\n\n  Blockly.utils.xml.textToDomDocument = function (a) {\n    return new DOMParser().parseFromString(a, \"text/xml\");\n  };\n\n  Blockly.utils.xml.domToText = function (a) {\n    return new XMLSerializer().serializeToString(a);\n  };\n\n  Blockly.inputTypes = {\n    VALUE: Blockly.connectionTypes.INPUT_VALUE,\n    STATEMENT: Blockly.connectionTypes.NEXT_STATEMENT,\n    DUMMY: 5\n  };\n\n  Blockly.utils.Svg = function (a) {\n    this.tagName_ = a;\n  };\n\n  Blockly.utils.Svg.prototype.toString = function () {\n    return this.tagName_;\n  };\n\n  Blockly.utils.Svg.ANIMATE = new Blockly.utils.Svg(\"animate\");\n  Blockly.utils.Svg.CIRCLE = new Blockly.utils.Svg(\"circle\");\n  Blockly.utils.Svg.CLIPPATH = new Blockly.utils.Svg(\"clipPath\");\n  Blockly.utils.Svg.DEFS = new Blockly.utils.Svg(\"defs\");\n  Blockly.utils.Svg.FECOMPOSITE = new Blockly.utils.Svg(\"feComposite\");\n  Blockly.utils.Svg.FECOMPONENTTRANSFER = new Blockly.utils.Svg(\"feComponentTransfer\");\n  Blockly.utils.Svg.FEFLOOD = new Blockly.utils.Svg(\"feFlood\");\n  Blockly.utils.Svg.FEFUNCA = new Blockly.utils.Svg(\"feFuncA\");\n  Blockly.utils.Svg.FEGAUSSIANBLUR = new Blockly.utils.Svg(\"feGaussianBlur\");\n  Blockly.utils.Svg.FEPOINTLIGHT = new Blockly.utils.Svg(\"fePointLight\");\n  Blockly.utils.Svg.FESPECULARLIGHTING = new Blockly.utils.Svg(\"feSpecularLighting\");\n  Blockly.utils.Svg.FILTER = new Blockly.utils.Svg(\"filter\");\n  Blockly.utils.Svg.FOREIGNOBJECT = new Blockly.utils.Svg(\"foreignObject\");\n  Blockly.utils.Svg.G = new Blockly.utils.Svg(\"g\");\n  Blockly.utils.Svg.IMAGE = new Blockly.utils.Svg(\"image\");\n  Blockly.utils.Svg.LINE = new Blockly.utils.Svg(\"line\");\n  Blockly.utils.Svg.PATH = new Blockly.utils.Svg(\"path\");\n  Blockly.utils.Svg.PATTERN = new Blockly.utils.Svg(\"pattern\");\n  Blockly.utils.Svg.POLYGON = new Blockly.utils.Svg(\"polygon\");\n  Blockly.utils.Svg.RECT = new Blockly.utils.Svg(\"rect\");\n  Blockly.utils.Svg.SVG = new Blockly.utils.Svg(\"svg\");\n  Blockly.utils.Svg.TEXT = new Blockly.utils.Svg(\"text\");\n  Blockly.utils.Svg.TSPAN = new Blockly.utils.Svg(\"tspan\");\n  Blockly.utils.dom = {};\n  Blockly.utils.dom.SVG_NS = \"http://www.w3.org/2000/svg\";\n  Blockly.utils.dom.HTML_NS = \"http://www.w3.org/1999/xhtml\";\n  Blockly.utils.dom.XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  Blockly.utils.dom.NodeType = {\n    ELEMENT_NODE: 1,\n    TEXT_NODE: 3,\n    COMMENT_NODE: 8,\n    DOCUMENT_POSITION_CONTAINED_BY: 16\n  };\n  Blockly.utils.dom.cacheWidths_ = null;\n  Blockly.utils.dom.cacheReference_ = 0;\n  Blockly.utils.dom.canvasContext_ = null;\n\n  Blockly.utils.dom.createSvgElement = function (a, b, c) {\n    a = document.createElementNS(Blockly.utils.dom.SVG_NS, String(a));\n\n    for (var d in b) {\n      a.setAttribute(d, b[d]);\n    }\n\n    document.body.runtimeStyle && (a.runtimeStyle = a.currentStyle = a.style);\n    c && c.appendChild(a);\n    return a;\n  };\n\n  Blockly.utils.dom.addClass = function (a, b) {\n    var c = a.getAttribute(\"class\") || \"\";\n    if (-1 != (\" \" + c + \" \").indexOf(\" \" + b + \" \")) return !1;\n    c && (c += \" \");\n    a.setAttribute(\"class\", c + b);\n    return !0;\n  };\n\n  Blockly.utils.dom.removeClasses = function (a, b) {\n    b = b.split(\" \");\n\n    for (var c = 0; c < b.length; c++) {\n      Blockly.utils.dom.removeClass(a, b[c]);\n    }\n  };\n\n  Blockly.utils.dom.removeClass = function (a, b) {\n    var c = a.getAttribute(\"class\");\n    if (-1 == (\" \" + c + \" \").indexOf(\" \" + b + \" \")) return !1;\n    c = c.split(/\\s+/);\n\n    for (var d = 0; d < c.length; d++) {\n      c[d] && c[d] != b || (c.splice(d, 1), d--);\n    }\n\n    c.length ? a.setAttribute(\"class\", c.join(\" \")) : a.removeAttribute(\"class\");\n    return !0;\n  };\n\n  Blockly.utils.dom.hasClass = function (a, b) {\n    return -1 != (\" \" + a.getAttribute(\"class\") + \" \").indexOf(\" \" + b + \" \");\n  };\n\n  Blockly.utils.dom.removeNode = function (a) {\n    return a && a.parentNode ? a.parentNode.removeChild(a) : null;\n  };\n\n  Blockly.utils.dom.insertAfter = function (a, b) {\n    var c = b.nextSibling;\n    b = b.parentNode;\n    if (!b) throw Error(\"Reference node has no parent.\");\n    c ? b.insertBefore(a, c) : b.appendChild(a);\n  };\n\n  Blockly.utils.dom.containsNode = function (a, b) {\n    return !!(a.compareDocumentPosition(b) & Blockly.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY);\n  };\n\n  Blockly.utils.dom.setCssTransform = function (a, b) {\n    a.style.transform = b;\n    a.style[\"-webkit-transform\"] = b;\n  };\n\n  Blockly.utils.dom.startTextWidthCache = function () {\n    Blockly.utils.dom.cacheReference_++;\n    Blockly.utils.dom.cacheWidths_ || (Blockly.utils.dom.cacheWidths_ = {});\n  };\n\n  Blockly.utils.dom.stopTextWidthCache = function () {\n    Blockly.utils.dom.cacheReference_--;\n    Blockly.utils.dom.cacheReference_ || (Blockly.utils.dom.cacheWidths_ = null);\n  };\n\n  Blockly.utils.dom.getTextWidth = function (a) {\n    var b = a.textContent + \"\\n\" + a.className.baseVal,\n        c;\n    if (Blockly.utils.dom.cacheWidths_ && (c = Blockly.utils.dom.cacheWidths_[b])) return c;\n\n    try {\n      c = Blockly.utils.userAgent.IE || Blockly.utils.userAgent.EDGE ? a.getBBox().width : a.getComputedTextLength();\n    } catch (d) {\n      return 8 * a.textContent.length;\n    }\n\n    Blockly.utils.dom.cacheWidths_ && (Blockly.utils.dom.cacheWidths_[b] = c);\n    return c;\n  };\n\n  Blockly.utils.dom.getFastTextWidth = function (a, b, c, d) {\n    return Blockly.utils.dom.getFastTextWidthWithSizeString(a, b + \"pt\", c, d);\n  };\n\n  Blockly.utils.dom.getFastTextWidthWithSizeString = function (a, b, c, d) {\n    var e = a.textContent;\n    a = e + \"\\n\" + a.className.baseVal;\n    var f;\n    if (Blockly.utils.dom.cacheWidths_ && (f = Blockly.utils.dom.cacheWidths_[a])) return f;\n    Blockly.utils.dom.canvasContext_ || (f = document.createElement(\"canvas\"), f.className = \"blocklyComputeCanvas\", document.body.appendChild(f), Blockly.utils.dom.canvasContext_ = f.getContext(\"2d\"));\n    Blockly.utils.dom.canvasContext_.font = c + \" \" + b + \" \" + d;\n    f = Blockly.utils.dom.canvasContext_.measureText(e).width;\n    Blockly.utils.dom.cacheWidths_ && (Blockly.utils.dom.cacheWidths_[a] = f);\n    return f;\n  };\n\n  Blockly.utils.dom.measureFontMetrics = function (a, b, c, d) {\n    var e = document.createElement(\"span\");\n    e.style.font = c + \" \" + b + \" \" + d;\n    e.textContent = a;\n    a = document.createElement(\"div\");\n    a.style.width = \"1px\";\n    a.style.height = \"0px\";\n    b = document.createElement(\"div\");\n    b.setAttribute(\"style\", \"position: fixed; top: 0; left: 0; display: flex;\");\n    b.appendChild(e);\n    b.appendChild(a);\n    document.body.appendChild(b);\n\n    try {\n      c = {}, b.style.alignItems = \"baseline\", c.baseline = a.offsetTop - e.offsetTop, b.style.alignItems = \"flex-end\", c.height = a.offsetTop - e.offsetTop;\n    } finally {\n      document.body.removeChild(b);\n    }\n\n    return c;\n  };\n\n  Blockly.Xml = {};\n\n  Blockly.Xml.workspaceToDom = function (a, b) {\n    var c = Blockly.utils.xml.createElement(\"xml\"),\n        d = Blockly.Xml.variablesToDom(Blockly.Variables.allUsedVarModels(a));\n    d.hasChildNodes() && c.appendChild(d);\n    var e = a.getTopComments(!0);\n    d = 0;\n\n    for (var f; f = e[d]; d++) {\n      c.appendChild(f.toXmlWithXY(b));\n    }\n\n    a = a.getTopBlocks(!0);\n\n    for (d = 0; e = a[d]; d++) {\n      c.appendChild(Blockly.Xml.blockToDomWithXY(e, b));\n    }\n\n    return c;\n  };\n\n  Blockly.Xml.variablesToDom = function (a) {\n    for (var b = Blockly.utils.xml.createElement(\"variables\"), c = 0, d; d = a[c]; c++) {\n      var e = Blockly.utils.xml.createElement(\"variable\");\n      e.appendChild(Blockly.utils.xml.createTextNode(d.name));\n      d.type && e.setAttribute(\"type\", d.type);\n      e.id = d.getId();\n      b.appendChild(e);\n    }\n\n    return b;\n  };\n\n  Blockly.Xml.blockToDomWithXY = function (a, b) {\n    if (a.isInsertionMarker() && (a = a.getChildren(!1)[0], !a)) return new DocumentFragment();\n    var c;\n    a.workspace.RTL && (c = a.workspace.getWidth());\n    b = Blockly.Xml.blockToDom(a, b);\n    var d = a.getRelativeToSurfaceXY();\n    b.setAttribute(\"x\", Math.round(a.workspace.RTL ? c - d.x : d.x));\n    b.setAttribute(\"y\", Math.round(d.y));\n    return b;\n  };\n\n  Blockly.Xml.fieldToDom_ = function (a) {\n    if (a.isSerializable()) {\n      var b = Blockly.utils.xml.createElement(\"field\");\n      b.setAttribute(\"name\", a.name || \"\");\n      return a.toXml(b);\n    }\n\n    return null;\n  };\n\n  Blockly.Xml.allFieldsToDom_ = function (a, b) {\n    for (var c = 0, d; d = a.inputList[c]; c++) {\n      for (var e = 0, f; f = d.fieldRow[e]; e++) {\n        (f = Blockly.Xml.fieldToDom_(f)) && b.appendChild(f);\n      }\n    }\n  };\n\n  Blockly.Xml.blockToDom = function (a, b) {\n    if (a.isInsertionMarker()) return (a = a.getChildren(!1)[0]) ? Blockly.Xml.blockToDom(a) : new DocumentFragment();\n    var c = Blockly.utils.xml.createElement(a.isShadow() ? \"shadow\" : \"block\");\n    c.setAttribute(\"type\", a.type);\n    b || c.setAttribute(\"id\", a.id);\n\n    if (a.mutationToDom) {\n      var d = a.mutationToDom();\n      d && (d.hasChildNodes() || d.hasAttributes()) && c.appendChild(d);\n    }\n\n    Blockly.Xml.allFieldsToDom_(a, c);\n\n    if (d = a.getCommentText()) {\n      var e = a.commentModel.size,\n          f = a.commentModel.pinned,\n          g = Blockly.utils.xml.createElement(\"comment\");\n      g.appendChild(Blockly.utils.xml.createTextNode(d));\n      g.setAttribute(\"pinned\", f);\n      g.setAttribute(\"h\", e.height);\n      g.setAttribute(\"w\", e.width);\n      c.appendChild(g);\n    }\n\n    a.data && (d = Blockly.utils.xml.createElement(\"data\"), d.appendChild(Blockly.utils.xml.createTextNode(a.data)), c.appendChild(d));\n\n    for (d = 0; e = a.inputList[d]; d++) {\n      var h;\n      f = !0;\n\n      if (e.type != Blockly.inputTypes.DUMMY) {\n        var k = e.connection.targetBlock();\n        e.type == Blockly.inputTypes.VALUE ? h = Blockly.utils.xml.createElement(\"value\") : e.type == Blockly.inputTypes.STATEMENT && (h = Blockly.utils.xml.createElement(\"statement\"));\n        g = e.connection.getShadowDom();\n        !g || k && k.isShadow() || h.appendChild(Blockly.Xml.cloneShadow_(g, b));\n        k && (g = Blockly.Xml.blockToDom(k, b), g.nodeType == Blockly.utils.dom.NodeType.ELEMENT_NODE && (h.appendChild(g), f = !1));\n        h.setAttribute(\"name\", e.name);\n        f || c.appendChild(h);\n      }\n    }\n\n    void 0 != a.inputsInline && a.inputsInline != a.inputsInlineDefault && c.setAttribute(\"inline\", a.inputsInline);\n    a.isCollapsed() && c.setAttribute(\"collapsed\", !0);\n    a.isEnabled() || c.setAttribute(\"disabled\", !0);\n    a.isDeletable() || a.isShadow() || c.setAttribute(\"deletable\", !1);\n    a.isMovable() || a.isShadow() || c.setAttribute(\"movable\", !1);\n    a.isEditable() || c.setAttribute(\"editable\", !1);\n    if (d = a.getNextBlock()) g = Blockly.Xml.blockToDom(d, b), g.nodeType == Blockly.utils.dom.NodeType.ELEMENT_NODE && (h = Blockly.utils.xml.createElement(\"next\"), h.appendChild(g), c.appendChild(h));\n    g = a.nextConnection && a.nextConnection.getShadowDom();\n    !g || d && d.isShadow() || h.appendChild(Blockly.Xml.cloneShadow_(g, b));\n    return c;\n  };\n\n  Blockly.Xml.cloneShadow_ = function (a, b) {\n    for (var c = a = a.cloneNode(!0), d; c;) {\n      if (b && \"shadow\" == c.nodeName && c.removeAttribute(\"id\"), c.firstChild) c = c.firstChild;else {\n        for (; c && !c.nextSibling;) {\n          d = c, c = c.parentNode, d.nodeType == Blockly.utils.dom.NodeType.TEXT_NODE && \"\" == d.data.trim() && c.firstChild != d && Blockly.utils.dom.removeNode(d);\n        }\n\n        c && (d = c, c = c.nextSibling, d.nodeType == Blockly.utils.dom.NodeType.TEXT_NODE && \"\" == d.data.trim() && Blockly.utils.dom.removeNode(d));\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Xml.domToText = function (a) {\n    return Blockly.utils.xml.domToText(a).replace(/<(\\w+)([^<]*)\\/>/g, \"<$1$2></$1>\");\n  };\n\n  Blockly.Xml.domToPrettyText = function (a) {\n    a = Blockly.Xml.domToText(a).split(\"<\");\n\n    for (var b = \"\", c = 1; c < a.length; c++) {\n      var d = a[c];\n      \"/\" == d[0] && (b = b.substring(2));\n      a[c] = b + \"<\" + d;\n      \"/\" != d[0] && \"/>\" != d.slice(-2) && (b += \"  \");\n    }\n\n    a = a.join(\"\\n\");\n    a = a.replace(/(<(\\w+)\\b[^>]*>[^\\n]*)\\n *<\\/\\2>/g, \"$1</$2>\");\n    return a.replace(/^\\n/, \"\");\n  };\n\n  Blockly.Xml.textToDom = function (a) {\n    var b = Blockly.utils.xml.textToDomDocument(a);\n    if (!b || !b.documentElement || b.getElementsByTagName(\"parsererror\").length) throw Error(\"textToDom was unable to parse: \" + a);\n    return b.documentElement;\n  };\n\n  Blockly.Xml.clearWorkspaceAndLoadFromXml = function (a, b) {\n    b.setResizesEnabled(!1);\n    b.clear();\n    a = Blockly.Xml.domToWorkspace(a, b);\n    b.setResizesEnabled(!0);\n    return a;\n  };\n\n  Blockly.Xml.domToWorkspace = function (a, b) {\n    if (a instanceof Blockly.Workspace) {\n      var c = a;\n      a = b;\n      b = c;\n      console.warn(\"Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.\");\n    }\n\n    var d;\n    b.RTL && (d = b.getWidth());\n    c = [];\n    Blockly.utils.dom.startTextWidthCache();\n    var e = Blockly.Events.getGroup();\n    e || Blockly.Events.setGroup(!0);\n    b.setResizesEnabled && b.setResizesEnabled(!1);\n    var f = !0;\n\n    try {\n      for (var g = 0, h; h = a.childNodes[g]; g++) {\n        var k = h.nodeName.toLowerCase(),\n            l = h;\n\n        if (\"block\" == k || \"shadow\" == k && !Blockly.Events.recordUndo) {\n          var m = Blockly.Xml.domToBlock(l, b);\n          c.push(m.id);\n          var n = l.hasAttribute(\"x\") ? parseInt(l.getAttribute(\"x\"), 10) : 10,\n              p = l.hasAttribute(\"y\") ? parseInt(l.getAttribute(\"y\"), 10) : 10;\n          isNaN(n) || isNaN(p) || m.moveBy(b.RTL ? d - n : n, p);\n          f = !1;\n        } else {\n          if (\"shadow\" == k) throw TypeError(\"Shadow block cannot be a top-level block.\");\n          if (\"comment\" == k) b.rendered ? Blockly.WorkspaceCommentSvg ? Blockly.WorkspaceCommentSvg.fromXml(l, b, d) : console.warn(\"Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment.\") : Blockly.WorkspaceComment ? Blockly.WorkspaceComment.fromXml(l, b) : console.warn(\"Missing require for Blockly.WorkspaceComment, ignoring workspace comment.\");else if (\"variables\" == k) {\n            if (f) Blockly.Xml.domToVariables(l, b);else throw Error(\"'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.\");\n            f = !1;\n          }\n        }\n      }\n    } finally {\n      e || Blockly.Events.setGroup(!1), Blockly.utils.dom.stopTextWidthCache();\n    }\n\n    b.setResizesEnabled && b.setResizesEnabled(!0);\n    Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.FINISHED_LOADING))(b));\n    return c;\n  };\n\n  Blockly.Xml.appendDomToWorkspace = function (a, b) {\n    var c;\n    Object.prototype.hasOwnProperty.call(b, \"scale\") && (c = b.getBlocksBoundingBox());\n    a = Blockly.Xml.domToWorkspace(a, b);\n\n    if (c && c.top != c.bottom) {\n      var d = c.bottom;\n      var e = b.RTL ? c.right : c.left;\n      var f = Infinity,\n          g = -Infinity,\n          h = Infinity;\n\n      for (c = 0; c < a.length; c++) {\n        var k = b.getBlockById(a[c]).getRelativeToSurfaceXY();\n        k.y < h && (h = k.y);\n        k.x < f && (f = k.x);\n        k.x > g && (g = k.x);\n      }\n\n      d = d - h + 10;\n      e = b.RTL ? e - g : e - f;\n\n      for (c = 0; c < a.length; c++) {\n        b.getBlockById(a[c]).moveBy(e, d);\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Xml.domToBlock = function (a, b) {\n    if (a instanceof Blockly.Workspace) {\n      var c = a;\n      a = b;\n      b = c;\n      console.warn(\"Deprecated call to Blockly.Xml.domToBlock, swap the arguments.\");\n    }\n\n    Blockly.Events.disable();\n    c = b.getAllVariables();\n\n    try {\n      var d = Blockly.Xml.domToBlockHeadless_(a, b),\n          e = d.getDescendants(!1);\n\n      if (b.rendered) {\n        d.setConnectionTracking(!1);\n\n        for (var f = e.length - 1; 0 <= f; f--) {\n          e[f].initSvg();\n        }\n\n        for (f = e.length - 1; 0 <= f; f--) {\n          e[f].render(!1);\n        }\n\n        setTimeout(function () {\n          d.disposed || d.setConnectionTracking(!0);\n        }, 1);\n        d.updateDisabled();\n        b.resizeContents();\n      } else for (f = e.length - 1; 0 <= f; f--) {\n        e[f].initModel();\n      }\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    if (Blockly.Events.isEnabled()) {\n      a = Blockly.Variables.getAddedVariables(b, c);\n\n      for (f = 0; f < a.length; f++) {\n        b = a[f], Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.VAR_CREATE))(b));\n      }\n\n      Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.CREATE))(d));\n    }\n\n    return d;\n  };\n\n  Blockly.Xml.domToVariables = function (a, b) {\n    for (var c = 0, d; d = a.childNodes[c]; c++) {\n      if (d.nodeType == Blockly.utils.dom.NodeType.ELEMENT_NODE) {\n        var e = d.getAttribute(\"type\"),\n            f = d.getAttribute(\"id\");\n        b.createVariable(d.textContent, e, f);\n      }\n    }\n  };\n\n  Blockly.Xml.mapSupportedXmlTags_ = function (a) {\n    for (var b = {\n      mutation: [],\n      comment: [],\n      data: [],\n      field: [],\n      input: [],\n      next: []\n    }, c = 0, d; d = a.childNodes[c]; c++) {\n      if (d.nodeType != Blockly.utils.dom.NodeType.TEXT_NODE) switch (d.nodeName.toLowerCase()) {\n        case \"mutation\":\n          b.mutation.push(d);\n          break;\n\n        case \"comment\":\n          if (!Blockly.Comment) {\n            console.warn(\"Missing require for Blockly.Comment, ignoring block comment.\");\n            break;\n          }\n\n          b.comment.push(d);\n          break;\n\n        case \"data\":\n          b.data.push(d);\n          break;\n\n        case \"title\":\n        case \"field\":\n          b.field.push(d);\n          break;\n\n        case \"value\":\n        case \"statement\":\n          b.input.push(d);\n          break;\n\n        case \"next\":\n          b.next.push(d);\n          break;\n\n        default:\n          console.warn(\"Ignoring unknown tag: \" + d.nodeName);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.Xml.applyMutationTagNodes_ = function (a, b) {\n    for (var c = !1, d = 0, e; e = a[d]; d++) {\n      b.domToMutation && (b.domToMutation(e), b.initSvg && (c = !0));\n    }\n\n    return c;\n  };\n\n  Blockly.Xml.applyCommentTagNodes_ = function (a, b) {\n    for (var c = 0, d; d = a[c]; c++) {\n      var e = d.textContent,\n          f = \"true\" == d.getAttribute(\"pinned\"),\n          g = parseInt(d.getAttribute(\"w\"), 10);\n      d = parseInt(d.getAttribute(\"h\"), 10);\n      b.setCommentText(e);\n      b.commentModel.pinned = f;\n      isNaN(g) || isNaN(d) || (b.commentModel.size = new Blockly.utils.Size(g, d));\n      f && b.getCommentIcon && !b.isInFlyout && setTimeout(function () {\n        b.getCommentIcon().setVisible(!0);\n      }, 1);\n    }\n  };\n\n  Blockly.Xml.applyDataTagNodes_ = function (a, b) {\n    for (var c = 0, d; d = a[c]; c++) {\n      b.data = d.textContent;\n    }\n  };\n\n  Blockly.Xml.applyFieldTagNodes_ = function (a, b) {\n    for (var c = 0, d; d = a[c]; c++) {\n      var e = d.getAttribute(\"name\");\n      Blockly.Xml.domToField_(b, e, d);\n    }\n  };\n\n  Blockly.Xml.findChildBlocks_ = function (a) {\n    for (var b = {\n      childBlockElement: null,\n      childShadowElement: null\n    }, c = 0, d; d = a.childNodes[c]; c++) {\n      d.nodeType == Blockly.utils.dom.NodeType.ELEMENT_NODE && (\"block\" == d.nodeName.toLowerCase() ? b.childBlockElement = d : \"shadow\" == d.nodeName.toLowerCase() && (b.childShadowElement = d));\n    }\n\n    return b;\n  };\n\n  Blockly.Xml.applyInputTagNodes_ = function (a, b, c, d) {\n    for (var e = 0, f; f = a[e]; e++) {\n      var g = f.getAttribute(\"name\"),\n          h = c.getInput(g);\n\n      if (!h) {\n        console.warn(\"Ignoring non-existent input \" + g + \" in block \" + d);\n        break;\n      }\n\n      f = Blockly.Xml.findChildBlocks_(f);\n\n      if (f.childBlockElement) {\n        if (!h.connection) throw TypeError(\"Input connection does not exist.\");\n        Blockly.Xml.domToBlockHeadless_(f.childBlockElement, b, h.connection, !1);\n      }\n\n      f.childShadowElement && h.connection.setShadowDom(f.childShadowElement);\n    }\n  };\n\n  Blockly.Xml.applyNextTagNodes_ = function (a, b, c) {\n    for (var d = 0, e; e = a[d]; d++) {\n      e = Blockly.Xml.findChildBlocks_(e);\n\n      if (e.childBlockElement) {\n        if (!c.nextConnection) throw TypeError(\"Next statement does not exist.\");\n        if (c.nextConnection.isConnected()) throw TypeError(\"Next statement is already connected.\");\n        Blockly.Xml.domToBlockHeadless_(e.childBlockElement, b, c.nextConnection, !0);\n      }\n\n      e.childShadowElement && c.nextConnection && c.nextConnection.setShadowDom(e.childShadowElement);\n    }\n  };\n\n  Blockly.Xml.domToBlockHeadless_ = function (a, b, c, d) {\n    var e = a.getAttribute(\"type\");\n    if (!e) throw TypeError(\"Block type unspecified: \" + a.outerHTML);\n    var f = a.getAttribute(\"id\");\n    f = b.newBlock(e, f);\n    var g = Blockly.Xml.mapSupportedXmlTags_(a),\n        h = Blockly.Xml.applyMutationTagNodes_(g.mutation, f);\n    Blockly.Xml.applyCommentTagNodes_(g.comment, f);\n    Blockly.Xml.applyDataTagNodes_(g.data, f);\n    if (c) if (d) {\n      if (f.previousConnection) c.connect(f.previousConnection);else throw TypeError(\"Next block does not have previous statement.\");\n    } else if (f.outputConnection) c.connect(f.outputConnection);else if (f.previousConnection) c.connect(f.previousConnection);else throw TypeError(\"Child block does not have output or previous statement.\");\n    Blockly.Xml.applyFieldTagNodes_(g.field, f);\n    Blockly.Xml.applyInputTagNodes_(g.input, b, f, e);\n    Blockly.Xml.applyNextTagNodes_(g.next, b, f);\n    h && f.initSvg();\n    (b = a.getAttribute(\"inline\")) && f.setInputsInline(\"true\" == b);\n    (b = a.getAttribute(\"disabled\")) && f.setEnabled(\"true\" != b && \"disabled\" != b);\n    (b = a.getAttribute(\"deletable\")) && f.setDeletable(\"true\" == b);\n    (b = a.getAttribute(\"movable\")) && f.setMovable(\"true\" == b);\n    (b = a.getAttribute(\"editable\")) && f.setEditable(\"true\" == b);\n    (b = a.getAttribute(\"collapsed\")) && f.setCollapsed(\"true\" == b);\n\n    if (\"shadow\" == a.nodeName.toLowerCase()) {\n      a = f.getChildren(!1);\n\n      for (b = 0; c = a[b]; b++) {\n        if (!c.isShadow()) throw TypeError(\"Shadow block not allowed non-shadow child.\");\n      }\n\n      if (f.getVarModels().length) throw TypeError(\"Shadow blocks cannot have variable references.\");\n      f.setShadow(!0);\n    }\n\n    return f;\n  };\n\n  Blockly.Xml.domToField_ = function (a, b, c) {\n    var d = a.getField(b);\n    d ? d.fromXml(c) : console.warn(\"Ignoring non-existent field \" + b + \" in block \" + a.type);\n  };\n\n  Blockly.Xml.deleteNext = function (a) {\n    for (var b = 0, c; c = a.childNodes[b]; b++) {\n      if (\"next\" == c.nodeName.toLowerCase()) {\n        a.removeChild(c);\n        break;\n      }\n    }\n  };\n\n  Blockly.Events.BlockBase = function (a) {\n    Blockly.Events.BlockBase.superClass_.constructor.call(this);\n    this.blockId = (this.isBlank = \"undefined\" == typeof a) ? \"\" : a.id;\n    this.workspaceId = this.isBlank ? \"\" : a.workspace.id;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.BlockBase, Blockly.Events.Abstract);\n\n  Blockly.Events.BlockBase.prototype.toJson = function () {\n    var a = Blockly.Events.BlockBase.superClass_.toJson.call(this);\n    a.blockId = this.blockId;\n    return a;\n  };\n\n  Blockly.Events.BlockBase.prototype.fromJson = function (a) {\n    Blockly.Events.BlockBase.superClass_.fromJson.call(this, a);\n    this.blockId = a.blockId;\n  };\n\n  Blockly.Events.Change = function (a, b, c, d, e) {\n    Blockly.Events.Change.superClass_.constructor.call(this, a);\n    a && (this.element = \"undefined\" == typeof b ? \"\" : b, this.name = \"undefined\" == typeof c ? \"\" : c, this.oldValue = \"undefined\" == typeof d ? \"\" : d, this.newValue = \"undefined\" == typeof e ? \"\" : e);\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.Change, Blockly.Events.BlockBase);\n  Blockly.Events.BlockChange = Blockly.Events.Change;\n  Blockly.Events.Change.prototype.type = Blockly.Events.CHANGE;\n\n  Blockly.Events.Change.prototype.toJson = function () {\n    var a = Blockly.Events.Change.superClass_.toJson.call(this);\n    a.element = this.element;\n    this.name && (a.name = this.name);\n    a.oldValue = this.oldValue;\n    a.newValue = this.newValue;\n    return a;\n  };\n\n  Blockly.Events.Change.prototype.fromJson = function (a) {\n    Blockly.Events.Change.superClass_.fromJson.call(this, a);\n    this.element = a.element;\n    this.name = a.name;\n    this.oldValue = a.oldValue;\n    this.newValue = a.newValue;\n  };\n\n  Blockly.Events.Change.prototype.isNull = function () {\n    return this.oldValue == this.newValue;\n  };\n\n  Blockly.Events.Change.prototype.run = function (a) {\n    var b = this.getEventWorkspace_().getBlockById(this.blockId);\n    if (b) switch (b.mutator && b.mutator.setVisible(!1), a = a ? this.newValue : this.oldValue, this.element) {\n      case \"field\":\n        (b = b.getField(this.name)) ? b.setValue(a) : console.warn(\"Can't set non-existent field: \" + this.name);\n        break;\n\n      case \"comment\":\n        b.setCommentText(a || null);\n        break;\n\n      case \"collapsed\":\n        b.setCollapsed(!!a);\n        break;\n\n      case \"disabled\":\n        b.setEnabled(!a);\n        break;\n\n      case \"inline\":\n        b.setInputsInline(!!a);\n        break;\n\n      case \"mutation\":\n        var c = \"\";\n        b.mutationToDom && (c = (c = b.mutationToDom()) && Blockly.Xml.domToText(c));\n\n        if (b.domToMutation) {\n          var d = Blockly.Xml.textToDom(a || \"<mutation/>\");\n          b.domToMutation(d);\n        }\n\n        Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.CHANGE))(b, \"mutation\", null, c, a));\n        break;\n\n      default:\n        console.warn(\"Unknown change type: \" + this.element);\n    } else console.warn(\"Can't change non-existent block: \" + this.blockId);\n  };\n\n  Blockly.Events.Create = function (a) {\n    Blockly.Events.Create.superClass_.constructor.call(this, a);\n    a && (a.isShadow() && (this.recordUndo = !1), this.xml = a.workspace.rendered ? Blockly.Xml.blockToDomWithXY(a) : Blockly.Xml.blockToDom(a), this.ids = Blockly.Events.getDescendantIds(a));\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.Create, Blockly.Events.BlockBase);\n  Blockly.Events.BlockCreate = Blockly.Events.Create;\n  Blockly.Events.Create.prototype.type = Blockly.Events.CREATE;\n\n  Blockly.Events.Create.prototype.toJson = function () {\n    var a = Blockly.Events.Create.superClass_.toJson.call(this);\n    a.xml = Blockly.Xml.domToText(this.xml);\n    a.ids = this.ids;\n    this.recordUndo || (a.recordUndo = this.recordUndo);\n    return a;\n  };\n\n  Blockly.Events.Create.prototype.fromJson = function (a) {\n    Blockly.Events.Create.superClass_.fromJson.call(this, a);\n    this.xml = Blockly.Xml.textToDom(a.xml);\n    this.ids = a.ids;\n    void 0 !== a.recordUndo && (this.recordUndo = a.recordUndo);\n  };\n\n  Blockly.Events.Create.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    if (a) a = Blockly.utils.xml.createElement(\"xml\"), a.appendChild(this.xml), Blockly.Xml.domToWorkspace(a, b);else {\n      a = 0;\n\n      for (var c; c = this.ids[a]; a++) {\n        var d = b.getBlockById(c);\n        d ? d.dispose(!1) : c == this.blockId && console.warn(\"Can't uncreate non-existent block: \" + c);\n      }\n    }\n  };\n\n  Blockly.Events.Delete = function (a) {\n    Blockly.Events.Delete.superClass_.constructor.call(this, a);\n\n    if (a) {\n      if (a.getParent()) throw Error(\"Connected blocks cannot be deleted.\");\n      a.isShadow() && (this.recordUndo = !1);\n      this.oldXml = a.workspace.rendered ? Blockly.Xml.blockToDomWithXY(a) : Blockly.Xml.blockToDom(a);\n      this.ids = Blockly.Events.getDescendantIds(a);\n    }\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.Delete, Blockly.Events.BlockBase);\n  Blockly.Events.BlockDelete = Blockly.Events.Delete;\n  Blockly.Events.Delete.prototype.type = Blockly.Events.DELETE;\n\n  Blockly.Events.Delete.prototype.toJson = function () {\n    var a = Blockly.Events.Delete.superClass_.toJson.call(this);\n    a.oldXml = Blockly.Xml.domToText(this.oldXml);\n    a.ids = this.ids;\n    this.recordUndo || (a.recordUndo = this.recordUndo);\n    return a;\n  };\n\n  Blockly.Events.Delete.prototype.fromJson = function (a) {\n    Blockly.Events.Delete.superClass_.fromJson.call(this, a);\n    this.oldXml = Blockly.Xml.textToDom(a.oldXml);\n    this.ids = a.ids;\n    void 0 !== a.recordUndo && (this.recordUndo = a.recordUndo);\n  };\n\n  Blockly.Events.Delete.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n\n    if (a) {\n      a = 0;\n\n      for (var c; c = this.ids[a]; a++) {\n        var d = b.getBlockById(c);\n        d ? d.dispose(!1) : c == this.blockId && console.warn(\"Can't delete non-existent block: \" + c);\n      }\n    } else a = Blockly.utils.xml.createElement(\"xml\"), a.appendChild(this.oldXml), Blockly.Xml.domToWorkspace(a, b);\n  };\n\n  Blockly.Events.Move = function (a) {\n    Blockly.Events.Move.superClass_.constructor.call(this, a);\n    a && (a.isShadow() && (this.recordUndo = !1), a = this.currentLocation_(), this.oldParentId = a.parentId, this.oldInputName = a.inputName, this.oldCoordinate = a.coordinate);\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.Move, Blockly.Events.BlockBase);\n  Blockly.Events.BlockMove = Blockly.Events.Move;\n  Blockly.Events.Move.prototype.type = Blockly.Events.MOVE;\n\n  Blockly.Events.Move.prototype.toJson = function () {\n    var a = Blockly.Events.Move.superClass_.toJson.call(this);\n    this.newParentId && (a.newParentId = this.newParentId);\n    this.newInputName && (a.newInputName = this.newInputName);\n    this.newCoordinate && (a.newCoordinate = Math.round(this.newCoordinate.x) + \",\" + Math.round(this.newCoordinate.y));\n    this.recordUndo || (a.recordUndo = this.recordUndo);\n    return a;\n  };\n\n  Blockly.Events.Move.prototype.fromJson = function (a) {\n    Blockly.Events.Move.superClass_.fromJson.call(this, a);\n    this.newParentId = a.newParentId;\n    this.newInputName = a.newInputName;\n\n    if (a.newCoordinate) {\n      var b = a.newCoordinate.split(\",\");\n      this.newCoordinate = new Blockly.utils.Coordinate(Number(b[0]), Number(b[1]));\n    }\n\n    void 0 !== a.recordUndo && (this.recordUndo = a.recordUndo);\n  };\n\n  Blockly.Events.Move.prototype.recordNew = function () {\n    var a = this.currentLocation_();\n    this.newParentId = a.parentId;\n    this.newInputName = a.inputName;\n    this.newCoordinate = a.coordinate;\n  };\n\n  Blockly.Events.Move.prototype.currentLocation_ = function () {\n    var a = this.getEventWorkspace_().getBlockById(this.blockId),\n        b = {},\n        c = a.getParent();\n\n    if (c) {\n      if (b.parentId = c.id, a = c.getInputWithBlock(a)) b.inputName = a.name;\n    } else b.coordinate = a.getRelativeToSurfaceXY();\n\n    return b;\n  };\n\n  Blockly.Events.Move.prototype.isNull = function () {\n    return this.oldParentId == this.newParentId && this.oldInputName == this.newInputName && Blockly.utils.Coordinate.equals(this.oldCoordinate, this.newCoordinate);\n  };\n\n  Blockly.Events.Move.prototype.run = function (a) {\n    var b = this.getEventWorkspace_(),\n        c = b.getBlockById(this.blockId);\n\n    if (c) {\n      var d = a ? this.newParentId : this.oldParentId,\n          e = a ? this.newInputName : this.oldInputName,\n          f = a ? this.newCoordinate : this.oldCoordinate;\n      a = null;\n\n      if (d && (a = b.getBlockById(d), !a)) {\n        console.warn(\"Can't connect to non-existent block: \" + d);\n        return;\n      }\n\n      c.getParent() && c.unplug();\n      if (f) e = c.getRelativeToSurfaceXY(), c.moveBy(f.x - e.x, f.y - e.y);else {\n        c = c.outputConnection || c.previousConnection;\n        b = c.type;\n\n        if (e) {\n          if (a = a.getInput(e)) var g = a.connection;\n        } else b == Blockly.connectionTypes.PREVIOUS_STATEMENT && (g = a.nextConnection);\n\n        g ? c.connect(g) : console.warn(\"Can't connect to non-existent input: \" + e);\n      }\n    } else console.warn(\"Can't move non-existent block: \" + this.blockId);\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.CREATE, Blockly.Events.Create);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.DELETE, Blockly.Events.Delete);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.CHANGE, Blockly.Events.Change);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.MOVE, Blockly.Events.Move);\n\n  Blockly.Events.FinishedLoading = function (a) {\n    this.isBlank = \"undefined\" == typeof a;\n    this.workspaceId = a ? a.id : \"\";\n    this.group = Blockly.Events.getGroup();\n    this.recordUndo = !1;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.FinishedLoading, Blockly.Events.Abstract);\n  Blockly.Events.FinishedLoading.prototype.type = Blockly.Events.FINISHED_LOADING;\n\n  Blockly.Events.FinishedLoading.prototype.toJson = function () {\n    var a = {\n      type: this.type\n    };\n    this.group && (a.group = this.group);\n    this.workspaceId && (a.workspaceId = this.workspaceId);\n    return a;\n  };\n\n  Blockly.Events.FinishedLoading.prototype.fromJson = function (a) {\n    this.isBlank = !1;\n    this.workspaceId = a.workspaceId;\n    this.group = a.group;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.FINISHED_LOADING, Blockly.Events.FinishedLoading);\n\n  Blockly.Events.UiBase = function (a) {\n    Blockly.Events.UiBase.superClass_.constructor.call(this);\n    this.isBlank = \"undefined\" == typeof a;\n    this.workspaceId = a ? a : \"\";\n    this.recordUndo = !1;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.UiBase, Blockly.Events.Abstract);\n  Blockly.Events.UiBase.prototype.isUiEvent = !0;\n\n  Blockly.Events.Ui = function (a, b, c, d) {\n    Blockly.Events.Ui.superClass_.constructor.call(this, a ? a.workspace.id : void 0);\n    this.blockId = a ? a.id : null;\n    this.element = \"undefined\" == typeof b ? \"\" : b;\n    this.oldValue = \"undefined\" == typeof c ? \"\" : c;\n    this.newValue = \"undefined\" == typeof d ? \"\" : d;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.Ui, Blockly.Events.UiBase);\n  Blockly.Events.Ui.prototype.type = Blockly.Events.UI;\n\n  Blockly.Events.Ui.prototype.toJson = function () {\n    var a = Blockly.Events.Ui.superClass_.toJson.call(this);\n    a.element = this.element;\n    void 0 !== this.newValue && (a.newValue = this.newValue);\n    this.blockId && (a.blockId = this.blockId);\n    return a;\n  };\n\n  Blockly.Events.Ui.prototype.fromJson = function (a) {\n    Blockly.Events.Ui.superClass_.fromJson.call(this, a);\n    this.element = a.element;\n    this.newValue = a.newValue;\n    this.blockId = a.blockId;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.UI, Blockly.Events.Ui);\n\n  Blockly.Events.VarBase = function (a) {\n    Blockly.Events.VarBase.superClass_.constructor.call(this);\n    this.varId = (this.isBlank = \"undefined\" == typeof a) ? \"\" : a.getId();\n    this.workspaceId = this.isBlank ? \"\" : a.workspace.id;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.VarBase, Blockly.Events.Abstract);\n\n  Blockly.Events.VarBase.prototype.toJson = function () {\n    var a = Blockly.Events.VarBase.superClass_.toJson.call(this);\n    a.varId = this.varId;\n    return a;\n  };\n\n  Blockly.Events.VarBase.prototype.fromJson = function (a) {\n    Blockly.Events.VarBase.superClass_.toJson.call(this);\n    this.varId = a.varId;\n  };\n\n  Blockly.Events.VarCreate = function (a) {\n    Blockly.Events.VarCreate.superClass_.constructor.call(this, a);\n    a && (this.varType = a.type, this.varName = a.name);\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.VarCreate, Blockly.Events.VarBase);\n  Blockly.Events.VarCreate.prototype.type = Blockly.Events.VAR_CREATE;\n\n  Blockly.Events.VarCreate.prototype.toJson = function () {\n    var a = Blockly.Events.VarCreate.superClass_.toJson.call(this);\n    a.varType = this.varType;\n    a.varName = this.varName;\n    return a;\n  };\n\n  Blockly.Events.VarCreate.prototype.fromJson = function (a) {\n    Blockly.Events.VarCreate.superClass_.fromJson.call(this, a);\n    this.varType = a.varType;\n    this.varName = a.varName;\n  };\n\n  Blockly.Events.VarCreate.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    a ? b.createVariable(this.varName, this.varType, this.varId) : b.deleteVariableById(this.varId);\n  };\n\n  Blockly.Events.VarDelete = function (a) {\n    Blockly.Events.VarDelete.superClass_.constructor.call(this, a);\n    a && (this.varType = a.type, this.varName = a.name);\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.VarDelete, Blockly.Events.VarBase);\n  Blockly.Events.VarDelete.prototype.type = Blockly.Events.VAR_DELETE;\n\n  Blockly.Events.VarDelete.prototype.toJson = function () {\n    var a = Blockly.Events.VarDelete.superClass_.toJson.call(this);\n    a.varType = this.varType;\n    a.varName = this.varName;\n    return a;\n  };\n\n  Blockly.Events.VarDelete.prototype.fromJson = function (a) {\n    Blockly.Events.VarDelete.superClass_.fromJson.call(this, a);\n    this.varType = a.varType;\n    this.varName = a.varName;\n  };\n\n  Blockly.Events.VarDelete.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    a ? b.deleteVariableById(this.varId) : b.createVariable(this.varName, this.varType, this.varId);\n  };\n\n  Blockly.Events.VarRename = function (a, b) {\n    Blockly.Events.VarRename.superClass_.constructor.call(this, a);\n    a && (this.oldName = a.name, this.newName = \"undefined\" == typeof b ? \"\" : b);\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.VarRename, Blockly.Events.VarBase);\n  Blockly.Events.VarRename.prototype.type = Blockly.Events.VAR_RENAME;\n\n  Blockly.Events.VarRename.prototype.toJson = function () {\n    var a = Blockly.Events.VarRename.superClass_.toJson.call(this);\n    a.oldName = this.oldName;\n    a.newName = this.newName;\n    return a;\n  };\n\n  Blockly.Events.VarRename.prototype.fromJson = function (a) {\n    Blockly.Events.VarRename.superClass_.fromJson.call(this, a);\n    this.oldName = a.oldName;\n    this.newName = a.newName;\n  };\n\n  Blockly.Events.VarRename.prototype.run = function (a) {\n    var b = this.getEventWorkspace_();\n    a ? b.renameVariableById(this.varId, this.newName) : b.renameVariableById(this.varId, this.oldName);\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.VAR_CREATE, Blockly.Events.VarCreate);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.VAR_DELETE, Blockly.Events.VarDelete);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.VAR_RENAME, Blockly.Events.VarRename);\n\n  Blockly.BlockDragSurfaceSvg = function (a) {\n    this.container_ = a;\n    this.createDom();\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.SVG_ = null;\n  Blockly.BlockDragSurfaceSvg.prototype.dragGroup_ = null;\n  Blockly.BlockDragSurfaceSvg.prototype.container_ = null;\n  Blockly.BlockDragSurfaceSvg.prototype.scale_ = 1;\n  Blockly.BlockDragSurfaceSvg.prototype.surfaceXY_ = null;\n\n  Blockly.BlockDragSurfaceSvg.prototype.createDom = function () {\n    this.SVG_ || (this.SVG_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.SVG, {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      \"class\": \"blocklyBlockDragSurface\"\n    }, this.container_), this.dragGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {}, this.SVG_));\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.setBlocksAndShow = function (a) {\n    if (this.dragGroup_.childNodes.length) throw Error(\"Already dragging a block.\");\n    this.dragGroup_.appendChild(a);\n    this.SVG_.style.display = \"block\";\n    this.surfaceXY_ = new Blockly.utils.Coordinate(0, 0);\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.translateAndScaleGroup = function (a, b, c) {\n    this.scale_ = c;\n    a = a.toFixed(0);\n    b = b.toFixed(0);\n    this.dragGroup_.setAttribute(\"transform\", \"translate(\" + a + \",\" + b + \") scale(\" + c + \")\");\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_ = function () {\n    var a = this.surfaceXY_.x,\n        b = this.surfaceXY_.y;\n    a = a.toFixed(0);\n    b = b.toFixed(0);\n    this.SVG_.style.display = \"block\";\n    Blockly.utils.dom.setCssTransform(this.SVG_, \"translate3d(\" + a + \"px, \" + b + \"px, 0px)\");\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.translateSurface = function (a, b) {\n    this.surfaceXY_ = new Blockly.utils.Coordinate(a * this.scale_, b * this.scale_);\n    this.translateSurfaceInternal_();\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.getSurfaceTranslation = function () {\n    var a = Blockly.utils.getRelativeXY(this.SVG_);\n    return new Blockly.utils.Coordinate(a.x / this.scale_, a.y / this.scale_);\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.getGroup = function () {\n    return this.dragGroup_;\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.getCurrentBlock = function () {\n    return this.dragGroup_.firstChild;\n  };\n\n  Blockly.BlockDragSurfaceSvg.prototype.clearAndHide = function (a) {\n    a ? a.appendChild(this.getCurrentBlock()) : this.dragGroup_.removeChild(this.getCurrentBlock());\n    this.SVG_.style.display = \"none\";\n    if (this.dragGroup_.childNodes.length) throw Error(\"Drag group was not cleared.\");\n    this.surfaceXY_ = null;\n  };\n\n  Blockly.Css = {};\n  Blockly.Css.injected_ = !1;\n\n  Blockly.Css.register = function (a) {\n    if (Blockly.Css.injected_) throw Error(\"CSS already injected\");\n    Array.prototype.push.apply(Blockly.Css.CONTENT, a);\n    a.length = 0;\n  };\n\n  Blockly.Css.inject = function (a, b) {\n    if (!Blockly.Css.injected_) {\n      Blockly.Css.injected_ = !0;\n      var c = Blockly.Css.CONTENT.join(\"\\n\");\n      Blockly.Css.CONTENT.length = 0;\n      a && (a = b.replace(/[\\\\/]$/, \"\"), c = c.replace(/<<<PATH>>>/g, a), a = document.createElement(\"style\"), a.id = \"blockly-common-style\", c = document.createTextNode(c), a.appendChild(c), document.head.insertBefore(a, document.head.firstChild));\n    }\n  };\n\n  Blockly.Css.CONTENT = [\".blocklySvg {\", \"background-color: #fff;\", \"outline: none;\", \"overflow: hidden;\", \"position: absolute;\", \"display: block;\", \"}\", \".blocklyWidgetDiv {\", \"display: none;\", \"position: absolute;\", \"z-index: 99999;\", \"}\", \".injectionDiv {\", \"height: 100%;\", \"position: relative;\", \"overflow: hidden;\", \"touch-action: none;\", \"}\", \".blocklyNonSelectable {\", \"user-select: none;\", \"-ms-user-select: none;\", \"-webkit-user-select: none;\", \"}\", \".blocklyWsDragSurface {\", \"display: none;\", \"position: absolute;\", \"top: 0;\", \"left: 0;\", \"}\", \".blocklyWsDragSurface.blocklyOverflowVisible {\", \"overflow: visible;\", \"}\", \".blocklyBlockDragSurface {\", \"display: none;\", \"position: absolute;\", \"top: 0;\", \"left: 0;\", \"right: 0;\", \"bottom: 0;\", \"overflow: visible !important;\", \"z-index: 50;\", \"}\", \".blocklyBlockCanvas.blocklyCanvasTransitioning,\", \".blocklyBubbleCanvas.blocklyCanvasTransitioning {\", \"transition: transform .5s;\", \"}\", \".blocklyTooltipDiv {\", \"background-color: #ffffc7;\", \"border: 1px solid #ddc;\", \"box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\", \"color: #000;\", \"display: none;\", \"font: 9pt sans-serif;\", \"opacity: .9;\", \"padding: 2px;\", \"position: absolute;\", \"z-index: 100000;\", \"}\", \".blocklyDropDownDiv {\", \"position: absolute;\", \"left: 0;\", \"top: 0;\", \"z-index: 1000;\", \"display: none;\", \"border: 1px solid;\", \"border-color: #dadce0;\", \"background-color: #fff;\", \"border-radius: 2px;\", \"padding: 4px;\", \"box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\", \"}\", \".blocklyDropDownDiv.blocklyFocused {\", \"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\", \"}\", \".blocklyDropDownContent {\", \"max-height: 300px;\", \"overflow: auto;\", \"overflow-x: hidden;\", \"position: relative;\", \"}\", \".blocklyDropDownArrow {\", \"position: absolute;\", \"left: 0;\", \"top: 0;\", \"width: 16px;\", \"height: 16px;\", \"z-index: -1;\", \"background-color: inherit;\", \"border-color: inherit;\", \"}\", \".blocklyDropDownButton {\", \"display: inline-block;\", \"float: left;\", \"padding: 0;\", \"margin: 4px;\", \"border-radius: 4px;\", \"outline: none;\", \"border: 1px solid;\", \"transition: box-shadow .1s;\", \"cursor: pointer;\", \"}\", \".blocklyArrowTop {\", \"border-top: 1px solid;\", \"border-left: 1px solid;\", \"border-top-left-radius: 4px;\", \"border-color: inherit;\", \"}\", \".blocklyArrowBottom {\", \"border-bottom: 1px solid;\", \"border-right: 1px solid;\", \"border-bottom-right-radius: 4px;\", \"border-color: inherit;\", \"}\", \".blocklyResizeSE {\", \"cursor: se-resize;\", \"fill: #aaa;\", \"}\", \".blocklyResizeSW {\", \"cursor: sw-resize;\", \"fill: #aaa;\", \"}\", \".blocklyResizeLine {\", \"stroke: #515A5A;\", \"stroke-width: 1;\", \"}\", \".blocklyHighlightedConnectionPath {\", \"fill: none;\", \"stroke: #fc3;\", \"stroke-width: 4px;\", \"}\", \".blocklyPathLight {\", \"fill: none;\", \"stroke-linecap: round;\", \"stroke-width: 1;\", \"}\", \".blocklySelected>.blocklyPathLight {\", \"display: none;\", \"}\", \".blocklyDraggable {\", 'cursor: url(\"<<<PATH>>>/handopen.cur\"), auto;', \"cursor: grab;\", \"cursor: -webkit-grab;\", \"}\", \".blocklyDragging {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyDraggable:active {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyBlockDragSurface .blocklyDraggable {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyDragging.blocklyDraggingDelete {\", 'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;', \"}\", \".blocklyDragging>.blocklyPath,\", \".blocklyDragging>.blocklyPathLight {\", \"fill-opacity: .8;\", \"stroke-opacity: .8;\", \"}\", \".blocklyDragging>.blocklyPathDark {\", \"display: none;\", \"}\", \".blocklyDisabled>.blocklyPath {\", \"fill-opacity: .5;\", \"stroke-opacity: .5;\", \"}\", \".blocklyDisabled>.blocklyPathLight,\", \".blocklyDisabled>.blocklyPathDark {\", \"display: none;\", \"}\", \".blocklyInsertionMarker>.blocklyPath,\", \".blocklyInsertionMarker>.blocklyPathLight,\", \".blocklyInsertionMarker>.blocklyPathDark {\", \"fill-opacity: .2;\", \"stroke: none;\", \"}\", \".blocklyMultilineText {\", \"font-family: monospace;\", \"}\", \".blocklyNonEditableText>text {\", \"pointer-events: none;\", \"}\", \".blocklyFlyout {\", \"position: absolute;\", \"z-index: 20;\", \"}\", \".blocklyText text {\", \"cursor: default;\", \"}\", \".blocklySvg text,\", \".blocklyBlockDragSurface text {\", \"user-select: none;\", \"-ms-user-select: none;\", \"-webkit-user-select: none;\", \"cursor: inherit;\", \"}\", \".blocklyHidden {\", \"display: none;\", \"}\", \".blocklyFieldDropdown:not(.blocklyHidden) {\", \"display: block;\", \"}\", \".blocklyIconGroup {\", \"cursor: default;\", \"}\", \".blocklyIconGroup:not(:hover),\", \".blocklyIconGroupReadonly {\", \"opacity: .6;\", \"}\", \".blocklyIconShape {\", \"fill: #00f;\", \"stroke: #fff;\", \"stroke-width: 1px;\", \"}\", \".blocklyIconSymbol {\", \"fill: #fff;\", \"}\", \".blocklyMinimalBody {\", \"margin: 0;\", \"padding: 0;\", \"}\", \".blocklyHtmlInput {\", \"border: none;\", \"border-radius: 4px;\", \"height: 100%;\", \"margin: 0;\", \"outline: none;\", \"padding: 0;\", \"width: 100%;\", \"text-align: center;\", \"display: block;\", \"box-sizing: border-box;\", \"}\", \".blocklyHtmlInput::-ms-clear {\", \"display: none;\", \"}\", \".blocklyMainBackground {\", \"stroke-width: 1;\", \"stroke: #c6c6c6;\", \"}\", \".blocklyMutatorBackground {\", \"fill: #fff;\", \"stroke: #ddd;\", \"stroke-width: 1;\", \"}\", \".blocklyFlyoutBackground {\", \"fill: #ddd;\", \"fill-opacity: .8;\", \"}\", \".blocklyMainWorkspaceScrollbar {\", \"z-index: 20;\", \"}\", \".blocklyFlyoutScrollbar {\", \"z-index: 30;\", \"}\", \".blocklyScrollbarHorizontal,\", \".blocklyScrollbarVertical {\", \"position: absolute;\", \"outline: none;\", \"}\", \".blocklyScrollbarBackground {\", \"opacity: 0;\", \"}\", \".blocklyScrollbarHandle {\", \"fill: #ccc;\", \"}\", \".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\", \".blocklyScrollbarHandle:hover {\", \"fill: #bbb;\", \"}\", \".blocklyFlyout .blocklyScrollbarHandle {\", \"fill: #bbb;\", \"}\", \".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\", \".blocklyFlyout .blocklyScrollbarHandle:hover {\", \"fill: #aaa;\", \"}\", \".blocklyInvalidInput {\", \"background: #faa;\", \"}\", \".blocklyVerticalMarker {\", \"stroke-width: 3px;\", \"fill: rgba(255,255,255,.5);\", \"pointer-events: none;\", \"}\", \".blocklyComputeCanvas {\", \"position: absolute;\", \"width: 0;\", \"height: 0;\", \"}\", \".blocklyNoPointerEvents {\", \"pointer-events: none;\", \"}\", \".blocklyContextMenu {\", \"border-radius: 4px;\", \"max-height: 100%;\", \"}\", \".blocklyDropdownMenu {\", \"border-radius: 2px;\", \"padding: 0 !important;\", \"}\", \".blocklyDropdownMenu .blocklyMenuItem {\", \"padding-left: 28px;\", \"}\", \".blocklyDropdownMenu .blocklyMenuItemRtl {\", \"padding-left: 5px;\", \"padding-right: 28px;\", \"}\", \".blocklyWidgetDiv .blocklyMenu {\", \"background: #fff;\", \"border: 1px solid transparent;\", \"box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\", \"font: normal 13px Arial, sans-serif;\", \"margin: 0;\", \"outline: none;\", \"padding: 4px 0;\", \"position: absolute;\", \"overflow-y: auto;\", \"overflow-x: hidden;\", \"max-height: 100%;\", \"z-index: 20000;\", \"}\", \".blocklyWidgetDiv .blocklyMenu.blocklyFocused {\", \"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\", \"}\", \".blocklyDropDownDiv .blocklyMenu {\", \"background: inherit;\", \"border: inherit;\", 'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;', \"outline: none;\", \"position: relative;\", \"z-index: 20000;\", \"}\", \".blocklyMenuItem {\", \"border: none;\", \"color: #000;\", \"cursor: pointer;\", \"list-style: none;\", \"margin: 0;\", \"min-width: 7em;\", \"padding: 6px 15px;\", \"white-space: nowrap;\", \"}\", \".blocklyMenuItemDisabled {\", \"color: #ccc;\", \"cursor: inherit;\", \"}\", \".blocklyMenuItemHighlight {\", \"background-color: rgba(0,0,0,.1);\", \"}\", \".blocklyMenuItemCheckbox {\", \"height: 16px;\", \"position: absolute;\", \"width: 16px;\", \"}\", \".blocklyMenuItemSelected .blocklyMenuItemCheckbox {\", \"background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\", \"float: left;\", \"margin-left: -24px;\", \"position: static;\", \"}\", \".blocklyMenuItemRtl .blocklyMenuItemCheckbox {\", \"float: right;\", \"margin-right: -24px;\", \"}\"];\n  Blockly.utils.math = {};\n\n  Blockly.utils.math.toRadians = function (a) {\n    return a * Math.PI / 180;\n  };\n\n  Blockly.utils.math.toDegrees = function (a) {\n    return 180 * a / Math.PI;\n  };\n\n  Blockly.utils.math.clamp = function (a, b, c) {\n    if (c < a) {\n      var d = c;\n      c = a;\n      a = d;\n    }\n\n    return Math.max(a, Math.min(b, c));\n  };\n\n  Blockly.DropDownDiv = function () {};\n\n  Blockly.DropDownDiv.boundsElement_ = null;\n  Blockly.DropDownDiv.owner_ = null;\n  Blockly.DropDownDiv.positionToField_ = null;\n  Blockly.DropDownDiv.ARROW_SIZE = 16;\n  Blockly.DropDownDiv.BORDER_SIZE = 1;\n  Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING = 12;\n  Blockly.DropDownDiv.PADDING_Y = 16;\n  Blockly.DropDownDiv.ANIMATION_TIME = .25;\n  Blockly.DropDownDiv.animateOutTimer_ = null;\n  Blockly.DropDownDiv.onHide_ = null;\n  Blockly.DropDownDiv.rendererClassName_ = \"\";\n  Blockly.DropDownDiv.themeClassName_ = \"\";\n\n  Blockly.DropDownDiv.createDom = function () {\n    if (!Blockly.DropDownDiv.DIV_) {\n      var a = document.createElement(\"div\");\n      a.className = \"blocklyDropDownDiv\";\n      (Blockly.parentContainer || document.body).appendChild(a);\n      Blockly.DropDownDiv.DIV_ = a;\n      var b = document.createElement(\"div\");\n      b.className = \"blocklyDropDownContent\";\n      a.appendChild(b);\n      Blockly.DropDownDiv.content_ = b;\n      b = document.createElement(\"div\");\n      b.className = \"blocklyDropDownArrow\";\n      a.appendChild(b);\n      Blockly.DropDownDiv.arrow_ = b;\n      Blockly.DropDownDiv.DIV_.style.opacity = 0;\n      Blockly.DropDownDiv.DIV_.style.transition = \"transform \" + Blockly.DropDownDiv.ANIMATION_TIME + \"s, opacity \" + Blockly.DropDownDiv.ANIMATION_TIME + \"s\";\n      a.addEventListener(\"focusin\", function () {\n        Blockly.utils.dom.addClass(a, \"blocklyFocused\");\n      });\n      a.addEventListener(\"focusout\", function () {\n        Blockly.utils.dom.removeClass(a, \"blocklyFocused\");\n      });\n    }\n  };\n\n  Blockly.DropDownDiv.setBoundsElement = function (a) {\n    Blockly.DropDownDiv.boundsElement_ = a;\n  };\n\n  Blockly.DropDownDiv.getContentDiv = function () {\n    return Blockly.DropDownDiv.content_;\n  };\n\n  Blockly.DropDownDiv.clearContent = function () {\n    Blockly.DropDownDiv.content_.textContent = \"\";\n    Blockly.DropDownDiv.content_.style.width = \"\";\n  };\n\n  Blockly.DropDownDiv.setColour = function (a, b) {\n    Blockly.DropDownDiv.DIV_.style.backgroundColor = a;\n    Blockly.DropDownDiv.DIV_.style.borderColor = b;\n  };\n\n  Blockly.DropDownDiv.showPositionedByBlock = function (a, b, c, d) {\n    return Blockly.DropDownDiv.showPositionedByRect_(Blockly.DropDownDiv.getScaledBboxOfBlock_(b), a, c, d);\n  };\n\n  Blockly.DropDownDiv.showPositionedByField = function (a, b, c) {\n    Blockly.DropDownDiv.positionToField_ = !0;\n    return Blockly.DropDownDiv.showPositionedByRect_(Blockly.DropDownDiv.getScaledBboxOfField_(a), a, b, c);\n  };\n\n  Blockly.DropDownDiv.getScaledBboxOfBlock_ = function (a) {\n    var b = a.getSvgRoot(),\n        c = b.getBBox(),\n        d = a.workspace.scale;\n    a = c.height * d;\n    c = c.width * d;\n    b = Blockly.utils.style.getPageOffset(b);\n    return new Blockly.utils.Rect(b.y, b.y + a, b.x, b.x + c);\n  };\n\n  Blockly.DropDownDiv.getScaledBboxOfField_ = function (a) {\n    a = a.getScaledBBox();\n    return new Blockly.utils.Rect(a.top, a.bottom, a.left, a.right);\n  };\n\n  Blockly.DropDownDiv.showPositionedByRect_ = function (a, b, c, d) {\n    var e = a.left + (a.right - a.left) / 2,\n        f = a.bottom;\n    a = a.top;\n    d && (a += d);\n    d = b.getSourceBlock();\n\n    for (var g = d.workspace; g.options.parentWorkspace;) {\n      g = g.options.parentWorkspace;\n    }\n\n    Blockly.DropDownDiv.setBoundsElement(g.getParentSvg().parentNode);\n    return Blockly.DropDownDiv.show(b, d.RTL, e, f, e, a, c);\n  };\n\n  Blockly.DropDownDiv.show = function (a, b, c, d, e, f, g) {\n    Blockly.DropDownDiv.owner_ = a;\n    Blockly.DropDownDiv.onHide_ = g || null;\n    a = Blockly.DropDownDiv.DIV_;\n    a.style.direction = b ? \"rtl\" : \"ltr\";\n    b = Blockly.getMainWorkspace();\n    Blockly.DropDownDiv.rendererClassName_ = b.getRenderer().getClassName();\n    Blockly.DropDownDiv.themeClassName_ = b.getTheme().getClassName();\n    Blockly.utils.dom.addClass(a, Blockly.DropDownDiv.rendererClassName_);\n    Blockly.utils.dom.addClass(a, Blockly.DropDownDiv.themeClassName_);\n    return Blockly.DropDownDiv.positionInternal_(c, d, e, f);\n  };\n\n  Blockly.DropDownDiv.getBoundsInfo_ = function () {\n    var a = Blockly.utils.style.getPageOffset(Blockly.DropDownDiv.boundsElement_),\n        b = Blockly.utils.style.getSize(Blockly.DropDownDiv.boundsElement_);\n    return {\n      left: a.x,\n      right: a.x + b.width,\n      top: a.y,\n      bottom: a.y + b.height,\n      width: b.width,\n      height: b.height\n    };\n  };\n\n  Blockly.DropDownDiv.getPositionMetrics_ = function (a, b, c, d) {\n    var e = Blockly.DropDownDiv.getBoundsInfo_(),\n        f = Blockly.utils.style.getSize(Blockly.DropDownDiv.DIV_);\n    return b + f.height < e.bottom ? Blockly.DropDownDiv.getPositionBelowMetrics_(a, b, e, f) : d - f.height > e.top ? Blockly.DropDownDiv.getPositionAboveMetrics_(c, d, e, f) : b + f.height < document.documentElement.clientHeight ? Blockly.DropDownDiv.getPositionBelowMetrics_(a, b, e, f) : d - f.height > document.documentElement.clientTop ? Blockly.DropDownDiv.getPositionAboveMetrics_(c, d, e, f) : Blockly.DropDownDiv.getPositionTopOfPageMetrics_(a, e, f);\n  };\n\n  Blockly.DropDownDiv.getPositionBelowMetrics_ = function (a, b, c, d) {\n    a = Blockly.DropDownDiv.getPositionX(a, c.left, c.right, d.width);\n    return {\n      initialX: a.divX,\n      initialY: b,\n      finalX: a.divX,\n      finalY: b + Blockly.DropDownDiv.PADDING_Y,\n      arrowX: a.arrowX,\n      arrowY: -(Blockly.DropDownDiv.ARROW_SIZE / 2 + Blockly.DropDownDiv.BORDER_SIZE),\n      arrowAtTop: !0,\n      arrowVisible: !0\n    };\n  };\n\n  Blockly.DropDownDiv.getPositionAboveMetrics_ = function (a, b, c, d) {\n    a = Blockly.DropDownDiv.getPositionX(a, c.left, c.right, d.width);\n    return {\n      initialX: a.divX,\n      initialY: b - d.height,\n      finalX: a.divX,\n      finalY: b - d.height - Blockly.DropDownDiv.PADDING_Y,\n      arrowX: a.arrowX,\n      arrowY: d.height - 2 * Blockly.DropDownDiv.BORDER_SIZE - Blockly.DropDownDiv.ARROW_SIZE / 2,\n      arrowAtTop: !1,\n      arrowVisible: !0\n    };\n  };\n\n  Blockly.DropDownDiv.getPositionTopOfPageMetrics_ = function (a, b, c) {\n    a = Blockly.DropDownDiv.getPositionX(a, b.left, b.right, c.width);\n    return {\n      initialX: a.divX,\n      initialY: 0,\n      finalX: a.divX,\n      finalY: 0,\n      arrowAtTop: null,\n      arrowX: null,\n      arrowY: null,\n      arrowVisible: !1\n    };\n  };\n\n  Blockly.DropDownDiv.getPositionX = function (a, b, c, d) {\n    var e = a;\n    a = Blockly.utils.math.clamp(b, a - d / 2, c - d);\n    e -= Blockly.DropDownDiv.ARROW_SIZE / 2;\n    b = Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING;\n    d = Blockly.utils.math.clamp(b, e - a, d - b - Blockly.DropDownDiv.ARROW_SIZE);\n    return {\n      arrowX: d,\n      divX: a\n    };\n  };\n\n  Blockly.DropDownDiv.isVisible = function () {\n    return !!Blockly.DropDownDiv.owner_;\n  };\n\n  Blockly.DropDownDiv.hideIfOwner = function (a, b) {\n    return Blockly.DropDownDiv.owner_ === a ? (b ? Blockly.DropDownDiv.hideWithoutAnimation() : Blockly.DropDownDiv.hide(), !0) : !1;\n  };\n\n  Blockly.DropDownDiv.hide = function () {\n    var a = Blockly.DropDownDiv.DIV_;\n    a.style.transform = \"translate(0, 0)\";\n    a.style.opacity = 0;\n    Blockly.DropDownDiv.animateOutTimer_ = setTimeout(function () {\n      Blockly.DropDownDiv.hideWithoutAnimation();\n    }, 1E3 * Blockly.DropDownDiv.ANIMATION_TIME);\n    Blockly.DropDownDiv.onHide_ && (Blockly.DropDownDiv.onHide_(), Blockly.DropDownDiv.onHide_ = null);\n  };\n\n  Blockly.DropDownDiv.hideWithoutAnimation = function () {\n    if (Blockly.DropDownDiv.isVisible()) {\n      Blockly.DropDownDiv.animateOutTimer_ && clearTimeout(Blockly.DropDownDiv.animateOutTimer_);\n      var a = Blockly.DropDownDiv.DIV_;\n      a.style.transform = \"\";\n      a.style.left = \"\";\n      a.style.top = \"\";\n      a.style.opacity = 0;\n      a.style.display = \"none\";\n      a.style.backgroundColor = \"\";\n      a.style.borderColor = \"\";\n      Blockly.DropDownDiv.onHide_ && (Blockly.DropDownDiv.onHide_(), Blockly.DropDownDiv.onHide_ = null);\n      Blockly.DropDownDiv.clearContent();\n      Blockly.DropDownDiv.owner_ = null;\n      Blockly.DropDownDiv.rendererClassName_ && (Blockly.utils.dom.removeClass(a, Blockly.DropDownDiv.rendererClassName_), Blockly.DropDownDiv.rendererClassName_ = \"\");\n      Blockly.DropDownDiv.themeClassName_ && (Blockly.utils.dom.removeClass(a, Blockly.DropDownDiv.themeClassName_), Blockly.DropDownDiv.themeClassName_ = \"\");\n      Blockly.getMainWorkspace().markFocused();\n    }\n  };\n\n  Blockly.DropDownDiv.positionInternal_ = function (a, b, c, d) {\n    a = Blockly.DropDownDiv.getPositionMetrics_(a, b, c, d);\n    a.arrowVisible ? (Blockly.DropDownDiv.arrow_.style.display = \"\", Blockly.DropDownDiv.arrow_.style.transform = \"translate(\" + a.arrowX + \"px,\" + a.arrowY + \"px) rotate(45deg)\", Blockly.DropDownDiv.arrow_.setAttribute(\"class\", a.arrowAtTop ? \"blocklyDropDownArrow blocklyArrowTop\" : \"blocklyDropDownArrow blocklyArrowBottom\")) : Blockly.DropDownDiv.arrow_.style.display = \"none\";\n    b = Math.floor(a.initialX);\n    c = Math.floor(a.initialY);\n    d = Math.floor(a.finalX);\n    var e = Math.floor(a.finalY),\n        f = Blockly.DropDownDiv.DIV_;\n    f.style.left = b + \"px\";\n    f.style.top = c + \"px\";\n    f.style.display = \"block\";\n    f.style.opacity = 1;\n    f.style.transform = \"translate(\" + (d - b) + \"px,\" + (e - c) + \"px)\";\n    return !!a.arrowAtTop;\n  };\n\n  Blockly.DropDownDiv.repositionForWindowResize = function () {\n    if (Blockly.DropDownDiv.owner_) {\n      var a = Blockly.DropDownDiv.owner_,\n          b = a.getSourceBlock();\n      a = Blockly.DropDownDiv.positionToField_ ? Blockly.DropDownDiv.getScaledBboxOfField_(a) : Blockly.DropDownDiv.getScaledBboxOfBlock_(b);\n      b = a.left + (a.right - a.left) / 2;\n      Blockly.DropDownDiv.positionInternal_(b, a.bottom, b, a.top);\n    } else Blockly.DropDownDiv.hide();\n  };\n\n  Blockly.Grid = function (a, b) {\n    this.gridPattern_ = a;\n    this.spacing_ = b.spacing;\n    this.length_ = b.length;\n    this.line2_ = (this.line1_ = a.firstChild) && this.line1_.nextSibling;\n    this.snapToGrid_ = b.snap;\n  };\n\n  Blockly.Grid.prototype.scale_ = 1;\n\n  Blockly.Grid.prototype.dispose = function () {\n    this.gridPattern_ = null;\n  };\n\n  Blockly.Grid.prototype.shouldSnap = function () {\n    return this.snapToGrid_;\n  };\n\n  Blockly.Grid.prototype.getSpacing = function () {\n    return this.spacing_;\n  };\n\n  Blockly.Grid.prototype.getPatternId = function () {\n    return this.gridPattern_.id;\n  };\n\n  Blockly.Grid.prototype.update = function (a) {\n    this.scale_ = a;\n    var b = this.spacing_ * a || 100;\n    this.gridPattern_.setAttribute(\"width\", b);\n    this.gridPattern_.setAttribute(\"height\", b);\n    b = Math.floor(this.spacing_ / 2) + .5;\n    var c = b - this.length_ / 2,\n        d = b + this.length_ / 2;\n    b *= a;\n    c *= a;\n    d *= a;\n    this.setLineAttributes_(this.line1_, a, c, d, b, b);\n    this.setLineAttributes_(this.line2_, a, b, b, c, d);\n  };\n\n  Blockly.Grid.prototype.setLineAttributes_ = function (a, b, c, d, e, f) {\n    a && (a.setAttribute(\"stroke-width\", b), a.setAttribute(\"x1\", c), a.setAttribute(\"y1\", e), a.setAttribute(\"x2\", d), a.setAttribute(\"y2\", f));\n  };\n\n  Blockly.Grid.prototype.moveTo = function (a, b) {\n    this.gridPattern_.setAttribute(\"x\", a);\n    this.gridPattern_.setAttribute(\"y\", b);\n    (Blockly.utils.userAgent.IE || Blockly.utils.userAgent.EDGE) && this.update(this.scale_);\n  };\n\n  Blockly.Grid.createDom = function (a, b, c) {\n    a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATTERN, {\n      id: \"blocklyGridPattern\" + a,\n      patternUnits: \"userSpaceOnUse\"\n    }, c);\n    0 < b.length && 0 < b.spacing ? (Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.LINE, {\n      stroke: b.colour\n    }, a), 1 < b.length && Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.LINE, {\n      stroke: b.colour\n    }, a)) : Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.LINE, {}, a);\n    return a;\n  };\n\n  Blockly.Theme = function (a, b, c, d) {\n    this.name = a;\n    this.blockStyles = b || Object.create(null);\n    this.categoryStyles = c || Object.create(null);\n    this.componentStyles = d || Object.create(null);\n    this.fontStyle = Object.create(null);\n    this.startHats = null;\n    Blockly.registry.register(Blockly.registry.Type.THEME, a, this);\n  };\n\n  Blockly.Theme.prototype.getClassName = function () {\n    return this.name + \"-theme\";\n  };\n\n  Blockly.Theme.prototype.setBlockStyle = function (a, b) {\n    this.blockStyles[a] = b;\n  };\n\n  Blockly.Theme.prototype.setCategoryStyle = function (a, b) {\n    this.categoryStyles[a] = b;\n  };\n\n  Blockly.Theme.prototype.getComponentStyle = function (a) {\n    return (a = this.componentStyles[a]) && \"string\" == typeof a && this.getComponentStyle(a) ? this.getComponentStyle(a) : a ? String(a) : null;\n  };\n\n  Blockly.Theme.prototype.setComponentStyle = function (a, b) {\n    this.componentStyles[a] = b;\n  };\n\n  Blockly.Theme.prototype.setFontStyle = function (a) {\n    this.fontStyle = a;\n  };\n\n  Blockly.Theme.prototype.setStartHats = function (a) {\n    this.startHats = a;\n  };\n\n  Blockly.Theme.defineTheme = function (a, b) {\n    var c = new Blockly.Theme(a),\n        d = b.base;\n    d && (\"string\" == typeof d && (d = Blockly.registry.getObject(Blockly.registry.Type.THEME, d)), d instanceof Blockly.Theme && (Blockly.utils.object.deepMerge(c, d), c.name = a));\n    Blockly.utils.object.deepMerge(c.blockStyles, b.blockStyles);\n    Blockly.utils.object.deepMerge(c.categoryStyles, b.categoryStyles);\n    Blockly.utils.object.deepMerge(c.componentStyles, b.componentStyles);\n    Blockly.utils.object.deepMerge(c.fontStyle, b.fontStyle);\n    null != b.startHats && (c.startHats = b.startHats);\n    return c;\n  };\n\n  Blockly.Themes = {};\n  Blockly.Themes.Classic = {};\n  Blockly.Themes.Classic.defaultBlockStyles = {\n    colour_blocks: {\n      colourPrimary: \"20\"\n    },\n    list_blocks: {\n      colourPrimary: \"260\"\n    },\n    logic_blocks: {\n      colourPrimary: \"210\"\n    },\n    loop_blocks: {\n      colourPrimary: \"120\"\n    },\n    math_blocks: {\n      colourPrimary: \"230\"\n    },\n    procedure_blocks: {\n      colourPrimary: \"290\"\n    },\n    text_blocks: {\n      colourPrimary: \"160\"\n    },\n    variable_blocks: {\n      colourPrimary: \"330\"\n    },\n    variable_dynamic_blocks: {\n      colourPrimary: \"310\"\n    },\n    hat_blocks: {\n      colourPrimary: \"330\",\n      hat: \"cap\"\n    }\n  };\n  Blockly.Themes.Classic.categoryStyles = {\n    colour_category: {\n      colour: \"20\"\n    },\n    list_category: {\n      colour: \"260\"\n    },\n    logic_category: {\n      colour: \"210\"\n    },\n    loop_category: {\n      colour: \"120\"\n    },\n    math_category: {\n      colour: \"230\"\n    },\n    procedure_category: {\n      colour: \"290\"\n    },\n    text_category: {\n      colour: \"160\"\n    },\n    variable_category: {\n      colour: \"330\"\n    },\n    variable_dynamic_category: {\n      colour: \"310\"\n    }\n  };\n  Blockly.Themes.Classic = new Blockly.Theme(\"classic\", Blockly.Themes.Classic.defaultBlockStyles, Blockly.Themes.Classic.categoryStyles);\n  Blockly.utils.IdGenerator = {};\n  Blockly.utils.IdGenerator.nextId_ = 0;\n\n  Blockly.utils.IdGenerator.getNextUniqueId = function () {\n    return \"blockly-\" + (Blockly.utils.IdGenerator.nextId_++).toString(36);\n  };\n\n  Blockly.utils.Metrics = function () {};\n\n  Blockly.utils.toolbox = {};\n  Blockly.utils.toolbox.CATEGORY_TOOLBOX_KIND = \"categoryToolbox\";\n  Blockly.utils.toolbox.FLYOUT_TOOLBOX_KIND = \"flyoutToolbox\";\n  Blockly.utils.toolbox.Position = {\n    TOP: 0,\n    BOTTOM: 1,\n    LEFT: 2,\n    RIGHT: 3\n  };\n\n  Blockly.utils.toolbox.convertToolboxDefToJson = function (a) {\n    if (!a) return null;\n    if (a instanceof Element || \"string\" == typeof a) a = Blockly.utils.toolbox.parseToolboxTree(a), a = Blockly.utils.toolbox.convertToToolboxJson_(a);\n    Blockly.utils.toolbox.validateToolbox_(a);\n    return a;\n  };\n\n  Blockly.utils.toolbox.validateToolbox_ = function (a) {\n    var b = a.kind;\n    a = a.contents;\n    if (b && b != Blockly.utils.toolbox.FLYOUT_TOOLBOX_KIND && b != Blockly.utils.toolbox.CATEGORY_TOOLBOX_KIND) throw Error(\"Invalid toolbox kind \" + b + \". Please supply either \" + Blockly.utils.toolbox.FLYOUT_TOOLBOX_KIND + \" or \" + Blockly.utils.toolbox.CATEGORY_TOOLBOX_KIND);\n    if (!a) throw Error(\"Toolbox must have a contents attribute.\");\n  };\n\n  Blockly.utils.toolbox.convertFlyoutDefToJsonArray = function (a) {\n    return a ? a.contents ? a.contents : Array.isArray(a) && 0 < a.length && !a[0].nodeType ? a : Blockly.utils.toolbox.xmlToJsonArray_(a) : [];\n  };\n\n  Blockly.utils.toolbox.hasCategories = function (a) {\n    if (!a) return !1;\n    var b = a.kind;\n    return b ? b == Blockly.utils.toolbox.CATEGORY_TOOLBOX_KIND : !!a.contents.filter(function (c) {\n      return \"CATEGORY\" == c.kind.toUpperCase();\n    }).length;\n  };\n\n  Blockly.utils.toolbox.isCategoryCollapsible = function (a) {\n    return a && a.contents ? !!a.contents.filter(function (b) {\n      return \"CATEGORY\" == b.kind.toUpperCase();\n    }).length : !1;\n  };\n\n  Blockly.utils.toolbox.convertToToolboxJson_ = function (a) {\n    var b = {\n      contents: Blockly.utils.toolbox.xmlToJsonArray_(a)\n    };\n    a instanceof Node && Blockly.utils.toolbox.addAttributes_(a, b);\n    return b;\n  };\n\n  Blockly.utils.toolbox.xmlToJsonArray_ = function (a) {\n    var b = [],\n        c = a.childNodes;\n    c || (c = a);\n    a = 0;\n\n    for (var d; d = c[a]; a++) {\n      if (d.tagName) {\n        var e = {},\n            f = d.tagName.toUpperCase();\n        e.kind = f;\n        \"BLOCK\" == f ? e.blockxml = d : d.childNodes && 0 < d.childNodes.length && (e.contents = Blockly.utils.toolbox.xmlToJsonArray_(d));\n        Blockly.utils.toolbox.addAttributes_(d, e);\n        b.push(e);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.utils.toolbox.addAttributes_ = function (a, b) {\n    for (var c = 0; c < a.attributes.length; c++) {\n      var d = a.attributes[c];\n      -1 < d.nodeName.indexOf(\"css-\") ? (b.cssconfig = b.cssconfig || {}, b.cssconfig[d.nodeName.replace(\"css-\", \"\")] = d.value) : b[d.nodeName] = d.value;\n    }\n  };\n\n  Blockly.utils.toolbox.parseToolboxTree = function (a) {\n    if (a) {\n      if (\"string\" != typeof a && (Blockly.utils.userAgent.IE && a.outerHTML ? a = a.outerHTML : a instanceof Element || (a = null)), \"string\" == typeof a && (a = Blockly.Xml.textToDom(a), \"xml\" != a.nodeName.toLowerCase())) throw TypeError(\"Toolbox should be an <xml> document.\");\n    } else a = null;\n\n    return a;\n  };\n\n  Blockly.Options = function (a) {\n    var b = !!a.readOnly;\n    if (b) var c = null,\n        d = !1,\n        e = !1,\n        f = !1,\n        g = !1,\n        h = !1,\n        k = !1;else {\n      c = Blockly.utils.toolbox.convertToolboxDefToJson(a.toolbox);\n      d = Blockly.utils.toolbox.hasCategories(c);\n      e = a.trashcan;\n      void 0 === e && (e = d);\n      var l = a.maxTrashcanContents;\n      e ? void 0 === l && (l = 32) : l = 0;\n      f = a.collapse;\n      void 0 === f && (f = d);\n      g = a.comments;\n      void 0 === g && (g = d);\n      h = a.disable;\n      void 0 === h && (h = d);\n      k = a.sounds;\n      void 0 === k && (k = !0);\n    }\n    var m = !!a.rtl,\n        n = a.horizontalLayout;\n    void 0 === n && (n = !1);\n    var p = a.toolboxPosition;\n    p = \"end\" !== p;\n    p = n ? p ? Blockly.utils.toolbox.Position.TOP : Blockly.utils.toolbox.Position.BOTTOM : p == m ? Blockly.utils.toolbox.Position.RIGHT : Blockly.utils.toolbox.Position.LEFT;\n    var q = a.css;\n    void 0 === q && (q = !0);\n    var t = \"https://blockly-demo.appspot.com/static/media/\";\n    a.media ? t = a.media : a.path && (t = a.path + \"media/\");\n    var r = void 0 === a.oneBasedIndex ? !0 : !!a.oneBasedIndex,\n        u = a.renderer || \"geras\",\n        v = a.plugins || {};\n    this.RTL = m;\n    this.oneBasedIndex = r;\n    this.collapse = f;\n    this.comments = g;\n    this.disable = h;\n    this.readOnly = b;\n    this.maxBlocks = a.maxBlocks || Infinity;\n    this.maxInstances = a.maxInstances;\n    this.pathToMedia = t;\n    this.hasCategories = d;\n    this.moveOptions = Blockly.Options.parseMoveOptions_(a, d);\n    this.hasScrollbars = !!this.moveOptions.scrollbars;\n    this.hasTrashcan = e;\n    this.maxTrashcanContents = l;\n    this.hasSounds = k;\n    this.hasCss = q;\n    this.horizontalLayout = n;\n    this.languageTree = c;\n    this.gridOptions = Blockly.Options.parseGridOptions_(a);\n    this.zoomOptions = Blockly.Options.parseZoomOptions_(a);\n    this.toolboxPosition = p;\n    this.theme = Blockly.Options.parseThemeOptions_(a);\n    this.renderer = u;\n    this.rendererOverrides = a.rendererOverrides;\n    this.gridPattern = null;\n    this.parentWorkspace = a.parentWorkspace;\n    this.plugins = v;\n  };\n\n  Blockly.BlocklyOptions = function () {};\n\n  Blockly.Options.parseMoveOptions_ = function (a, b) {\n    var c = a.move || {},\n        d = {};\n    void 0 === c.scrollbars && void 0 === a.scrollbars ? d.scrollbars = b : \"object\" == typeof c.scrollbars ? (d.scrollbars = {}, d.scrollbars.horizontal = !!c.scrollbars.horizontal, d.scrollbars.vertical = !!c.scrollbars.vertical, d.scrollbars.horizontal && d.scrollbars.vertical ? d.scrollbars = !0 : d.scrollbars.horizontal || d.scrollbars.vertical || (d.scrollbars = !1)) : d.scrollbars = !!c.scrollbars || !!a.scrollbars;\n    d.wheel = d.scrollbars && void 0 !== c.wheel ? !!c.wheel : \"object\" == typeof d.scrollbars;\n    d.drag = d.scrollbars ? void 0 === c.drag ? !0 : !!c.drag : !1;\n    return d;\n  };\n\n  Blockly.Options.parseZoomOptions_ = function (a) {\n    a = a.zoom || {};\n    var b = {};\n    b.controls = void 0 === a.controls ? !1 : !!a.controls;\n    b.wheel = void 0 === a.wheel ? !1 : !!a.wheel;\n    b.startScale = void 0 === a.startScale ? 1 : Number(a.startScale);\n    b.maxScale = void 0 === a.maxScale ? 3 : Number(a.maxScale);\n    b.minScale = void 0 === a.minScale ? .3 : Number(a.minScale);\n    b.scaleSpeed = void 0 === a.scaleSpeed ? 1.2 : Number(a.scaleSpeed);\n    b.pinch = void 0 === a.pinch ? b.wheel || b.controls : !!a.pinch;\n    return b;\n  };\n\n  Blockly.Options.parseGridOptions_ = function (a) {\n    a = a.grid || {};\n    var b = {};\n    b.spacing = Number(a.spacing) || 0;\n    b.colour = a.colour || \"#888\";\n    b.length = void 0 === a.length ? 1 : Number(a.length);\n    b.snap = 0 < b.spacing && !!a.snap;\n    return b;\n  };\n\n  Blockly.Options.parseThemeOptions_ = function (a) {\n    a = a.theme || Blockly.Themes.Classic;\n    return \"string\" == typeof a ? Blockly.registry.getObject(Blockly.registry.Type.THEME, a) : a instanceof Blockly.Theme ? a : Blockly.Theme.defineTheme(a.name || \"builtin\" + Blockly.utils.IdGenerator.getNextUniqueId(), a);\n  };\n\n  Blockly.Options.parseToolboxTree = function (a) {\n    Blockly.utils.deprecation.warn(\"Blockly.Options.parseToolboxTree\", \"September 2020\", \"September 2021\", \"Blockly.utils.toolbox.parseToolboxTree\");\n    return Blockly.utils.toolbox.parseToolboxTree(a);\n  };\n\n  Blockly.ScrollbarPair = function (a, b, c, d) {\n    this.workspace_ = a;\n    b = void 0 === b ? !0 : b;\n    c = void 0 === c ? !0 : c;\n    var e = b && c;\n    b && (this.hScroll = new Blockly.Scrollbar(a, !0, e, d));\n    c && (this.vScroll = new Blockly.Scrollbar(a, !1, e, d));\n    e && (this.corner_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      height: Blockly.Scrollbar.scrollbarThickness,\n      width: Blockly.Scrollbar.scrollbarThickness,\n      \"class\": \"blocklyScrollbarBackground\"\n    }, null), Blockly.utils.dom.insertAfter(this.corner_, a.getBubbleCanvas()));\n    this.oldHostMetrics_ = null;\n  };\n\n  Blockly.ScrollbarPair.prototype.dispose = function () {\n    Blockly.utils.dom.removeNode(this.corner_);\n    this.oldHostMetrics_ = this.workspace_ = this.corner_ = null;\n    this.hScroll && (this.hScroll.dispose(), this.hScroll = null);\n    this.vScroll && (this.vScroll.dispose(), this.vScroll = null);\n  };\n\n  Blockly.ScrollbarPair.prototype.resize = function () {\n    var a = this.workspace_.getMetrics();\n\n    if (a) {\n      var b = !1,\n          c = !1;\n      this.oldHostMetrics_ && this.oldHostMetrics_.viewWidth == a.viewWidth && this.oldHostMetrics_.viewHeight == a.viewHeight && this.oldHostMetrics_.absoluteTop == a.absoluteTop && this.oldHostMetrics_.absoluteLeft == a.absoluteLeft ? (this.oldHostMetrics_ && this.oldHostMetrics_.scrollWidth == a.scrollWidth && this.oldHostMetrics_.viewLeft == a.viewLeft && this.oldHostMetrics_.scrollLeft == a.scrollLeft || (b = !0), this.oldHostMetrics_ && this.oldHostMetrics_.scrollHeight == a.scrollHeight && this.oldHostMetrics_.viewTop == a.viewTop && this.oldHostMetrics_.scrollTop == a.scrollTop || (c = !0)) : c = b = !0;\n\n      if (b || c) {\n        try {\n          Blockly.Events.disable(), this.hScroll && b && this.hScroll.resize(a), this.vScroll && c && this.vScroll.resize(a);\n        } finally {\n          Blockly.Events.enable();\n        }\n\n        this.workspace_.maybeFireViewportChangeEvent();\n      }\n\n      this.hScroll && this.vScroll && (this.oldHostMetrics_ && this.oldHostMetrics_.viewWidth == a.viewWidth && this.oldHostMetrics_.absoluteLeft == a.absoluteLeft || this.corner_.setAttribute(\"x\", this.vScroll.position.x), this.oldHostMetrics_ && this.oldHostMetrics_.viewHeight == a.viewHeight && this.oldHostMetrics_.absoluteTop == a.absoluteTop || this.corner_.setAttribute(\"y\", this.hScroll.position.y));\n      this.oldHostMetrics_ = a;\n    }\n  };\n\n  Blockly.ScrollbarPair.prototype.canScrollHorizontally = function () {\n    return !!this.hScroll;\n  };\n\n  Blockly.ScrollbarPair.prototype.canScrollVertically = function () {\n    return !!this.vScroll;\n  };\n\n  Blockly.ScrollbarPair.prototype.setOrigin = function (a, b) {\n    this.hScroll && this.hScroll.setOrigin(a, b);\n    this.vScroll && this.vScroll.setOrigin(a, b);\n  };\n\n  Blockly.ScrollbarPair.prototype.set = function (a, b, c) {\n    this.hScroll && this.hScroll.set(a, !1);\n    this.vScroll && this.vScroll.set(b, !1);\n    if (c || void 0 === c) a = {}, this.hScroll && (a.x = this.hScroll.getRatio_()), this.vScroll && (a.y = this.vScroll.getRatio_()), this.workspace_.setMetrics(a);\n  };\n\n  Blockly.ScrollbarPair.prototype.setX = function (a) {\n    this.hScroll && this.hScroll.set(a, !0);\n  };\n\n  Blockly.ScrollbarPair.prototype.setY = function (a) {\n    this.vScroll && this.vScroll.set(a, !0);\n  };\n\n  Blockly.ScrollbarPair.prototype.setContainerVisible = function (a) {\n    this.hScroll && this.hScroll.setContainerVisible(a);\n    this.vScroll && this.vScroll.setContainerVisible(a);\n  };\n\n  Blockly.ScrollbarPair.prototype.isVisible = function () {\n    var a = !1;\n    this.hScroll && (a = this.hScroll.isVisible());\n    this.vScroll && (a = a || this.vScroll.isVisible());\n    return a;\n  };\n\n  Blockly.ScrollbarPair.prototype.resizeContent = function (a) {\n    this.hScroll && this.hScroll.resizeContentHorizontal(a);\n    this.vScroll && this.vScroll.resizeContentVertical(a);\n  };\n\n  Blockly.ScrollbarPair.prototype.resizeView = function (a) {\n    this.hScroll && this.hScroll.resizeViewHorizontal(a);\n    this.vScroll && this.vScroll.resizeViewVertical(a);\n  };\n\n  Blockly.Scrollbar = function (a, b, c, d) {\n    this.workspace_ = a;\n    this.pair_ = c || !1;\n    this.horizontal_ = b;\n    this.ratio = this.oldHostMetrics_ = null;\n    this.createDom_(d);\n    this.position = new Blockly.utils.Coordinate(0, 0);\n    a = Blockly.Scrollbar.scrollbarThickness;\n    b ? (this.svgBackground_.setAttribute(\"height\", a), this.outerSvg_.setAttribute(\"height\", a), this.svgHandle_.setAttribute(\"height\", a - 5), this.svgHandle_.setAttribute(\"y\", 2.5), this.lengthAttribute_ = \"width\", this.positionAttribute_ = \"x\") : (this.svgBackground_.setAttribute(\"width\", a), this.outerSvg_.setAttribute(\"width\", a), this.svgHandle_.setAttribute(\"width\", a - 5), this.svgHandle_.setAttribute(\"x\", 2.5), this.lengthAttribute_ = \"height\", this.positionAttribute_ = \"y\");\n    this.onMouseDownBarWrapper_ = Blockly.browserEvents.conditionalBind(this.svgBackground_, \"mousedown\", this, this.onMouseDownBar_);\n    this.onMouseDownHandleWrapper_ = Blockly.browserEvents.conditionalBind(this.svgHandle_, \"mousedown\", this, this.onMouseDownHandle_);\n  };\n\n  Blockly.Scrollbar.prototype.origin_ = new Blockly.utils.Coordinate(0, 0);\n  Blockly.Scrollbar.prototype.startDragMouse_ = 0;\n  Blockly.Scrollbar.prototype.scrollbarLength_ = 0;\n  Blockly.Scrollbar.prototype.handleLength_ = 0;\n  Blockly.Scrollbar.prototype.handlePosition_ = 0;\n  Blockly.Scrollbar.prototype.isVisible_ = !0;\n  Blockly.Scrollbar.prototype.containerVisible_ = !0;\n  Blockly.Scrollbar.scrollbarThickness = 15;\n  Blockly.Touch.TOUCH_ENABLED && (Blockly.Scrollbar.scrollbarThickness = 25);\n  Blockly.Scrollbar.SCROLLBAR_MARGIN = .5;\n\n  Blockly.Scrollbar.metricsAreEquivalent_ = function (a, b) {\n    return a && b && a.viewWidth == b.viewWidth && a.viewHeight == b.viewHeight && a.viewLeft == b.viewLeft && a.viewTop == b.viewTop && a.absoluteTop == b.absoluteTop && a.absoluteLeft == b.absoluteLeft && a.scrollWidth == b.scrollWidth && a.scrollHeight == b.scrollHeight && a.scrollLeft == b.scrollLeft && a.scrollTop == b.scrollTop ? !0 : !1;\n  };\n\n  Blockly.Scrollbar.prototype.dispose = function () {\n    this.cleanUp_();\n    Blockly.browserEvents.unbind(this.onMouseDownBarWrapper_);\n    this.onMouseDownBarWrapper_ = null;\n    Blockly.browserEvents.unbind(this.onMouseDownHandleWrapper_);\n    this.onMouseDownHandleWrapper_ = null;\n    Blockly.utils.dom.removeNode(this.outerSvg_);\n    this.svgBackground_ = this.svgGroup_ = this.outerSvg_ = null;\n    this.svgHandle_ && (this.workspace_.getThemeManager().unsubscribe(this.svgHandle_), this.svgHandle_ = null);\n    this.workspace_ = null;\n  };\n\n  Blockly.Scrollbar.prototype.constrainHandleLength_ = function (a) {\n    return a = 0 >= a || isNaN(a) ? 0 : Math.min(a, this.scrollbarLength_);\n  };\n\n  Blockly.Scrollbar.prototype.setHandleLength_ = function (a) {\n    this.handleLength_ = a;\n    this.svgHandle_.setAttribute(this.lengthAttribute_, this.handleLength_);\n  };\n\n  Blockly.Scrollbar.prototype.constrainHandlePosition_ = function (a) {\n    return a = 0 >= a || isNaN(a) ? 0 : Math.min(a, this.scrollbarLength_ - this.handleLength_);\n  };\n\n  Blockly.Scrollbar.prototype.setHandlePosition = function (a) {\n    this.handlePosition_ = a;\n    this.svgHandle_.setAttribute(this.positionAttribute_, this.handlePosition_);\n  };\n\n  Blockly.Scrollbar.prototype.setScrollbarLength_ = function (a) {\n    this.scrollbarLength_ = a;\n    this.outerSvg_.setAttribute(this.lengthAttribute_, this.scrollbarLength_);\n    this.svgBackground_.setAttribute(this.lengthAttribute_, this.scrollbarLength_);\n  };\n\n  Blockly.Scrollbar.prototype.setPosition = function (a, b) {\n    this.position.x = a;\n    this.position.y = b;\n    Blockly.utils.dom.setCssTransform(this.outerSvg_, \"translate(\" + (this.position.x + this.origin_.x) + \"px,\" + (this.position.y + this.origin_.y) + \"px)\");\n  };\n\n  Blockly.Scrollbar.prototype.resize = function (a) {\n    if (!a && (a = this.workspace_.getMetrics(), !a)) return;\n    Blockly.Scrollbar.metricsAreEquivalent_(a, this.oldHostMetrics_) || (this.horizontal_ ? this.resizeHorizontal_(a) : this.resizeVertical_(a), this.oldHostMetrics_ = a, this.updateMetrics_());\n  };\n\n  Blockly.Scrollbar.prototype.requiresViewResize_ = function (a) {\n    return this.oldHostMetrics_ ? this.oldHostMetrics_.viewWidth !== a.viewWidth || this.oldHostMetrics_.viewHeight !== a.viewHeight || this.oldHostMetrics_.absoluteLeft !== a.absoluteLeft || this.oldHostMetrics_.absoluteTop !== a.absoluteTop : !0;\n  };\n\n  Blockly.Scrollbar.prototype.resizeHorizontal_ = function (a) {\n    this.requiresViewResize_(a) ? this.resizeViewHorizontal(a) : this.resizeContentHorizontal(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeViewHorizontal = function (a) {\n    var b = a.viewWidth - 2 * Blockly.Scrollbar.SCROLLBAR_MARGIN;\n    this.pair_ && (b -= Blockly.Scrollbar.scrollbarThickness);\n    this.setScrollbarLength_(Math.max(0, b));\n    b = a.absoluteLeft + Blockly.Scrollbar.SCROLLBAR_MARGIN;\n    this.pair_ && this.workspace_.RTL && (b += Blockly.Scrollbar.scrollbarThickness);\n    this.setPosition(b, a.absoluteTop + a.viewHeight - Blockly.Scrollbar.scrollbarThickness - Blockly.Scrollbar.SCROLLBAR_MARGIN);\n    this.resizeContentHorizontal(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeContentHorizontal = function (a) {\n    if (a.viewWidth >= a.scrollWidth) this.setHandleLength_(this.scrollbarLength_), this.setHandlePosition(0), this.pair_ || this.setVisible(!1);else {\n      this.pair_ || this.setVisible(!0);\n      var b = this.scrollbarLength_ * a.viewWidth / a.scrollWidth;\n      b = this.constrainHandleLength_(b);\n      this.setHandleLength_(b);\n      b = a.scrollWidth - a.viewWidth;\n      var c = this.scrollbarLength_ - this.handleLength_;\n      a = (a.viewLeft - a.scrollLeft) / b * c;\n      a = this.constrainHandlePosition_(a);\n      this.setHandlePosition(a);\n      this.ratio = c / b;\n    }\n  };\n\n  Blockly.Scrollbar.prototype.resizeVertical_ = function (a) {\n    this.requiresViewResize_(a) ? this.resizeViewVertical(a) : this.resizeContentVertical(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeViewVertical = function (a) {\n    var b = a.viewHeight - 2 * Blockly.Scrollbar.SCROLLBAR_MARGIN;\n    this.pair_ && (b -= Blockly.Scrollbar.scrollbarThickness);\n    this.setScrollbarLength_(Math.max(0, b));\n    this.setPosition(this.workspace_.RTL ? a.absoluteLeft + Blockly.Scrollbar.SCROLLBAR_MARGIN : a.absoluteLeft + a.viewWidth - Blockly.Scrollbar.scrollbarThickness - Blockly.Scrollbar.SCROLLBAR_MARGIN, a.absoluteTop + Blockly.Scrollbar.SCROLLBAR_MARGIN);\n    this.resizeContentVertical(a);\n  };\n\n  Blockly.Scrollbar.prototype.resizeContentVertical = function (a) {\n    if (a.viewHeight >= a.scrollHeight) this.setHandleLength_(this.scrollbarLength_), this.setHandlePosition(0), this.pair_ || this.setVisible(!1);else {\n      this.pair_ || this.setVisible(!0);\n      var b = this.scrollbarLength_ * a.viewHeight / a.scrollHeight;\n      b = this.constrainHandleLength_(b);\n      this.setHandleLength_(b);\n      b = a.scrollHeight - a.viewHeight;\n      var c = this.scrollbarLength_ - this.handleLength_;\n      a = (a.viewTop - a.scrollTop) / b * c;\n      a = this.constrainHandlePosition_(a);\n      this.setHandlePosition(a);\n      this.ratio = c / b;\n    }\n  };\n\n  Blockly.Scrollbar.prototype.createDom_ = function (a) {\n    var b = \"blocklyScrollbar\" + (this.horizontal_ ? \"Horizontal\" : \"Vertical\");\n    a && (b += \" \" + a);\n    this.outerSvg_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.SVG, {\n      \"class\": b\n    }, null);\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {}, this.outerSvg_);\n    this.svgBackground_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyScrollbarBackground\"\n    }, this.svgGroup_);\n    a = Math.floor((Blockly.Scrollbar.scrollbarThickness - 5) / 2);\n    this.svgHandle_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyScrollbarHandle\",\n      rx: a,\n      ry: a\n    }, this.svgGroup_);\n    this.workspace_.getThemeManager().subscribe(this.svgHandle_, \"scrollbarColour\", \"fill\");\n    this.workspace_.getThemeManager().subscribe(this.svgHandle_, \"scrollbarOpacity\", \"fill-opacity\");\n    Blockly.utils.dom.insertAfter(this.outerSvg_, this.workspace_.getParentSvg());\n  };\n\n  Blockly.Scrollbar.prototype.isVisible = function () {\n    return this.isVisible_;\n  };\n\n  Blockly.Scrollbar.prototype.setContainerVisible = function (a) {\n    var b = a != this.containerVisible_;\n    this.containerVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Scrollbar.prototype.setVisible = function (a) {\n    var b = a != this.isVisible();\n    if (this.pair_) throw Error(\"Unable to toggle visibility of paired scrollbars.\");\n    this.isVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Scrollbar.prototype.updateDisplay_ = function () {\n    this.containerVisible_ && this.isVisible() ? this.outerSvg_.setAttribute(\"display\", \"block\") : this.outerSvg_.setAttribute(\"display\", \"none\");\n  };\n\n  Blockly.Scrollbar.prototype.onMouseDownBar_ = function (a) {\n    this.workspace_.markFocused();\n    Blockly.Touch.clearTouchIdentifier();\n    this.cleanUp_();\n    if (Blockly.utils.isRightButton(a)) a.stopPropagation();else {\n      var b = Blockly.utils.mouseToSvg(a, this.workspace_.getParentSvg(), this.workspace_.getInverseScreenCTM());\n      b = this.horizontal_ ? b.x : b.y;\n      var c = Blockly.utils.getInjectionDivXY_(this.svgHandle_);\n      c = this.horizontal_ ? c.x : c.y;\n      var d = this.handlePosition_,\n          e = .95 * this.handleLength_;\n      b <= c ? d -= e : b >= c + this.handleLength_ && (d += e);\n      this.setHandlePosition(this.constrainHandlePosition_(d));\n      this.updateMetrics_();\n      a.stopPropagation();\n      a.preventDefault();\n    }\n  };\n\n  Blockly.Scrollbar.prototype.onMouseDownHandle_ = function (a) {\n    this.workspace_.markFocused();\n    this.cleanUp_();\n    Blockly.utils.isRightButton(a) ? a.stopPropagation() : (this.startDragHandle = this.handlePosition_, this.workspace_.setupDragSurface(), this.startDragMouse_ = this.horizontal_ ? a.clientX : a.clientY, Blockly.Scrollbar.onMouseUpWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mouseup\", this, this.onMouseUpHandle_), Blockly.Scrollbar.onMouseMoveWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mousemove\", this, this.onMouseMoveHandle_), a.stopPropagation(), a.preventDefault());\n  };\n\n  Blockly.Scrollbar.prototype.onMouseMoveHandle_ = function (a) {\n    this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle + ((this.horizontal_ ? a.clientX : a.clientY) - this.startDragMouse_)));\n    this.updateMetrics_();\n  };\n\n  Blockly.Scrollbar.prototype.onMouseUpHandle_ = function () {\n    this.workspace_.resetDragSurface();\n    Blockly.Touch.clearTouchIdentifier();\n    this.cleanUp_();\n  };\n\n  Blockly.Scrollbar.prototype.cleanUp_ = function () {\n    Blockly.hideChaff(!0);\n    Blockly.Scrollbar.onMouseUpWrapper_ && (Blockly.browserEvents.unbind(Blockly.Scrollbar.onMouseUpWrapper_), Blockly.Scrollbar.onMouseUpWrapper_ = null);\n    Blockly.Scrollbar.onMouseMoveWrapper_ && (Blockly.browserEvents.unbind(Blockly.Scrollbar.onMouseMoveWrapper_), Blockly.Scrollbar.onMouseMoveWrapper_ = null);\n  };\n\n  Blockly.Scrollbar.prototype.getRatio_ = function () {\n    var a = this.handlePosition_ / (this.scrollbarLength_ - this.handleLength_);\n    isNaN(a) && (a = 0);\n    return a;\n  };\n\n  Blockly.Scrollbar.prototype.updateMetrics_ = function () {\n    var a = this.getRatio_(),\n        b = {};\n    this.horizontal_ ? b.x = a : b.y = a;\n    this.workspace_.setMetrics(b);\n  };\n\n  Blockly.Scrollbar.prototype.set = function (a, b) {\n    this.setHandlePosition(this.constrainHandlePosition_(a * this.ratio));\n    (b || void 0 === b) && this.updateMetrics_();\n  };\n\n  Blockly.Scrollbar.prototype.setOrigin = function (a, b) {\n    this.origin_ = new Blockly.utils.Coordinate(a, b);\n  };\n\n  Blockly.Tooltip = {};\n  Blockly.Tooltip.visible = !1;\n  Blockly.Tooltip.blocked_ = !1;\n  Blockly.Tooltip.LIMIT = 50;\n  Blockly.Tooltip.mouseOutPid_ = 0;\n  Blockly.Tooltip.showPid_ = 0;\n  Blockly.Tooltip.lastX_ = 0;\n  Blockly.Tooltip.lastY_ = 0;\n  Blockly.Tooltip.element_ = null;\n  Blockly.Tooltip.poisonedElement_ = null;\n  Blockly.Tooltip.OFFSET_X = 0;\n  Blockly.Tooltip.OFFSET_Y = 10;\n  Blockly.Tooltip.RADIUS_OK = 10;\n  Blockly.Tooltip.HOVER_MS = 750;\n  Blockly.Tooltip.MARGINS = 5;\n  Blockly.Tooltip.DIV = null;\n\n  Blockly.Tooltip.getTooltipOfObject = function (a) {\n    if (a = Blockly.Tooltip.getTargetObject_(a)) {\n      for (a = a.tooltip; \"function\" == typeof a;) {\n        a = a();\n      }\n\n      if (\"string\" != typeof a) throw Error(\"Tooltip function must return a string.\");\n      return a;\n    }\n\n    return \"\";\n  };\n\n  Blockly.Tooltip.getTargetObject_ = function (a) {\n    for (; a && a.tooltip;) {\n      if (\"string\" == typeof a.tooltip || \"function\" == typeof a.tooltip) return a;\n      a = a.tooltip;\n    }\n\n    return null;\n  };\n\n  Blockly.Tooltip.createDom = function () {\n    Blockly.Tooltip.DIV || (Blockly.Tooltip.DIV = document.createElement(\"div\"), Blockly.Tooltip.DIV.className = \"blocklyTooltipDiv\", (Blockly.parentContainer || document.body).appendChild(Blockly.Tooltip.DIV));\n  };\n\n  Blockly.Tooltip.bindMouseEvents = function (a) {\n    a.mouseOverWrapper_ = Blockly.browserEvents.bind(a, \"mouseover\", null, Blockly.Tooltip.onMouseOver_);\n    a.mouseOutWrapper_ = Blockly.browserEvents.bind(a, \"mouseout\", null, Blockly.Tooltip.onMouseOut_);\n    a.addEventListener(\"mousemove\", Blockly.Tooltip.onMouseMove_, !1);\n  };\n\n  Blockly.Tooltip.unbindMouseEvents = function (a) {\n    a && (Blockly.browserEvents.unbind(a.mouseOverWrapper_), Blockly.browserEvents.unbind(a.mouseOutWrapper_), a.removeEventListener(\"mousemove\", Blockly.Tooltip.onMouseMove_));\n  };\n\n  Blockly.Tooltip.onMouseOver_ = function (a) {\n    Blockly.Tooltip.blocked_ || (a = Blockly.Tooltip.getTargetObject_(a.currentTarget), Blockly.Tooltip.element_ != a && (Blockly.Tooltip.hide(), Blockly.Tooltip.poisonedElement_ = null, Blockly.Tooltip.element_ = a), clearTimeout(Blockly.Tooltip.mouseOutPid_));\n  };\n\n  Blockly.Tooltip.onMouseOut_ = function (a) {\n    Blockly.Tooltip.blocked_ || (Blockly.Tooltip.mouseOutPid_ = setTimeout(function () {\n      Blockly.Tooltip.element_ = null;\n      Blockly.Tooltip.poisonedElement_ = null;\n      Blockly.Tooltip.hide();\n    }, 1), clearTimeout(Blockly.Tooltip.showPid_));\n  };\n\n  Blockly.Tooltip.onMouseMove_ = function (a) {\n    if (Blockly.Tooltip.element_ && Blockly.Tooltip.element_.tooltip && !Blockly.Tooltip.blocked_) if (Blockly.Tooltip.visible) {\n      var b = Blockly.Tooltip.lastX_ - a.pageX;\n      a = Blockly.Tooltip.lastY_ - a.pageY;\n      Math.sqrt(b * b + a * a) > Blockly.Tooltip.RADIUS_OK && Blockly.Tooltip.hide();\n    } else Blockly.Tooltip.poisonedElement_ != Blockly.Tooltip.element_ && (clearTimeout(Blockly.Tooltip.showPid_), Blockly.Tooltip.lastX_ = a.pageX, Blockly.Tooltip.lastY_ = a.pageY, Blockly.Tooltip.showPid_ = setTimeout(Blockly.Tooltip.show_, Blockly.Tooltip.HOVER_MS));\n  };\n\n  Blockly.Tooltip.dispose = function () {\n    Blockly.Tooltip.element_ = null;\n    Blockly.Tooltip.poisonedElement_ = null;\n    Blockly.Tooltip.hide();\n  };\n\n  Blockly.Tooltip.hide = function () {\n    Blockly.Tooltip.visible && (Blockly.Tooltip.visible = !1, Blockly.Tooltip.DIV && (Blockly.Tooltip.DIV.style.display = \"none\"));\n    Blockly.Tooltip.showPid_ && clearTimeout(Blockly.Tooltip.showPid_);\n  };\n\n  Blockly.Tooltip.block = function () {\n    Blockly.Tooltip.hide();\n    Blockly.Tooltip.blocked_ = !0;\n  };\n\n  Blockly.Tooltip.unblock = function () {\n    Blockly.Tooltip.blocked_ = !1;\n  };\n\n  Blockly.Tooltip.show_ = function () {\n    if (!Blockly.Tooltip.blocked_ && (Blockly.Tooltip.poisonedElement_ = Blockly.Tooltip.element_, Blockly.Tooltip.DIV)) {\n      Blockly.Tooltip.DIV.textContent = \"\";\n      var a = Blockly.Tooltip.getTooltipOfObject(Blockly.Tooltip.element_);\n      a = Blockly.utils.string.wrap(a, Blockly.Tooltip.LIMIT);\n      a = a.split(\"\\n\");\n\n      for (var b = 0; b < a.length; b++) {\n        var c = document.createElement(\"div\");\n        c.appendChild(document.createTextNode(a[b]));\n        Blockly.Tooltip.DIV.appendChild(c);\n      }\n\n      a = Blockly.Tooltip.element_.RTL;\n      b = document.documentElement.clientWidth;\n      c = document.documentElement.clientHeight;\n      Blockly.Tooltip.DIV.style.direction = a ? \"rtl\" : \"ltr\";\n      Blockly.Tooltip.DIV.style.display = \"block\";\n      Blockly.Tooltip.visible = !0;\n      var d = Blockly.Tooltip.lastX_;\n      d = a ? d - (Blockly.Tooltip.OFFSET_X + Blockly.Tooltip.DIV.offsetWidth) : d + Blockly.Tooltip.OFFSET_X;\n      var e = Blockly.Tooltip.lastY_ + Blockly.Tooltip.OFFSET_Y;\n      e + Blockly.Tooltip.DIV.offsetHeight > c + window.scrollY && (e -= Blockly.Tooltip.DIV.offsetHeight + 2 * Blockly.Tooltip.OFFSET_Y);\n      a ? d = Math.max(Blockly.Tooltip.MARGINS - window.scrollX, d) : d + Blockly.Tooltip.DIV.offsetWidth > b + window.scrollX - 2 * Blockly.Tooltip.MARGINS && (d = b - Blockly.Tooltip.DIV.offsetWidth - 2 * Blockly.Tooltip.MARGINS);\n      Blockly.Tooltip.DIV.style.top = e + \"px\";\n      Blockly.Tooltip.DIV.style.left = d + \"px\";\n    }\n  };\n\n  Blockly.utils.aria = {};\n  Blockly.utils.aria.ARIA_PREFIX_ = \"aria-\";\n  Blockly.utils.aria.ROLE_ATTRIBUTE_ = \"role\";\n  Blockly.utils.aria.Role = {\n    GRID: \"grid\",\n    GRIDCELL: \"gridcell\",\n    GROUP: \"group\",\n    LISTBOX: \"listbox\",\n    MENU: \"menu\",\n    MENUITEM: \"menuitem\",\n    MENUITEMCHECKBOX: \"menuitemcheckbox\",\n    OPTION: \"option\",\n    PRESENTATION: \"presentation\",\n    ROW: \"row\",\n    TREE: \"tree\",\n    TREEITEM: \"treeitem\"\n  };\n  Blockly.utils.aria.State = {\n    ACTIVEDESCENDANT: \"activedescendant\",\n    COLCOUNT: \"colcount\",\n    DISABLED: \"disabled\",\n    EXPANDED: \"expanded\",\n    INVALID: \"invalid\",\n    LABEL: \"label\",\n    LABELLEDBY: \"labelledby\",\n    LEVEL: \"level\",\n    ORIENTATION: \"orientation\",\n    POSINSET: \"posinset\",\n    ROWCOUNT: \"rowcount\",\n    SELECTED: \"selected\",\n    SETSIZE: \"setsize\",\n    VALUEMAX: \"valuemax\",\n    VALUEMIN: \"valuemin\"\n  };\n\n  Blockly.utils.aria.setRole = function (a, b) {\n    a.setAttribute(Blockly.utils.aria.ROLE_ATTRIBUTE_, b);\n  };\n\n  Blockly.utils.aria.setState = function (a, b, c) {\n    Array.isArray(c) && (c = c.join(\" \"));\n    a.setAttribute(Blockly.utils.aria.ARIA_PREFIX_ + b, c);\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg = function (a) {\n    this.container_ = a;\n    this.createDom();\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.SVG_ = null;\n  Blockly.WorkspaceDragSurfaceSvg.prototype.container_ = null;\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.createDom = function () {\n    this.SVG_ || (this.SVG_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.SVG, {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      \"class\": \"blocklyWsDragSurface blocklyOverflowVisible\"\n    }, null), this.container_.appendChild(this.SVG_));\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.translateSurface = function (a, b) {\n    a = a.toFixed(0);\n    b = b.toFixed(0);\n    this.SVG_.style.display = \"block\";\n    Blockly.utils.dom.setCssTransform(this.SVG_, \"translate3d(\" + a + \"px, \" + b + \"px, 0px)\");\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation = function () {\n    return Blockly.utils.getRelativeXY(this.SVG_);\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.clearAndHide = function (a) {\n    if (!a) throw Error(\"Couldn't clear and hide the drag surface: missing new surface.\");\n    var b = this.SVG_.childNodes[0],\n        c = this.SVG_.childNodes[1];\n    if (!(b && c && Blockly.utils.dom.hasClass(b, \"blocklyBlockCanvas\") && Blockly.utils.dom.hasClass(c, \"blocklyBubbleCanvas\"))) throw Error(\"Couldn't clear and hide the drag surface. A node was missing.\");\n    null != this.previousSibling_ ? Blockly.utils.dom.insertAfter(b, this.previousSibling_) : a.insertBefore(b, a.firstChild);\n    Blockly.utils.dom.insertAfter(c, b);\n    this.SVG_.style.display = \"none\";\n    if (this.SVG_.childNodes.length) throw Error(\"Drag surface was not cleared.\");\n    Blockly.utils.dom.setCssTransform(this.SVG_, \"\");\n    this.previousSibling_ = null;\n  };\n\n  Blockly.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow = function (a, b, c, d, e, f) {\n    if (this.SVG_.childNodes.length) throw Error(\"Already dragging a block.\");\n    this.previousSibling_ = c;\n    a.setAttribute(\"transform\", \"translate(0, 0) scale(\" + f + \")\");\n    b.setAttribute(\"transform\", \"translate(0, 0) scale(\" + f + \")\");\n    this.SVG_.setAttribute(\"width\", d);\n    this.SVG_.setAttribute(\"height\", e);\n    this.SVG_.appendChild(a);\n    this.SVG_.appendChild(b);\n    this.SVG_.style.display = \"block\";\n  };\n\n  Blockly.blockRendering = {};\n  Blockly.blockRendering.useDebugger = !1;\n\n  Blockly.blockRendering.register = function (a, b) {\n    Blockly.registry.register(Blockly.registry.Type.RENDERER, a, b);\n  };\n\n  Blockly.blockRendering.unregister = function (a) {\n    Blockly.registry.unregister(Blockly.registry.Type.RENDERER, a);\n  };\n\n  Blockly.blockRendering.startDebugger = function () {\n    Blockly.blockRendering.useDebugger = !0;\n  };\n\n  Blockly.blockRendering.stopDebugger = function () {\n    Blockly.blockRendering.useDebugger = !1;\n  };\n\n  Blockly.blockRendering.init = function (a, b, c) {\n    a = new (Blockly.registry.getClass(Blockly.registry.Type.RENDERER, a))(a);\n    a.init(b, c);\n    return a;\n  };\n\n  Blockly.ASTNode = function (a, b, c) {\n    if (!b) throw Error(\"Cannot create a node without a location.\");\n    this.type_ = a;\n    this.isConnection_ = Blockly.ASTNode.isConnectionType_(a);\n    this.location_ = b;\n    this.wsCoordinate_ = null;\n    this.processParams_(c || null);\n  };\n\n  Blockly.ASTNode.types = {\n    FIELD: \"field\",\n    BLOCK: \"block\",\n    INPUT: \"input\",\n    OUTPUT: \"output\",\n    NEXT: \"next\",\n    PREVIOUS: \"previous\",\n    STACK: \"stack\",\n    WORKSPACE: \"workspace\"\n  };\n  Blockly.ASTNode.NAVIGATE_ALL_FIELDS = !1;\n  Blockly.ASTNode.DEFAULT_OFFSET_Y = -20;\n\n  Blockly.ASTNode.isConnectionType_ = function (a) {\n    switch (a) {\n      case Blockly.ASTNode.types.PREVIOUS:\n      case Blockly.ASTNode.types.NEXT:\n      case Blockly.ASTNode.types.INPUT:\n      case Blockly.ASTNode.types.OUTPUT:\n        return !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.ASTNode.createFieldNode = function (a) {\n    return a ? new Blockly.ASTNode(Blockly.ASTNode.types.FIELD, a) : null;\n  };\n\n  Blockly.ASTNode.createConnectionNode = function (a) {\n    if (!a) return null;\n    var b = a.type;\n    return b == Blockly.connectionTypes.INPUT_VALUE || b == Blockly.connectionTypes.NEXT_STATEMENT && a.getParentInput() ? Blockly.ASTNode.createInputNode(a.getParentInput()) : b == Blockly.connectionTypes.NEXT_STATEMENT ? new Blockly.ASTNode(Blockly.ASTNode.types.NEXT, a) : b == Blockly.connectionTypes.OUTPUT_VALUE ? new Blockly.ASTNode(Blockly.ASTNode.types.OUTPUT, a) : b == Blockly.connectionTypes.PREVIOUS_STATEMENT ? new Blockly.ASTNode(Blockly.ASTNode.types.PREVIOUS, a) : null;\n  };\n\n  Blockly.ASTNode.createInputNode = function (a) {\n    return a && a.connection ? new Blockly.ASTNode(Blockly.ASTNode.types.INPUT, a.connection) : null;\n  };\n\n  Blockly.ASTNode.createBlockNode = function (a) {\n    return a ? new Blockly.ASTNode(Blockly.ASTNode.types.BLOCK, a) : null;\n  };\n\n  Blockly.ASTNode.createStackNode = function (a) {\n    return a ? new Blockly.ASTNode(Blockly.ASTNode.types.STACK, a) : null;\n  };\n\n  Blockly.ASTNode.createWorkspaceNode = function (a, b) {\n    return b && a ? new Blockly.ASTNode(Blockly.ASTNode.types.WORKSPACE, a, {\n      wsCoordinate: b\n    }) : null;\n  };\n\n  Blockly.ASTNode.createTopNode = function (a) {\n    var b = a.previousConnection || a.outputConnection;\n    return b ? Blockly.ASTNode.createConnectionNode(b) : Blockly.ASTNode.createBlockNode(a);\n  };\n\n  Blockly.ASTNode.prototype.processParams_ = function (a) {\n    a && a.wsCoordinate && (this.wsCoordinate_ = a.wsCoordinate);\n  };\n\n  Blockly.ASTNode.prototype.getLocation = function () {\n    return this.location_;\n  };\n\n  Blockly.ASTNode.prototype.getType = function () {\n    return this.type_;\n  };\n\n  Blockly.ASTNode.prototype.getWsCoordinate = function () {\n    return this.wsCoordinate_;\n  };\n\n  Blockly.ASTNode.prototype.isConnection = function () {\n    return this.isConnection_;\n  };\n\n  Blockly.ASTNode.prototype.findNextForInput_ = function () {\n    var a = this.location_.getParentInput(),\n        b = a.getSourceBlock();\n    a = b.inputList.indexOf(a) + 1;\n\n    for (var c; c = b.inputList[a]; a++) {\n      for (var d = c.fieldRow, e = 0, f; f = d[e]; e++) {\n        if (f.isClickable() || Blockly.ASTNode.NAVIGATE_ALL_FIELDS) return Blockly.ASTNode.createFieldNode(f);\n      }\n\n      if (c.connection) return Blockly.ASTNode.createInputNode(c);\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.findNextForField_ = function () {\n    var a = this.location_,\n        b = a.getParentInput(),\n        c = a.getSourceBlock(),\n        d = c.inputList.indexOf(b);\n\n    for (a = b.fieldRow.indexOf(a) + 1; b = c.inputList[d]; d++) {\n      for (var e = b.fieldRow; a < e.length;) {\n        if (e[a].isClickable() || Blockly.ASTNode.NAVIGATE_ALL_FIELDS) return Blockly.ASTNode.createFieldNode(e[a]);\n        a++;\n      }\n\n      a = 0;\n      if (b.connection) return Blockly.ASTNode.createInputNode(b);\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.findPrevForInput_ = function () {\n    for (var a = this.location_.getParentInput(), b = a.getSourceBlock(), c = b.inputList.indexOf(a), d; d = b.inputList[c]; c--) {\n      if (d.connection && d !== a) return Blockly.ASTNode.createInputNode(d);\n      d = d.fieldRow;\n\n      for (var e = d.length - 1, f; f = d[e]; e--) {\n        if (f.isClickable() || Blockly.ASTNode.NAVIGATE_ALL_FIELDS) return Blockly.ASTNode.createFieldNode(f);\n      }\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.findPrevForField_ = function () {\n    var a = this.location_,\n        b = a.getParentInput(),\n        c = a.getSourceBlock(),\n        d = c.inputList.indexOf(b);\n    a = b.fieldRow.indexOf(a) - 1;\n\n    for (var e; e = c.inputList[d]; d--) {\n      if (e.connection && e !== b) return Blockly.ASTNode.createInputNode(e);\n\n      for (e = e.fieldRow; -1 < a;) {\n        if (e[a].isClickable() || Blockly.ASTNode.NAVIGATE_ALL_FIELDS) return Blockly.ASTNode.createFieldNode(e[a]);\n        a--;\n      }\n\n      0 <= d - 1 && (a = c.inputList[d - 1].fieldRow.length - 1);\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.navigateBetweenStacks_ = function (a) {\n    var b = this.getLocation();\n    b instanceof Blockly.Block || (b = b.getSourceBlock());\n    if (!b || !b.workspace) return null;\n    var c = b.getRootBlock();\n    b = c.workspace.getTopBlocks(!0);\n\n    for (var d = 0, e; e = b[d]; d++) {\n      if (c.id == e.id) return a = d + (a ? 1 : -1), -1 == a || a == b.length ? null : Blockly.ASTNode.createStackNode(b[a]);\n    }\n\n    throw Error(\"Couldn't find \" + (a ? \"next\" : \"previous\") + \" stack?!\");\n  };\n\n  Blockly.ASTNode.prototype.findTopASTNodeForBlock_ = function (a) {\n    var b = a.previousConnection || a.outputConnection;\n    return b ? Blockly.ASTNode.createConnectionNode(b) : Blockly.ASTNode.createBlockNode(a);\n  };\n\n  Blockly.ASTNode.prototype.getOutAstNodeForBlock_ = function (a) {\n    if (!a) return null;\n    a = a.getTopStackBlock();\n    var b = a.previousConnection || a.outputConnection;\n    return b && b.targetConnection && b.targetConnection.getParentInput() ? Blockly.ASTNode.createInputNode(b.targetConnection.getParentInput()) : Blockly.ASTNode.createStackNode(a);\n  };\n\n  Blockly.ASTNode.prototype.findFirstFieldOrInput_ = function (a) {\n    a = a.inputList;\n\n    for (var b = 0, c; c = a[b]; b++) {\n      for (var d = c.fieldRow, e = 0, f; f = d[e]; e++) {\n        if (f.isClickable() || Blockly.ASTNode.NAVIGATE_ALL_FIELDS) return Blockly.ASTNode.createFieldNode(f);\n      }\n\n      if (c.connection) return Blockly.ASTNode.createInputNode(c);\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.getSourceBlock = function () {\n    return this.getType() === Blockly.ASTNode.types.BLOCK ? this.getLocation() : this.getType() === Blockly.ASTNode.types.STACK ? this.getLocation() : this.getType() === Blockly.ASTNode.types.WORKSPACE ? null : this.getLocation().getSourceBlock();\n  };\n\n  Blockly.ASTNode.prototype.next = function () {\n    switch (this.type_) {\n      case Blockly.ASTNode.types.STACK:\n        return this.navigateBetweenStacks_(!0);\n\n      case Blockly.ASTNode.types.OUTPUT:\n        var a = this.location_;\n        return Blockly.ASTNode.createBlockNode(a.getSourceBlock());\n\n      case Blockly.ASTNode.types.FIELD:\n        return this.findNextForField_();\n\n      case Blockly.ASTNode.types.INPUT:\n        return this.findNextForInput_();\n\n      case Blockly.ASTNode.types.BLOCK:\n        return Blockly.ASTNode.createConnectionNode(this.location_.nextConnection);\n\n      case Blockly.ASTNode.types.PREVIOUS:\n        return a = this.location_, Blockly.ASTNode.createBlockNode(a.getSourceBlock());\n\n      case Blockly.ASTNode.types.NEXT:\n        return a = this.location_, Blockly.ASTNode.createConnectionNode(a.targetConnection);\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.in = function () {\n    switch (this.type_) {\n      case Blockly.ASTNode.types.WORKSPACE:\n        var a = this.location_.getTopBlocks(!0);\n        if (0 < a.length) return Blockly.ASTNode.createStackNode(a[0]);\n        break;\n\n      case Blockly.ASTNode.types.STACK:\n        return a = this.location_, this.findTopASTNodeForBlock_(a);\n\n      case Blockly.ASTNode.types.BLOCK:\n        return a = this.location_, this.findFirstFieldOrInput_(a);\n\n      case Blockly.ASTNode.types.INPUT:\n        return Blockly.ASTNode.createConnectionNode(this.location_.targetConnection);\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.prev = function () {\n    switch (this.type_) {\n      case Blockly.ASTNode.types.STACK:\n        return this.navigateBetweenStacks_(!1);\n\n      case Blockly.ASTNode.types.FIELD:\n        return this.findPrevForField_();\n\n      case Blockly.ASTNode.types.INPUT:\n        return this.findPrevForInput_();\n\n      case Blockly.ASTNode.types.BLOCK:\n        var a = this.location_;\n        return Blockly.ASTNode.createConnectionNode(a.previousConnection || a.outputConnection);\n\n      case Blockly.ASTNode.types.PREVIOUS:\n        a = this.location_;\n        if ((a = a.targetConnection) && !a.getParentInput()) return Blockly.ASTNode.createConnectionNode(a);\n        break;\n\n      case Blockly.ASTNode.types.NEXT:\n        return a = this.location_, Blockly.ASTNode.createBlockNode(a.getSourceBlock());\n    }\n\n    return null;\n  };\n\n  Blockly.ASTNode.prototype.out = function () {\n    switch (this.type_) {\n      case Blockly.ASTNode.types.STACK:\n        var a = this.location_,\n            b = a.getRelativeToSurfaceXY();\n        b = new Blockly.utils.Coordinate(b.x, b.y + Blockly.ASTNode.DEFAULT_OFFSET_Y);\n        return Blockly.ASTNode.createWorkspaceNode(a.workspace, b);\n\n      case Blockly.ASTNode.types.OUTPUT:\n        return a = this.location_, (b = a.targetConnection) ? Blockly.ASTNode.createConnectionNode(b) : Blockly.ASTNode.createStackNode(a.getSourceBlock());\n\n      case Blockly.ASTNode.types.FIELD:\n        return Blockly.ASTNode.createBlockNode(this.location_.getSourceBlock());\n\n      case Blockly.ASTNode.types.INPUT:\n        return a = this.location_, Blockly.ASTNode.createBlockNode(a.getSourceBlock());\n\n      case Blockly.ASTNode.types.BLOCK:\n        return a = this.location_, this.getOutAstNodeForBlock_(a);\n\n      case Blockly.ASTNode.types.PREVIOUS:\n        return a = this.location_, this.getOutAstNodeForBlock_(a.getSourceBlock());\n\n      case Blockly.ASTNode.types.NEXT:\n        return a = this.location_, this.getOutAstNodeForBlock_(a.getSourceBlock());\n    }\n\n    return null;\n  };\n\n  Blockly.Blocks = Object.create(null);\n  Blockly.utils.deprecation = {};\n\n  Blockly.utils.deprecation.warn = function (a, b, c, d) {\n    a = a + \" was deprecated on \" + b + \" and will be deleted on \" + c + \".\";\n    d && (a += \"\\nUse \" + d + \" instead.\");\n    console.warn(a);\n  };\n\n  Blockly.Connection = function (a, b) {\n    this.sourceBlock_ = a;\n    this.type = b;\n  };\n\n  Blockly.Connection.CAN_CONNECT = 0;\n  Blockly.Connection.REASON_SELF_CONNECTION = 1;\n  Blockly.Connection.REASON_WRONG_TYPE = 2;\n  Blockly.Connection.REASON_TARGET_NULL = 3;\n  Blockly.Connection.REASON_CHECKS_FAILED = 4;\n  Blockly.Connection.REASON_DIFFERENT_WORKSPACES = 5;\n  Blockly.Connection.REASON_SHADOW_PARENT = 6;\n  Blockly.Connection.REASON_DRAG_CHECKS_FAILED = 7;\n  Blockly.Connection.prototype.targetConnection = null;\n  Blockly.Connection.prototype.disposed = !1;\n  Blockly.Connection.prototype.check_ = null;\n  Blockly.Connection.prototype.shadowDom_ = null;\n  Blockly.Connection.prototype.x = 0;\n  Blockly.Connection.prototype.y = 0;\n\n  Blockly.Connection.prototype.connect_ = function (a) {\n    var b = this,\n        c = b.getSourceBlock(),\n        d = a.getSourceBlock();\n    a.isConnected() && a.disconnect();\n\n    if (b.isConnected()) {\n      var e = b.targetBlock(),\n          f = b.getShadowDom();\n      b.shadowDom_ = null;\n      if (e.isShadow()) f = Blockly.Xml.blockToDom(e), e.dispose(!1), e = null;else if (b.type == Blockly.connectionTypes.INPUT_VALUE) {\n        if (!e.outputConnection) throw Error(\"Orphan block does not have an output connection.\");\n        var g = Blockly.Connection.lastConnectionInRow(d, e);\n        g && (e.outputConnection.connect(g), e = null);\n      } else if (b.type == Blockly.connectionTypes.NEXT_STATEMENT) {\n        if (!e.previousConnection) throw Error(\"Orphan block does not have a previous connection.\");\n\n        for (g = d; g.nextConnection;) {\n          var h = g.getNextBlock();\n          if (h && !h.isShadow()) g = h;else {\n            e.workspace.connectionChecker.canConnect(e.previousConnection, g.nextConnection, !1) && (g.nextConnection.connect(e.previousConnection), e = null);\n            break;\n          }\n        }\n      }\n\n      if (e && (b.disconnect(), Blockly.Events.recordUndo)) {\n        var k = Blockly.Events.getGroup();\n        setTimeout(function () {\n          if (e.workspace && !e.getParent()) {\n            Blockly.Events.setGroup(k);\n            if (e.outputConnection) e.outputConnection.onFailedConnect(b);else if (e.previousConnection) e.previousConnection.onFailedConnect(b);\n            Blockly.Events.setGroup(!1);\n          }\n        }, Blockly.BUMP_DELAY);\n      }\n\n      b.shadowDom_ = f;\n    }\n\n    var l;\n    Blockly.Events.isEnabled() && (l = new (Blockly.Events.get(Blockly.Events.BLOCK_MOVE))(d));\n    Blockly.Connection.connectReciprocally_(b, a);\n    d.setParent(c);\n    l && (l.recordNew(), Blockly.Events.fire(l));\n  };\n\n  Blockly.Connection.prototype.dispose = function () {\n    if (this.isConnected()) {\n      this.setShadowDom(null);\n      var a = this.targetBlock();\n      a && a.unplug();\n    }\n\n    this.disposed = !0;\n  };\n\n  Blockly.Connection.prototype.getSourceBlock = function () {\n    return this.sourceBlock_;\n  };\n\n  Blockly.Connection.prototype.isSuperior = function () {\n    return this.type == Blockly.connectionTypes.INPUT_VALUE || this.type == Blockly.connectionTypes.NEXT_STATEMENT;\n  };\n\n  Blockly.Connection.prototype.isConnected = function () {\n    return !!this.targetConnection;\n  };\n\n  Blockly.Connection.prototype.canConnectWithReason = function (a) {\n    Blockly.utils.deprecation.warn(\"Connection.prototype.canConnectWithReason\", \"July 2020\", \"July 2021\", \"the workspace's connection checker\");\n    return this.getConnectionChecker().canConnectWithReason(this, a, !1);\n  };\n\n  Blockly.Connection.prototype.checkConnection = function (a) {\n    Blockly.utils.deprecation.warn(\"Connection.prototype.checkConnection\", \"July 2020\", \"July 2021\", \"the workspace's connection checker\");\n    var b = this.getConnectionChecker(),\n        c = b.canConnectWithReason(this, a, !1);\n    if (c != Blockly.Connection.CAN_CONNECT) throw Error(b.getErrorMessage(c, this, a));\n  };\n\n  Blockly.Connection.prototype.getConnectionChecker = function () {\n    return this.sourceBlock_.workspace.connectionChecker;\n  };\n\n  Blockly.Connection.prototype.isConnectionAllowed = function (a) {\n    Blockly.utils.deprecation.warn(\"Connection.prototype.isConnectionAllowed\", \"July 2020\", \"July 2021\", \"the workspace's connection checker\");\n    return this.getConnectionChecker().canConnect(this, a, !0);\n  };\n\n  Blockly.Connection.prototype.onFailedConnect = function (a) {};\n\n  Blockly.Connection.prototype.connect = function (a) {\n    if (this.targetConnection != a && this.getConnectionChecker().canConnect(this, a, !1)) {\n      var b = Blockly.Events.getGroup();\n      b || Blockly.Events.setGroup(!0);\n      this.isSuperior() ? this.connect_(a) : a.connect_(this);\n      b || Blockly.Events.setGroup(!1);\n    }\n  };\n\n  Blockly.Connection.connectReciprocally_ = function (a, b) {\n    if (!a || !b) throw Error(\"Cannot connect null connections.\");\n    a.targetConnection = b;\n    b.targetConnection = a;\n  };\n\n  Blockly.Connection.singleConnection_ = function (a, b) {\n    var c = null;\n    b = b.outputConnection;\n\n    for (var d = 0; d < a.inputList.length; d++) {\n      var e = a.inputList[d].connection,\n          f = b.getConnectionChecker();\n\n      if (e && e.type == Blockly.connectionTypes.INPUT_VALUE && f.canConnect(b, e, !1)) {\n        if (c) return null;\n        c = e;\n      }\n    }\n\n    return c;\n  };\n\n  Blockly.Connection.lastConnectionInRow = function (a, b) {\n    for (var c; c = Blockly.Connection.singleConnection_(a, b);) {\n      if (a = c.targetBlock(), !a || a.isShadow()) return c;\n    }\n\n    return null;\n  };\n\n  Blockly.Connection.prototype.disconnect = function () {\n    var a = this.targetConnection;\n    if (!a) throw Error(\"Source connection not connected.\");\n    if (a.targetConnection != this) throw Error(\"Target connection not connected to source connection.\");\n\n    if (this.isSuperior()) {\n      var b = this.sourceBlock_;\n      var c = a.getSourceBlock();\n      a = this;\n    } else b = a.getSourceBlock(), c = this.sourceBlock_;\n\n    var d = Blockly.Events.getGroup();\n    d || Blockly.Events.setGroup(!0);\n    this.disconnectInternal_(b, c);\n    c.isShadow() || a.respawnShadow_();\n    d || Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.Connection.prototype.disconnectInternal_ = function (a, b) {\n    var c;\n    Blockly.Events.isEnabled() && (c = new (Blockly.Events.get(Blockly.Events.BLOCK_MOVE))(b));\n    this.targetConnection = this.targetConnection.targetConnection = null;\n    b.setParent(null);\n    c && (c.recordNew(), Blockly.Events.fire(c));\n  };\n\n  Blockly.Connection.prototype.respawnShadow_ = function () {\n    var a = this.getSourceBlock(),\n        b = this.getShadowDom();\n    if (a.workspace && b) if (a = Blockly.Xml.domToBlock(b, a.workspace), a.outputConnection) this.connect(a.outputConnection);else if (a.previousConnection) this.connect(a.previousConnection);else throw Error(\"Child block does not have output or previous statement.\");\n  };\n\n  Blockly.Connection.prototype.targetBlock = function () {\n    return this.isConnected() ? this.targetConnection.getSourceBlock() : null;\n  };\n\n  Blockly.Connection.prototype.checkType = function (a) {\n    Blockly.utils.deprecation.warn(\"Connection.prototype.checkType\", \"October 2019\", \"January 2021\", \"the workspace's connection checker\");\n    return this.getConnectionChecker().canConnect(this, a, !1);\n  };\n\n  Blockly.Connection.prototype.checkType_ = function (a) {\n    Blockly.utils.deprecation.warn(\"Connection.prototype.checkType_\", \"October 2019\", \"January 2021\", \"the workspace's connection checker\");\n    return this.checkType(a);\n  };\n\n  Blockly.Connection.prototype.onCheckChanged_ = function () {\n    !this.isConnected() || this.targetConnection && this.getConnectionChecker().canConnect(this, this.targetConnection, !1) || (this.isSuperior() ? this.targetBlock() : this.sourceBlock_).unplug();\n  };\n\n  Blockly.Connection.prototype.setCheck = function (a) {\n    a ? (Array.isArray(a) || (a = [a]), this.check_ = a, this.onCheckChanged_()) : this.check_ = null;\n    return this;\n  };\n\n  Blockly.Connection.prototype.getCheck = function () {\n    return this.check_;\n  };\n\n  Blockly.Connection.prototype.setShadowDom = function (a) {\n    this.shadowDom_ = a;\n    a = this.targetBlock();\n    a ? a.isShadow() && (a.dispose(!1), this.respawnShadow_()) : this.respawnShadow_();\n  };\n\n  Blockly.Connection.prototype.getShadowDom = function () {\n    return this.shadowDom_;\n  };\n\n  Blockly.Connection.prototype.neighbours = function (a) {\n    return [];\n  };\n\n  Blockly.Connection.prototype.getParentInput = function () {\n    for (var a = null, b = this.sourceBlock_, c = b.inputList, d = 0; d < b.inputList.length; d++) {\n      if (c[d].connection === this) {\n        a = c[d];\n        break;\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Connection.prototype.toString = function () {\n    var a = this.sourceBlock_;\n    if (a) {\n      if (a.outputConnection == this) var b = \"Output Connection of \";else if (a.previousConnection == this) b = \"Previous Connection of \";else if (a.nextConnection == this) b = \"Next Connection of \";else {\n        b = null;\n\n        for (var c = 0, d; d = a.inputList[c]; c++) {\n          if (d.connection == this) {\n            b = d;\n            break;\n          }\n        }\n\n        if (b) b = 'Input \"' + b.name + '\" connection on ';else return console.warn(\"Connection not actually connected to sourceBlock_\"), \"Orphan Connection\";\n      }\n    } else return \"Orphan Connection\";\n    return b + a.toDevString();\n  };\n\n  Blockly.Extensions = {};\n  Blockly.Extensions.ALL_ = {};\n\n  Blockly.Extensions.register = function (a, b) {\n    if (\"string\" != typeof a || \"\" == a.trim()) throw Error('Error: Invalid extension name \"' + a + '\"');\n    if (Blockly.Extensions.ALL_[a]) throw Error('Error: Extension \"' + a + '\" is already registered.');\n    if (\"function\" != typeof b) throw Error('Error: Extension \"' + a + '\" must be a function');\n    Blockly.Extensions.ALL_[a] = b;\n  };\n\n  Blockly.Extensions.registerMixin = function (a, b) {\n    if (!b || \"object\" != typeof b) throw Error('Error: Mixin \"' + a + '\" must be a object');\n    Blockly.Extensions.register(a, function () {\n      this.mixin(b);\n    });\n  };\n\n  Blockly.Extensions.registerMutator = function (a, b, c, d) {\n    var e = 'Error when registering mutator \"' + a + '\": ';\n    Blockly.Extensions.checkHasFunction_(e, b.domToMutation, \"domToMutation\");\n    Blockly.Extensions.checkHasFunction_(e, b.mutationToDom, \"mutationToDom\");\n    var f = Blockly.Extensions.checkMutatorDialog_(b, e);\n    if (c && \"function\" != typeof c) throw Error('Extension \"' + a + '\" is not a function');\n    Blockly.Extensions.register(a, function () {\n      if (f) {\n        if (!Blockly.Mutator) throw Error(e + \"Missing require for Blockly.Mutator\");\n        this.setMutator(new Blockly.Mutator(d || []));\n      }\n\n      this.mixin(b);\n      c && c.apply(this);\n    });\n  };\n\n  Blockly.Extensions.unregister = function (a) {\n    Blockly.Extensions.ALL_[a] ? delete Blockly.Extensions.ALL_[a] : console.warn('No extension mapping for name \"' + a + '\" found to unregister');\n  };\n\n  Blockly.Extensions.apply = function (a, b, c) {\n    var d = Blockly.Extensions.ALL_[a];\n    if (\"function\" != typeof d) throw Error('Error: Extension \"' + a + '\" not found.');\n    if (c) Blockly.Extensions.checkNoMutatorProperties_(a, b);else var e = Blockly.Extensions.getMutatorProperties_(b);\n    d.apply(b);\n    if (c) Blockly.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator \"' + a + '\": ', b);else if (!Blockly.Extensions.mutatorPropertiesMatch_(e, b)) throw Error('Error when applying extension \"' + a + '\": mutation properties changed when applying a non-mutator extension.');\n  };\n\n  Blockly.Extensions.checkHasFunction_ = function (a, b, c) {\n    if (!b) throw Error(a + 'missing required property \"' + c + '\"');\n    if (\"function\" != typeof b) throw Error(a + '\" required property \"' + c + '\" must be a function');\n  };\n\n  Blockly.Extensions.checkNoMutatorProperties_ = function (a, b) {\n    if (Blockly.Extensions.getMutatorProperties_(b).length) throw Error('Error: tried to apply mutation \"' + a + '\" to a block that already has mutator functions.  Block id: ' + b.id);\n  };\n\n  Blockly.Extensions.checkMutatorDialog_ = function (a, b) {\n    var c = void 0 !== a.compose,\n        d = void 0 !== a.decompose;\n\n    if (c && d) {\n      if (\"function\" != typeof a.compose) throw Error(b + \"compose must be a function.\");\n      if (\"function\" != typeof a.decompose) throw Error(b + \"decompose must be a function.\");\n      return !0;\n    }\n\n    if (c || d) throw Error(b + 'Must have both or neither of \"compose\" and \"decompose\"');\n    return !1;\n  };\n\n  Blockly.Extensions.checkBlockHasMutatorProperties_ = function (a, b) {\n    if (\"function\" != typeof b.domToMutation) throw Error(a + 'Applying a mutator didn\\'t add \"domToMutation\"');\n    if (\"function\" != typeof b.mutationToDom) throw Error(a + 'Applying a mutator didn\\'t add \"mutationToDom\"');\n    Blockly.Extensions.checkMutatorDialog_(b, a);\n  };\n\n  Blockly.Extensions.getMutatorProperties_ = function (a) {\n    var b = [];\n    void 0 !== a.domToMutation && b.push(a.domToMutation);\n    void 0 !== a.mutationToDom && b.push(a.mutationToDom);\n    void 0 !== a.compose && b.push(a.compose);\n    void 0 !== a.decompose && b.push(a.decompose);\n    return b;\n  };\n\n  Blockly.Extensions.mutatorPropertiesMatch_ = function (a, b) {\n    b = Blockly.Extensions.getMutatorProperties_(b);\n    if (b.length != a.length) return !1;\n\n    for (var c = 0; c < b.length; c++) {\n      if (a[c] != b[c]) return !1;\n    }\n\n    return !0;\n  };\n\n  Blockly.Extensions.buildTooltipForDropdown = function (a, b) {\n    var c = [];\n    \"object\" == typeof document && Blockly.utils.runAfterPageLoad(function () {\n      for (var d in b) {\n        Blockly.utils.checkMessageReferences(b[d]);\n      }\n    });\n    return function () {\n      this.type && -1 == c.indexOf(this.type) && (Blockly.Extensions.checkDropdownOptionsInTable_(this, a, b), c.push(this.type));\n      this.setTooltip(function () {\n        var d = String(this.getFieldValue(a)),\n            e = b[d];\n        null == e ? -1 == c.indexOf(this.type) && (d = \"No tooltip mapping for value \" + d + \" of field \" + a, null != this.type && (d += \" of block type \" + this.type), console.warn(d + \".\")) : e = Blockly.utils.replaceMessageReferences(e);\n        return e;\n      }.bind(this));\n    };\n  };\n\n  Blockly.Extensions.checkDropdownOptionsInTable_ = function (a, b, c) {\n    var d = a.getField(b);\n\n    if (!d.isOptionListDynamic()) {\n      d = d.getOptions();\n\n      for (var e = 0; e < d.length; ++e) {\n        var f = d[e][1];\n        null == c[f] && console.warn(\"No tooltip mapping for value \" + f + \" of field \" + b + \" of block type \" + a.type);\n      }\n    }\n  };\n\n  Blockly.Extensions.buildTooltipWithFieldText = function (a, b) {\n    \"object\" == typeof document && Blockly.utils.runAfterPageLoad(function () {\n      Blockly.utils.checkMessageReferences(a);\n    });\n    return function () {\n      this.setTooltip(function () {\n        var c = this.getField(b);\n        return Blockly.utils.replaceMessageReferences(a).replace(\"%1\", c ? c.getText() : \"\");\n      }.bind(this));\n    };\n  };\n\n  Blockly.Extensions.extensionParentTooltip_ = function () {\n    this.tooltipWhenNotConnected_ = this.tooltip;\n    this.setTooltip(function () {\n      var a = this.getParent();\n      return a && a.getInputsInline() && a.tooltip || this.tooltipWhenNotConnected_;\n    }.bind(this));\n  };\n\n  Blockly.Extensions.register(\"parent_tooltip_when_inline\", Blockly.Extensions.extensionParentTooltip_);\n  Blockly.fieldRegistry = {};\n\n  Blockly.fieldRegistry.register = function (a, b) {\n    Blockly.registry.register(Blockly.registry.Type.FIELD, a, b);\n  };\n\n  Blockly.fieldRegistry.unregister = function (a) {\n    Blockly.registry.unregister(Blockly.registry.Type.FIELD, a);\n  };\n\n  Blockly.fieldRegistry.fromJson = function (a) {\n    var b = Blockly.registry.getObject(Blockly.registry.Type.FIELD, a.type);\n    return b ? b.fromJson(a) : (console.warn(\"Blockly could not create a field of type \" + a.type + \". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached.\"), null);\n  };\n\n  Blockly.blockAnimations = {};\n  Blockly.blockAnimations.disconnectPid_ = 0;\n  Blockly.blockAnimations.disconnectGroup_ = null;\n\n  Blockly.blockAnimations.disposeUiEffect = function (a) {\n    var b = a.workspace,\n        c = a.getSvgRoot();\n    b.getAudioManager().play(\"delete\");\n    a = b.getSvgXY(c);\n    c = c.cloneNode(!0);\n    c.translateX_ = a.x;\n    c.translateY_ = a.y;\n    c.setAttribute(\"transform\", \"translate(\" + a.x + \",\" + a.y + \")\");\n    b.getParentSvg().appendChild(c);\n    c.bBox_ = c.getBBox();\n    Blockly.blockAnimations.disposeUiStep_(c, b.RTL, new Date(), b.scale);\n  };\n\n  Blockly.blockAnimations.disposeUiStep_ = function (a, b, c, d) {\n    var e = (new Date() - c) / 150;\n    1 < e ? Blockly.utils.dom.removeNode(a) : (a.setAttribute(\"transform\", \"translate(\" + (a.translateX_ + (b ? -1 : 1) * a.bBox_.width * d / 2 * e) + \",\" + (a.translateY_ + a.bBox_.height * d * e) + \") scale(\" + (1 - e) * d + \")\"), setTimeout(Blockly.blockAnimations.disposeUiStep_, 10, a, b, c, d));\n  };\n\n  Blockly.blockAnimations.connectionUiEffect = function (a) {\n    var b = a.workspace,\n        c = b.scale;\n    b.getAudioManager().play(\"click\");\n\n    if (!(1 > c)) {\n      var d = b.getSvgXY(a.getSvgRoot());\n      a.outputConnection ? (d.x += (a.RTL ? 3 : -3) * c, d.y += 13 * c) : a.previousConnection && (d.x += (a.RTL ? -23 : 23) * c, d.y += 3 * c);\n      a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CIRCLE, {\n        cx: d.x,\n        cy: d.y,\n        r: 0,\n        fill: \"none\",\n        stroke: \"#888\",\n        \"stroke-width\": 10\n      }, b.getParentSvg());\n      Blockly.blockAnimations.connectionUiStep_(a, new Date(), c);\n    }\n  };\n\n  Blockly.blockAnimations.connectionUiStep_ = function (a, b, c) {\n    var d = (new Date() - b) / 150;\n    1 < d ? Blockly.utils.dom.removeNode(a) : (a.setAttribute(\"r\", 25 * d * c), a.style.opacity = 1 - d, Blockly.blockAnimations.disconnectPid_ = setTimeout(Blockly.blockAnimations.connectionUiStep_, 10, a, b, c));\n  };\n\n  Blockly.blockAnimations.disconnectUiEffect = function (a) {\n    a.workspace.getAudioManager().play(\"disconnect\");\n\n    if (!(1 > a.workspace.scale)) {\n      var b = a.getHeightWidth().height;\n      b = Math.atan(10 / b) / Math.PI * 180;\n      a.RTL || (b *= -1);\n      Blockly.blockAnimations.disconnectUiStep_(a.getSvgRoot(), b, new Date());\n    }\n  };\n\n  Blockly.blockAnimations.disconnectUiStep_ = function (a, b, c) {\n    var d = (new Date() - c) / 200;\n    1 < d ? a.skew_ = \"\" : (a.skew_ = \"skewX(\" + Math.round(Math.sin(d * Math.PI * 3) * (1 - d) * b) + \")\", Blockly.blockAnimations.disconnectGroup_ = a, Blockly.blockAnimations.disconnectPid_ = setTimeout(Blockly.blockAnimations.disconnectUiStep_, 10, a, b, c));\n    a.setAttribute(\"transform\", a.translate_ + a.skew_);\n  };\n\n  Blockly.blockAnimations.disconnectUiStop = function () {\n    if (Blockly.blockAnimations.disconnectGroup_) {\n      clearTimeout(Blockly.blockAnimations.disconnectPid_);\n      var a = Blockly.blockAnimations.disconnectGroup_;\n      a.skew_ = \"\";\n      a.setAttribute(\"transform\", a.translate_);\n      Blockly.blockAnimations.disconnectGroup_ = null;\n    }\n  };\n\n  Blockly.Events.BlockDrag = function (a, b, c) {\n    Blockly.Events.BlockDrag.superClass_.constructor.call(this, a ? a.workspace.id : void 0);\n    this.blockId = a ? a.id : null;\n    this.isStart = b;\n    this.blocks = c;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.BlockDrag, Blockly.Events.UiBase);\n  Blockly.Events.BlockDrag.prototype.type = Blockly.Events.BLOCK_DRAG;\n\n  Blockly.Events.BlockDrag.prototype.toJson = function () {\n    var a = Blockly.Events.BlockDrag.superClass_.toJson.call(this);\n    a.isStart = this.isStart;\n    a.blockId = this.blockId;\n    a.blocks = this.blocks;\n    return a;\n  };\n\n  Blockly.Events.BlockDrag.prototype.fromJson = function (a) {\n    Blockly.Events.BlockDrag.superClass_.fromJson.call(this, a);\n    this.isStart = a.isStart;\n    this.blockId = a.blockId;\n    this.blocks = a.blocks;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.BLOCK_DRAG, Blockly.Events.BlockDrag);\n\n  Blockly.InsertionMarkerManager = function (a) {\n    this.topBlock_ = Blockly.selected = a;\n    this.workspace_ = a.workspace;\n    this.lastMarker_ = this.lastOnStack_ = null;\n    this.firstMarker_ = this.createMarkerBlock_(this.topBlock_);\n    this.localConnection_ = this.closestConnection_ = null;\n    this.wouldDeleteBlock_ = !1;\n    this.fadedBlock_ = this.highlightedBlock_ = this.markerConnection_ = null;\n    this.availableConnections_ = this.initAvailableConnections_();\n  };\n\n  Blockly.InsertionMarkerManager.PREVIEW_TYPE = {\n    INSERTION_MARKER: 0,\n    INPUT_OUTLINE: 1,\n    REPLACEMENT_FADE: 2\n  };\n\n  Blockly.InsertionMarkerManager.prototype.dispose = function () {\n    this.availableConnections_.length = 0;\n    Blockly.Events.disable();\n\n    try {\n      this.firstMarker_ && this.firstMarker_.dispose(), this.lastMarker_ && this.lastMarker_.dispose();\n    } finally {\n      Blockly.Events.enable();\n    }\n  };\n\n  Blockly.InsertionMarkerManager.prototype.updateAvailableConnections = function () {\n    this.availableConnections_ = this.initAvailableConnections_();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.wouldDeleteBlock = function () {\n    return this.wouldDeleteBlock_;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.wouldConnectBlock = function () {\n    return !!this.closestConnection_;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.applyConnections = function () {\n    if (this.closestConnection_ && (Blockly.Events.disable(), this.hidePreview_(), Blockly.Events.enable(), this.localConnection_.connect(this.closestConnection_), this.topBlock_.rendered)) {\n      var a = this.localConnection_.isSuperior() ? this.closestConnection_ : this.localConnection_;\n      Blockly.blockAnimations.connectionUiEffect(a.getSourceBlock());\n      this.topBlock_.getRootBlock().bringToFront();\n    }\n  };\n\n  Blockly.InsertionMarkerManager.prototype.update = function (a, b) {\n    var c = this.getCandidate_(a);\n    if ((this.wouldDeleteBlock_ = this.shouldDelete_(c, b)) || this.shouldUpdatePreviews_(c, a)) Blockly.Events.disable(), this.maybeHidePreview_(c), this.maybeShowPreview_(c), Blockly.Events.enable();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.createMarkerBlock_ = function (a) {\n    var b = a.type;\n    Blockly.Events.disable();\n\n    try {\n      var c = this.workspace_.newBlock(b);\n      c.setInsertionMarker(!0);\n\n      if (a.mutationToDom) {\n        var d = a.mutationToDom();\n        d && c.domToMutation(d);\n      }\n\n      for (b = 0; b < a.inputList.length; b++) {\n        var e = a.inputList[b];\n\n        if (e.name != Blockly.constants.COLLAPSED_INPUT_NAME) {\n          var f = c.inputList[b];\n\n          for (d = 0; d < e.fieldRow.length; d++) {\n            f.fieldRow[d].setValue(e.fieldRow[d].getValue());\n          }\n        }\n      }\n\n      c.setCollapsed(a.isCollapsed());\n      c.setInputsInline(a.getInputsInline());\n      c.initSvg();\n      c.getSvgRoot().setAttribute(\"visibility\", \"hidden\");\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    return c;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.initAvailableConnections_ = function () {\n    var a = this.topBlock_.getConnections_(!1),\n        b = this.topBlock_.lastConnectionInStack();\n\n    if (b && b != this.topBlock_.nextConnection) {\n      a.push(b);\n      this.lastOnStack_ = b;\n\n      if (this.lastMarker_) {\n        Blockly.Events.disable();\n\n        try {\n          this.lastMarker_.dispose();\n        } finally {\n          Blockly.Events.enable();\n        }\n      }\n\n      this.lastMarker_ = this.createMarkerBlock_(b.getSourceBlock());\n    }\n\n    return a;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.shouldUpdatePreviews_ = function (a, b) {\n    var c = a.local,\n        d = a.closest;\n    a = a.radius;\n\n    if (c && d) {\n      if (this.localConnection_ && this.closestConnection_) {\n        if (this.closestConnection_ == d && this.localConnection_ == c) return !1;\n        c = this.localConnection_.x + b.x - this.closestConnection_.x;\n        b = this.localConnection_.y + b.y - this.closestConnection_.y;\n        b = Math.sqrt(c * c + b * b);\n        return !(d && a > b - Blockly.CURRENT_CONNECTION_PREFERENCE);\n      }\n\n      if (this.localConnection_ || this.closestConnection_) console.error(\"Only one of localConnection_ and closestConnection_ was set.\");else return !0;\n    } else return !(!this.localConnection_ || !this.closestConnection_);\n\n    console.error(\"Returning true from shouldUpdatePreviews, but it's not clear why.\");\n    return !0;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.getCandidate_ = function (a) {\n    for (var b = this.getStartRadius_(), c = null, d = null, e = 0; e < this.availableConnections_.length; e++) {\n      var f = this.availableConnections_[e],\n          g = f.closest(b, a);\n      g.connection && (c = g.connection, d = f, b = g.radius);\n    }\n\n    return {\n      closest: c,\n      local: d,\n      radius: b\n    };\n  };\n\n  Blockly.InsertionMarkerManager.prototype.getStartRadius_ = function () {\n    return this.closestConnection_ && this.localConnection_ ? Blockly.CONNECTING_SNAP_RADIUS : Blockly.SNAP_RADIUS;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.shouldDelete_ = function (a, b) {\n    a = a && !!a.closest && b != Blockly.DELETE_AREA_TOOLBOX;\n    return !!b && !this.topBlock_.getParent() && this.topBlock_.isDeletable() && !a;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.maybeShowPreview_ = function (a) {\n    if (!this.wouldDeleteBlock_) {\n      var b = a.closest;\n      a = a.local;\n      b && (b == this.closestConnection_ || b.getSourceBlock().isInsertionMarker() ? console.log(\"Trying to connect to an insertion marker\") : (this.closestConnection_ = b, this.localConnection_ = a, this.showPreview_()));\n    }\n  };\n\n  Blockly.InsertionMarkerManager.prototype.showPreview_ = function () {\n    var a = this.closestConnection_,\n        b = this.workspace_.getRenderer();\n\n    switch (b.getConnectionPreviewMethod(a, this.localConnection_, this.topBlock_)) {\n      case Blockly.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:\n        this.showInsertionInputOutline_();\n        break;\n\n      case Blockly.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:\n        this.showInsertionMarker_();\n        break;\n\n      case Blockly.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:\n        this.showReplacementFade_();\n    }\n\n    a && b.shouldHighlightConnection(a) && a.highlight();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.maybeHidePreview_ = function (a) {\n    if (a.closest) {\n      var b = this.closestConnection_ != a.closest;\n      a = this.localConnection_ != a.local;\n      this.closestConnection_ && this.localConnection_ && (b || a || this.wouldDeleteBlock_) && this.hidePreview_();\n    } else this.hidePreview_();\n\n    this.localConnection_ = this.closestConnection_ = this.markerConnection_ = null;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.hidePreview_ = function () {\n    this.closestConnection_ && this.closestConnection_.targetBlock() && this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_) && this.closestConnection_.unhighlight();\n    this.fadedBlock_ ? this.hideReplacementFade_() : this.highlightedBlock_ ? this.hideInsertionInputOutline_() : this.markerConnection_ && this.hideInsertionMarker_();\n  };\n\n  Blockly.InsertionMarkerManager.prototype.showInsertionMarker_ = function () {\n    var a = this.localConnection_,\n        b = this.closestConnection_,\n        c = this.lastOnStack_ && a == this.lastOnStack_ ? this.lastMarker_ : this.firstMarker_;\n    a = c.getMatchingConnection(a.getSourceBlock(), a);\n    if (a == this.markerConnection_) throw Error(\"Made it to showInsertionMarker_ even though the marker isn't changing\");\n    c.render();\n    c.rendered = !0;\n    c.getSvgRoot().setAttribute(\"visibility\", \"visible\");\n    a && b && c.positionNearConnection(a, b);\n    b && a.connect(b);\n    this.markerConnection_ = a;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.hideInsertionMarker_ = function () {\n    if (this.markerConnection_) {\n      var a = this.markerConnection_,\n          b = a.getSourceBlock(),\n          c = b.nextConnection,\n          d = b.previousConnection,\n          e = b.outputConnection;\n      e = a.type == Blockly.connectionTypes.INPUT_VALUE && !(e && e.targetConnection);\n      !(a != c || d && d.targetConnection) || e ? a.targetBlock().unplug(!1) : a.type == Blockly.connectionTypes.NEXT_STATEMENT && a != c ? (c = a.targetConnection, c.getSourceBlock().unplug(!1), d = d ? d.targetConnection : null, b.unplug(!0), d && d.connect(c)) : b.unplug(!0);\n      if (a.targetConnection) throw Error(\"markerConnection_ still connected at the end of disconnectInsertionMarker\");\n      this.markerConnection_ = null;\n      b.getSvgRoot().setAttribute(\"visibility\", \"hidden\");\n    } else console.log(\"No insertion marker connection to disconnect\");\n  };\n\n  Blockly.InsertionMarkerManager.prototype.showInsertionInputOutline_ = function () {\n    var a = this.closestConnection_;\n    this.highlightedBlock_ = a.getSourceBlock();\n    this.highlightedBlock_.highlightShapeForInput(a, !0);\n  };\n\n  Blockly.InsertionMarkerManager.prototype.hideInsertionInputOutline_ = function () {\n    this.highlightedBlock_.highlightShapeForInput(this.closestConnection_, !1);\n    this.highlightedBlock_ = null;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.showReplacementFade_ = function () {\n    this.fadedBlock_ = this.closestConnection_.targetBlock();\n    this.fadedBlock_.fadeForReplacement(!0);\n  };\n\n  Blockly.InsertionMarkerManager.prototype.hideReplacementFade_ = function () {\n    this.fadedBlock_.fadeForReplacement(!1);\n    this.fadedBlock_ = null;\n  };\n\n  Blockly.InsertionMarkerManager.prototype.getInsertionMarkers = function () {\n    var a = [];\n    this.firstMarker_ && a.push(this.firstMarker_);\n    this.lastMarker_ && a.push(this.lastMarker_);\n    return a;\n  };\n\n  Blockly.BlockDragger = function (a, b) {\n    this.draggingBlock_ = a;\n    this.workspace_ = b;\n    this.draggedConnectionManager_ = new Blockly.InsertionMarkerManager(this.draggingBlock_);\n    this.deleteArea_ = null;\n    this.wouldDeleteBlock_ = !1;\n    this.startXY_ = this.draggingBlock_.getRelativeToSurfaceXY();\n    this.dragIconData_ = Blockly.BlockDragger.initIconData_(a);\n  };\n\n  Blockly.BlockDragger.prototype.dispose = function () {\n    this.dragIconData_.length = 0;\n    this.draggedConnectionManager_ && this.draggedConnectionManager_.dispose();\n  };\n\n  Blockly.BlockDragger.initIconData_ = function (a) {\n    var b = [];\n    a = a.getDescendants(!1);\n\n    for (var c = 0, d; d = a[c]; c++) {\n      d = d.getIcons();\n\n      for (var e = 0; e < d.length; e++) {\n        var f = {\n          location: d[e].getIconLocation(),\n          icon: d[e]\n        };\n        b.push(f);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.BlockDragger.prototype.startBlockDrag = function (a, b) {\n    Blockly.Events.getGroup() || Blockly.Events.setGroup(!0);\n    this.fireDragStartEvent_();\n    this.workspace_.isMutator && this.draggingBlock_.bringToFront();\n    Blockly.utils.dom.startTextWidthCache();\n    this.workspace_.setResizesEnabled(!1);\n    Blockly.blockAnimations.disconnectUiStop();\n    if (this.draggingBlock_.getParent() || b && this.draggingBlock_.nextConnection && this.draggingBlock_.nextConnection.targetBlock()) this.draggingBlock_.unplug(b), a = this.pixelsToWorkspaceUnits_(a), a = Blockly.utils.Coordinate.sum(this.startXY_, a), this.draggingBlock_.translate(a.x, a.y), Blockly.blockAnimations.disconnectUiEffect(this.draggingBlock_), this.draggedConnectionManager_.updateAvailableConnections();\n    this.draggingBlock_.setDragging(!0);\n    this.draggingBlock_.moveToDragSurface();\n    (a = this.workspace_.getToolbox()) && \"function\" == typeof a.addStyle && (b = this.draggingBlock_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\", a.addStyle(b));\n  };\n\n  Blockly.BlockDragger.prototype.fireDragStartEvent_ = function () {\n    var a = new (Blockly.Events.get(Blockly.Events.BLOCK_DRAG))(this.draggingBlock_, !0, this.draggingBlock_.getDescendants(!1));\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.BlockDragger.prototype.dragBlock = function (a, b) {\n    b = this.pixelsToWorkspaceUnits_(b);\n    var c = Blockly.utils.Coordinate.sum(this.startXY_, b);\n    this.draggingBlock_.moveDuringDrag(c);\n    this.dragIcons_(b);\n    this.deleteArea_ = this.workspace_.isDeleteArea(a);\n    this.draggedConnectionManager_.update(b, this.deleteArea_);\n    this.updateCursorDuringBlockDrag_();\n  };\n\n  Blockly.BlockDragger.prototype.endBlockDrag = function (a, b) {\n    this.dragBlock(a, b);\n    this.dragIconData_ = [];\n    this.fireDragEndEvent_();\n    Blockly.utils.dom.stopTextWidthCache();\n    Blockly.blockAnimations.disconnectUiStop();\n    a = this.pixelsToWorkspaceUnits_(b);\n    b = Blockly.utils.Coordinate.sum(this.startXY_, a);\n    this.draggingBlock_.moveOffDragSurface(b);\n    this.maybeDeleteBlock_() || (this.draggingBlock_.moveConnections(a.x, a.y), this.draggingBlock_.setDragging(!1), this.fireMoveEvent_(), this.draggedConnectionManager_.wouldConnectBlock() ? this.draggedConnectionManager_.applyConnections() : this.draggingBlock_.render(), this.draggingBlock_.scheduleSnapAndBump());\n    this.workspace_.setResizesEnabled(!0);\n    (a = this.workspace_.getToolbox()) && \"function\" == typeof a.removeStyle && (b = this.draggingBlock_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\", a.removeStyle(b));\n    Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.BlockDragger.prototype.fireDragEndEvent_ = function () {\n    var a = new (Blockly.Events.get(Blockly.Events.BLOCK_DRAG))(this.draggingBlock_, !1, this.draggingBlock_.getDescendants(!1));\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.BlockDragger.prototype.fireMoveEvent_ = function () {\n    var a = new (Blockly.Events.get(Blockly.Events.BLOCK_MOVE))(this.draggingBlock_);\n    a.oldCoordinate = this.startXY_;\n    a.recordNew();\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.BlockDragger.prototype.maybeDeleteBlock_ = function () {\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBlock_ ? (a && setTimeout(a.closeLid.bind(a), 100), this.fireMoveEvent_(), this.draggingBlock_.dispose(!1, !0), Blockly.draggingConnections = []) : a && a.closeLid();\n    return this.wouldDeleteBlock_;\n  };\n\n  Blockly.BlockDragger.prototype.updateCursorDuringBlockDrag_ = function () {\n    this.wouldDeleteBlock_ = this.draggedConnectionManager_.wouldDeleteBlock();\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBlock_ ? (this.draggingBlock_.setDeleteStyle(!0), this.deleteArea_ == Blockly.DELETE_AREA_TRASH && a && a.setLidOpen(!0)) : (this.draggingBlock_.setDeleteStyle(!1), a && a.setLidOpen(!1));\n  };\n\n  Blockly.BlockDragger.prototype.pixelsToWorkspaceUnits_ = function (a) {\n    a = new Blockly.utils.Coordinate(a.x / this.workspace_.scale, a.y / this.workspace_.scale);\n    this.workspace_.isMutator && a.scale(1 / this.workspace_.options.parentWorkspace.scale);\n    return a;\n  };\n\n  Blockly.BlockDragger.prototype.dragIcons_ = function (a) {\n    for (var b = 0; b < this.dragIconData_.length; b++) {\n      var c = this.dragIconData_[b];\n      c.icon.setIconLocation(Blockly.utils.Coordinate.sum(c.location, a));\n    }\n  };\n\n  Blockly.BlockDragger.prototype.getInsertionMarkers = function () {\n    return this.draggedConnectionManager_ && this.draggedConnectionManager_.getInsertionMarkers ? this.draggedConnectionManager_.getInsertionMarkers() : [];\n  };\n\n  Blockly.IConnectionChecker = function () {};\n\n  Blockly.ConnectionChecker = function () {};\n\n  Blockly.ConnectionChecker.prototype.canConnect = function (a, b, c, d) {\n    return this.canConnectWithReason(a, b, c, d) == Blockly.Connection.CAN_CONNECT;\n  };\n\n  Blockly.ConnectionChecker.prototype.canConnectWithReason = function (a, b, c, d) {\n    var e = this.doSafetyChecks(a, b);\n    return e != Blockly.Connection.CAN_CONNECT ? e : this.doTypeChecks(a, b) ? c && !this.doDragChecks(a, b, d || 0) ? Blockly.Connection.REASON_DRAG_CHECKS_FAILED : Blockly.Connection.CAN_CONNECT : Blockly.Connection.REASON_CHECKS_FAILED;\n  };\n\n  Blockly.ConnectionChecker.prototype.getErrorMessage = function (a, b, c) {\n    switch (a) {\n      case Blockly.Connection.REASON_SELF_CONNECTION:\n        return \"Attempted to connect a block to itself.\";\n\n      case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:\n        return \"Blocks not on same workspace.\";\n\n      case Blockly.Connection.REASON_WRONG_TYPE:\n        return \"Attempt to connect incompatible types.\";\n\n      case Blockly.Connection.REASON_TARGET_NULL:\n        return \"Target connection is null.\";\n\n      case Blockly.Connection.REASON_CHECKS_FAILED:\n        return \"Connection checks failed. \" + (b + \" expected \" + b.getCheck() + \", found \" + c.getCheck());\n\n      case Blockly.Connection.REASON_SHADOW_PARENT:\n        return \"Connecting non-shadow to shadow block.\";\n\n      case Blockly.Connection.REASON_DRAG_CHECKS_FAILED:\n        return \"Drag checks failed.\";\n\n      default:\n        return \"Unknown connection failure: this should never happen!\";\n    }\n  };\n\n  Blockly.ConnectionChecker.prototype.doSafetyChecks = function (a, b) {\n    if (!a || !b) return Blockly.Connection.REASON_TARGET_NULL;\n    if (a.isSuperior()) var c = a.getSourceBlock(),\n        d = b.getSourceBlock();else d = a.getSourceBlock(), c = b.getSourceBlock();\n    return c == d ? Blockly.Connection.REASON_SELF_CONNECTION : b.type != Blockly.OPPOSITE_TYPE[a.type] ? Blockly.Connection.REASON_WRONG_TYPE : c.workspace !== d.workspace ? Blockly.Connection.REASON_DIFFERENT_WORKSPACES : c.isShadow() && !d.isShadow() ? Blockly.Connection.REASON_SHADOW_PARENT : Blockly.Connection.CAN_CONNECT;\n  };\n\n  Blockly.ConnectionChecker.prototype.doTypeChecks = function (a, b) {\n    a = a.getCheck();\n    b = b.getCheck();\n    if (!a || !b) return !0;\n\n    for (var c = 0; c < a.length; c++) {\n      if (-1 != b.indexOf(a[c])) return !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.ConnectionChecker.prototype.doDragChecks = function (a, b, c) {\n    if (a.distanceFrom(b) > c || b.getSourceBlock().isInsertionMarker()) return !1;\n\n    switch (b.type) {\n      case Blockly.connectionTypes.PREVIOUS_STATEMENT:\n        return this.canConnectToPrevious_(a, b);\n\n      case Blockly.connectionTypes.OUTPUT_VALUE:\n        if (b.isConnected() && !b.targetBlock().isInsertionMarker() || a.isConnected()) return !1;\n        break;\n\n      case Blockly.connectionTypes.INPUT_VALUE:\n        if (b.isConnected() && !b.targetBlock().isMovable() && !b.targetBlock().isShadow()) return !1;\n        break;\n\n      case Blockly.connectionTypes.NEXT_STATEMENT:\n        if (b.isConnected() && !a.getSourceBlock().nextConnection && !b.targetBlock().isShadow() && b.targetBlock().nextConnection) return !1;\n        break;\n\n      default:\n        return !1;\n    }\n\n    return -1 != Blockly.draggingConnections.indexOf(b) ? !1 : !0;\n  };\n\n  Blockly.ConnectionChecker.prototype.canConnectToPrevious_ = function (a, b) {\n    if (a.targetConnection || -1 != Blockly.draggingConnections.indexOf(b)) return !1;\n    if (!b.targetConnection) return !0;\n    a = b.targetBlock();\n    return a.isInsertionMarker() ? !a.getPreviousBlock() : !1;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.CONNECTION_CHECKER, Blockly.registry.DEFAULT, Blockly.ConnectionChecker);\n\n  Blockly.VariableMap = function (a) {\n    this.variableMap_ = Object.create(null);\n    this.workspace = a;\n  };\n\n  Blockly.VariableMap.prototype.clear = function () {\n    this.variableMap_ = Object.create(null);\n  };\n\n  Blockly.VariableMap.prototype.renameVariable = function (a, b) {\n    var c = this.getVariable(b, a.type),\n        d = this.workspace.getAllBlocks(!1);\n    Blockly.Events.setGroup(!0);\n\n    try {\n      c && c.getId() != a.getId() ? this.renameVariableWithConflict_(a, b, c, d) : this.renameVariableAndUses_(a, b, d);\n    } finally {\n      Blockly.Events.setGroup(!1);\n    }\n  };\n\n  Blockly.VariableMap.prototype.renameVariableById = function (a, b) {\n    var c = this.getVariableById(a);\n    if (!c) throw Error(\"Tried to rename a variable that didn't exist. ID: \" + a);\n    this.renameVariable(c, b);\n  };\n\n  Blockly.VariableMap.prototype.renameVariableAndUses_ = function (a, b, c) {\n    Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.VAR_RENAME))(a, b));\n    a.name = b;\n\n    for (b = 0; b < c.length; b++) {\n      c[b].updateVarName(a);\n    }\n  };\n\n  Blockly.VariableMap.prototype.renameVariableWithConflict_ = function (a, b, c, d) {\n    var e = a.type;\n    b != c.name && this.renameVariableAndUses_(c, b, d);\n\n    for (b = 0; b < d.length; b++) {\n      d[b].renameVarById(a.getId(), c.getId());\n    }\n\n    Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.VAR_DELETE))(a));\n    a = this.getVariablesOfType(e).indexOf(a);\n    this.variableMap_[e].splice(a, 1);\n  };\n\n  Blockly.VariableMap.prototype.createVariable = function (a, b, c) {\n    var d = this.getVariable(a, b);\n\n    if (d) {\n      if (c && d.getId() != c) throw Error('Variable \"' + a + '\" is already in use and its id is \"' + d.getId() + '\" which conflicts with the passed in id, \"' + c + '\".');\n      return d;\n    }\n\n    if (c && this.getVariableById(c)) throw Error('Variable id, \"' + c + '\", is already in use.');\n    d = c || Blockly.utils.genUid();\n    b = b || \"\";\n    d = new Blockly.VariableModel(this.workspace, a, b, d);\n    a = this.variableMap_[b] || [];\n    a.push(d);\n    delete this.variableMap_[b];\n    this.variableMap_[b] = a;\n    return d;\n  };\n\n  Blockly.VariableMap.prototype.deleteVariable = function (a) {\n    for (var b = this.variableMap_[a.type], c = 0, d; d = b[c]; c++) {\n      if (d.getId() == a.getId()) {\n        b.splice(c, 1);\n        Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.VAR_DELETE))(a));\n        break;\n      }\n    }\n  };\n\n  Blockly.VariableMap.prototype.deleteVariableById = function (a) {\n    var b = this.getVariableById(a);\n\n    if (b) {\n      var c = b.name,\n          d = this.getVariableUsesById(a);\n      a = 0;\n\n      for (var e; e = d[a]; a++) {\n        if (\"procedures_defnoreturn\" == e.type || \"procedures_defreturn\" == e.type) {\n          a = e.getFieldValue(\"NAME\");\n          c = Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace(\"%1\", c).replace(\"%2\", a);\n          Blockly.alert(c);\n          return;\n        }\n      }\n\n      var f = this;\n      1 < d.length ? (c = Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace(\"%1\", String(d.length)).replace(\"%2\", c), Blockly.confirm(c, function (g) {\n        g && b && f.deleteVariableInternal(b, d);\n      })) : f.deleteVariableInternal(b, d);\n    } else console.warn(\"Can't delete non-existent variable: \" + a);\n  };\n\n  Blockly.VariableMap.prototype.deleteVariableInternal = function (a, b) {\n    var c = Blockly.Events.getGroup();\n    c || Blockly.Events.setGroup(!0);\n\n    try {\n      for (var d = 0; d < b.length; d++) {\n        b[d].dispose(!0);\n      }\n\n      this.deleteVariable(a);\n    } finally {\n      c || Blockly.Events.setGroup(!1);\n    }\n  };\n\n  Blockly.VariableMap.prototype.getVariable = function (a, b) {\n    if (b = this.variableMap_[b || \"\"]) for (var c = 0, d; d = b[c]; c++) {\n      if (Blockly.Names.equals(d.name, a)) return d;\n    }\n    return null;\n  };\n\n  Blockly.VariableMap.prototype.getVariableById = function (a) {\n    for (var b = Object.keys(this.variableMap_), c = 0; c < b.length; c++) {\n      for (var d = b[c], e = 0, f; f = this.variableMap_[d][e]; e++) {\n        if (f.getId() == a) return f;\n      }\n    }\n\n    return null;\n  };\n\n  Blockly.VariableMap.prototype.getVariablesOfType = function (a) {\n    return (a = this.variableMap_[a || \"\"]) ? a.slice() : [];\n  };\n\n  Blockly.VariableMap.prototype.getVariableTypes = function (a) {\n    var b = {};\n    Blockly.utils.object.mixin(b, this.variableMap_);\n    a && a.getPotentialVariableMap() && Blockly.utils.object.mixin(b, a.getPotentialVariableMap().variableMap_);\n    a = Object.keys(b);\n    b = !1;\n\n    for (var c = 0; c < a.length; c++) {\n      \"\" == a[c] && (b = !0);\n    }\n\n    b || a.push(\"\");\n    return a;\n  };\n\n  Blockly.VariableMap.prototype.getAllVariables = function () {\n    var a = [],\n        b;\n\n    for (b in this.variableMap_) {\n      a = a.concat(this.variableMap_[b]);\n    }\n\n    return a;\n  };\n\n  Blockly.VariableMap.prototype.getAllVariableNames = function () {\n    var a = [],\n        b;\n\n    for (b in this.variableMap_) {\n      for (var c = this.variableMap_[b], d = 0, e; e = c[d]; d++) {\n        a.push(e.name);\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.VariableMap.prototype.getVariableUsesById = function (a) {\n    for (var b = [], c = this.workspace.getAllBlocks(!1), d = 0; d < c.length; d++) {\n      var e = c[d].getVarModels();\n      if (e) for (var f = 0; f < e.length; f++) {\n        e[f].getId() == a && b.push(c[d]);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.Workspace = function (a) {\n    this.id = Blockly.utils.genUid();\n    Blockly.Workspace.WorkspaceDB_[this.id] = this;\n    this.options = a || new Blockly.Options({});\n    this.RTL = !!this.options.RTL;\n    this.horizontalLayout = !!this.options.horizontalLayout;\n    this.toolboxPosition = this.options.toolboxPosition;\n    this.connectionChecker = new (Blockly.registry.getClassFromOptions(Blockly.registry.Type.CONNECTION_CHECKER, this.options, !0))(this);\n    this.topBlocks_ = [];\n    this.topComments_ = [];\n    this.commentDB_ = Object.create(null);\n    this.listeners_ = [];\n    this.undoStack_ = [];\n    this.redoStack_ = [];\n    this.blockDB_ = Object.create(null);\n    this.typedBlocksDB_ = Object.create(null);\n    this.variableMap_ = new Blockly.VariableMap(this);\n    this.potentialVariableMap_ = null;\n  };\n\n  Blockly.Workspace.prototype.rendered = !1;\n  Blockly.Workspace.prototype.isClearing = !1;\n  Blockly.Workspace.prototype.MAX_UNDO = 1024;\n  Blockly.Workspace.prototype.connectionDBList = null;\n\n  Blockly.Workspace.prototype.dispose = function () {\n    this.listeners_.length = 0;\n    this.clear();\n    delete Blockly.Workspace.WorkspaceDB_[this.id];\n  };\n\n  Blockly.Workspace.SCAN_ANGLE = 3;\n\n  Blockly.Workspace.prototype.sortObjects_ = function (a, b) {\n    a = a.getRelativeToSurfaceXY();\n    b = b.getRelativeToSurfaceXY();\n    return a.y + Blockly.Workspace.prototype.sortObjects_.offset * a.x - (b.y + Blockly.Workspace.prototype.sortObjects_.offset * b.x);\n  };\n\n  Blockly.Workspace.prototype.addTopBlock = function (a) {\n    this.topBlocks_.push(a);\n  };\n\n  Blockly.Workspace.prototype.removeTopBlock = function (a) {\n    if (!Blockly.utils.arrayRemove(this.topBlocks_, a)) throw Error(\"Block not present in workspace's list of top-most blocks.\");\n  };\n\n  Blockly.Workspace.prototype.getTopBlocks = function (a) {\n    var b = [].concat(this.topBlocks_);\n    a && 1 < b.length && (this.sortObjects_.offset = Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)), this.RTL && (this.sortObjects_.offset *= -1), b.sort(this.sortObjects_));\n    return b;\n  };\n\n  Blockly.Workspace.prototype.addTypedBlock = function (a) {\n    this.typedBlocksDB_[a.type] || (this.typedBlocksDB_[a.type] = []);\n    this.typedBlocksDB_[a.type].push(a);\n  };\n\n  Blockly.Workspace.prototype.removeTypedBlock = function (a) {\n    this.typedBlocksDB_[a.type].splice(this.typedBlocksDB_[a.type].indexOf(a), 1);\n    this.typedBlocksDB_[a.type].length || delete this.typedBlocksDB_[a.type];\n  };\n\n  Blockly.Workspace.prototype.getBlocksByType = function (a, b) {\n    if (!this.typedBlocksDB_[a]) return [];\n    a = this.typedBlocksDB_[a].slice(0);\n    b && 1 < a.length && (this.sortObjects_.offset = Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)), this.RTL && (this.sortObjects_.offset *= -1), a.sort(this.sortObjects_));\n    return a;\n  };\n\n  Blockly.Workspace.prototype.addTopComment = function (a) {\n    this.topComments_.push(a);\n    this.commentDB_[a.id] && console.warn('Overriding an existing comment on this workspace, with id \"' + a.id + '\"');\n    this.commentDB_[a.id] = a;\n  };\n\n  Blockly.Workspace.prototype.removeTopComment = function (a) {\n    if (!Blockly.utils.arrayRemove(this.topComments_, a)) throw Error(\"Comment not present in workspace's list of top-most comments.\");\n    delete this.commentDB_[a.id];\n  };\n\n  Blockly.Workspace.prototype.getTopComments = function (a) {\n    var b = [].concat(this.topComments_);\n    a && 1 < b.length && (this.sortObjects_.offset = Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)), this.RTL && (this.sortObjects_.offset *= -1), b.sort(this.sortObjects_));\n    return b;\n  };\n\n  Blockly.Workspace.prototype.getAllBlocks = function (a) {\n    if (a) {\n      a = this.getTopBlocks(!0);\n\n      for (var b = [], c = 0; c < a.length; c++) {\n        b.push.apply(b, a[c].getDescendants(!0));\n      }\n    } else for (b = this.getTopBlocks(!1), c = 0; c < b.length; c++) {\n      b.push.apply(b, b[c].getChildren(!1));\n    }\n\n    return b.filter(function (d) {\n      return !d.isInsertionMarker();\n    });\n  };\n\n  Blockly.Workspace.prototype.clear = function () {\n    this.isClearing = !0;\n\n    try {\n      var a = Blockly.Events.getGroup();\n\n      for (a || Blockly.Events.setGroup(!0); this.topBlocks_.length;) {\n        this.topBlocks_[0].dispose(!1);\n      }\n\n      for (; this.topComments_.length;) {\n        this.topComments_[this.topComments_.length - 1].dispose(!1);\n      }\n\n      a || Blockly.Events.setGroup(!1);\n      this.variableMap_.clear();\n      this.potentialVariableMap_ && this.potentialVariableMap_.clear();\n    } finally {\n      this.isClearing = !1;\n    }\n  };\n\n  Blockly.Workspace.prototype.renameVariableById = function (a, b) {\n    this.variableMap_.renameVariableById(a, b);\n  };\n\n  Blockly.Workspace.prototype.createVariable = function (a, b, c) {\n    return this.variableMap_.createVariable(a, b, c);\n  };\n\n  Blockly.Workspace.prototype.getVariableUsesById = function (a) {\n    return this.variableMap_.getVariableUsesById(a);\n  };\n\n  Blockly.Workspace.prototype.deleteVariableById = function (a) {\n    this.variableMap_.deleteVariableById(a);\n  };\n\n  Blockly.Workspace.prototype.getVariable = function (a, b) {\n    return this.variableMap_.getVariable(a, b);\n  };\n\n  Blockly.Workspace.prototype.getVariableById = function (a) {\n    return this.variableMap_.getVariableById(a);\n  };\n\n  Blockly.Workspace.prototype.getVariablesOfType = function (a) {\n    return this.variableMap_.getVariablesOfType(a);\n  };\n\n  Blockly.Workspace.prototype.getVariableTypes = function () {\n    return this.variableMap_.getVariableTypes(this);\n  };\n\n  Blockly.Workspace.prototype.getAllVariables = function () {\n    return this.variableMap_.getAllVariables();\n  };\n\n  Blockly.Workspace.prototype.getAllVariableNames = function () {\n    return this.variableMap_.getAllVariableNames();\n  };\n\n  Blockly.Workspace.prototype.getWidth = function () {\n    return 0;\n  };\n\n  Blockly.Workspace.prototype.newBlock = function (a, b) {\n    return new Blockly.Block(this, a, b);\n  };\n\n  Blockly.Workspace.prototype.remainingCapacity = function () {\n    return isNaN(this.options.maxBlocks) ? Infinity : this.options.maxBlocks - this.getAllBlocks(!1).length;\n  };\n\n  Blockly.Workspace.prototype.remainingCapacityOfType = function (a) {\n    return this.options.maxInstances ? (void 0 !== this.options.maxInstances[a] ? this.options.maxInstances[a] : Infinity) - this.getBlocksByType(a, !1).length : Infinity;\n  };\n\n  Blockly.Workspace.prototype.isCapacityAvailable = function (a) {\n    if (!this.hasBlockLimits()) return !0;\n    var b = 0,\n        c;\n\n    for (c in a) {\n      if (a[c] > this.remainingCapacityOfType(c)) return !1;\n      b += a[c];\n    }\n\n    return b > this.remainingCapacity() ? !1 : !0;\n  };\n\n  Blockly.Workspace.prototype.hasBlockLimits = function () {\n    return Infinity != this.options.maxBlocks || !!this.options.maxInstances;\n  };\n\n  Blockly.Workspace.prototype.getUndoStack = function () {\n    return this.undoStack_;\n  };\n\n  Blockly.Workspace.prototype.getRedoStack = function () {\n    return this.redoStack_;\n  };\n\n  Blockly.Workspace.prototype.undo = function (a) {\n    var b = a ? this.redoStack_ : this.undoStack_,\n        c = a ? this.undoStack_ : this.redoStack_,\n        d = b.pop();\n\n    if (d) {\n      for (var e = [d]; b.length && d.group && d.group == b[b.length - 1].group;) {\n        e.push(b.pop());\n      }\n\n      for (b = 0; d = e[b]; b++) {\n        c.push(d);\n      }\n\n      e = Blockly.Events.filter(e, a);\n      Blockly.Events.recordUndo = !1;\n\n      try {\n        for (b = 0; d = e[b]; b++) {\n          d.run(a);\n        }\n      } finally {\n        Blockly.Events.recordUndo = !0;\n      }\n    }\n  };\n\n  Blockly.Workspace.prototype.clearUndo = function () {\n    this.undoStack_.length = 0;\n    this.redoStack_.length = 0;\n    Blockly.Events.clearPendingUndo();\n  };\n\n  Blockly.Workspace.prototype.addChangeListener = function (a) {\n    this.listeners_.push(a);\n    return a;\n  };\n\n  Blockly.Workspace.prototype.removeChangeListener = function (a) {\n    Blockly.utils.arrayRemove(this.listeners_, a);\n  };\n\n  Blockly.Workspace.prototype.fireChangeListener = function (a) {\n    if (a.recordUndo) for (this.undoStack_.push(a), this.redoStack_.length = 0; this.undoStack_.length > this.MAX_UNDO && 0 <= this.MAX_UNDO;) {\n      this.undoStack_.shift();\n    }\n\n    for (var b = 0, c; c = this.listeners_[b]; b++) {\n      c(a);\n    }\n  };\n\n  Blockly.Workspace.prototype.getBlockById = function (a) {\n    return this.blockDB_[a] || null;\n  };\n\n  Blockly.Workspace.prototype.setBlockById = function (a, b) {\n    this.blockDB_[a] = b;\n  };\n\n  Blockly.Workspace.prototype.removeBlockById = function (a) {\n    delete this.blockDB_[a];\n  };\n\n  Blockly.Workspace.prototype.getCommentById = function (a) {\n    return this.commentDB_[a] || null;\n  };\n\n  Blockly.Workspace.prototype.allInputsFilled = function (a) {\n    for (var b = this.getTopBlocks(!1), c = 0, d; d = b[c]; c++) {\n      if (!d.allInputsFilled(a)) return !1;\n    }\n\n    return !0;\n  };\n\n  Blockly.Workspace.prototype.getPotentialVariableMap = function () {\n    return this.potentialVariableMap_;\n  };\n\n  Blockly.Workspace.prototype.createPotentialVariableMap = function () {\n    this.potentialVariableMap_ = new Blockly.VariableMap(this);\n  };\n\n  Blockly.Workspace.prototype.getVariableMap = function () {\n    return this.variableMap_;\n  };\n\n  Blockly.Workspace.prototype.setVariableMap = function (a) {\n    this.variableMap_ = a;\n  };\n\n  Blockly.Workspace.WorkspaceDB_ = Object.create(null);\n\n  Blockly.Workspace.getById = function (a) {\n    return Blockly.Workspace.WorkspaceDB_[a] || null;\n  };\n\n  Blockly.Workspace.getAll = function () {\n    var a = [],\n        b;\n\n    for (b in Blockly.Workspace.WorkspaceDB_) {\n      a.push(Blockly.Workspace.WorkspaceDB_[b]);\n    }\n\n    return a;\n  };\n\n  Blockly.Bubble = function (a, b, c, d, e, f) {\n    this.workspace_ = a;\n    this.content_ = b;\n    this.shape_ = c;\n    this.onMouseDownResizeWrapper_ = this.onMouseDownBubbleWrapper_ = this.moveCallback_ = this.resizeCallback_ = null;\n    this.disposed = !1;\n    c = Blockly.Bubble.ARROW_ANGLE;\n    this.workspace_.RTL && (c = -c);\n    this.arrow_radians_ = Blockly.utils.math.toRadians(c);\n    a.getBubbleCanvas().appendChild(this.createDom_(b, !(!e || !f)));\n    this.setAnchorLocation(d);\n    e && f || (a = this.content_.getBBox(), e = a.width + 2 * Blockly.Bubble.BORDER_WIDTH, f = a.height + 2 * Blockly.Bubble.BORDER_WIDTH);\n    this.setBubbleSize(e, f);\n    this.positionBubble_();\n    this.renderArrow_();\n    this.rendered_ = !0;\n  };\n\n  Blockly.Bubble.BORDER_WIDTH = 6;\n  Blockly.Bubble.ARROW_THICKNESS = 5;\n  Blockly.Bubble.ARROW_ANGLE = 20;\n  Blockly.Bubble.ARROW_BEND = 4;\n  Blockly.Bubble.ANCHOR_RADIUS = 8;\n  Blockly.Bubble.onMouseUpWrapper_ = null;\n  Blockly.Bubble.onMouseMoveWrapper_ = null;\n\n  Blockly.Bubble.unbindDragEvents_ = function () {\n    Blockly.Bubble.onMouseUpWrapper_ && (Blockly.browserEvents.unbind(Blockly.Bubble.onMouseUpWrapper_), Blockly.Bubble.onMouseUpWrapper_ = null);\n    Blockly.Bubble.onMouseMoveWrapper_ && (Blockly.browserEvents.unbind(Blockly.Bubble.onMouseMoveWrapper_), Blockly.Bubble.onMouseMoveWrapper_ = null);\n  };\n\n  Blockly.Bubble.bubbleMouseUp_ = function (a) {\n    Blockly.Touch.clearTouchIdentifier();\n    Blockly.Bubble.unbindDragEvents_();\n  };\n\n  Blockly.Bubble.prototype.rendered_ = !1;\n  Blockly.Bubble.prototype.anchorXY_ = null;\n  Blockly.Bubble.prototype.relativeLeft_ = 0;\n  Blockly.Bubble.prototype.relativeTop_ = 0;\n  Blockly.Bubble.prototype.width_ = 0;\n  Blockly.Bubble.prototype.height_ = 0;\n  Blockly.Bubble.prototype.autoLayout_ = !0;\n\n  Blockly.Bubble.prototype.createDom_ = function (a, b) {\n    this.bubbleGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {}, null);\n    var c = {\n      filter: \"url(#\" + this.workspace_.getRenderer().getConstants().embossFilterId + \")\"\n    };\n    Blockly.utils.userAgent.JAVA_FX && (c = {});\n    c = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, c, this.bubbleGroup_);\n    this.bubbleArrow_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {}, c);\n    this.bubbleBack_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyDraggable\",\n      x: 0,\n      y: 0,\n      rx: Blockly.Bubble.BORDER_WIDTH,\n      ry: Blockly.Bubble.BORDER_WIDTH\n    }, c);\n    b ? (this.resizeGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": this.workspace_.RTL ? \"blocklyResizeSW\" : \"blocklyResizeSE\"\n    }, this.bubbleGroup_), b = 2 * Blockly.Bubble.BORDER_WIDTH, Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.POLYGON, {\n      points: \"0,x x,x x,0\".replace(/x/g, b.toString())\n    }, this.resizeGroup_), Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.LINE, {\n      \"class\": \"blocklyResizeLine\",\n      x1: b / 3,\n      y1: b - 1,\n      x2: b - 1,\n      y2: b / 3\n    }, this.resizeGroup_), Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.LINE, {\n      \"class\": \"blocklyResizeLine\",\n      x1: 2 * b / 3,\n      y1: b - 1,\n      x2: b - 1,\n      y2: 2 * b / 3\n    }, this.resizeGroup_)) : this.resizeGroup_ = null;\n    this.workspace_.options.readOnly || (this.onMouseDownBubbleWrapper_ = Blockly.browserEvents.conditionalBind(this.bubbleBack_, \"mousedown\", this, this.bubbleMouseDown_), this.resizeGroup_ && (this.onMouseDownResizeWrapper_ = Blockly.browserEvents.conditionalBind(this.resizeGroup_, \"mousedown\", this, this.resizeMouseDown_)));\n    this.bubbleGroup_.appendChild(a);\n    return this.bubbleGroup_;\n  };\n\n  Blockly.Bubble.prototype.getSvgRoot = function () {\n    return this.bubbleGroup_;\n  };\n\n  Blockly.Bubble.prototype.setSvgId = function (a) {\n    this.bubbleGroup_.dataset && (this.bubbleGroup_.dataset.blockId = a);\n  };\n\n  Blockly.Bubble.prototype.bubbleMouseDown_ = function (a) {\n    var b = this.workspace_.getGesture(a);\n    b && b.handleBubbleStart(a, this);\n  };\n\n  Blockly.Bubble.prototype.showContextMenu = function (a) {};\n\n  Blockly.Bubble.prototype.isDeletable = function () {\n    return !1;\n  };\n\n  Blockly.Bubble.prototype.setDeleteStyle = function (a) {};\n\n  Blockly.Bubble.prototype.resizeMouseDown_ = function (a) {\n    this.promote();\n    Blockly.Bubble.unbindDragEvents_();\n    Blockly.utils.isRightButton(a) || (this.workspace_.startDrag(a, new Blockly.utils.Coordinate(this.workspace_.RTL ? -this.width_ : this.width_, this.height_)), Blockly.Bubble.onMouseUpWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mouseup\", this, Blockly.Bubble.bubbleMouseUp_), Blockly.Bubble.onMouseMoveWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mousemove\", this, this.resizeMouseMove_), Blockly.hideChaff());\n    a.stopPropagation();\n  };\n\n  Blockly.Bubble.prototype.resizeMouseMove_ = function (a) {\n    this.autoLayout_ = !1;\n    a = this.workspace_.moveDrag(a);\n    this.setBubbleSize(this.workspace_.RTL ? -a.x : a.x, a.y);\n    this.workspace_.RTL && this.positionBubble_();\n  };\n\n  Blockly.Bubble.prototype.registerResizeEvent = function (a) {\n    this.resizeCallback_ = a;\n  };\n\n  Blockly.Bubble.prototype.registerMoveEvent = function (a) {\n    this.moveCallback_ = a;\n  };\n\n  Blockly.Bubble.prototype.promote = function () {\n    var a = this.bubbleGroup_.parentNode;\n    return a.lastChild !== this.bubbleGroup_ ? (a.appendChild(this.bubbleGroup_), !0) : !1;\n  };\n\n  Blockly.Bubble.prototype.setAnchorLocation = function (a) {\n    this.anchorXY_ = a;\n    this.rendered_ && this.positionBubble_();\n  };\n\n  Blockly.Bubble.prototype.layoutBubble_ = function () {\n    var a = this.workspace_.getMetricsManager().getViewMetrics(!0),\n        b = this.getOptimalRelativeLeft_(a),\n        c = this.getOptimalRelativeTop_(a),\n        d = this.shape_.getBBox(),\n        e = {\n      x: b,\n      y: -this.height_ - this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT\n    },\n        f = {\n      x: -this.width_ - 30,\n      y: c\n    };\n    c = {\n      x: d.width,\n      y: c\n    };\n    var g = {\n      x: b,\n      y: d.height\n    };\n    b = d.width < d.height ? c : g;\n    d = d.width < d.height ? g : c;\n    c = this.getOverlap_(e, a);\n    g = this.getOverlap_(f, a);\n    var h = this.getOverlap_(b, a);\n    a = this.getOverlap_(d, a);\n    a = Math.max(c, g, h, a);\n    c == a ? (this.relativeLeft_ = e.x, this.relativeTop_ = e.y) : g == a ? (this.relativeLeft_ = f.x, this.relativeTop_ = f.y) : h == a ? (this.relativeLeft_ = b.x, this.relativeTop_ = b.y) : (this.relativeLeft_ = d.x, this.relativeTop_ = d.y);\n  };\n\n  Blockly.Bubble.prototype.getOverlap_ = function (a, b) {\n    var c = this.workspace_.RTL ? this.anchorXY_.x - a.x - this.width_ : a.x + this.anchorXY_.x;\n    a = a.y + this.anchorXY_.y;\n    return Math.max(0, Math.min(1, (Math.min(c + this.width_, b.left + b.width) - Math.max(c, b.left)) * (Math.min(a + this.height_, b.top + b.height) - Math.max(a, b.top)) / (this.width_ * this.height_)));\n  };\n\n  Blockly.Bubble.prototype.getOptimalRelativeLeft_ = function (a) {\n    var b = -this.width_ / 4;\n    if (this.width_ > a.width) return b;\n    if (this.workspace_.RTL) var c = this.anchorXY_.x - b,\n        d = c - this.width_,\n        e = a.left + a.width,\n        f = a.left + Blockly.Scrollbar.scrollbarThickness / this.workspace_.scale;else d = b + this.anchorXY_.x, c = d + this.width_, f = a.left, e = a.left + a.width - Blockly.Scrollbar.scrollbarThickness / this.workspace_.scale;\n    this.workspace_.RTL ? d < f ? b = -(f - this.anchorXY_.x + this.width_) : c > e && (b = -(e - this.anchorXY_.x)) : d < f ? b = f - this.anchorXY_.x : c > e && (b = e - this.anchorXY_.x - this.width_);\n    return b;\n  };\n\n  Blockly.Bubble.prototype.getOptimalRelativeTop_ = function (a) {\n    var b = -this.height_ / 4;\n    if (this.height_ > a.height) return b;\n    var c = this.anchorXY_.y + b,\n        d = c + this.height_,\n        e = a.top;\n    a = a.top + a.height - Blockly.Scrollbar.scrollbarThickness / this.workspace_.scale;\n    var f = this.anchorXY_.y;\n    c < e ? b = e - f : d > a && (b = a - f - this.height_);\n    return b;\n  };\n\n  Blockly.Bubble.prototype.positionBubble_ = function () {\n    var a = this.anchorXY_.x;\n    a = this.workspace_.RTL ? a - (this.relativeLeft_ + this.width_) : a + this.relativeLeft_;\n    this.moveTo(a, this.relativeTop_ + this.anchorXY_.y);\n  };\n\n  Blockly.Bubble.prototype.moveTo = function (a, b) {\n    this.bubbleGroup_.setAttribute(\"transform\", \"translate(\" + a + \",\" + b + \")\");\n  };\n\n  Blockly.Bubble.prototype.setDragging = function (a) {\n    !a && this.moveCallback_ && this.moveCallback_();\n  };\n\n  Blockly.Bubble.prototype.getBubbleSize = function () {\n    return new Blockly.utils.Size(this.width_, this.height_);\n  };\n\n  Blockly.Bubble.prototype.setBubbleSize = function (a, b) {\n    var c = 2 * Blockly.Bubble.BORDER_WIDTH;\n    a = Math.max(a, c + 45);\n    b = Math.max(b, c + 20);\n    this.width_ = a;\n    this.height_ = b;\n    this.bubbleBack_.setAttribute(\"width\", a);\n    this.bubbleBack_.setAttribute(\"height\", b);\n    this.resizeGroup_ && (this.workspace_.RTL ? this.resizeGroup_.setAttribute(\"transform\", \"translate(\" + 2 * Blockly.Bubble.BORDER_WIDTH + \",\" + (b - c) + \") scale(-1 1)\") : this.resizeGroup_.setAttribute(\"transform\", \"translate(\" + (a - c) + \",\" + (b - c) + \")\"));\n    this.autoLayout_ && this.layoutBubble_();\n    this.positionBubble_();\n    this.renderArrow_();\n    this.resizeCallback_ && this.resizeCallback_();\n  };\n\n  Blockly.Bubble.prototype.renderArrow_ = function () {\n    var a = [],\n        b = this.width_ / 2,\n        c = this.height_ / 2,\n        d = -this.relativeLeft_,\n        e = -this.relativeTop_;\n    if (b == d && c == e) a.push(\"M \" + b + \",\" + c);else {\n      e -= c;\n      d -= b;\n      this.workspace_.RTL && (d *= -1);\n      var f = Math.sqrt(e * e + d * d),\n          g = Math.acos(d / f);\n      0 > e && (g = 2 * Math.PI - g);\n      var h = g + Math.PI / 2;\n      h > 2 * Math.PI && (h -= 2 * Math.PI);\n      var k = Math.sin(h),\n          l = Math.cos(h),\n          m = this.getBubbleSize();\n      h = (m.width + m.height) / Blockly.Bubble.ARROW_THICKNESS;\n      h = Math.min(h, m.width, m.height) / 4;\n      m = 1 - Blockly.Bubble.ANCHOR_RADIUS / f;\n      d = b + m * d;\n      e = c + m * e;\n      m = b + h * l;\n      var n = c + h * k;\n      b -= h * l;\n      c -= h * k;\n      k = g + this.arrow_radians_;\n      k > 2 * Math.PI && (k -= 2 * Math.PI);\n      g = Math.sin(k) * f / Blockly.Bubble.ARROW_BEND;\n      f = Math.cos(k) * f / Blockly.Bubble.ARROW_BEND;\n      a.push(\"M\" + m + \",\" + n);\n      a.push(\"C\" + (m + f) + \",\" + (n + g) + \" \" + d + \",\" + e + \" \" + d + \",\" + e);\n      a.push(\"C\" + d + \",\" + e + \" \" + (b + f) + \",\" + (c + g) + \" \" + b + \",\" + c);\n    }\n    a.push(\"z\");\n    this.bubbleArrow_.setAttribute(\"d\", a.join(\" \"));\n  };\n\n  Blockly.Bubble.prototype.setColour = function (a) {\n    this.bubbleBack_.setAttribute(\"fill\", a);\n    this.bubbleArrow_.setAttribute(\"fill\", a);\n  };\n\n  Blockly.Bubble.prototype.dispose = function () {\n    this.onMouseDownBubbleWrapper_ && Blockly.browserEvents.unbind(this.onMouseDownBubbleWrapper_);\n    this.onMouseDownResizeWrapper_ && Blockly.browserEvents.unbind(this.onMouseDownResizeWrapper_);\n    Blockly.Bubble.unbindDragEvents_();\n    Blockly.utils.dom.removeNode(this.bubbleGroup_);\n    this.disposed = !0;\n  };\n\n  Blockly.Bubble.prototype.moveDuringDrag = function (a, b) {\n    a ? a.translateSurface(b.x, b.y) : this.moveTo(b.x, b.y);\n    this.relativeLeft_ = this.workspace_.RTL ? this.anchorXY_.x - b.x - this.width_ : b.x - this.anchorXY_.x;\n    this.relativeTop_ = b.y - this.anchorXY_.y;\n    this.renderArrow_();\n  };\n\n  Blockly.Bubble.prototype.getRelativeToSurfaceXY = function () {\n    return new Blockly.utils.Coordinate(this.workspace_.RTL ? -this.relativeLeft_ + this.anchorXY_.x - this.width_ : this.anchorXY_.x + this.relativeLeft_, this.anchorXY_.y + this.relativeTop_);\n  };\n\n  Blockly.Bubble.prototype.setAutoLayout = function (a) {\n    this.autoLayout_ = a;\n  };\n\n  Blockly.Bubble.textToDom = function (a) {\n    var b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TEXT, {\n      \"class\": \"blocklyText blocklyBubbleText blocklyNoPointerEvents\",\n      y: Blockly.Bubble.BORDER_WIDTH\n    }, null);\n    a = a.split(\"\\n\");\n\n    for (var c = 0; c < a.length; c++) {\n      var d = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TSPAN, {\n        dy: \"1em\",\n        x: Blockly.Bubble.BORDER_WIDTH\n      }, b),\n          e = document.createTextNode(a[c]);\n      d.appendChild(e);\n    }\n\n    return b;\n  };\n\n  Blockly.Bubble.createNonEditableBubble = function (a, b, c) {\n    c = new Blockly.Bubble(b.workspace, a, b.pathObject.svgPath, c, null, null);\n    c.setSvgId(b.id);\n\n    if (b.RTL) {\n      b = a.getBBox().width;\n\n      for (var d = 0, e; e = a.childNodes[d]; d++) {\n        e.setAttribute(\"text-anchor\", \"end\"), e.setAttribute(\"x\", b + Blockly.Bubble.BORDER_WIDTH);\n      }\n    }\n\n    return c;\n  };\n\n  Blockly.Events.CommentBase = function (a) {\n    this.commentId = (this.isBlank = \"undefined\" == typeof a) ? \"\" : a.id;\n    this.workspaceId = this.isBlank ? \"\" : a.workspace.id;\n    this.group = Blockly.Events.getGroup();\n    this.recordUndo = Blockly.Events.recordUndo;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.CommentBase, Blockly.Events.Abstract);\n\n  Blockly.Events.CommentBase.prototype.toJson = function () {\n    var a = Blockly.Events.CommentBase.superClass_.toJson.call(this);\n    this.commentId && (a.commentId = this.commentId);\n    return a;\n  };\n\n  Blockly.Events.CommentBase.prototype.fromJson = function (a) {\n    Blockly.Events.CommentBase.superClass_.fromJson.call(this, a);\n    this.commentId = a.commentId;\n  };\n\n  Blockly.Events.CommentChange = function (a, b, c) {\n    Blockly.Events.CommentChange.superClass_.constructor.call(this, a);\n    a && (this.oldContents_ = \"undefined\" == typeof b ? \"\" : b, this.newContents_ = \"undefined\" == typeof c ? \"\" : c);\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.CommentChange, Blockly.Events.CommentBase);\n  Blockly.Events.CommentChange.prototype.type = Blockly.Events.COMMENT_CHANGE;\n\n  Blockly.Events.CommentChange.prototype.toJson = function () {\n    var a = Blockly.Events.CommentChange.superClass_.toJson.call(this);\n    a.oldContents = this.oldContents_;\n    a.newContents = this.newContents_;\n    return a;\n  };\n\n  Blockly.Events.CommentChange.prototype.fromJson = function (a) {\n    Blockly.Events.CommentChange.superClass_.fromJson.call(this, a);\n    this.oldContents_ = a.oldContents;\n    this.newContents_ = a.newContents;\n  };\n\n  Blockly.Events.CommentChange.prototype.isNull = function () {\n    return this.oldContents_ == this.newContents_;\n  };\n\n  Blockly.Events.CommentChange.prototype.run = function (a) {\n    var b = this.getEventWorkspace_().getCommentById(this.commentId);\n    b ? b.setContent(a ? this.newContents_ : this.oldContents_) : console.warn(\"Can't change non-existent comment: \" + this.commentId);\n  };\n\n  Blockly.Events.CommentCreate = function (a) {\n    Blockly.Events.CommentCreate.superClass_.constructor.call(this, a);\n    a && (this.xml = a.toXmlWithXY());\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.CommentCreate, Blockly.Events.CommentBase);\n  Blockly.Events.CommentCreate.prototype.type = Blockly.Events.COMMENT_CREATE;\n\n  Blockly.Events.CommentCreate.prototype.toJson = function () {\n    var a = Blockly.Events.CommentCreate.superClass_.toJson.call(this);\n    a.xml = Blockly.Xml.domToText(this.xml);\n    return a;\n  };\n\n  Blockly.Events.CommentCreate.prototype.fromJson = function (a) {\n    Blockly.Events.CommentCreate.superClass_.fromJson.call(this, a);\n    this.xml = Blockly.Xml.textToDom(a.xml);\n  };\n\n  Blockly.Events.CommentCreate.prototype.run = function (a) {\n    Blockly.Events.CommentCreateDeleteHelper(this, a);\n  };\n\n  Blockly.Events.CommentCreateDeleteHelper = function (a, b) {\n    var c = a.getEventWorkspace_();\n    b ? (b = Blockly.utils.xml.createElement(\"xml\"), b.appendChild(a.xml), Blockly.Xml.domToWorkspace(b, c)) : (c = c.getCommentById(a.commentId)) ? c.dispose(!1, !1) : console.warn(\"Can't uncreate non-existent comment: \" + a.commentId);\n  };\n\n  Blockly.Events.CommentDelete = function (a) {\n    Blockly.Events.CommentDelete.superClass_.constructor.call(this, a);\n    a && (this.xml = a.toXmlWithXY());\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.CommentDelete, Blockly.Events.CommentBase);\n  Blockly.Events.CommentDelete.prototype.type = Blockly.Events.COMMENT_DELETE;\n\n  Blockly.Events.CommentDelete.prototype.toJson = function () {\n    return Blockly.Events.CommentDelete.superClass_.toJson.call(this);\n  };\n\n  Blockly.Events.CommentDelete.prototype.fromJson = function (a) {\n    Blockly.Events.CommentDelete.superClass_.fromJson.call(this, a);\n  };\n\n  Blockly.Events.CommentDelete.prototype.run = function (a) {\n    Blockly.Events.CommentCreateDeleteHelper(this, !a);\n  };\n\n  Blockly.Events.CommentMove = function (a) {\n    Blockly.Events.CommentMove.superClass_.constructor.call(this, a);\n    a && (this.comment_ = a, this.oldCoordinate_ = a.getXY(), this.newCoordinate_ = null);\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.CommentMove, Blockly.Events.CommentBase);\n\n  Blockly.Events.CommentMove.prototype.recordNew = function () {\n    if (!this.comment_) throw Error(\"Tried to record the new position of a comment on the same event twice.\");\n    this.newCoordinate_ = this.comment_.getXY();\n    this.comment_ = null;\n  };\n\n  Blockly.Events.CommentMove.prototype.type = Blockly.Events.COMMENT_MOVE;\n\n  Blockly.Events.CommentMove.prototype.setOldCoordinate = function (a) {\n    this.oldCoordinate_ = a;\n  };\n\n  Blockly.Events.CommentMove.prototype.toJson = function () {\n    var a = Blockly.Events.CommentMove.superClass_.toJson.call(this);\n    this.oldCoordinate_ && (a.oldCoordinate = Math.round(this.oldCoordinate_.x) + \",\" + Math.round(this.oldCoordinate_.y));\n    this.newCoordinate_ && (a.newCoordinate = Math.round(this.newCoordinate_.x) + \",\" + Math.round(this.newCoordinate_.y));\n    return a;\n  };\n\n  Blockly.Events.CommentMove.prototype.fromJson = function (a) {\n    Blockly.Events.CommentMove.superClass_.fromJson.call(this, a);\n\n    if (a.oldCoordinate) {\n      var b = a.oldCoordinate.split(\",\");\n      this.oldCoordinate_ = new Blockly.utils.Coordinate(Number(b[0]), Number(b[1]));\n    }\n\n    a.newCoordinate && (b = a.newCoordinate.split(\",\"), this.newCoordinate_ = new Blockly.utils.Coordinate(Number(b[0]), Number(b[1])));\n  };\n\n  Blockly.Events.CommentMove.prototype.isNull = function () {\n    return Blockly.utils.Coordinate.equals(this.oldCoordinate_, this.newCoordinate_);\n  };\n\n  Blockly.Events.CommentMove.prototype.run = function (a) {\n    var b = this.getEventWorkspace_().getCommentById(this.commentId);\n\n    if (b) {\n      a = a ? this.newCoordinate_ : this.oldCoordinate_;\n      var c = b.getXY();\n      b.moveBy(a.x - c.x, a.y - c.y);\n    } else console.warn(\"Can't move non-existent comment: \" + this.commentId);\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.COMMENT_CREATE, Blockly.Events.CommentCreate);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.COMMENT_CHANGE, Blockly.Events.CommentChange);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.COMMENT_MOVE, Blockly.Events.CommentMove);\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.COMMENT_DELETE, Blockly.Events.CommentDelete);\n\n  Blockly.BubbleDragger = function (a, b) {\n    this.draggingBubble_ = a;\n    this.workspace_ = b;\n    this.deleteArea_ = null;\n    this.wouldDeleteBubble_ = !1;\n    this.startXY_ = this.draggingBubble_.getRelativeToSurfaceXY();\n    this.dragSurface_ = Blockly.utils.is3dSupported() && b.getBlockDragSurface() ? b.getBlockDragSurface() : null;\n  };\n\n  Blockly.BubbleDragger.prototype.dispose = function () {\n    this.dragSurface_ = this.workspace_ = this.draggingBubble_ = null;\n  };\n\n  Blockly.BubbleDragger.prototype.startBubbleDrag = function () {\n    Blockly.Events.getGroup() || Blockly.Events.setGroup(!0);\n    this.workspace_.setResizesEnabled(!1);\n    this.draggingBubble_.setAutoLayout(!1);\n    this.dragSurface_ && this.moveToDragSurface_();\n    this.draggingBubble_.setDragging && this.draggingBubble_.setDragging(!0);\n    var a = this.workspace_.getToolbox();\n\n    if (a && \"function\" == typeof a.addStyle) {\n      var b = this.draggingBubble_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\";\n      a.addStyle(b);\n    }\n  };\n\n  Blockly.BubbleDragger.prototype.dragBubble = function (a, b) {\n    b = this.pixelsToWorkspaceUnits_(b);\n    b = Blockly.utils.Coordinate.sum(this.startXY_, b);\n    this.draggingBubble_.moveDuringDrag(this.dragSurface_, b);\n    this.draggingBubble_.isDeletable() && (this.deleteArea_ = this.workspace_.isDeleteArea(a), this.updateCursorDuringBubbleDrag_());\n  };\n\n  Blockly.BubbleDragger.prototype.maybeDeleteBubble_ = function () {\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBubble_ ? (a && setTimeout(a.closeLid.bind(a), 100), this.fireMoveEvent_(), this.draggingBubble_.dispose(!1, !0)) : a && a.closeLid();\n    return this.wouldDeleteBubble_;\n  };\n\n  Blockly.BubbleDragger.prototype.updateCursorDuringBubbleDrag_ = function () {\n    this.wouldDeleteBubble_ = this.deleteArea_ != Blockly.DELETE_AREA_NONE;\n    var a = this.workspace_.trashcan;\n    this.wouldDeleteBubble_ ? (this.draggingBubble_.setDeleteStyle(!0), this.deleteArea_ == Blockly.DELETE_AREA_TRASH && a && a.setLidOpen(!0)) : (this.draggingBubble_.setDeleteStyle(!1), a && a.setLidOpen(!1));\n  };\n\n  Blockly.BubbleDragger.prototype.endBubbleDrag = function (a, b) {\n    this.dragBubble(a, b);\n    a = this.pixelsToWorkspaceUnits_(b);\n    a = Blockly.utils.Coordinate.sum(this.startXY_, a);\n    this.draggingBubble_.moveTo(a.x, a.y);\n    this.maybeDeleteBubble_() || (this.dragSurface_ && this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()), this.draggingBubble_.setDragging && this.draggingBubble_.setDragging(!1), this.fireMoveEvent_());\n    this.workspace_.setResizesEnabled(!0);\n    (a = this.workspace_.getToolbox()) && \"function\" == typeof a.removeStyle && (b = this.draggingBubble_.isDeletable() ? \"blocklyToolboxDelete\" : \"blocklyToolboxGrab\", a.removeStyle(b));\n    Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.BubbleDragger.prototype.fireMoveEvent_ = function () {\n    if (this.draggingBubble_.isComment) {\n      var a = new (Blockly.Events.get(Blockly.Events.COMMENT_MOVE))(this.draggingBubble_);\n      a.setOldCoordinate(this.startXY_);\n      a.recordNew();\n      Blockly.Events.fire(a);\n    }\n  };\n\n  Blockly.BubbleDragger.prototype.pixelsToWorkspaceUnits_ = function (a) {\n    a = new Blockly.utils.Coordinate(a.x / this.workspace_.scale, a.y / this.workspace_.scale);\n    this.workspace_.isMutator && a.scale(1 / this.workspace_.options.parentWorkspace.scale);\n    return a;\n  };\n\n  Blockly.BubbleDragger.prototype.moveToDragSurface_ = function () {\n    this.draggingBubble_.moveTo(0, 0);\n    this.dragSurface_.translateSurface(this.startXY_.x, this.startXY_.y);\n    this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot());\n  };\n\n  Blockly.Events.Click = function (a, b, c) {\n    Blockly.Events.Click.superClass_.constructor.call(this, a ? a.workspace.id : b);\n    this.blockId = a ? a.id : null;\n    this.targetType = c;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.Click, Blockly.Events.UiBase);\n  Blockly.Events.Click.prototype.type = Blockly.Events.CLICK;\n\n  Blockly.Events.Click.prototype.toJson = function () {\n    var a = Blockly.Events.Click.superClass_.toJson.call(this);\n    a.targetType = this.targetType;\n    this.blockId && (a.blockId = this.blockId);\n    return a;\n  };\n\n  Blockly.Events.Click.prototype.fromJson = function (a) {\n    Blockly.Events.Click.superClass_.fromJson.call(this, a);\n    this.targetType = a.targetType;\n    this.blockId = a.blockId;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.CLICK, Blockly.Events.Click);\n\n  Blockly.WorkspaceDragger = function (a) {\n    this.workspace_ = a;\n    this.horizontalScrollEnabled_ = this.workspace_.isMovableHorizontally();\n    this.verticalScrollEnabled_ = this.workspace_.isMovableVertically();\n    this.startScrollXY_ = new Blockly.utils.Coordinate(a.scrollX, a.scrollY);\n  };\n\n  Blockly.WorkspaceDragger.prototype.dispose = function () {\n    this.workspace_ = null;\n  };\n\n  Blockly.WorkspaceDragger.prototype.startDrag = function () {\n    Blockly.selected && Blockly.selected.unselect();\n    this.workspace_.setupDragSurface();\n  };\n\n  Blockly.WorkspaceDragger.prototype.endDrag = function (a) {\n    this.drag(a);\n    this.workspace_.resetDragSurface();\n  };\n\n  Blockly.WorkspaceDragger.prototype.drag = function (a) {\n    a = Blockly.utils.Coordinate.sum(this.startScrollXY_, a);\n    if (this.horizontalScrollEnabled_ && this.verticalScrollEnabled_) this.workspace_.scroll(a.x, a.y);else if (this.horizontalScrollEnabled_) this.workspace_.scroll(a.x, this.workspace_.scrollY);else if (this.verticalScrollEnabled_) this.workspace_.scroll(this.workspace_.scrollX, a.y);else throw new TypeError(\"Invalid state.\");\n  };\n\n  Blockly.Gesture = function (a, b) {\n    this.mouseDownXY_ = null;\n    this.currentDragDeltaXY_ = new Blockly.utils.Coordinate(0, 0);\n    this.startWorkspace_ = this.targetBlock_ = this.startBlock_ = this.startField_ = this.startBubble_ = null;\n    this.creatorWorkspace_ = b;\n    this.isDraggingBubble_ = this.isDraggingBlock_ = this.isDraggingWorkspace_ = this.hasExceededDragRadius_ = !1;\n    this.mostRecentEvent_ = a;\n    this.flyout_ = this.workspaceDragger_ = this.blockDragger_ = this.bubbleDragger_ = this.onUpWrapper_ = this.onMoveWrapper_ = null;\n    this.isEnding_ = this.hasStarted_ = this.calledUpdateIsDragging_ = !1;\n    this.healStack_ = !Blockly.DRAG_STACK;\n  };\n\n  Blockly.Gesture.prototype.dispose = function () {\n    Blockly.Touch.clearTouchIdentifier();\n    Blockly.Tooltip.unblock();\n    this.creatorWorkspace_.clearGesture();\n    this.onMoveWrapper_ && Blockly.browserEvents.unbind(this.onMoveWrapper_);\n    this.onUpWrapper_ && Blockly.browserEvents.unbind(this.onUpWrapper_);\n    this.blockDragger_ && this.blockDragger_.dispose();\n    this.workspaceDragger_ && this.workspaceDragger_.dispose();\n    this.bubbleDragger_ && this.bubbleDragger_.dispose();\n  };\n\n  Blockly.Gesture.prototype.updateFromEvent_ = function (a) {\n    var b = new Blockly.utils.Coordinate(a.clientX, a.clientY);\n    this.updateDragDelta_(b) && (this.updateIsDragging_(), Blockly.longStop_());\n    this.mostRecentEvent_ = a;\n  };\n\n  Blockly.Gesture.prototype.updateDragDelta_ = function (a) {\n    this.currentDragDeltaXY_ = Blockly.utils.Coordinate.difference(a, this.mouseDownXY_);\n    return this.hasExceededDragRadius_ ? !1 : this.hasExceededDragRadius_ = Blockly.utils.Coordinate.magnitude(this.currentDragDeltaXY_) > (this.flyout_ ? Blockly.FLYOUT_DRAG_RADIUS : Blockly.DRAG_RADIUS);\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingFromFlyout_ = function () {\n    return this.targetBlock_ && this.flyout_.isBlockCreatable_(this.targetBlock_) ? !this.flyout_.isScrollable() || this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_) ? (this.startWorkspace_ = this.flyout_.targetWorkspace, this.startWorkspace_.updateScreenCalculationsIfScrolled(), Blockly.Events.getGroup() || Blockly.Events.setGroup(!0), this.startBlock_ = null, this.targetBlock_ = this.flyout_.createBlock(this.targetBlock_), this.targetBlock_.select(), !0) : !1 : !1;\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingBubble_ = function () {\n    if (!this.startBubble_) return !1;\n    this.isDraggingBubble_ = !0;\n    this.startDraggingBubble_();\n    return !0;\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingBlock_ = function () {\n    if (!this.targetBlock_) return !1;\n    this.flyout_ ? this.isDraggingBlock_ = this.updateIsDraggingFromFlyout_() : this.targetBlock_.isMovable() && (this.isDraggingBlock_ = !0);\n    return this.isDraggingBlock_ ? (this.startDraggingBlock_(), !0) : !1;\n  };\n\n  Blockly.Gesture.prototype.updateIsDraggingWorkspace_ = function () {\n    if (this.flyout_ ? this.flyout_.isScrollable() : this.startWorkspace_ && this.startWorkspace_.isDraggable()) this.workspaceDragger_ = new Blockly.WorkspaceDragger(this.startWorkspace_), this.isDraggingWorkspace_ = !0, this.workspaceDragger_.startDrag();\n  };\n\n  Blockly.Gesture.prototype.updateIsDragging_ = function () {\n    if (this.calledUpdateIsDragging_) throw Error(\"updateIsDragging_ should only be called once per gesture.\");\n    this.calledUpdateIsDragging_ = !0;\n    this.updateIsDraggingBubble_() || this.updateIsDraggingBlock_() || this.updateIsDraggingWorkspace_();\n  };\n\n  Blockly.Gesture.prototype.startDraggingBlock_ = function () {\n    this.blockDragger_ = new Blockly.BlockDragger(this.targetBlock_, this.startWorkspace_);\n    this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_, this.healStack_);\n    this.blockDragger_.dragBlock(this.mostRecentEvent_, this.currentDragDeltaXY_);\n  };\n\n  Blockly.Gesture.prototype.startDraggingBubble_ = function () {\n    this.bubbleDragger_ = new Blockly.BubbleDragger(this.startBubble_, this.startWorkspace_);\n    this.bubbleDragger_.startBubbleDrag();\n    this.bubbleDragger_.dragBubble(this.mostRecentEvent_, this.currentDragDeltaXY_);\n  };\n\n  Blockly.Gesture.prototype.doStart = function (a) {\n    Blockly.utils.isTargetInput(a) ? this.cancel() : (this.hasStarted_ = !0, Blockly.blockAnimations.disconnectUiStop(), this.startWorkspace_.updateScreenCalculationsIfScrolled(), this.startWorkspace_.isMutator && this.startWorkspace_.resize(), Blockly.hideChaff(!!this.flyout_), this.startWorkspace_.markFocused(), this.mostRecentEvent_ = a, Blockly.Tooltip.block(), this.targetBlock_ && this.targetBlock_.select(), Blockly.utils.isRightButton(a) ? this.handleRightClick(a) : (\"touchstart\" != a.type.toLowerCase() && \"pointerdown\" != a.type.toLowerCase() || \"mouse\" == a.pointerType || Blockly.longStart(a, this), this.mouseDownXY_ = new Blockly.utils.Coordinate(a.clientX, a.clientY), this.healStack_ = a.altKey || a.ctrlKey || a.metaKey, this.bindMouseEvents(a)));\n  };\n\n  Blockly.Gesture.prototype.bindMouseEvents = function (a) {\n    this.onMoveWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mousemove\", null, this.handleMove.bind(this));\n    this.onUpWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mouseup\", null, this.handleUp.bind(this));\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.Gesture.prototype.handleMove = function (a) {\n    this.updateFromEvent_(a);\n    this.isDraggingWorkspace_ ? this.workspaceDragger_.drag(this.currentDragDeltaXY_) : this.isDraggingBlock_ ? this.blockDragger_.dragBlock(this.mostRecentEvent_, this.currentDragDeltaXY_) : this.isDraggingBubble_ && this.bubbleDragger_.dragBubble(this.mostRecentEvent_, this.currentDragDeltaXY_);\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.Gesture.prototype.handleUp = function (a) {\n    this.updateFromEvent_(a);\n    Blockly.longStop_();\n    this.isEnding_ ? console.log(\"Trying to end a gesture recursively.\") : (this.isEnding_ = !0, this.isDraggingBubble_ ? this.bubbleDragger_.endBubbleDrag(a, this.currentDragDeltaXY_) : this.isDraggingBlock_ ? this.blockDragger_.endBlockDrag(a, this.currentDragDeltaXY_) : this.isDraggingWorkspace_ ? this.workspaceDragger_.endDrag(this.currentDragDeltaXY_) : this.isBubbleClick_() ? this.doBubbleClick_() : this.isFieldClick_() ? this.doFieldClick_() : this.isBlockClick_() ? this.doBlockClick_() : this.isWorkspaceClick_() && this.doWorkspaceClick_(a), a.preventDefault(), a.stopPropagation(), this.dispose());\n  };\n\n  Blockly.Gesture.prototype.cancel = function () {\n    this.isEnding_ || (Blockly.longStop_(), this.isDraggingBubble_ ? this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_, this.currentDragDeltaXY_) : this.isDraggingBlock_ ? this.blockDragger_.endBlockDrag(this.mostRecentEvent_, this.currentDragDeltaXY_) : this.isDraggingWorkspace_ && this.workspaceDragger_.endDrag(this.currentDragDeltaXY_), this.dispose());\n  };\n\n  Blockly.Gesture.prototype.handleRightClick = function (a) {\n    this.targetBlock_ ? (this.bringBlockToFront_(), Blockly.hideChaff(!!this.flyout_), this.targetBlock_.showContextMenu(a)) : this.startBubble_ ? this.startBubble_.showContextMenu(a) : this.startWorkspace_ && !this.flyout_ && (Blockly.hideChaff(), this.startWorkspace_.showContextMenu(a));\n    a.preventDefault();\n    a.stopPropagation();\n    this.dispose();\n  };\n\n  Blockly.Gesture.prototype.handleWsStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleWsStart, but the gesture had already been started.\");\n    this.setStartWorkspace_(b);\n    this.mostRecentEvent_ = a;\n    this.doStart(a);\n  };\n\n  Blockly.Gesture.prototype.fireWorkspaceClick_ = function (a) {\n    Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.CLICK))(null, a.id, \"workspace\"));\n  };\n\n  Blockly.Gesture.prototype.handleFlyoutStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleFlyoutStart, but the gesture had already been started.\");\n    this.setStartFlyout_(b);\n    this.handleWsStart(a, b.getWorkspace());\n  };\n\n  Blockly.Gesture.prototype.handleBlockStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleBlockStart, but the gesture had already been started.\");\n    this.setStartBlock(b);\n    this.mostRecentEvent_ = a;\n  };\n\n  Blockly.Gesture.prototype.handleBubbleStart = function (a, b) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.handleBubbleStart, but the gesture had already been started.\");\n    this.setStartBubble(b);\n    this.mostRecentEvent_ = a;\n  };\n\n  Blockly.Gesture.prototype.doBubbleClick_ = function () {\n    this.startBubble_.setFocus && this.startBubble_.setFocus();\n    this.startBubble_.select && this.startBubble_.select();\n  };\n\n  Blockly.Gesture.prototype.doFieldClick_ = function () {\n    this.startField_.showEditor(this.mostRecentEvent_);\n    this.bringBlockToFront_();\n  };\n\n  Blockly.Gesture.prototype.doBlockClick_ = function () {\n    if (this.flyout_ && this.flyout_.autoClose) this.targetBlock_.isEnabled() && (Blockly.Events.getGroup() || Blockly.Events.setGroup(!0), this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else {\n      var a = new (Blockly.Events.get(Blockly.Events.CLICK))(this.startBlock_, this.startWorkspace_.id, \"block\");\n      Blockly.Events.fire(a);\n    }\n    this.bringBlockToFront_();\n    Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.Gesture.prototype.doWorkspaceClick_ = function (a) {\n    a = this.creatorWorkspace_;\n    Blockly.selected && Blockly.selected.unselect();\n    this.fireWorkspaceClick_(this.startWorkspace_ || a);\n  };\n\n  Blockly.Gesture.prototype.bringBlockToFront_ = function () {\n    this.targetBlock_ && !this.flyout_ && this.targetBlock_.bringToFront();\n  };\n\n  Blockly.Gesture.prototype.setStartField = function (a) {\n    if (this.hasStarted_) throw Error(\"Tried to call gesture.setStartField, but the gesture had already been started.\");\n    this.startField_ || (this.startField_ = a);\n  };\n\n  Blockly.Gesture.prototype.setStartBubble = function (a) {\n    this.startBubble_ || (this.startBubble_ = a);\n  };\n\n  Blockly.Gesture.prototype.setStartBlock = function (a) {\n    this.startBlock_ || this.startBubble_ || (this.startBlock_ = a, a.isInFlyout && a != a.getRootBlock() ? this.setTargetBlock_(a.getRootBlock()) : this.setTargetBlock_(a));\n  };\n\n  Blockly.Gesture.prototype.setTargetBlock_ = function (a) {\n    a.isShadow() ? this.setTargetBlock_(a.getParent()) : this.targetBlock_ = a;\n  };\n\n  Blockly.Gesture.prototype.setStartWorkspace_ = function (a) {\n    this.startWorkspace_ || (this.startWorkspace_ = a);\n  };\n\n  Blockly.Gesture.prototype.setStartFlyout_ = function (a) {\n    this.flyout_ || (this.flyout_ = a);\n  };\n\n  Blockly.Gesture.prototype.isBubbleClick_ = function () {\n    return !!this.startBubble_ && !this.hasExceededDragRadius_;\n  };\n\n  Blockly.Gesture.prototype.isBlockClick_ = function () {\n    return !!this.startBlock_ && !this.hasExceededDragRadius_ && !this.isFieldClick_();\n  };\n\n  Blockly.Gesture.prototype.isFieldClick_ = function () {\n    return (this.startField_ ? this.startField_.isClickable() : !1) && !this.hasExceededDragRadius_ && (!this.flyout_ || !this.flyout_.autoClose);\n  };\n\n  Blockly.Gesture.prototype.isWorkspaceClick_ = function () {\n    return !this.startBlock_ && !this.startBubble_ && !this.startField_ && !this.hasExceededDragRadius_;\n  };\n\n  Blockly.Gesture.prototype.isDragging = function () {\n    return this.isDraggingWorkspace_ || this.isDraggingBlock_ || this.isDraggingBubble_;\n  };\n\n  Blockly.Gesture.prototype.hasStarted = function () {\n    return this.hasStarted_;\n  };\n\n  Blockly.Gesture.prototype.getInsertionMarkers = function () {\n    return this.blockDragger_ ? this.blockDragger_.getInsertionMarkers() : [];\n  };\n\n  Blockly.Gesture.inProgress = function () {\n    for (var a = Blockly.Workspace.getAll(), b = 0, c; c = a[b]; b++) {\n      if (c.currentGesture_) return !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.Field = function (a, b, c) {\n    this.value_ = this.DEFAULT_VALUE;\n    this.tooltip_ = this.validator_ = null;\n    this.size_ = new Blockly.utils.Size(0, 0);\n    this.constants_ = this.mouseDownWrapper_ = this.textContent_ = this.textElement_ = this.borderRect_ = this.fieldGroup_ = this.markerSvg_ = this.cursorSvg_ = null;\n    c && this.configure_(c);\n    this.setValue(a);\n    b && this.setValidator(b);\n  };\n\n  Blockly.Field.prototype.DEFAULT_VALUE = null;\n  Blockly.Field.prototype.name = void 0;\n  Blockly.Field.prototype.disposed = !1;\n  Blockly.Field.prototype.maxDisplayLength = 50;\n  Blockly.Field.prototype.sourceBlock_ = null;\n  Blockly.Field.prototype.isDirty_ = !0;\n  Blockly.Field.prototype.visible_ = !0;\n  Blockly.Field.prototype.clickTarget_ = null;\n  Blockly.Field.NBSP = \"\\xA0\";\n  Blockly.Field.prototype.EDITABLE = !0;\n  Blockly.Field.prototype.SERIALIZABLE = !1;\n\n  Blockly.Field.prototype.configure_ = function (a) {\n    var b = a.tooltip;\n    \"string\" == typeof b && (b = Blockly.utils.replaceMessageReferences(a.tooltip));\n    b && this.setTooltip(b);\n  };\n\n  Blockly.Field.prototype.setSourceBlock = function (a) {\n    if (this.sourceBlock_) throw Error(\"Field already bound to a block.\");\n    this.sourceBlock_ = a;\n  };\n\n  Blockly.Field.prototype.getConstants = function () {\n    !this.constants_ && this.sourceBlock_ && this.sourceBlock_.workspace && this.sourceBlock_.workspace.rendered && (this.constants_ = this.sourceBlock_.workspace.getRenderer().getConstants());\n    return this.constants_;\n  };\n\n  Blockly.Field.prototype.getSourceBlock = function () {\n    return this.sourceBlock_;\n  };\n\n  Blockly.Field.prototype.init = function () {\n    this.fieldGroup_ || (this.fieldGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {}, null), this.isVisible() || (this.fieldGroup_.style.display = \"none\"), this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_), this.initView(), this.updateEditable(), this.setTooltip(this.tooltip_), this.bindEvents_(), this.initModel());\n  };\n\n  Blockly.Field.prototype.initView = function () {\n    this.createBorderRect_();\n    this.createTextElement_();\n  };\n\n  Blockly.Field.prototype.initModel = function () {};\n\n  Blockly.Field.prototype.createBorderRect_ = function () {\n    this.borderRect_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      rx: this.getConstants().FIELD_BORDER_RECT_RADIUS,\n      ry: this.getConstants().FIELD_BORDER_RECT_RADIUS,\n      x: 0,\n      y: 0,\n      height: this.size_.height,\n      width: this.size_.width,\n      \"class\": \"blocklyFieldRect\"\n    }, this.fieldGroup_);\n  };\n\n  Blockly.Field.prototype.createTextElement_ = function () {\n    this.textElement_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TEXT, {\n      \"class\": \"blocklyText\"\n    }, this.fieldGroup_);\n    this.getConstants().FIELD_TEXT_BASELINE_CENTER && this.textElement_.setAttribute(\"dominant-baseline\", \"central\");\n    this.textContent_ = document.createTextNode(\"\");\n    this.textElement_.appendChild(this.textContent_);\n  };\n\n  Blockly.Field.prototype.bindEvents_ = function () {\n    Blockly.Tooltip.bindMouseEvents(this.getClickTarget_());\n    this.mouseDownWrapper_ = Blockly.browserEvents.conditionalBind(this.getClickTarget_(), \"mousedown\", this, this.onMouseDown_);\n  };\n\n  Blockly.Field.prototype.fromXml = function (a) {\n    this.setValue(a.textContent);\n  };\n\n  Blockly.Field.prototype.toXml = function (a) {\n    a.textContent = this.getValue();\n    return a;\n  };\n\n  Blockly.Field.prototype.dispose = function () {\n    Blockly.DropDownDiv.hideIfOwner(this);\n    Blockly.WidgetDiv.hideIfOwner(this);\n    Blockly.Tooltip.unbindMouseEvents(this.getClickTarget_());\n    this.mouseDownWrapper_ && Blockly.browserEvents.unbind(this.mouseDownWrapper_);\n    Blockly.utils.dom.removeNode(this.fieldGroup_);\n    this.disposed = !0;\n  };\n\n  Blockly.Field.prototype.updateEditable = function () {\n    var a = this.fieldGroup_;\n    this.EDITABLE && a && (this.sourceBlock_.isEditable() ? (Blockly.utils.dom.addClass(a, \"blocklyEditableText\"), Blockly.utils.dom.removeClass(a, \"blocklyNonEditableText\"), a.style.cursor = this.CURSOR) : (Blockly.utils.dom.addClass(a, \"blocklyNonEditableText\"), Blockly.utils.dom.removeClass(a, \"blocklyEditableText\"), a.style.cursor = \"\"));\n  };\n\n  Blockly.Field.prototype.isClickable = function () {\n    return !!this.sourceBlock_ && this.sourceBlock_.isEditable() && !!this.showEditor_ && \"function\" === typeof this.showEditor_;\n  };\n\n  Blockly.Field.prototype.isCurrentlyEditable = function () {\n    return this.EDITABLE && !!this.sourceBlock_ && this.sourceBlock_.isEditable();\n  };\n\n  Blockly.Field.prototype.isSerializable = function () {\n    var a = !1;\n    this.name && (this.SERIALIZABLE ? a = !0 : this.EDITABLE && (console.warn(\"Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization.\"), a = !0));\n    return a;\n  };\n\n  Blockly.Field.prototype.isVisible = function () {\n    return this.visible_;\n  };\n\n  Blockly.Field.prototype.setVisible = function (a) {\n    if (this.visible_ != a) {\n      this.visible_ = a;\n      var b = this.getSvgRoot();\n      b && (b.style.display = a ? \"block\" : \"none\");\n    }\n  };\n\n  Blockly.Field.prototype.setValidator = function (a) {\n    this.validator_ = a;\n  };\n\n  Blockly.Field.prototype.getValidator = function () {\n    return this.validator_;\n  };\n\n  Blockly.Field.prototype.getSvgRoot = function () {\n    return this.fieldGroup_;\n  };\n\n  Blockly.Field.prototype.applyColour = function () {};\n\n  Blockly.Field.prototype.render_ = function () {\n    this.textContent_ && (this.textContent_.nodeValue = this.getDisplayText_());\n    this.updateSize_();\n  };\n\n  Blockly.Field.prototype.showEditor = function (a) {\n    this.isClickable() && this.showEditor_(a);\n  };\n\n  Blockly.Field.prototype.updateSize_ = function (a) {\n    var b = this.getConstants();\n    a = void 0 != a ? a : this.borderRect_ ? this.getConstants().FIELD_BORDER_RECT_X_PADDING : 0;\n    var c = 2 * a,\n        d = b.FIELD_TEXT_HEIGHT,\n        e = 0;\n    this.textElement_ && (e = Blockly.utils.dom.getFastTextWidth(this.textElement_, b.FIELD_TEXT_FONTSIZE, b.FIELD_TEXT_FONTWEIGHT, b.FIELD_TEXT_FONTFAMILY), c += e);\n    this.borderRect_ && (d = Math.max(d, b.FIELD_BORDER_RECT_HEIGHT));\n    this.size_.height = d;\n    this.size_.width = c;\n    this.positionTextElement_(a, e);\n    this.positionBorderRect_();\n  };\n\n  Blockly.Field.prototype.positionTextElement_ = function (a, b) {\n    if (this.textElement_) {\n      var c = this.getConstants(),\n          d = this.size_.height / 2;\n      this.textElement_.setAttribute(\"x\", this.sourceBlock_.RTL ? this.size_.width - b - a : a);\n      this.textElement_.setAttribute(\"y\", c.FIELD_TEXT_BASELINE_CENTER ? d : d - c.FIELD_TEXT_HEIGHT / 2 + c.FIELD_TEXT_BASELINE);\n    }\n  };\n\n  Blockly.Field.prototype.positionBorderRect_ = function () {\n    this.borderRect_ && (this.borderRect_.setAttribute(\"width\", this.size_.width), this.borderRect_.setAttribute(\"height\", this.size_.height), this.borderRect_.setAttribute(\"rx\", this.getConstants().FIELD_BORDER_RECT_RADIUS), this.borderRect_.setAttribute(\"ry\", this.getConstants().FIELD_BORDER_RECT_RADIUS));\n  };\n\n  Blockly.Field.prototype.getSize = function () {\n    if (!this.isVisible()) return new Blockly.utils.Size(0, 0);\n    this.isDirty_ ? (this.render_(), this.isDirty_ = !1) : this.visible_ && 0 == this.size_.width && (console.warn(\"Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.\"), this.render_());\n    return this.size_;\n  };\n\n  Blockly.Field.prototype.getScaledBBox = function () {\n    if (this.borderRect_) a = this.borderRect_.getBoundingClientRect(), c = Blockly.utils.style.getPageOffset(this.borderRect_), d = a.width, a = a.height;else {\n      var a = this.sourceBlock_.getHeightWidth(),\n          b = this.sourceBlock_.workspace.scale,\n          c = this.getAbsoluteXY_(),\n          d = a.width * b;\n      a = a.height * b;\n      Blockly.utils.userAgent.GECKO ? (c.x += 1.5 * b, c.y += 1.5 * b) : Blockly.utils.userAgent.EDGE || Blockly.utils.userAgent.IE || (c.x -= .5 * b, c.y -= .5 * b);\n      d += 1 * b;\n      a += 1 * b;\n    }\n    return new Blockly.utils.Rect(c.y, c.y + a, c.x, c.x + d);\n  };\n\n  Blockly.Field.prototype.getDisplayText_ = function () {\n    var a = this.getText();\n    if (!a) return Blockly.Field.NBSP;\n    a.length > this.maxDisplayLength && (a = a.substring(0, this.maxDisplayLength - 2) + \"\\u2026\");\n    a = a.replace(/\\s/g, Blockly.Field.NBSP);\n    this.sourceBlock_ && this.sourceBlock_.RTL && (a += \"\\u200F\");\n    return a;\n  };\n\n  Blockly.Field.prototype.getText = function () {\n    if (this.getText_) {\n      var a = this.getText_.call(this);\n      if (null !== a) return String(a);\n    }\n\n    return String(this.getValue());\n  };\n\n  Blockly.Field.prototype.markDirty = function () {\n    this.isDirty_ = !0;\n    this.constants_ = null;\n  };\n\n  Blockly.Field.prototype.forceRerender = function () {\n    this.isDirty_ = !0;\n    this.sourceBlock_ && this.sourceBlock_.rendered && (this.sourceBlock_.render(), this.sourceBlock_.bumpNeighbours(), this.updateMarkers_());\n  };\n\n  Blockly.Field.prototype.setValue = function (a) {\n    if (null !== a) {\n      var b = this.doClassValidation_(a);\n      a = this.processValidation_(a, b);\n\n      if (!(a instanceof Error)) {\n        if (b = this.getValidator()) if (b = b.call(this, a), a = this.processValidation_(a, b), a instanceof Error) return;\n        b = this.sourceBlock_;\n\n        if (!b || !b.disposed) {\n          var c = this.getValue();\n          c === a ? this.doValueUpdate_(a) : (b && Blockly.Events.isEnabled() && Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(b, \"field\", this.name || null, c, a)), this.doValueUpdate_(a), this.isDirty_ && this.forceRerender());\n        }\n      }\n    }\n  };\n\n  Blockly.Field.prototype.processValidation_ = function (a, b) {\n    if (null === b) return this.doValueInvalid_(a), this.isDirty_ && this.forceRerender(), Error();\n    void 0 !== b && (a = b);\n    return a;\n  };\n\n  Blockly.Field.prototype.getValue = function () {\n    return this.value_;\n  };\n\n  Blockly.Field.prototype.doClassValidation_ = function (a) {\n    return null === a || void 0 === a ? null : a;\n  };\n\n  Blockly.Field.prototype.doValueUpdate_ = function (a) {\n    this.value_ = a;\n    this.isDirty_ = !0;\n  };\n\n  Blockly.Field.prototype.doValueInvalid_ = function (a) {};\n\n  Blockly.Field.prototype.onMouseDown_ = function (a) {\n    this.sourceBlock_ && this.sourceBlock_.workspace && (a = this.sourceBlock_.workspace.getGesture(a)) && a.setStartField(this);\n  };\n\n  Blockly.Field.prototype.setTooltip = function (a) {\n    a || \"\" === a || (a = this.sourceBlock_);\n    var b = this.getClickTarget_();\n    b ? b.tooltip = a : this.tooltip_ = a;\n  };\n\n  Blockly.Field.prototype.getTooltip = function () {\n    var a = this.getClickTarget_();\n    return a ? Blockly.Tooltip.getTooltipOfObject(a) : Blockly.Tooltip.getTooltipOfObject({\n      tooltip: this.tooltip_\n    });\n  };\n\n  Blockly.Field.prototype.getClickTarget_ = function () {\n    return this.clickTarget_ || this.getSvgRoot();\n  };\n\n  Blockly.Field.prototype.getAbsoluteXY_ = function () {\n    return Blockly.utils.style.getPageOffset(this.getClickTarget_());\n  };\n\n  Blockly.Field.prototype.referencesVariables = function () {\n    return !1;\n  };\n\n  Blockly.Field.prototype.getParentInput = function () {\n    for (var a = null, b = this.sourceBlock_, c = b.inputList, d = 0; d < b.inputList.length; d++) {\n      for (var e = c[d], f = e.fieldRow, g = 0; g < f.length; g++) {\n        if (f[g] === this) {\n          a = e;\n          break;\n        }\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Field.prototype.getFlipRtl = function () {\n    return !1;\n  };\n\n  Blockly.Field.prototype.isTabNavigable = function () {\n    return !1;\n  };\n\n  Blockly.Field.prototype.onShortcut = function (a) {\n    return !1;\n  };\n\n  Blockly.Field.prototype.setCursorSvg = function (a) {\n    a ? (this.fieldGroup_.appendChild(a), this.cursorSvg_ = a) : this.cursorSvg_ = null;\n  };\n\n  Blockly.Field.prototype.setMarkerSvg = function (a) {\n    a ? (this.fieldGroup_.appendChild(a), this.markerSvg_ = a) : this.markerSvg_ = null;\n  };\n\n  Blockly.Field.prototype.updateMarkers_ = function () {\n    var a = this.sourceBlock_.workspace;\n    a.keyboardAccessibilityMode && this.cursorSvg_ && a.getCursor().draw();\n    a.keyboardAccessibilityMode && this.markerSvg_ && a.getMarker(Blockly.MarkerManager.LOCAL_MARKER).draw();\n  };\n\n  Blockly.FieldLabel = function (a, b, c) {\n    this.class_ = null;\n    Blockly.FieldLabel.superClass_.constructor.call(this, a, null, c);\n    c || (this.class_ = b || null);\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldLabel, Blockly.Field);\n  Blockly.FieldLabel.prototype.DEFAULT_VALUE = \"\";\n\n  Blockly.FieldLabel.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.text);\n    return new Blockly.FieldLabel(b, void 0, a);\n  };\n\n  Blockly.FieldLabel.prototype.EDITABLE = !1;\n\n  Blockly.FieldLabel.prototype.configure_ = function (a) {\n    Blockly.FieldLabel.superClass_.configure_.call(this, a);\n    this.class_ = a[\"class\"];\n  };\n\n  Blockly.FieldLabel.prototype.initView = function () {\n    this.createTextElement_();\n    this.class_ && Blockly.utils.dom.addClass(this.textElement_, this.class_);\n  };\n\n  Blockly.FieldLabel.prototype.doClassValidation_ = function (a) {\n    return null === a || void 0 === a ? null : String(a);\n  };\n\n  Blockly.FieldLabel.prototype.setClass = function (a) {\n    this.textElement_ && (this.class_ && Blockly.utils.dom.removeClass(this.textElement_, this.class_), a && Blockly.utils.dom.addClass(this.textElement_, a));\n    this.class_ = a;\n  };\n\n  Blockly.fieldRegistry.register(\"field_label\", Blockly.FieldLabel);\n\n  Blockly.Input = function (a, b, c, d) {\n    if (a != Blockly.inputTypes.DUMMY && !b) throw Error(\"Value inputs and statement inputs must have non-empty name.\");\n    this.type = a;\n    this.name = b;\n    this.sourceBlock_ = c;\n    this.connection = d;\n    this.fieldRow = [];\n  };\n\n  Blockly.Input.prototype.align = Blockly.constants.ALIGN.LEFT;\n  Blockly.Input.prototype.visible_ = !0;\n\n  Blockly.Input.prototype.getSourceBlock = function () {\n    return this.sourceBlock_;\n  };\n\n  Blockly.Input.prototype.appendField = function (a, b) {\n    this.insertFieldAt(this.fieldRow.length, a, b);\n    return this;\n  };\n\n  Blockly.Input.prototype.insertFieldAt = function (a, b, c) {\n    if (0 > a || a > this.fieldRow.length) throw Error(\"index \" + a + \" out of bounds.\");\n    if (!(b || \"\" == b && c)) return a;\n    \"string\" == typeof b && (b = Blockly.fieldRegistry.fromJson({\n      type: \"field_label\",\n      text: b\n    }));\n    b.setSourceBlock(this.sourceBlock_);\n    this.sourceBlock_.rendered && (b.init(), b.applyColour());\n    b.name = c;\n    b.setVisible(this.isVisible());\n    b.prefixField && (a = this.insertFieldAt(a, b.prefixField));\n    this.fieldRow.splice(a, 0, b);\n    ++a;\n    b.suffixField && (a = this.insertFieldAt(a, b.suffixField));\n    this.sourceBlock_.rendered && (this.sourceBlock_ = this.sourceBlock_, this.sourceBlock_.render(), this.sourceBlock_.bumpNeighbours());\n    return a;\n  };\n\n  Blockly.Input.prototype.removeField = function (a, b) {\n    for (var c = 0, d; d = this.fieldRow[c]; c++) {\n      if (d.name === a) return d.dispose(), this.fieldRow.splice(c, 1), this.sourceBlock_.rendered && (this.sourceBlock_ = this.sourceBlock_, this.sourceBlock_.render(), this.sourceBlock_.bumpNeighbours()), !0;\n    }\n\n    if (b) return !1;\n    throw Error('Field \"' + a + '\" not found.');\n  };\n\n  Blockly.Input.prototype.isVisible = function () {\n    return this.visible_;\n  };\n\n  Blockly.Input.prototype.setVisible = function (a) {\n    var b = [];\n    if (this.visible_ == a) return b;\n    this.visible_ = a;\n\n    for (var c = 0, d; d = this.fieldRow[c]; c++) {\n      d.setVisible(a);\n    }\n\n    this.connection && (this.connection = this.connection, a ? b = this.connection.startTrackingAll() : this.connection.stopTrackingAll(), c = this.connection.targetBlock()) && (c.getSvgRoot().style.display = a ? \"block\" : \"none\");\n    return b;\n  };\n\n  Blockly.Input.prototype.markDirty = function () {\n    for (var a = 0, b; b = this.fieldRow[a]; a++) {\n      b.markDirty();\n    }\n  };\n\n  Blockly.Input.prototype.setCheck = function (a) {\n    if (!this.connection) throw Error(\"This input does not have a connection.\");\n    this.connection.setCheck(a);\n    return this;\n  };\n\n  Blockly.Input.prototype.setAlign = function (a) {\n    this.align = a;\n    this.sourceBlock_.rendered && (this.sourceBlock_ = this.sourceBlock_, this.sourceBlock_.render());\n    return this;\n  };\n\n  Blockly.Input.prototype.setShadowDom = function (a) {\n    if (!this.connection) throw Error(\"This input does not have a connection.\");\n    this.connection.setShadowDom(a);\n    return this;\n  };\n\n  Blockly.Input.prototype.getShadowDom = function () {\n    if (!this.connection) throw Error(\"This input does not have a connection.\");\n    return this.connection.getShadowDom();\n  };\n\n  Blockly.Input.prototype.init = function () {\n    if (this.sourceBlock_.workspace.rendered) for (var a = 0; a < this.fieldRow.length; a++) {\n      this.fieldRow[a].init();\n    }\n  };\n\n  Blockly.Input.prototype.dispose = function () {\n    for (var a = 0, b; b = this.fieldRow[a]; a++) {\n      b.dispose();\n    }\n\n    this.connection && this.connection.dispose();\n    this.sourceBlock_ = null;\n  };\n\n  Blockly.Block = function (a, b, c) {\n    if (Blockly.Generator && \"undefined\" != typeof Blockly.Generator.prototype[b]) throw Error('Block prototypeName \"' + b + '\" conflicts with Blockly.Generator members.');\n    this.id = c && !a.getBlockById(c) ? c : Blockly.utils.genUid();\n    a.setBlockById(this.id, this);\n    this.previousConnection = this.nextConnection = this.outputConnection = null;\n    this.inputList = [];\n    this.inputsInline = void 0;\n    this.disabled = !1;\n    this.tooltip = \"\";\n    this.contextMenu = !0;\n    this.parentBlock_ = null;\n    this.childBlocks_ = [];\n    this.editable_ = this.movable_ = this.deletable_ = !0;\n    this.collapsed_ = this.isShadow_ = !1;\n    this.comment = this.outputShape_ = null;\n    this.commentModel = {\n      text: null,\n      pinned: !1,\n      size: new Blockly.utils.Size(160, 80)\n    };\n    this.xy_ = new Blockly.utils.Coordinate(0, 0);\n    this.workspace = a;\n    this.isInFlyout = a.isFlyout;\n    this.isInMutator = a.isMutator;\n    this.RTL = a.RTL;\n    this.isInsertionMarker_ = !1;\n    this.hat = void 0;\n    this.rendered = null;\n    this.statementInputCount = 0;\n\n    if (b) {\n      this.type = b;\n      c = Blockly.Blocks[b];\n      if (!c || \"object\" != typeof c) throw TypeError(\"Unknown block type: \" + b);\n      Blockly.utils.object.mixin(this, c);\n    }\n\n    a.addTopBlock(this);\n    a.addTypedBlock(this);\n    (a = Blockly.Events.getGroup()) || Blockly.Events.setGroup(!0);\n    b = Blockly.Events.recordUndo;\n\n    try {\n      \"function\" == typeof this.init && (Blockly.Events.recordUndo = !1, this.init(), Blockly.Events.recordUndo = b), Blockly.Events.isEnabled() && Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CREATE))(this));\n    } finally {\n      a || Blockly.Events.setGroup(!1), Blockly.Events.recordUndo = b;\n    }\n\n    this.inputsInlineDefault = this.inputsInline;\n    \"function\" == typeof this.onchange && this.setOnChange(this.onchange);\n  };\n\n  Blockly.Block.COLLAPSED_INPUT_NAME = Blockly.constants.COLLAPSED_INPUT_NAME;\n  Blockly.Block.COLLAPSED_FIELD_NAME = Blockly.constants.COLLAPSED_FIELD_NAME;\n  Blockly.Block.prototype.data = null;\n  Blockly.Block.prototype.disposed = !1;\n  Blockly.Block.prototype.hue_ = null;\n  Blockly.Block.prototype.colour_ = \"#000000\";\n  Blockly.Block.prototype.styleName_ = null;\n\n  Blockly.Block.prototype.dispose = function (a) {\n    if (this.workspace) {\n      this.onchangeWrapper_ && this.workspace.removeChangeListener(this.onchangeWrapper_);\n      this.unplug(a);\n      Blockly.Events.isEnabled() && Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_DELETE))(this));\n      Blockly.Events.disable();\n\n      try {\n        this.workspace && (this.workspace.removeTopBlock(this), this.workspace.removeTypedBlock(this), this.workspace.removeBlockById(this.id), this.workspace = null);\n        Blockly.selected == this && (Blockly.selected = null);\n\n        for (var b = this.childBlocks_.length - 1; 0 <= b; b--) {\n          this.childBlocks_[b].dispose(!1);\n        }\n\n        b = 0;\n\n        for (var c; c = this.inputList[b]; b++) {\n          c.dispose();\n        }\n\n        this.inputList.length = 0;\n        var d = this.getConnections_(!0);\n        b = 0;\n\n        for (var e; e = d[b]; b++) {\n          e.dispose();\n        }\n      } finally {\n        Blockly.Events.enable(), this.disposed = !0;\n      }\n    }\n  };\n\n  Blockly.Block.prototype.initModel = function () {\n    for (var a = 0, b; b = this.inputList[a]; a++) {\n      for (var c = 0, d; d = b.fieldRow[c]; c++) {\n        d.initModel && d.initModel();\n      }\n    }\n  };\n\n  Blockly.Block.prototype.unplug = function (a) {\n    this.outputConnection ? this.unplugFromRow_(a) : this.previousConnection && this.unplugFromStack_(a);\n  };\n\n  Blockly.Block.prototype.unplugFromRow_ = function (a) {\n    var b = null;\n    this.outputConnection.isConnected() && (b = this.outputConnection.targetConnection, this.outputConnection.disconnect());\n    if (b && a && (a = this.getOnlyValueConnection_()) && a.isConnected() && !a.targetBlock().isShadow()) if (a = a.targetConnection, a.disconnect(), this.workspace.connectionChecker.canConnect(a, b, !1)) b.connect(a);else a.onFailedConnect(b);\n  };\n\n  Blockly.Block.prototype.getOnlyValueConnection_ = function () {\n    for (var a = null, b = 0; b < this.inputList.length; b++) {\n      var c = this.inputList[b].connection;\n\n      if (c && c.type == Blockly.connectionTypes.INPUT_VALUE && c.targetConnection) {\n        if (a) return null;\n        a = c;\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Block.prototype.unplugFromStack_ = function (a) {\n    var b = null;\n    this.previousConnection.isConnected() && (b = this.previousConnection.targetConnection, this.previousConnection.disconnect());\n    var c = this.getNextBlock();\n    a && c && !c.isShadow() && (a = this.nextConnection.targetConnection, a.disconnect(), b && this.workspace.connectionChecker.canConnect(b, a, !1) && b.connect(a));\n  };\n\n  Blockly.Block.prototype.getConnections_ = function (a) {\n    a = [];\n    this.outputConnection && a.push(this.outputConnection);\n    this.previousConnection && a.push(this.previousConnection);\n    this.nextConnection && a.push(this.nextConnection);\n\n    for (var b = 0, c; c = this.inputList[b]; b++) {\n      c.connection && a.push(c.connection);\n    }\n\n    return a;\n  };\n\n  Blockly.Block.prototype.lastConnectionInStack = function () {\n    for (var a = this.nextConnection; a;) {\n      var b = a.targetBlock();\n      if (!b) return a;\n      a = b.nextConnection;\n    }\n\n    return null;\n  };\n\n  Blockly.Block.prototype.bumpNeighbours = function () {};\n\n  Blockly.Block.prototype.getParent = function () {\n    return this.parentBlock_;\n  };\n\n  Blockly.Block.prototype.getInputWithBlock = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) {\n      if (c.connection && c.connection.targetBlock() == a) return c;\n    }\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getSurroundParent = function () {\n    var a = this;\n\n    do {\n      var b = a;\n      a = a.getParent();\n      if (!a) return null;\n    } while (a.getNextBlock() == b);\n\n    return a;\n  };\n\n  Blockly.Block.prototype.getNextBlock = function () {\n    return this.nextConnection && this.nextConnection.targetBlock();\n  };\n\n  Blockly.Block.prototype.getPreviousBlock = function () {\n    return this.previousConnection && this.previousConnection.targetBlock();\n  };\n\n  Blockly.Block.prototype.getFirstStatementConnection = function () {\n    for (var a = 0, b; b = this.inputList[a]; a++) {\n      if (b.connection && b.connection.type == Blockly.connectionTypes.NEXT_STATEMENT) return b.connection;\n    }\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getRootBlock = function () {\n    var a = this;\n\n    do {\n      var b = a;\n      a = b.parentBlock_;\n    } while (a);\n\n    return b;\n  };\n\n  Blockly.Block.prototype.getTopStackBlock = function () {\n    var a = this;\n\n    do {\n      var b = a.getPreviousBlock();\n    } while (b && b.getNextBlock() == a && (a = b));\n\n    return a;\n  };\n\n  Blockly.Block.prototype.getChildren = function (a) {\n    if (!a) return this.childBlocks_;\n    a = [];\n\n    for (var b = 0, c; c = this.inputList[b]; b++) {\n      c.connection && (c = c.connection.targetBlock()) && a.push(c);\n    }\n\n    (b = this.getNextBlock()) && a.push(b);\n    return a;\n  };\n\n  Blockly.Block.prototype.setParent = function (a) {\n    if (a != this.parentBlock_) {\n      if (this.parentBlock_) {\n        Blockly.utils.arrayRemove(this.parentBlock_.childBlocks_, this);\n        if (this.previousConnection && this.previousConnection.isConnected()) throw Error(\"Still connected to previous block.\");\n        if (this.outputConnection && this.outputConnection.isConnected()) throw Error(\"Still connected to parent block.\");\n        this.parentBlock_ = null;\n      } else this.workspace.removeTopBlock(this);\n\n      (this.parentBlock_ = a) ? a.childBlocks_.push(this) : this.workspace.addTopBlock(this);\n    }\n  };\n\n  Blockly.Block.prototype.getDescendants = function (a) {\n    for (var b = [this], c = this.getChildren(a), d, e = 0; d = c[e]; e++) {\n      b.push.apply(b, d.getDescendants(a));\n    }\n\n    return b;\n  };\n\n  Blockly.Block.prototype.isDeletable = function () {\n    return this.deletable_ && !this.isShadow_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.Block.prototype.setDeletable = function (a) {\n    this.deletable_ = a;\n  };\n\n  Blockly.Block.prototype.isMovable = function () {\n    return this.movable_ && !this.isShadow_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.Block.prototype.setMovable = function (a) {\n    this.movable_ = a;\n  };\n\n  Blockly.Block.prototype.isDuplicatable = function () {\n    return this.workspace.hasBlockLimits() ? this.workspace.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(this, !0)) : !0;\n  };\n\n  Blockly.Block.prototype.isShadow = function () {\n    return this.isShadow_;\n  };\n\n  Blockly.Block.prototype.setShadow = function (a) {\n    this.isShadow_ = a;\n  };\n\n  Blockly.Block.prototype.isInsertionMarker = function () {\n    return this.isInsertionMarker_;\n  };\n\n  Blockly.Block.prototype.setInsertionMarker = function (a) {\n    this.isInsertionMarker_ = a;\n  };\n\n  Blockly.Block.prototype.isEditable = function () {\n    return this.editable_ && !(this.workspace && this.workspace.options.readOnly);\n  };\n\n  Blockly.Block.prototype.setEditable = function (a) {\n    this.editable_ = a;\n    a = 0;\n\n    for (var b; b = this.inputList[a]; a++) {\n      for (var c = 0, d; d = b.fieldRow[c]; c++) {\n        d.updateEditable();\n      }\n    }\n  };\n\n  Blockly.Block.prototype.isDisposed = function () {\n    return this.disposed;\n  };\n\n  Blockly.Block.prototype.getMatchingConnection = function (a, b) {\n    var c = this.getConnections_(!0);\n    a = a.getConnections_(!0);\n    if (c.length != a.length) throw Error(\"Connection lists did not match in length.\");\n\n    for (var d = 0; d < a.length; d++) {\n      if (a[d] == b) return c[d];\n    }\n\n    return null;\n  };\n\n  Blockly.Block.prototype.setHelpUrl = function (a) {\n    this.helpUrl = a;\n  };\n\n  Blockly.Block.prototype.setTooltip = function (a) {\n    this.tooltip = a;\n  };\n\n  Blockly.Block.prototype.getTooltip = function () {\n    return Blockly.Tooltip.getTooltipOfObject(this);\n  };\n\n  Blockly.Block.prototype.getColour = function () {\n    return this.colour_;\n  };\n\n  Blockly.Block.prototype.getStyleName = function () {\n    return this.styleName_;\n  };\n\n  Blockly.Block.prototype.getHue = function () {\n    return this.hue_;\n  };\n\n  Blockly.Block.prototype.setColour = function (a) {\n    a = Blockly.utils.parseBlockColour(a);\n    this.hue_ = a.hue;\n    this.colour_ = a.hex;\n  };\n\n  Blockly.Block.prototype.setStyle = function (a) {\n    this.styleName_ = a;\n  };\n\n  Blockly.Block.prototype.setOnChange = function (a) {\n    if (a && \"function\" != typeof a) throw Error(\"onchange must be a function.\");\n    this.onchangeWrapper_ && this.workspace.removeChangeListener(this.onchangeWrapper_);\n    if (this.onchange = a) this.onchangeWrapper_ = a.bind(this), this.workspace.addChangeListener(this.onchangeWrapper_);\n  };\n\n  Blockly.Block.prototype.getField = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) {\n      for (var d = 0, e; e = c.fieldRow[d]; d++) {\n        if (e.name == a) return e;\n      }\n    }\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getVars = function () {\n    for (var a = [], b = 0, c; c = this.inputList[b]; b++) {\n      for (var d = 0, e; e = c.fieldRow[d]; d++) {\n        e.referencesVariables() && a.push(e.getValue());\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Block.prototype.getVarModels = function () {\n    for (var a = [], b = 0, c; c = this.inputList[b]; b++) {\n      for (var d = 0, e; e = c.fieldRow[d]; d++) {\n        e.referencesVariables() && (e = this.workspace.getVariableById(e.getValue())) && a.push(e);\n      }\n    }\n\n    return a;\n  };\n\n  Blockly.Block.prototype.updateVarName = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) {\n      for (var d = 0, e; e = c.fieldRow[d]; d++) {\n        e.referencesVariables() && a.getId() == e.getValue() && e.refreshVariableName();\n      }\n    }\n  };\n\n  Blockly.Block.prototype.renameVarById = function (a, b) {\n    for (var c = 0, d; d = this.inputList[c]; c++) {\n      for (var e = 0, f; f = d.fieldRow[e]; e++) {\n        f.referencesVariables() && a == f.getValue() && f.setValue(b);\n      }\n    }\n  };\n\n  Blockly.Block.prototype.getFieldValue = function (a) {\n    return (a = this.getField(a)) ? a.getValue() : null;\n  };\n\n  Blockly.Block.prototype.setFieldValue = function (a, b) {\n    var c = this.getField(b);\n    if (!c) throw Error('Field \"' + b + '\" not found.');\n    c.setValue(a);\n  };\n\n  Blockly.Block.prototype.setPreviousStatement = function (a, b) {\n    if (a) {\n      void 0 === b && (b = null);\n\n      if (!this.previousConnection) {\n        if (this.outputConnection) throw Error(\"Remove output connection prior to adding previous connection.\");\n        this.previousConnection = this.makeConnection_(Blockly.connectionTypes.PREVIOUS_STATEMENT);\n      }\n\n      this.previousConnection.setCheck(b);\n    } else if (this.previousConnection) {\n      if (this.previousConnection.isConnected()) throw Error(\"Must disconnect previous statement before removing connection.\");\n      this.previousConnection.dispose();\n      this.previousConnection = null;\n    }\n  };\n\n  Blockly.Block.prototype.setNextStatement = function (a, b) {\n    if (a) void 0 === b && (b = null), this.nextConnection || (this.nextConnection = this.makeConnection_(Blockly.connectionTypes.NEXT_STATEMENT)), this.nextConnection.setCheck(b);else if (this.nextConnection) {\n      if (this.nextConnection.isConnected()) throw Error(\"Must disconnect next statement before removing connection.\");\n      this.nextConnection.dispose();\n      this.nextConnection = null;\n    }\n  };\n\n  Blockly.Block.prototype.setOutput = function (a, b) {\n    if (a) {\n      void 0 === b && (b = null);\n\n      if (!this.outputConnection) {\n        if (this.previousConnection) throw Error(\"Remove previous connection prior to adding output connection.\");\n        this.outputConnection = this.makeConnection_(Blockly.connectionTypes.OUTPUT_VALUE);\n      }\n\n      this.outputConnection.setCheck(b);\n    } else if (this.outputConnection) {\n      if (this.outputConnection.isConnected()) throw Error(\"Must disconnect output value before removing connection.\");\n      this.outputConnection.dispose();\n      this.outputConnection = null;\n    }\n  };\n\n  Blockly.Block.prototype.setInputsInline = function (a) {\n    this.inputsInline != a && (Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(this, \"inline\", null, this.inputsInline, a)), this.inputsInline = a);\n  };\n\n  Blockly.Block.prototype.getInputsInline = function () {\n    if (void 0 != this.inputsInline) return this.inputsInline;\n\n    for (var a = 1; a < this.inputList.length; a++) {\n      if (this.inputList[a - 1].type == Blockly.inputTypes.DUMMY && this.inputList[a].type == Blockly.inputTypes.DUMMY) return !1;\n    }\n\n    for (a = 1; a < this.inputList.length; a++) {\n      if (this.inputList[a - 1].type == Blockly.inputTypes.VALUE && this.inputList[a].type == Blockly.inputTypes.DUMMY) return !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.Block.prototype.setOutputShape = function (a) {\n    this.outputShape_ = a;\n  };\n\n  Blockly.Block.prototype.getOutputShape = function () {\n    return this.outputShape_;\n  };\n\n  Blockly.Block.prototype.isEnabled = function () {\n    return !this.disabled;\n  };\n\n  Blockly.Block.prototype.setEnabled = function (a) {\n    this.isEnabled() != a && (Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(this, \"disabled\", null, this.disabled, !a)), this.disabled = !a);\n  };\n\n  Blockly.Block.prototype.getInheritedDisabled = function () {\n    for (var a = this.getSurroundParent(); a;) {\n      if (a.disabled) return !0;\n      a = a.getSurroundParent();\n    }\n\n    return !1;\n  };\n\n  Blockly.Block.prototype.isCollapsed = function () {\n    return this.collapsed_;\n  };\n\n  Blockly.Block.prototype.setCollapsed = function (a) {\n    this.collapsed_ != a && (Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(this, \"collapsed\", null, this.collapsed_, a)), this.collapsed_ = a);\n  };\n\n  Blockly.Block.prototype.toString = function (a, b) {\n    function c(l) {\n      var m = l.getCheck();\n      !m && l.targetConnection && (m = l.targetConnection.getCheck());\n      return !!m && (-1 != m.indexOf(\"Boolean\") || -1 != m.indexOf(\"Number\"));\n    }\n\n    function d() {\n      g && g.getType() == h.getType() && g.getLocation() == h.getLocation() && (g = null);\n    }\n\n    var e = [];\n    b = b || \"?\";\n    var f = Blockly.ASTNode.NAVIGATE_ALL_FIELDS;\n    Blockly.ASTNode.NAVIGATE_ALL_FIELDS = !0;\n\n    for (var g = Blockly.ASTNode.createBlockNode(this), h = g; g;) {\n      switch (g.getType()) {\n        case Blockly.ASTNode.types.INPUT:\n          var k = g.getLocation();\n          g.in() ? c(k) && e.push(\"(\") : e.push(b);\n          break;\n\n        case Blockly.ASTNode.types.FIELD:\n          k = g.getLocation(), k.name != Blockly.constants.COLLAPSED_FIELD_NAME && e.push(k.getText());\n      }\n\n      k = g;\n      g = k.in() || k.next();\n\n      if (!g) {\n        g = k.out();\n\n        for (d(); g && !g.next();) {\n          g = g.out(), d(), g && g.getType() == Blockly.ASTNode.types.INPUT && c(g.getLocation()) && e.push(\")\");\n        }\n\n        g && (g = g.next());\n      }\n    }\n\n    Blockly.ASTNode.NAVIGATE_ALL_FIELDS = f;\n    b = 2;\n\n    for (f = e.length; b < f; b++) {\n      \"(\" == e[b - 2] && \")\" == e[b] && (e[b - 2] = e[b - 1], e.splice(b - 1, 2), f -= 2);\n    }\n\n    e = e.join(\" \").replace(/(\\() | (\\))/gmi, \"$1$2\").trim() || \"???\";\n    a && e.length > a && (e = e.substring(0, a - 3) + \"...\");\n    return e;\n  };\n\n  Blockly.Block.prototype.appendValueInput = function (a) {\n    return this.appendInput_(Blockly.inputTypes.VALUE, a);\n  };\n\n  Blockly.Block.prototype.appendStatementInput = function (a) {\n    return this.appendInput_(Blockly.inputTypes.STATEMENT, a);\n  };\n\n  Blockly.Block.prototype.appendDummyInput = function (a) {\n    return this.appendInput_(Blockly.inputTypes.DUMMY, a || \"\");\n  };\n\n  Blockly.Block.prototype.jsonInit = function (a) {\n    var b = a.type ? 'Block \"' + a.type + '\": ' : \"\";\n    if (a.output && a.previousStatement) throw Error(b + \"Must not have both an output and a previousStatement.\");\n    a.style && a.style.hat && (this.hat = a.style.hat, a.style = null);\n    if (a.style && a.colour) throw Error(b + \"Must not have both a colour and a style.\");\n    a.style ? this.jsonInitStyle_(a, b) : this.jsonInitColour_(a, b);\n\n    for (var c = 0; void 0 !== a[\"message\" + c];) {\n      this.interpolate_(a[\"message\" + c], a[\"args\" + c] || [], a[\"lastDummyAlign\" + c], b), c++;\n    }\n\n    void 0 !== a.inputsInline && this.setInputsInline(a.inputsInline);\n    void 0 !== a.output && this.setOutput(!0, a.output);\n    void 0 !== a.outputShape && this.setOutputShape(a.outputShape);\n    void 0 !== a.previousStatement && this.setPreviousStatement(!0, a.previousStatement);\n    void 0 !== a.nextStatement && this.setNextStatement(!0, a.nextStatement);\n    void 0 !== a.tooltip && (c = a.tooltip, c = Blockly.utils.replaceMessageReferences(c), this.setTooltip(c));\n    void 0 !== a.enableContextMenu && (c = a.enableContextMenu, this.contextMenu = !!c);\n    void 0 !== a.helpUrl && (c = a.helpUrl, c = Blockly.utils.replaceMessageReferences(c), this.setHelpUrl(c));\n    \"string\" == typeof a.extensions && (console.warn(b + \"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '\" + a.type + \"' block.\"), a.extensions = [a.extensions]);\n    void 0 !== a.mutator && Blockly.Extensions.apply(a.mutator, this, !0);\n    if (Array.isArray(a.extensions)) for (a = a.extensions, b = 0; b < a.length; ++b) {\n      Blockly.Extensions.apply(a[b], this, !1);\n    }\n  };\n\n  Blockly.Block.prototype.jsonInitColour_ = function (a, b) {\n    if (\"colour\" in a) if (void 0 === a.colour) console.warn(b + \"Undefined colour value.\");else {\n      a = a.colour;\n\n      try {\n        this.setColour(a);\n      } catch (c) {\n        console.warn(b + \"Illegal colour value: \", a);\n      }\n    }\n  };\n\n  Blockly.Block.prototype.jsonInitStyle_ = function (a, b) {\n    a = a.style;\n\n    try {\n      this.setStyle(a);\n    } catch (c) {\n      console.warn(b + \"Style does not exist: \", a);\n    }\n  };\n\n  Blockly.Block.prototype.mixin = function (a, b) {\n    if (void 0 !== b && \"boolean\" != typeof b) throw Error(\"opt_disableCheck must be a boolean if provided\");\n\n    if (!b) {\n      b = [];\n\n      for (var c in a) {\n        void 0 !== this[c] && b.push(c);\n      }\n\n      if (b.length) throw Error(\"Mixin will overwrite block members: \" + JSON.stringify(b));\n    }\n\n    Blockly.utils.object.mixin(this, a);\n  };\n\n  Blockly.Block.prototype.interpolate_ = function (a, b, c, d) {\n    a = Blockly.utils.tokenizeInterpolation(a);\n    this.validateTokens_(a, b.length);\n    b = this.interpolateArguments_(a, b, c);\n    c = [];\n    a = 0;\n\n    for (var e; e = b[a]; a++) {\n      if (this.isInputKeyword_(e.type)) {\n        if (e = this.inputFromJson_(e, d)) {\n          for (var f = 0, g; g = c[f]; f++) {\n            e.appendField(g[0], g[1]);\n          }\n\n          c.length = 0;\n        }\n      } else (f = this.fieldFromJson_(e)) && c.push([f, e.name]);\n    }\n  };\n\n  Blockly.Block.prototype.validateTokens_ = function (a, b) {\n    for (var c = [], d = 0, e = 0; e < a.length; e++) {\n      var f = a[e];\n\n      if (\"number\" == typeof f) {\n        if (1 > f || f > b) throw Error('Block \"' + this.type + '\": Message index %' + f + \" out of range.\");\n        if (c[f]) throw Error('Block \"' + this.type + '\": Message index %' + f + \" duplicated.\");\n        c[f] = !0;\n        d++;\n      }\n    }\n\n    if (d != b) throw Error('Block \"' + this.type + '\": Message does not reference all ' + b + \" arg(s).\");\n  };\n\n  Blockly.Block.prototype.interpolateArguments_ = function (a, b, c) {\n    for (var d = [], e = 0; e < a.length; e++) {\n      var f = a[e];\n      \"number\" == typeof f && (f = b[f - 1]);\n      if (\"string\" == typeof f && (f = this.stringToFieldJson_(f), !f)) continue;\n      d.push(f);\n    }\n\n    (a = d.length) && !this.isInputKeyword_(d[a - 1].type) && (a = {\n      type: \"input_dummy\"\n    }, c && (a.align = c), d.push(a));\n    return d;\n  };\n\n  Blockly.Block.prototype.fieldFromJson_ = function (a) {\n    var b = Blockly.fieldRegistry.fromJson(a);\n    return !b && a.alt ? \"string\" == typeof a.alt ? (a = this.stringToFieldJson_(a.alt)) ? this.fieldFromJson_(a) : null : this.fieldFromJson_(a.alt) : b;\n  };\n\n  Blockly.Block.prototype.inputFromJson_ = function (a, b) {\n    var c = {\n      LEFT: Blockly.constants.ALIGN.LEFT,\n      RIGHT: Blockly.constants.ALIGN.RIGHT,\n      CENTRE: Blockly.constants.ALIGN.CENTRE,\n      CENTER: Blockly.constants.ALIGN.CENTRE\n    },\n        d = null;\n\n    switch (a.type) {\n      case \"input_value\":\n        d = this.appendValueInput(a.name);\n        break;\n\n      case \"input_statement\":\n        d = this.appendStatementInput(a.name);\n        break;\n\n      case \"input_dummy\":\n        d = this.appendDummyInput(a.name);\n    }\n\n    if (!d) return null;\n    a.check && d.setCheck(a.check);\n    a.align && (c = c[a.align.toUpperCase()], void 0 === c ? console.warn(b + \"Illegal align value: \", a.align) : d.setAlign(c));\n    return d;\n  };\n\n  Blockly.Block.prototype.isInputKeyword_ = function (a) {\n    return \"input_value\" == a || \"input_statement\" == a || \"input_dummy\" == a;\n  };\n\n  Blockly.Block.prototype.stringToFieldJson_ = function (a) {\n    return (a = a.trim()) ? {\n      type: \"field_label\",\n      text: a\n    } : null;\n  };\n\n  Blockly.Block.prototype.appendInput_ = function (a, b) {\n    var c = null;\n    if (a == Blockly.inputTypes.VALUE || a == Blockly.inputTypes.STATEMENT) c = this.makeConnection_(a);\n    a == Blockly.inputTypes.STATEMENT && this.statementInputCount++;\n    a = new Blockly.Input(a, b, this, c);\n    this.inputList.push(a);\n    return a;\n  };\n\n  Blockly.Block.prototype.moveInputBefore = function (a, b) {\n    if (a != b) {\n      for (var c = -1, d = b ? -1 : this.inputList.length, e = 0, f; f = this.inputList[e]; e++) {\n        if (f.name == a) {\n          if (c = e, -1 != d) break;\n        } else if (b && f.name == b && (d = e, -1 != c)) break;\n      }\n\n      if (-1 == c) throw Error('Named input \"' + a + '\" not found.');\n      if (-1 == d) throw Error('Reference input \"' + b + '\" not found.');\n      this.moveNumberedInputBefore(c, d);\n    }\n  };\n\n  Blockly.Block.prototype.moveNumberedInputBefore = function (a, b) {\n    if (a == b) throw Error(\"Can't move input to itself.\");\n    if (a >= this.inputList.length) throw RangeError(\"Input index \" + a + \" out of bounds.\");\n    if (b > this.inputList.length) throw RangeError(\"Reference input \" + b + \" out of bounds.\");\n    var c = this.inputList[a];\n    this.inputList.splice(a, 1);\n    a < b && b--;\n    this.inputList.splice(b, 0, c);\n  };\n\n  Blockly.Block.prototype.removeInput = function (a, b) {\n    for (var c = 0, d; d = this.inputList[c]; c++) {\n      if (d.name == a) return d.type == Blockly.inputTypes.STATEMENT && this.statementInputCount--, d.dispose(), this.inputList.splice(c, 1), !0;\n    }\n\n    if (b) return !1;\n    throw Error(\"Input not found: \" + a);\n  };\n\n  Blockly.Block.prototype.getInput = function (a) {\n    for (var b = 0, c; c = this.inputList[b]; b++) {\n      if (c.name == a) return c;\n    }\n\n    return null;\n  };\n\n  Blockly.Block.prototype.getInputTargetBlock = function (a) {\n    return (a = this.getInput(a)) && a.connection && a.connection.targetBlock();\n  };\n\n  Blockly.Block.prototype.getCommentText = function () {\n    return this.commentModel.text;\n  };\n\n  Blockly.Block.prototype.setCommentText = function (a) {\n    this.commentModel.text != a && (Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(this, \"comment\", null, this.commentModel.text, a)), this.comment = this.commentModel.text = a);\n  };\n\n  Blockly.Block.prototype.setWarningText = function (a, b) {};\n\n  Blockly.Block.prototype.setMutator = function (a) {};\n\n  Blockly.Block.prototype.getRelativeToSurfaceXY = function () {\n    return this.xy_;\n  };\n\n  Blockly.Block.prototype.moveBy = function (a, b) {\n    if (this.parentBlock_) throw Error(\"Block has parent.\");\n    var c = new (Blockly.Events.get(Blockly.Events.BLOCK_MOVE))(this);\n    this.xy_.translate(a, b);\n    c.recordNew();\n    Blockly.Events.fire(c);\n  };\n\n  Blockly.Block.prototype.makeConnection_ = function (a) {\n    return new Blockly.Connection(this, a);\n  };\n\n  Blockly.Block.prototype.allInputsFilled = function (a) {\n    void 0 === a && (a = !0);\n    if (!a && this.isShadow()) return !1;\n\n    for (var b = 0, c; c = this.inputList[b]; b++) {\n      if (c.connection && (c = c.connection.targetBlock(), !c || !c.allInputsFilled(a))) return !1;\n    }\n\n    return (b = this.getNextBlock()) ? b.allInputsFilled(a) : !0;\n  };\n\n  Blockly.Block.prototype.toDevString = function () {\n    var a = this.type ? '\"' + this.type + '\" block' : \"Block\";\n    this.id && (a += ' (id=\"' + this.id + '\")');\n    return a;\n  };\n\n  Blockly.blockRendering.IPathObject = function (a, b) {};\n\n  Blockly.utils.KeyCodes = {\n    WIN_KEY_FF_LINUX: 0,\n    MAC_ENTER: 3,\n    BACKSPACE: 8,\n    TAB: 9,\n    NUM_CENTER: 12,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    PAUSE: 19,\n    CAPS_LOCK: 20,\n    ESC: 27,\n    SPACE: 32,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    PLUS_SIGN: 43,\n    PRINT_SCREEN: 44,\n    INSERT: 45,\n    DELETE: 46,\n    ZERO: 48,\n    ONE: 49,\n    TWO: 50,\n    THREE: 51,\n    FOUR: 52,\n    FIVE: 53,\n    SIX: 54,\n    SEVEN: 55,\n    EIGHT: 56,\n    NINE: 57,\n    FF_SEMICOLON: 59,\n    FF_EQUALS: 61,\n    FF_DASH: 173,\n    FF_HASH: 163,\n    QUESTION_MARK: 63,\n    AT_SIGN: 64,\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    META: 91,\n    WIN_KEY_RIGHT: 92,\n    CONTEXT_MENU: 93,\n    NUM_ZERO: 96,\n    NUM_ONE: 97,\n    NUM_TWO: 98,\n    NUM_THREE: 99,\n    NUM_FOUR: 100,\n    NUM_FIVE: 101,\n    NUM_SIX: 102,\n    NUM_SEVEN: 103,\n    NUM_EIGHT: 104,\n    NUM_NINE: 105,\n    NUM_MULTIPLY: 106,\n    NUM_PLUS: 107,\n    NUM_MINUS: 109,\n    NUM_PERIOD: 110,\n    NUM_DIVISION: 111,\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n    NUMLOCK: 144,\n    SCROLL_LOCK: 145,\n    FIRST_MEDIA_KEY: 166,\n    LAST_MEDIA_KEY: 183,\n    SEMICOLON: 186,\n    DASH: 189,\n    EQUALS: 187,\n    COMMA: 188,\n    PERIOD: 190,\n    SLASH: 191,\n    APOSTROPHE: 192,\n    TILDE: 192,\n    SINGLE_QUOTE: 222,\n    OPEN_SQUARE_BRACKET: 219,\n    BACKSLASH: 220,\n    CLOSE_SQUARE_BRACKET: 221,\n    WIN_KEY: 224,\n    MAC_FF_META: 224,\n    MAC_WK_CMD_LEFT: 91,\n    MAC_WK_CMD_RIGHT: 93,\n    WIN_IME: 229,\n    VK_NONAME: 252,\n    PHANTOM: 255\n  };\n\n  Blockly.Menu = function () {\n    this.menuItems_ = [];\n    this.roleName_ = this.element_ = this.onKeyDownHandler_ = this.mouseLeaveHandler_ = this.mouseEnterHandler_ = this.clickHandler_ = this.mouseOverHandler_ = this.highlightedItem_ = this.openingCoords = null;\n  };\n\n  Blockly.Menu.prototype.addChild = function (a) {\n    this.menuItems_.push(a);\n  };\n\n  Blockly.Menu.prototype.render = function (a) {\n    var b = document.createElement(\"div\");\n    b.className = \"blocklyMenu goog-menu blocklyNonSelectable\";\n    b.tabIndex = 0;\n    this.roleName_ && Blockly.utils.aria.setRole(b, this.roleName_);\n    this.element_ = b;\n\n    for (var c = 0, d; d = this.menuItems_[c]; c++) {\n      b.appendChild(d.createDom());\n    }\n\n    this.mouseOverHandler_ = Blockly.browserEvents.conditionalBind(b, \"mouseover\", this, this.handleMouseOver_, !0);\n    this.clickHandler_ = Blockly.browserEvents.conditionalBind(b, \"click\", this, this.handleClick_, !0);\n    this.mouseEnterHandler_ = Blockly.browserEvents.conditionalBind(b, \"mouseenter\", this, this.handleMouseEnter_, !0);\n    this.mouseLeaveHandler_ = Blockly.browserEvents.conditionalBind(b, \"mouseleave\", this, this.handleMouseLeave_, !0);\n    this.onKeyDownHandler_ = Blockly.browserEvents.conditionalBind(b, \"keydown\", this, this.handleKeyEvent_);\n    a.appendChild(b);\n  };\n\n  Blockly.Menu.prototype.getElement = function () {\n    return this.element_;\n  };\n\n  Blockly.Menu.prototype.focus = function () {\n    var a = this.getElement();\n    a && (a.focus({\n      preventScroll: !0\n    }), Blockly.utils.dom.addClass(a, \"blocklyFocused\"));\n  };\n\n  Blockly.Menu.prototype.blur_ = function () {\n    var a = this.getElement();\n    a && (a.blur(), Blockly.utils.dom.removeClass(a, \"blocklyFocused\"));\n  };\n\n  Blockly.Menu.prototype.setRole = function (a) {\n    this.roleName_ = a;\n  };\n\n  Blockly.Menu.prototype.dispose = function () {\n    this.mouseOverHandler_ && (Blockly.browserEvents.unbind(this.mouseOverHandler_), this.mouseOverHandler_ = null);\n    this.clickHandler_ && (Blockly.browserEvents.unbind(this.clickHandler_), this.clickHandler_ = null);\n    this.mouseEnterHandler_ && (Blockly.browserEvents.unbind(this.mouseEnterHandler_), this.mouseEnterHandler_ = null);\n    this.mouseLeaveHandler_ && (Blockly.browserEvents.unbind(this.mouseLeaveHandler_), this.mouseLeaveHandler_ = null);\n    this.onKeyDownHandler_ && (Blockly.browserEvents.unbind(this.onKeyDownHandler_), this.onKeyDownHandler_ = null);\n\n    for (var a = 0, b; b = this.menuItems_[a]; a++) {\n      b.dispose();\n    }\n\n    this.element_ = null;\n  };\n\n  Blockly.Menu.prototype.getMenuItem_ = function (a) {\n    for (var b = this.getElement(); a && a != b;) {\n      if (Blockly.utils.dom.hasClass(a, \"blocklyMenuItem\")) for (var c = 0, d; d = this.menuItems_[c]; c++) {\n        if (d.getElement() == a) return d;\n      }\n      a = a.parentElement;\n    }\n\n    return null;\n  };\n\n  Blockly.Menu.prototype.setHighlighted = function (a) {\n    var b = this.highlightedItem_;\n    b && (b.setHighlighted(!1), this.highlightedItem_ = null);\n    a && (a.setHighlighted(!0), this.highlightedItem_ = a, b = this.getElement(), Blockly.utils.style.scrollIntoContainerView(a.getElement(), b), Blockly.utils.aria.setState(b, Blockly.utils.aria.State.ACTIVEDESCENDANT, a.getId()));\n  };\n\n  Blockly.Menu.prototype.highlightNext = function () {\n    var a = this.menuItems_.indexOf(this.highlightedItem_);\n    this.highlightHelper_(a, 1);\n  };\n\n  Blockly.Menu.prototype.highlightPrevious = function () {\n    var a = this.menuItems_.indexOf(this.highlightedItem_);\n    this.highlightHelper_(0 > a ? this.menuItems_.length : a, -1);\n  };\n\n  Blockly.Menu.prototype.highlightFirst_ = function () {\n    this.highlightHelper_(-1, 1);\n  };\n\n  Blockly.Menu.prototype.highlightLast_ = function () {\n    this.highlightHelper_(this.menuItems_.length, -1);\n  };\n\n  Blockly.Menu.prototype.highlightHelper_ = function (a, b) {\n    a += b;\n\n    for (var c; c = this.menuItems_[a];) {\n      if (c.isEnabled()) {\n        this.setHighlighted(c);\n        break;\n      }\n\n      a += b;\n    }\n  };\n\n  Blockly.Menu.prototype.handleMouseOver_ = function (a) {\n    (a = this.getMenuItem_(a.target)) && (a.isEnabled() ? this.highlightedItem_ != a && this.setHighlighted(a) : this.setHighlighted(null));\n  };\n\n  Blockly.Menu.prototype.handleClick_ = function (a) {\n    var b = this.openingCoords;\n    this.openingCoords = null;\n\n    if (b && \"number\" == typeof a.clientX) {\n      var c = new Blockly.utils.Coordinate(a.clientX, a.clientY);\n      if (1 > Blockly.utils.Coordinate.distance(b, c)) return;\n    }\n\n    (a = this.getMenuItem_(a.target)) && a.performAction();\n  };\n\n  Blockly.Menu.prototype.handleMouseEnter_ = function (a) {\n    this.focus();\n  };\n\n  Blockly.Menu.prototype.handleMouseLeave_ = function (a) {\n    this.getElement() && (this.blur_(), this.setHighlighted(null));\n  };\n\n  Blockly.Menu.prototype.handleKeyEvent_ = function (a) {\n    if (this.menuItems_.length && !(a.shiftKey || a.ctrlKey || a.metaKey || a.altKey)) {\n      var b = this.highlightedItem_;\n\n      switch (a.keyCode) {\n        case Blockly.utils.KeyCodes.ENTER:\n        case Blockly.utils.KeyCodes.SPACE:\n          b && b.performAction();\n          break;\n\n        case Blockly.utils.KeyCodes.UP:\n          this.highlightPrevious();\n          break;\n\n        case Blockly.utils.KeyCodes.DOWN:\n          this.highlightNext();\n          break;\n\n        case Blockly.utils.KeyCodes.PAGE_UP:\n        case Blockly.utils.KeyCodes.HOME:\n          this.highlightFirst_();\n          break;\n\n        case Blockly.utils.KeyCodes.PAGE_DOWN:\n        case Blockly.utils.KeyCodes.END:\n          this.highlightLast_();\n          break;\n\n        default:\n          return;\n      }\n\n      a.preventDefault();\n      a.stopPropagation();\n    }\n  };\n\n  Blockly.Menu.prototype.getSize = function () {\n    var a = this.getElement(),\n        b = Blockly.utils.style.getSize(a);\n    b.height = a.scrollHeight;\n    return b;\n  };\n\n  Blockly.MenuItem = function (a, b) {\n    this.content_ = a;\n    this.value_ = b;\n    this.enabled_ = !0;\n    this.element_ = null;\n    this.rightToLeft_ = !1;\n    this.roleName_ = null;\n    this.highlight_ = this.checked_ = this.checkable_ = !1;\n    this.actionHandler_ = null;\n  };\n\n  Blockly.MenuItem.prototype.createDom = function () {\n    var a = document.createElement(\"div\");\n    a.id = Blockly.utils.IdGenerator.getNextUniqueId();\n    this.element_ = a;\n    a.className = \"blocklyMenuItem goog-menuitem \" + (this.enabled_ ? \"\" : \"blocklyMenuItemDisabled goog-menuitem-disabled \") + (this.checked_ ? \"blocklyMenuItemSelected goog-option-selected \" : \"\") + (this.highlight_ ? \"blocklyMenuItemHighlight goog-menuitem-highlight \" : \"\") + (this.rightToLeft_ ? \"blocklyMenuItemRtl goog-menuitem-rtl \" : \"\");\n    var b = document.createElement(\"div\");\n    b.className = \"blocklyMenuItemContent goog-menuitem-content\";\n\n    if (this.checkable_) {\n      var c = document.createElement(\"div\");\n      c.className = \"blocklyMenuItemCheckbox goog-menuitem-checkbox\";\n      b.appendChild(c);\n    }\n\n    c = this.content_;\n    \"string\" == typeof this.content_ && (c = document.createTextNode(this.content_));\n    b.appendChild(c);\n    a.appendChild(b);\n    this.roleName_ && Blockly.utils.aria.setRole(a, this.roleName_);\n    Blockly.utils.aria.setState(a, Blockly.utils.aria.State.SELECTED, this.checkable_ && this.checked_ || !1);\n    Blockly.utils.aria.setState(a, Blockly.utils.aria.State.DISABLED, !this.enabled_);\n    return a;\n  };\n\n  Blockly.MenuItem.prototype.dispose = function () {\n    this.element_ = null;\n  };\n\n  Blockly.MenuItem.prototype.getElement = function () {\n    return this.element_;\n  };\n\n  Blockly.MenuItem.prototype.getId = function () {\n    return this.element_.id;\n  };\n\n  Blockly.MenuItem.prototype.getValue = function () {\n    return this.value_;\n  };\n\n  Blockly.MenuItem.prototype.setRightToLeft = function (a) {\n    this.rightToLeft_ = a;\n  };\n\n  Blockly.MenuItem.prototype.setRole = function (a) {\n    this.roleName_ = a;\n  };\n\n  Blockly.MenuItem.prototype.setCheckable = function (a) {\n    this.checkable_ = a;\n  };\n\n  Blockly.MenuItem.prototype.setChecked = function (a) {\n    this.checked_ = a;\n  };\n\n  Blockly.MenuItem.prototype.setHighlighted = function (a) {\n    this.highlight_ = a;\n    var b = this.getElement();\n    b && this.isEnabled() && (a ? (Blockly.utils.dom.addClass(b, \"blocklyMenuItemHighlight\"), Blockly.utils.dom.addClass(b, \"goog-menuitem-highlight\")) : (Blockly.utils.dom.removeClass(b, \"blocklyMenuItemHighlight\"), Blockly.utils.dom.removeClass(b, \"goog-menuitem-highlight\")));\n  };\n\n  Blockly.MenuItem.prototype.isEnabled = function () {\n    return this.enabled_;\n  };\n\n  Blockly.MenuItem.prototype.setEnabled = function (a) {\n    this.enabled_ = a;\n  };\n\n  Blockly.MenuItem.prototype.performAction = function () {\n    this.isEnabled() && this.actionHandler_ && this.actionHandler_(this);\n  };\n\n  Blockly.MenuItem.prototype.onAction = function (a, b) {\n    this.actionHandler_ = a.bind(b);\n  };\n\n  Blockly.WidgetDiv = {};\n  Blockly.WidgetDiv.owner_ = null;\n  Blockly.WidgetDiv.dispose_ = null;\n  Blockly.WidgetDiv.rendererClassName_ = \"\";\n  Blockly.WidgetDiv.themeClassName_ = \"\";\n\n  Blockly.WidgetDiv.createDom = function () {\n    Blockly.WidgetDiv.DIV || (Blockly.WidgetDiv.DIV = document.createElement(\"div\"), Blockly.WidgetDiv.DIV.className = \"blocklyWidgetDiv\", (Blockly.parentContainer || document.body).appendChild(Blockly.WidgetDiv.DIV));\n  };\n\n  Blockly.WidgetDiv.show = function (a, b, c) {\n    Blockly.WidgetDiv.hide();\n    Blockly.WidgetDiv.owner_ = a;\n    Blockly.WidgetDiv.dispose_ = c;\n    a = Blockly.WidgetDiv.DIV;\n    a.style.direction = b ? \"rtl\" : \"ltr\";\n    a.style.display = \"block\";\n    b = Blockly.getMainWorkspace();\n    Blockly.WidgetDiv.rendererClassName_ = b.getRenderer().getClassName();\n    Blockly.WidgetDiv.themeClassName_ = b.getTheme().getClassName();\n    Blockly.utils.dom.addClass(a, Blockly.WidgetDiv.rendererClassName_);\n    Blockly.utils.dom.addClass(a, Blockly.WidgetDiv.themeClassName_);\n  };\n\n  Blockly.WidgetDiv.hide = function () {\n    if (Blockly.WidgetDiv.isVisible()) {\n      Blockly.WidgetDiv.owner_ = null;\n      var a = Blockly.WidgetDiv.DIV;\n      a.style.display = \"none\";\n      a.style.left = \"\";\n      a.style.top = \"\";\n      Blockly.WidgetDiv.dispose_ && Blockly.WidgetDiv.dispose_();\n      Blockly.WidgetDiv.dispose_ = null;\n      a.textContent = \"\";\n      Blockly.WidgetDiv.rendererClassName_ && (Blockly.utils.dom.removeClass(a, Blockly.WidgetDiv.rendererClassName_), Blockly.WidgetDiv.rendererClassName_ = \"\");\n      Blockly.WidgetDiv.themeClassName_ && (Blockly.utils.dom.removeClass(a, Blockly.WidgetDiv.themeClassName_), Blockly.WidgetDiv.themeClassName_ = \"\");\n      Blockly.getMainWorkspace().markFocused();\n    }\n  };\n\n  Blockly.WidgetDiv.isVisible = function () {\n    return !!Blockly.WidgetDiv.owner_;\n  };\n\n  Blockly.WidgetDiv.hideIfOwner = function (a) {\n    Blockly.WidgetDiv.owner_ == a && Blockly.WidgetDiv.hide();\n  };\n\n  Blockly.WidgetDiv.positionInternal_ = function (a, b, c) {\n    Blockly.WidgetDiv.DIV.style.left = a + \"px\";\n    Blockly.WidgetDiv.DIV.style.top = b + \"px\";\n    Blockly.WidgetDiv.DIV.style.height = c + \"px\";\n  };\n\n  Blockly.WidgetDiv.positionWithAnchor = function (a, b, c, d) {\n    var e = Blockly.WidgetDiv.calculateY_(a, b, c);\n    a = Blockly.WidgetDiv.calculateX_(a, b, c, d);\n    0 > e ? Blockly.WidgetDiv.positionInternal_(a, 0, c.height + e) : Blockly.WidgetDiv.positionInternal_(a, e, c.height);\n  };\n\n  Blockly.WidgetDiv.calculateX_ = function (a, b, c, d) {\n    if (d) return b = Math.max(b.right - c.width, a.left), Math.min(b, a.right - c.width);\n    b = Math.min(b.left, a.right - c.width);\n    return Math.max(b, a.left);\n  };\n\n  Blockly.WidgetDiv.calculateY_ = function (a, b, c) {\n    return b.bottom + c.height >= a.bottom ? b.top - c.height : b.bottom;\n  };\n\n  Blockly.ContextMenu = {};\n  Blockly.ContextMenu.currentBlock = null;\n  Blockly.ContextMenu.menu_ = null;\n\n  Blockly.ContextMenu.show = function (a, b, c) {\n    Blockly.WidgetDiv.show(Blockly.ContextMenu, c, Blockly.ContextMenu.dispose);\n\n    if (b.length) {\n      var d = Blockly.ContextMenu.populate_(b, c);\n      Blockly.ContextMenu.menu_ = d;\n      Blockly.ContextMenu.position_(d, a, c);\n      setTimeout(function () {\n        d.focus();\n      }, 1);\n      Blockly.ContextMenu.currentBlock = null;\n    } else Blockly.ContextMenu.hide();\n  };\n\n  Blockly.ContextMenu.populate_ = function (a, b) {\n    var c = new Blockly.Menu();\n    c.setRole(Blockly.utils.aria.Role.MENU);\n\n    for (var d = 0, e; e = a[d]; d++) {\n      var f = new Blockly.MenuItem(e.text);\n      f.setRightToLeft(b);\n      f.setRole(Blockly.utils.aria.Role.MENUITEM);\n      c.addChild(f);\n      f.setEnabled(e.enabled);\n      if (e.enabled) f.onAction(function (g) {\n        Blockly.ContextMenu.hide();\n        this.callback(this.scope);\n      }, e);\n    }\n\n    return c;\n  };\n\n  Blockly.ContextMenu.position_ = function (a, b, c) {\n    var d = Blockly.utils.getViewportBBox();\n    b = new Blockly.utils.Rect(b.clientY + d.top, b.clientY + d.top, b.clientX + d.left, b.clientX + d.left);\n    Blockly.ContextMenu.createWidget_(a);\n    var e = a.getSize();\n    c && (b.left += e.width, b.right += e.width, d.left += e.width, d.right += e.width);\n    Blockly.WidgetDiv.positionWithAnchor(d, b, e, c);\n    a.focus();\n  };\n\n  Blockly.ContextMenu.createWidget_ = function (a) {\n    a.render(Blockly.WidgetDiv.DIV);\n    var b = a.getElement();\n    Blockly.utils.dom.addClass(b, \"blocklyContextMenu\");\n    Blockly.browserEvents.conditionalBind(b, \"contextmenu\", null, Blockly.utils.noEvent);\n    a.focus();\n  };\n\n  Blockly.ContextMenu.hide = function () {\n    Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu);\n    Blockly.ContextMenu.currentBlock = null;\n  };\n\n  Blockly.ContextMenu.dispose = function () {\n    Blockly.ContextMenu.menu_ && (Blockly.ContextMenu.menu_.dispose(), Blockly.ContextMenu.menu_ = null);\n  };\n\n  Blockly.ContextMenu.callbackFactory = function (a, b) {\n    return function () {\n      Blockly.Events.disable();\n\n      try {\n        var c = Blockly.Xml.domToBlock(b, a.workspace),\n            d = a.getRelativeToSurfaceXY();\n        d.x = a.RTL ? d.x - Blockly.SNAP_RADIUS : d.x + Blockly.SNAP_RADIUS;\n        d.y += 2 * Blockly.SNAP_RADIUS;\n        c.moveBy(d.x, d.y);\n      } finally {\n        Blockly.Events.enable();\n      }\n\n      Blockly.Events.isEnabled() && !c.isShadow() && Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CREATE))(c));\n      c.select();\n    };\n  };\n\n  Blockly.ContextMenu.commentDeleteOption = function (a) {\n    return {\n      text: Blockly.Msg.REMOVE_COMMENT,\n      enabled: !0,\n      callback: function callback() {\n        Blockly.Events.setGroup(!0);\n        a.dispose(!0, !0);\n        Blockly.Events.setGroup(!1);\n      }\n    };\n  };\n\n  Blockly.ContextMenu.commentDuplicateOption = function (a) {\n    return {\n      text: Blockly.Msg.DUPLICATE_COMMENT,\n      enabled: !0,\n      callback: function callback() {\n        Blockly.duplicate(a);\n      }\n    };\n  };\n\n  Blockly.ContextMenu.workspaceCommentOption = function (a, b) {\n    if (!Blockly.WorkspaceCommentSvg) throw Error(\"Missing require for Blockly.WorkspaceCommentSvg\");\n    var c = {\n      enabled: !Blockly.utils.userAgent.IE\n    };\n    c.text = Blockly.Msg.ADD_COMMENT;\n\n    c.callback = function () {\n      var d = new Blockly.WorkspaceCommentSvg(a, Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT, Blockly.WorkspaceCommentSvg.DEFAULT_SIZE, Blockly.WorkspaceCommentSvg.DEFAULT_SIZE),\n          e = a.getInjectionDiv().getBoundingClientRect();\n      e = new Blockly.utils.Coordinate(b.clientX - e.left, b.clientY - e.top);\n      var f = a.getOriginOffsetInPixels();\n      e = Blockly.utils.Coordinate.difference(e, f);\n      e.scale(1 / a.scale);\n      d.moveBy(e.x, e.y);\n      a.rendered && (d.initSvg(), d.render(), d.select());\n    };\n\n    return c;\n  };\n\n  Blockly.ContextMenuRegistry = function () {\n    Blockly.ContextMenuRegistry.registry = this;\n    this.registry_ = {};\n  };\n\n  Blockly.ContextMenuRegistry.ScopeType = {\n    BLOCK: \"block\",\n    WORKSPACE: \"workspace\"\n  };\n  Blockly.ContextMenuRegistry.registry = null;\n\n  Blockly.ContextMenuRegistry.prototype.register = function (a) {\n    if (this.registry_[a.id]) throw Error('Menu item with id \"' + a.id + '\" is already registered.');\n    this.registry_[a.id] = a;\n  };\n\n  Blockly.ContextMenuRegistry.prototype.unregister = function (a) {\n    if (this.registry_[a]) delete this.registry_[a];else throw Error('Menu item with id \"' + a + '\" not found.');\n  };\n\n  Blockly.ContextMenuRegistry.prototype.getItem = function (a) {\n    return this.registry_[a] ? this.registry_[a] : null;\n  };\n\n  Blockly.ContextMenuRegistry.prototype.getContextMenuOptions = function (a, b) {\n    var c = [],\n        d = this.registry_;\n    Object.keys(d).forEach(function (e) {\n      e = d[e];\n\n      if (a == e.scopeType) {\n        var f = e.preconditionFn(b);\n        \"hidden\" != f && (e = {\n          text: \"function\" == typeof e.displayText ? e.displayText(b) : e.displayText,\n          enabled: \"enabled\" == f,\n          callback: e.callback,\n          scope: b,\n          weight: e.weight\n        }, c.push(e));\n      }\n    });\n    c.sort(function (e, f) {\n      return e.weight - f.weight;\n    });\n    return c;\n  };\n\n  new Blockly.ContextMenuRegistry();\n\n  Blockly.Events.Selected = function (a, b, c) {\n    Blockly.Events.Selected.superClass_.constructor.call(this, c);\n    this.oldElementId = a;\n    this.newElementId = b;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.Selected, Blockly.Events.UiBase);\n  Blockly.Events.Selected.prototype.type = Blockly.Events.SELECTED;\n\n  Blockly.Events.Selected.prototype.toJson = function () {\n    var a = Blockly.Events.Selected.superClass_.toJson.call(this);\n    a.oldElementId = this.oldElementId;\n    a.newElementId = this.newElementId;\n    return a;\n  };\n\n  Blockly.Events.Selected.prototype.fromJson = function (a) {\n    Blockly.Events.Selected.superClass_.fromJson.call(this, a);\n    this.oldElementId = a.oldElementId;\n    this.newElementId = a.newElementId;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.SELECTED, Blockly.Events.Selected);\n\n  Blockly.RenderedConnection = function (a, b) {\n    Blockly.RenderedConnection.superClass_.constructor.call(this, a, b);\n    this.db_ = a.workspace.connectionDBList[b];\n    this.dbOpposite_ = a.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[b]];\n    this.offsetInBlock_ = new Blockly.utils.Coordinate(0, 0);\n    this.trackedState_ = Blockly.RenderedConnection.TrackedState.WILL_TRACK;\n    this.targetConnection = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.RenderedConnection, Blockly.Connection);\n  Blockly.RenderedConnection.TrackedState = {\n    WILL_TRACK: -1,\n    UNTRACKED: 0,\n    TRACKED: 1\n  };\n\n  Blockly.RenderedConnection.prototype.dispose = function () {\n    Blockly.RenderedConnection.superClass_.dispose.call(this);\n    this.trackedState_ == Blockly.RenderedConnection.TrackedState.TRACKED && this.db_.removeConnection(this, this.y);\n  };\n\n  Blockly.RenderedConnection.prototype.getSourceBlock = function () {\n    return Blockly.RenderedConnection.superClass_.getSourceBlock.call(this);\n  };\n\n  Blockly.RenderedConnection.prototype.targetBlock = function () {\n    return Blockly.RenderedConnection.superClass_.targetBlock.call(this);\n  };\n\n  Blockly.RenderedConnection.prototype.distanceFrom = function (a) {\n    var b = this.x - a.x;\n    a = this.y - a.y;\n    return Math.sqrt(b * b + a * a);\n  };\n\n  Blockly.RenderedConnection.prototype.bumpAwayFrom = function (a) {\n    if (!this.sourceBlock_.workspace.isDragging()) {\n      var b = this.sourceBlock_.getRootBlock();\n\n      if (!b.isInFlyout) {\n        var c = !1;\n\n        if (!b.isMovable()) {\n          b = a.getSourceBlock().getRootBlock();\n          if (!b.isMovable()) return;\n          a = this;\n          c = !0;\n        }\n\n        var d = Blockly.selected == b;\n        d || b.addSelect();\n        var e = a.x + Blockly.SNAP_RADIUS + Math.floor(Math.random() * Blockly.BUMP_RANDOMNESS) - this.x,\n            f = a.y + Blockly.SNAP_RADIUS + Math.floor(Math.random() * Blockly.BUMP_RANDOMNESS) - this.y;\n        c && (f = -f);\n        b.RTL && (e = a.x - Blockly.SNAP_RADIUS - Math.floor(Math.random() * Blockly.BUMP_RANDOMNESS) - this.x);\n        b.moveBy(e, f);\n        d || b.removeSelect();\n      }\n    }\n  };\n\n  Blockly.RenderedConnection.prototype.moveTo = function (a, b) {\n    this.trackedState_ == Blockly.RenderedConnection.TrackedState.WILL_TRACK ? (this.db_.addConnection(this, b), this.trackedState_ = Blockly.RenderedConnection.TrackedState.TRACKED) : this.trackedState_ == Blockly.RenderedConnection.TrackedState.TRACKED && (this.db_.removeConnection(this, this.y), this.db_.addConnection(this, b));\n    this.x = a;\n    this.y = b;\n  };\n\n  Blockly.RenderedConnection.prototype.moveBy = function (a, b) {\n    this.moveTo(this.x + a, this.y + b);\n  };\n\n  Blockly.RenderedConnection.prototype.moveToOffset = function (a) {\n    this.moveTo(a.x + this.offsetInBlock_.x, a.y + this.offsetInBlock_.y);\n  };\n\n  Blockly.RenderedConnection.prototype.setOffsetInBlock = function (a, b) {\n    this.offsetInBlock_.x = a;\n    this.offsetInBlock_.y = b;\n  };\n\n  Blockly.RenderedConnection.prototype.getOffsetInBlock = function () {\n    return this.offsetInBlock_;\n  };\n\n  Blockly.RenderedConnection.prototype.tighten = function () {\n    var a = this.targetConnection.x - this.x,\n        b = this.targetConnection.y - this.y;\n\n    if (0 != a || 0 != b) {\n      var c = this.targetBlock(),\n          d = c.getSvgRoot();\n      if (!d) throw Error(\"block is not rendered.\");\n      d = Blockly.utils.getRelativeXY(d);\n      c.getSvgRoot().setAttribute(\"transform\", \"translate(\" + (d.x - a) + \",\" + (d.y - b) + \")\");\n      c.moveConnections(-a, -b);\n    }\n  };\n\n  Blockly.RenderedConnection.prototype.closest = function (a, b) {\n    return this.dbOpposite_.searchForClosest(this, a, b);\n  };\n\n  Blockly.RenderedConnection.prototype.highlight = function () {\n    var a = this.sourceBlock_.workspace.getRenderer().getConstants();\n    var b = a.shapeFor(this);\n    this.type == Blockly.connectionTypes.INPUT_VALUE || this.type == Blockly.connectionTypes.OUTPUT_VALUE ? (a = a.TAB_OFFSET_FROM_TOP, b = Blockly.utils.svgPaths.moveBy(0, -a) + Blockly.utils.svgPaths.lineOnAxis(\"v\", a) + b.pathDown + Blockly.utils.svgPaths.lineOnAxis(\"v\", a)) : (a = a.NOTCH_OFFSET_LEFT - a.CORNER_RADIUS, b = Blockly.utils.svgPaths.moveBy(-a, 0) + Blockly.utils.svgPaths.lineOnAxis(\"h\", a) + b.pathLeft + Blockly.utils.svgPaths.lineOnAxis(\"h\", a));\n    a = this.sourceBlock_.getRelativeToSurfaceXY();\n    Blockly.Connection.highlightedPath_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyHighlightedConnectionPath\",\n      d: b,\n      transform: \"translate(\" + (this.x - a.x) + \",\" + (this.y - a.y) + \")\" + (this.sourceBlock_.RTL ? \" scale(-1 1)\" : \"\")\n    }, this.sourceBlock_.getSvgRoot());\n  };\n\n  Blockly.RenderedConnection.prototype.unhighlight = function () {\n    Blockly.utils.dom.removeNode(Blockly.Connection.highlightedPath_);\n    delete Blockly.Connection.highlightedPath_;\n  };\n\n  Blockly.RenderedConnection.prototype.setTracking = function (a) {\n    a && this.trackedState_ == Blockly.RenderedConnection.TrackedState.TRACKED || !a && this.trackedState_ == Blockly.RenderedConnection.TrackedState.UNTRACKED || this.sourceBlock_.isInFlyout || (a ? (this.db_.addConnection(this, this.y), this.trackedState_ = Blockly.RenderedConnection.TrackedState.TRACKED) : (this.trackedState_ == Blockly.RenderedConnection.TrackedState.TRACKED && this.db_.removeConnection(this, this.y), this.trackedState_ = Blockly.RenderedConnection.TrackedState.UNTRACKED));\n  };\n\n  Blockly.RenderedConnection.prototype.stopTrackingAll = function () {\n    this.setTracking(!1);\n    if (this.targetConnection) for (var a = this.targetBlock().getDescendants(!1), b = 0; b < a.length; b++) {\n      for (var c = a[b], d = c.getConnections_(!0), e = 0; e < d.length; e++) {\n        d[e].setTracking(!1);\n      }\n\n      c = c.getIcons();\n\n      for (e = 0; e < c.length; e++) {\n        c[e].setVisible(!1);\n      }\n    }\n  };\n\n  Blockly.RenderedConnection.prototype.startTrackingAll = function () {\n    this.setTracking(!0);\n    var a = [];\n    if (this.type != Blockly.connectionTypes.INPUT_VALUE && this.type != Blockly.connectionTypes.NEXT_STATEMENT) return a;\n    var b = this.targetBlock();\n\n    if (b) {\n      if (b.isCollapsed()) {\n        var c = [];\n        b.outputConnection && c.push(b.outputConnection);\n        b.nextConnection && c.push(b.nextConnection);\n        b.previousConnection && c.push(b.previousConnection);\n      } else c = b.getConnections_(!0);\n\n      for (var d = 0; d < c.length; d++) {\n        a.push.apply(a, c[d].startTrackingAll());\n      }\n\n      a.length || (a[0] = b);\n    }\n\n    return a;\n  };\n\n  Blockly.RenderedConnection.prototype.isConnectionAllowed = function (a, b) {\n    Blockly.utils.deprecation.warn(\"RenderedConnection.prototype.isConnectionAllowed\", \"July 2020\", \"July 2021\", \"Blockly.Workspace.prototype.getConnectionChecker().canConnect\");\n    return this.distanceFrom(a) > b ? !1 : Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this, a);\n  };\n\n  Blockly.RenderedConnection.prototype.onFailedConnect = function (a) {\n    this.bumpAwayFrom(a);\n  };\n\n  Blockly.RenderedConnection.prototype.disconnectInternal_ = function (a, b) {\n    Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this, a, b);\n    a.rendered && a.render();\n    b.rendered && (b.updateDisabled(), b.render(), b.getSvgRoot().style.display = \"block\");\n  };\n\n  Blockly.RenderedConnection.prototype.respawnShadow_ = function () {\n    Blockly.RenderedConnection.superClass_.respawnShadow_.call(this);\n    var a = this.targetBlock();\n    a && (a.initSvg(), a.render(!1), a = this.getSourceBlock(), a.rendered && a.render());\n  };\n\n  Blockly.RenderedConnection.prototype.neighbours = function (a) {\n    return this.dbOpposite_.getNeighbours(this, a);\n  };\n\n  Blockly.RenderedConnection.prototype.connect_ = function (a) {\n    Blockly.RenderedConnection.superClass_.connect_.call(this, a);\n    var b = this.getSourceBlock();\n    a = a.getSourceBlock();\n    var c = b.rendered,\n        d = a.rendered;\n    c && b.updateDisabled();\n    d && a.updateDisabled();\n    c && d && (this.type == Blockly.connectionTypes.NEXT_STATEMENT || this.type == Blockly.connectionTypes.PREVIOUS_STATEMENT ? a.render() : b.render());\n    if (b = b.getInputWithBlock(a)) b = b.isVisible(), a.getSvgRoot().style.display = b ? \"block\" : \"none\";\n  };\n\n  Blockly.RenderedConnection.prototype.onCheckChanged_ = function () {\n    !this.isConnected() || this.targetConnection && this.getConnectionChecker().canConnect(this, this.targetConnection, !1) || ((this.isSuperior() ? this.targetBlock() : this.sourceBlock_).unplug(), this.sourceBlock_.bumpNeighbours());\n  };\n\n  Blockly.Marker = function () {\n    this.drawer_ = this.curNode_ = this.colour = null;\n    this.type = \"marker\";\n  };\n\n  Blockly.Marker.prototype.setDrawer = function (a) {\n    this.drawer_ = a;\n  };\n\n  Blockly.Marker.prototype.getDrawer = function () {\n    return this.drawer_;\n  };\n\n  Blockly.Marker.prototype.getCurNode = function () {\n    return this.curNode_;\n  };\n\n  Blockly.Marker.prototype.setCurNode = function (a) {\n    var b = this.curNode_;\n    this.curNode_ = a;\n    this.drawer_ && this.drawer_.draw(b, this.curNode_);\n  };\n\n  Blockly.Marker.prototype.draw = function () {\n    this.drawer_ && this.drawer_.draw(this.curNode_, this.curNode_);\n  };\n\n  Blockly.Marker.prototype.hide = function () {\n    this.drawer_ && this.drawer_.hide();\n  };\n\n  Blockly.Marker.prototype.dispose = function () {\n    this.getDrawer() && this.getDrawer().dispose();\n  };\n\n  Blockly.Cursor = function () {\n    Blockly.Cursor.superClass_.constructor.call(this);\n    this.type = \"cursor\";\n  };\n\n  Blockly.utils.object.inherits(Blockly.Cursor, Blockly.Marker);\n\n  Blockly.Cursor.prototype.next = function () {\n    var a = this.getCurNode();\n    if (!a) return null;\n\n    for (a = a.next(); a && a.next() && (a.getType() == Blockly.ASTNode.types.NEXT || a.getType() == Blockly.ASTNode.types.BLOCK);) {\n      a = a.next();\n    }\n\n    a && this.setCurNode(a);\n    return a;\n  };\n\n  Blockly.Cursor.prototype.in = function () {\n    var a = this.getCurNode();\n    if (!a) return null;\n    if (a.getType() == Blockly.ASTNode.types.PREVIOUS || a.getType() == Blockly.ASTNode.types.OUTPUT) a = a.next();\n    (a = a.in()) && this.setCurNode(a);\n    return a;\n  };\n\n  Blockly.Cursor.prototype.prev = function () {\n    var a = this.getCurNode();\n    if (!a) return null;\n\n    for (a = a.prev(); a && a.prev() && (a.getType() == Blockly.ASTNode.types.NEXT || a.getType() == Blockly.ASTNode.types.BLOCK);) {\n      a = a.prev();\n    }\n\n    a && this.setCurNode(a);\n    return a;\n  };\n\n  Blockly.Cursor.prototype.out = function () {\n    var a = this.getCurNode();\n    if (!a) return null;\n    (a = a.out()) && a.getType() == Blockly.ASTNode.types.BLOCK && (a = a.prev() || a);\n    a && this.setCurNode(a);\n    return a;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.CURSOR, Blockly.registry.DEFAULT, Blockly.Cursor);\n\n  Blockly.BasicCursor = function () {\n    Blockly.BasicCursor.superClass_.constructor.call(this);\n  };\n\n  Blockly.utils.object.inherits(Blockly.BasicCursor, Blockly.Cursor);\n  Blockly.BasicCursor.registrationName = \"basicCursor\";\n\n  Blockly.BasicCursor.prototype.next = function () {\n    var a = this.getCurNode();\n    if (!a) return null;\n    (a = this.getNextNode_(a, this.validNode_)) && this.setCurNode(a);\n    return a;\n  };\n\n  Blockly.BasicCursor.prototype.in = function () {\n    return this.next();\n  };\n\n  Blockly.BasicCursor.prototype.prev = function () {\n    var a = this.getCurNode();\n    if (!a) return null;\n    (a = this.getPreviousNode_(a, this.validNode_)) && this.setCurNode(a);\n    return a;\n  };\n\n  Blockly.BasicCursor.prototype.out = function () {\n    return this.prev();\n  };\n\n  Blockly.BasicCursor.prototype.getNextNode_ = function (a, b) {\n    if (!a) return null;\n    var c = a.in() || a.next();\n    if (b(c)) return c;\n    if (c) return this.getNextNode_(c, b);\n    a = this.findSiblingOrParent_(a.out());\n    return b(a) ? a : a ? this.getNextNode_(a, b) : null;\n  };\n\n  Blockly.BasicCursor.prototype.getPreviousNode_ = function (a, b) {\n    if (!a) return null;\n    var c = a.prev();\n    c = c ? this.getRightMostChild_(c) : a.out();\n    return b(c) ? c : c ? this.getPreviousNode_(c, b) : null;\n  };\n\n  Blockly.BasicCursor.prototype.validNode_ = function (a) {\n    var b = !1;\n    a = a && a.getType();\n    if (a == Blockly.ASTNode.types.OUTPUT || a == Blockly.ASTNode.types.INPUT || a == Blockly.ASTNode.types.FIELD || a == Blockly.ASTNode.types.NEXT || a == Blockly.ASTNode.types.PREVIOUS || a == Blockly.ASTNode.types.WORKSPACE) b = !0;\n    return b;\n  };\n\n  Blockly.BasicCursor.prototype.findSiblingOrParent_ = function (a) {\n    if (!a) return null;\n    var b = a.next();\n    return b ? b : this.findSiblingOrParent_(a.out());\n  };\n\n  Blockly.BasicCursor.prototype.getRightMostChild_ = function (a) {\n    if (!a.in()) return a;\n\n    for (a = a.in(); a.next();) {\n      a = a.next();\n    }\n\n    return this.getRightMostChild_(a);\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.CURSOR, Blockly.BasicCursor.registrationName, Blockly.BasicCursor);\n\n  Blockly.TabNavigateCursor = function () {\n    Blockly.TabNavigateCursor.superClass_.constructor.call(this);\n  };\n\n  Blockly.utils.object.inherits(Blockly.TabNavigateCursor, Blockly.BasicCursor);\n\n  Blockly.TabNavigateCursor.prototype.validNode_ = function (a) {\n    var b = !1,\n        c = a && a.getType();\n    a && (a = a.getLocation(), c == Blockly.ASTNode.types.FIELD && a && a.isTabNavigable() && a.isClickable() && (b = !0));\n    return b;\n  };\n\n  Blockly.BlockSvg = function (a, b, c) {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {}, null);\n    this.svgGroup_.translate_ = \"\";\n    this.style = a.getRenderer().getConstants().getBlockStyle(null);\n    this.pathObject = a.getRenderer().makePathObject(this.svgGroup_, this.style);\n    this.renderIsInProgress_ = this.rendered = !1;\n    this.workspace = a;\n    this.previousConnection = this.nextConnection = this.outputConnection = null;\n    this.useDragSurface_ = Blockly.utils.is3dSupported() && !!a.getBlockDragSurface();\n    var d = this.pathObject.svgPath;\n    d.tooltip = this;\n    Blockly.Tooltip.bindMouseEvents(d);\n    Blockly.BlockSvg.superClass_.constructor.call(this, a, b, c);\n    this.svgGroup_.dataset ? this.svgGroup_.dataset.id = this.id : Blockly.utils.userAgent.IE && this.svgGroup_.setAttribute(\"data-id\", this.id);\n  };\n\n  Blockly.utils.object.inherits(Blockly.BlockSvg, Blockly.Block);\n  Blockly.BlockSvg.prototype.height = 0;\n  Blockly.BlockSvg.prototype.width = 0;\n  Blockly.BlockSvg.prototype.warningTextDb_ = null;\n  Blockly.BlockSvg.INLINE = -1;\n  Blockly.BlockSvg.COLLAPSED_WARNING_ID = \"TEMP_COLLAPSED_WARNING_\";\n\n  Blockly.BlockSvg.prototype.initSvg = function () {\n    if (!this.workspace.rendered) throw TypeError(\"Workspace is headless.\");\n\n    for (var a = 0, b; b = this.inputList[a]; a++) {\n      b.init();\n    }\n\n    b = this.getIcons();\n\n    for (a = 0; a < b.length; a++) {\n      b[a].createIcon();\n    }\n\n    this.applyColour();\n    this.pathObject.updateMovable(this.isMovable());\n    a = this.getSvgRoot();\n    this.workspace.options.readOnly || this.eventsInit_ || !a || Blockly.browserEvents.conditionalBind(a, \"mousedown\", this, this.onMouseDown_);\n    this.eventsInit_ = !0;\n    a.parentNode || this.workspace.getCanvas().appendChild(a);\n  };\n\n  Blockly.BlockSvg.prototype.getColourSecondary = function () {\n    return this.style.colourSecondary;\n  };\n\n  Blockly.BlockSvg.prototype.getColourTertiary = function () {\n    return this.style.colourTertiary;\n  };\n\n  Blockly.BlockSvg.prototype.getColourShadow = function () {\n    Blockly.utils.deprecation.warn(\"BlockSvg.prototype.getColourShadow\", \"January 2020\", \"January 2021\", \"style.colourSecondary\");\n    return this.getColourSecondary();\n  };\n\n  Blockly.BlockSvg.prototype.getColourBorder = function () {\n    Blockly.utils.deprecation.warn(\"BlockSvg.prototype.getColourBorder\", \"January 2020\", \"January 2021\", \"style.colourTertiary\");\n    return {\n      colourBorder: this.getColourTertiary(),\n      colourLight: null,\n      colourDark: null\n    };\n  };\n\n  Blockly.BlockSvg.prototype.select = function () {\n    if (this.isShadow() && this.getParent()) this.getParent().select();else if (Blockly.selected != this) {\n      var a = null;\n\n      if (Blockly.selected) {\n        a = Blockly.selected.id;\n        Blockly.Events.disable();\n\n        try {\n          Blockly.selected.unselect();\n        } finally {\n          Blockly.Events.enable();\n        }\n      }\n\n      a = new (Blockly.Events.get(Blockly.Events.SELECTED))(a, this.id, this.workspace.id);\n      Blockly.Events.fire(a);\n      Blockly.selected = this;\n      this.addSelect();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.unselect = function () {\n    if (Blockly.selected == this) {\n      var a = new (Blockly.Events.get(Blockly.Events.SELECTED))(this.id, null, this.workspace.id);\n      a.workspaceId = this.workspace.id;\n      Blockly.Events.fire(a);\n      Blockly.selected = null;\n      this.removeSelect();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.mutator = null;\n  Blockly.BlockSvg.prototype.comment = null;\n  Blockly.BlockSvg.prototype.commentIcon_ = null;\n  Blockly.BlockSvg.prototype.warning = null;\n\n  Blockly.BlockSvg.prototype.getIcons = function () {\n    var a = [];\n    this.mutator && a.push(this.mutator);\n    this.commentIcon_ && a.push(this.commentIcon_);\n    this.warning && a.push(this.warning);\n    return a;\n  };\n\n  Blockly.BlockSvg.prototype.setParent = function (a) {\n    var b = this.parentBlock_;\n\n    if (a != b) {\n      Blockly.utils.dom.startTextWidthCache();\n      Blockly.BlockSvg.superClass_.setParent.call(this, a);\n      Blockly.utils.dom.stopTextWidthCache();\n      var c = this.getSvgRoot();\n\n      if (!this.workspace.isClearing && c) {\n        var d = this.getRelativeToSurfaceXY();\n        a ? (a.getSvgRoot().appendChild(c), a = this.getRelativeToSurfaceXY(), this.moveConnections(a.x - d.x, a.y - d.y)) : b && (this.workspace.getCanvas().appendChild(c), this.translate(d.x, d.y));\n        this.applyColour();\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.getRelativeToSurfaceXY = function () {\n    var a = 0,\n        b = 0,\n        c = this.useDragSurface_ ? this.workspace.getBlockDragSurface().getGroup() : null,\n        d = this.getSvgRoot();\n\n    if (d) {\n      do {\n        var e = Blockly.utils.getRelativeXY(d);\n        a += e.x;\n        b += e.y;\n        this.useDragSurface_ && this.workspace.getBlockDragSurface().getCurrentBlock() == d && (e = this.workspace.getBlockDragSurface().getSurfaceTranslation(), a += e.x, b += e.y);\n        d = d.parentNode;\n      } while (d && d != this.workspace.getCanvas() && d != c);\n    }\n\n    return new Blockly.utils.Coordinate(a, b);\n  };\n\n  Blockly.BlockSvg.prototype.moveBy = function (a, b) {\n    if (this.parentBlock_) throw Error(\"Block has parent.\");\n    var c = Blockly.Events.isEnabled();\n    if (c) var d = new (Blockly.Events.get(Blockly.Events.BLOCK_MOVE))(this);\n    var e = this.getRelativeToSurfaceXY();\n    this.translate(e.x + a, e.y + b);\n    this.moveConnections(a, b);\n    c && (d.recordNew(), Blockly.Events.fire(d));\n    this.workspace.resizeContents();\n  };\n\n  Blockly.BlockSvg.prototype.translate = function (a, b) {\n    this.getSvgRoot().setAttribute(\"transform\", \"translate(\" + a + \",\" + b + \")\");\n  };\n\n  Blockly.BlockSvg.prototype.moveToDragSurface = function () {\n    if (this.useDragSurface_) {\n      var a = this.getRelativeToSurfaceXY();\n      this.clearTransformAttributes_();\n      this.workspace.getBlockDragSurface().translateSurface(a.x, a.y);\n      (a = this.getSvgRoot()) && this.workspace.getBlockDragSurface().setBlocksAndShow(a);\n    }\n  };\n\n  Blockly.BlockSvg.prototype.moveTo = function (a) {\n    var b = this.getRelativeToSurfaceXY();\n    this.moveBy(a.x - b.x, a.y - b.y);\n  };\n\n  Blockly.BlockSvg.prototype.moveOffDragSurface = function (a) {\n    this.useDragSurface_ && (this.translate(a.x, a.y), this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()));\n  };\n\n  Blockly.BlockSvg.prototype.moveDuringDrag = function (a) {\n    this.useDragSurface_ ? this.workspace.getBlockDragSurface().translateSurface(a.x, a.y) : (this.svgGroup_.translate_ = \"translate(\" + a.x + \",\" + a.y + \")\", this.svgGroup_.setAttribute(\"transform\", this.svgGroup_.translate_ + this.svgGroup_.skew_));\n  };\n\n  Blockly.BlockSvg.prototype.clearTransformAttributes_ = function () {\n    this.getSvgRoot().removeAttribute(\"transform\");\n  };\n\n  Blockly.BlockSvg.prototype.snapToGrid = function () {\n    if (this.workspace && !this.workspace.isDragging() && !this.getParent() && !this.isInFlyout) {\n      var a = this.workspace.getGrid();\n\n      if (a && a.shouldSnap()) {\n        var b = a.getSpacing(),\n            c = b / 2,\n            d = this.getRelativeToSurfaceXY();\n        a = Math.round((d.x - c) / b) * b + c - d.x;\n        b = Math.round((d.y - c) / b) * b + c - d.y;\n        a = Math.round(a);\n        b = Math.round(b);\n        0 == a && 0 == b || this.moveBy(a, b);\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.getBoundingRectangle = function () {\n    var a = this.getRelativeToSurfaceXY(),\n        b = this.getHeightWidth();\n\n    if (this.RTL) {\n      var c = a.x - b.width;\n      var d = a.x;\n    } else c = a.x, d = a.x + b.width;\n\n    return new Blockly.utils.Rect(a.y, a.y + b.height, c, d);\n  };\n\n  Blockly.BlockSvg.prototype.markDirty = function () {\n    this.pathObject.constants = this.workspace.getRenderer().getConstants();\n\n    for (var a = 0, b; b = this.inputList[a]; a++) {\n      b.markDirty();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setCollapsed = function (a) {\n    this.collapsed_ != a && (Blockly.BlockSvg.superClass_.setCollapsed.call(this, a), a ? this.rendered && this.render() : this.updateCollapsed_());\n  };\n\n  Blockly.BlockSvg.prototype.updateCollapsed_ = function () {\n    for (var a = this.isCollapsed(), b = Blockly.constants.COLLAPSED_INPUT_NAME, c = Blockly.constants.COLLAPSED_FIELD_NAME, d = 0, e; e = this.inputList[d]; d++) {\n      e.name != b && e.setVisible(!a);\n    }\n\n    if (a) {\n      e = this.getIcons();\n\n      for (d = 0; a = e[d]; d++) {\n        a.setVisible(!1);\n      }\n\n      d = this.toString(Blockly.COLLAPSE_CHARS);\n      (e = this.getField(c)) ? e.setValue(d) : (e = this.getInput(b) || this.appendDummyInput(b), e.appendField(new Blockly.FieldLabel(d), c));\n    } else this.updateDisabled(), this.removeInput(b);\n  };\n\n  Blockly.BlockSvg.prototype.tab = function (a, b) {\n    var c = new Blockly.TabNavigateCursor();\n    c.setCurNode(Blockly.ASTNode.createFieldNode(a));\n    a = c.getCurNode();\n    b ? c.next() : c.prev();\n    (b = c.getCurNode()) && b !== a && (b.getLocation().showEditor(), this.workspace.keyboardAccessibilityMode && this.workspace.getCursor().setCurNode(b));\n  };\n\n  Blockly.BlockSvg.prototype.onMouseDown_ = function (a) {\n    var b = this.workspace && this.workspace.getGesture(a);\n    b && b.handleBlockStart(a, this);\n  };\n\n  Blockly.BlockSvg.prototype.showHelp = function () {\n    var a = \"function\" == typeof this.helpUrl ? this.helpUrl() : this.helpUrl;\n    a && window.open(a);\n  };\n\n  Blockly.BlockSvg.prototype.generateContextMenu = function () {\n    if (this.workspace.options.readOnly || !this.contextMenu) return null;\n    var a = Blockly.ContextMenuRegistry.registry.getContextMenuOptions(Blockly.ContextMenuRegistry.ScopeType.BLOCK, {\n      block: this\n    });\n    this.customContextMenu && this.customContextMenu(a);\n    return a;\n  };\n\n  Blockly.BlockSvg.prototype.showContextMenu = function (a) {\n    var b = this.generateContextMenu();\n    b && b.length && (Blockly.ContextMenu.show(a, b, this.RTL), Blockly.ContextMenu.currentBlock = this);\n  };\n\n  Blockly.BlockSvg.prototype.moveConnections = function (a, b) {\n    if (this.rendered) {\n      for (var c = this.getConnections_(!1), d = 0; d < c.length; d++) {\n        c[d].moveBy(a, b);\n      }\n\n      c = this.getIcons();\n\n      for (d = 0; d < c.length; d++) {\n        c[d].computeIconLocation();\n      }\n\n      for (d = 0; d < this.childBlocks_.length; d++) {\n        this.childBlocks_[d].moveConnections(a, b);\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setDragging = function (a) {\n    if (a) {\n      var b = this.getSvgRoot();\n      b.translate_ = \"\";\n      b.skew_ = \"\";\n      Blockly.draggingConnections = Blockly.draggingConnections.concat(this.getConnections_(!0));\n      Blockly.utils.dom.addClass(this.svgGroup_, \"blocklyDragging\");\n    } else Blockly.draggingConnections = [], Blockly.utils.dom.removeClass(this.svgGroup_, \"blocklyDragging\");\n\n    for (b = 0; b < this.childBlocks_.length; b++) {\n      this.childBlocks_[b].setDragging(a);\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setMovable = function (a) {\n    Blockly.BlockSvg.superClass_.setMovable.call(this, a);\n    this.pathObject.updateMovable(a);\n  };\n\n  Blockly.BlockSvg.prototype.setEditable = function (a) {\n    Blockly.BlockSvg.superClass_.setEditable.call(this, a);\n    a = this.getIcons();\n\n    for (var b = 0; b < a.length; b++) {\n      a[b].updateEditable();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setShadow = function (a) {\n    Blockly.BlockSvg.superClass_.setShadow.call(this, a);\n    this.applyColour();\n  };\n\n  Blockly.BlockSvg.prototype.setInsertionMarker = function (a) {\n    this.isInsertionMarker_ != a && (this.isInsertionMarker_ = a) && (this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR), this.pathObject.updateInsertionMarker(!0));\n  };\n\n  Blockly.BlockSvg.prototype.getSvgRoot = function () {\n    return this.svgGroup_;\n  };\n\n  Blockly.BlockSvg.prototype.dispose = function (a, b) {\n    if (this.workspace) {\n      Blockly.Tooltip.dispose();\n      Blockly.Tooltip.unbindMouseEvents(this.pathObject.svgPath);\n      Blockly.utils.dom.startTextWidthCache();\n      var c = this.workspace;\n      Blockly.selected == this && (this.unselect(), this.workspace.cancelCurrentGesture());\n      Blockly.ContextMenu.currentBlock == this && Blockly.ContextMenu.hide();\n      b && this.rendered && (this.unplug(a), Blockly.blockAnimations.disposeUiEffect(this));\n      this.rendered = !1;\n\n      if (this.warningTextDb_) {\n        for (var d in this.warningTextDb_) {\n          clearTimeout(this.warningTextDb_[d]);\n        }\n\n        this.warningTextDb_ = null;\n      }\n\n      b = this.getIcons();\n\n      for (d = 0; d < b.length; d++) {\n        b[d].dispose();\n      }\n\n      Blockly.BlockSvg.superClass_.dispose.call(this, !!a);\n      Blockly.utils.dom.removeNode(this.svgGroup_);\n      c.resizeContents();\n      this.svgGroup_ = null;\n      Blockly.utils.dom.stopTextWidthCache();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.toCopyData = function () {\n    if (this.isInsertionMarker_) return null;\n    var a = Blockly.Xml.blockToDom(this, !0);\n    Blockly.Xml.deleteNext(a);\n    var b = this.getRelativeToSurfaceXY();\n    a.setAttribute(\"x\", this.RTL ? -b.x : b.x);\n    a.setAttribute(\"y\", b.y);\n    return {\n      xml: a,\n      source: this.workspace,\n      typeCounts: Blockly.utils.getBlockTypeCounts(this, !0)\n    };\n  };\n\n  Blockly.BlockSvg.prototype.applyColour = function () {\n    this.pathObject.applyColour(this);\n\n    for (var a = this.getIcons(), b = 0; b < a.length; b++) {\n      a[b].applyColour();\n    }\n\n    for (a = 0; b = this.inputList[a]; a++) {\n      for (var c = 0, d; d = b.fieldRow[c]; c++) {\n        d.applyColour();\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.updateDisabled = function () {\n    var a = this.getChildren(!1);\n    this.applyColour();\n    if (!this.isCollapsed()) for (var b = 0, c; c = a[b]; b++) {\n      c.rendered && c.updateDisabled();\n    }\n  };\n\n  Blockly.BlockSvg.prototype.getCommentIcon = function () {\n    return this.commentIcon_;\n  };\n\n  Blockly.BlockSvg.prototype.setCommentText = function (a) {\n    if (!Blockly.Comment) throw Error(\"Missing require for Blockly.Comment\");\n    this.commentModel.text != a && (Blockly.BlockSvg.superClass_.setCommentText.call(this, a), a = null != a, !!this.commentIcon_ == a ? this.commentIcon_.updateText() : (a ? this.comment = this.commentIcon_ = new Blockly.Comment(this) : (this.commentIcon_.dispose(), this.comment = this.commentIcon_ = null), this.rendered && (this.render(), this.bumpNeighbours())));\n  };\n\n  Blockly.BlockSvg.prototype.setWarningText = function (a, b) {\n    if (!Blockly.Warning) throw Error(\"Missing require for Blockly.Warning\");\n    this.warningTextDb_ || (this.warningTextDb_ = Object.create(null));\n    var c = b || \"\";\n    if (c) this.warningTextDb_[c] && (clearTimeout(this.warningTextDb_[c]), delete this.warningTextDb_[c]);else for (var d in this.warningTextDb_) {\n      clearTimeout(this.warningTextDb_[d]), delete this.warningTextDb_[d];\n    }\n\n    if (this.workspace.isDragging()) {\n      var e = this;\n      this.warningTextDb_[c] = setTimeout(function () {\n        e.workspace && (delete e.warningTextDb_[c], e.setWarningText(a, c));\n      }, 100);\n    } else {\n      this.isInFlyout && (a = null);\n      b = !1;\n\n      if (\"string\" == typeof a) {\n        d = this.getSurroundParent();\n\n        for (var f = null; d;) {\n          d.isCollapsed() && (f = d), d = d.getSurroundParent();\n        }\n\n        f && f.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING, Blockly.BlockSvg.COLLAPSED_WARNING_ID);\n        this.warning || (this.warning = new Blockly.Warning(this), b = !0);\n        this.warning.setText(a, c);\n      } else this.warning && !c ? (this.warning.dispose(), b = !0) : this.warning && (b = this.warning.getText(), this.warning.setText(\"\", c), (d = this.warning.getText()) || this.warning.dispose(), b = b != d);\n\n      b && this.rendered && (this.render(), this.bumpNeighbours());\n    }\n  };\n\n  Blockly.BlockSvg.prototype.setMutator = function (a) {\n    this.mutator && this.mutator !== a && this.mutator.dispose();\n    a && (a.setBlock(this), this.mutator = a, a.createIcon());\n    this.rendered && (this.render(), this.bumpNeighbours());\n  };\n\n  Blockly.BlockSvg.prototype.setEnabled = function (a) {\n    this.isEnabled() != a && (Blockly.BlockSvg.superClass_.setEnabled.call(this, a), this.rendered && !this.getInheritedDisabled() && this.updateDisabled());\n  };\n\n  Blockly.BlockSvg.prototype.setHighlighted = function (a) {\n    this.rendered && this.pathObject.updateHighlighted(a);\n  };\n\n  Blockly.BlockSvg.prototype.addSelect = function () {\n    this.pathObject.updateSelected(!0);\n  };\n\n  Blockly.BlockSvg.prototype.removeSelect = function () {\n    this.pathObject.updateSelected(!1);\n  };\n\n  Blockly.BlockSvg.prototype.setDeleteStyle = function (a) {\n    this.pathObject.updateDraggingDelete(a);\n  };\n\n  Blockly.BlockSvg.prototype.getColour = function () {\n    return this.style.colourPrimary;\n  };\n\n  Blockly.BlockSvg.prototype.setColour = function (a) {\n    Blockly.BlockSvg.superClass_.setColour.call(this, a);\n    a = this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);\n    this.pathObject.setStyle(a.style);\n    this.style = a.style;\n    this.styleName_ = a.name;\n    this.applyColour();\n  };\n\n  Blockly.BlockSvg.prototype.setStyle = function (a) {\n    var b = this.workspace.getRenderer().getConstants().getBlockStyle(a);\n    this.styleName_ = a;\n    if (b) this.hat = b.hat, this.pathObject.setStyle(b), this.colour_ = b.colourPrimary, this.style = b, this.applyColour();else throw Error(\"Invalid style name: \" + a);\n  };\n\n  Blockly.BlockSvg.prototype.bringToFront = function () {\n    var a = this;\n\n    do {\n      var b = a.getSvgRoot(),\n          c = b.parentNode,\n          d = c.childNodes;\n      d[d.length - 1] !== b && c.appendChild(b);\n      a = a.getParent();\n    } while (a);\n  };\n\n  Blockly.BlockSvg.prototype.setPreviousStatement = function (a, b) {\n    Blockly.BlockSvg.superClass_.setPreviousStatement.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours());\n  };\n\n  Blockly.BlockSvg.prototype.setNextStatement = function (a, b) {\n    Blockly.BlockSvg.superClass_.setNextStatement.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours());\n  };\n\n  Blockly.BlockSvg.prototype.setOutput = function (a, b) {\n    Blockly.BlockSvg.superClass_.setOutput.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours());\n  };\n\n  Blockly.BlockSvg.prototype.setInputsInline = function (a) {\n    Blockly.BlockSvg.superClass_.setInputsInline.call(this, a);\n    this.rendered && (this.render(), this.bumpNeighbours());\n  };\n\n  Blockly.BlockSvg.prototype.removeInput = function (a, b) {\n    a = Blockly.BlockSvg.superClass_.removeInput.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours());\n    return a;\n  };\n\n  Blockly.BlockSvg.prototype.moveNumberedInputBefore = function (a, b) {\n    Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours());\n  };\n\n  Blockly.BlockSvg.prototype.appendInput_ = function (a, b) {\n    a = Blockly.BlockSvg.superClass_.appendInput_.call(this, a, b);\n    this.rendered && (this.render(), this.bumpNeighbours());\n    return a;\n  };\n\n  Blockly.BlockSvg.prototype.setConnectionTracking = function (a) {\n    this.previousConnection && this.previousConnection.setTracking(a);\n    this.outputConnection && this.outputConnection.setTracking(a);\n\n    if (this.nextConnection) {\n      this.nextConnection.setTracking(a);\n      var b = this.nextConnection.targetBlock();\n      b && b.setConnectionTracking(a);\n    }\n\n    if (!this.collapsed_) for (b = 0; b < this.inputList.length; b++) {\n      var c = this.inputList[b].connection;\n      c && (c.setTracking(a), (c = c.targetBlock()) && c.setConnectionTracking(a));\n    }\n  };\n\n  Blockly.BlockSvg.prototype.getConnections_ = function (a) {\n    var b = [];\n    if (a || this.rendered) if (this.outputConnection && b.push(this.outputConnection), this.previousConnection && b.push(this.previousConnection), this.nextConnection && b.push(this.nextConnection), a || !this.collapsed_) {\n      a = 0;\n\n      for (var c; c = this.inputList[a]; a++) {\n        c.connection && b.push(c.connection);\n      }\n    }\n    return b;\n  };\n\n  Blockly.BlockSvg.prototype.lastConnectionInStack = function () {\n    return Blockly.BlockSvg.superClass_.lastConnectionInStack.call(this);\n  };\n\n  Blockly.BlockSvg.prototype.getMatchingConnection = function (a, b) {\n    return Blockly.BlockSvg.superClass_.getMatchingConnection.call(this, a, b);\n  };\n\n  Blockly.BlockSvg.prototype.makeConnection_ = function (a) {\n    return new Blockly.RenderedConnection(this, a);\n  };\n\n  Blockly.BlockSvg.prototype.bumpNeighbours = function () {\n    if (this.workspace && !this.workspace.isDragging()) {\n      var a = this.getRootBlock();\n      if (!a.isInFlyout) for (var b = this.getConnections_(!1), c = 0, d; d = b[c]; c++) {\n        d.isConnected() && d.isSuperior() && d.targetBlock().bumpNeighbours();\n\n        for (var e = d.neighbours(Blockly.SNAP_RADIUS), f = 0, g; g = e[f]; f++) {\n          d.isConnected() && g.isConnected() || g.getSourceBlock().getRootBlock() != a && (d.isSuperior() ? g.bumpAwayFrom(d) : d.bumpAwayFrom(g));\n        }\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.scheduleSnapAndBump = function () {\n    var a = this,\n        b = Blockly.Events.getGroup();\n    setTimeout(function () {\n      Blockly.Events.setGroup(b);\n      a.snapToGrid();\n      Blockly.Events.setGroup(!1);\n    }, Blockly.BUMP_DELAY / 2);\n    setTimeout(function () {\n      Blockly.Events.setGroup(b);\n      a.bumpNeighbours();\n      Blockly.Events.setGroup(!1);\n    }, Blockly.BUMP_DELAY);\n  };\n\n  Blockly.BlockSvg.prototype.positionNearConnection = function (a, b) {\n    a.type != Blockly.connectionTypes.NEXT_STATEMENT && a.type != Blockly.connectionTypes.INPUT_VALUE || this.moveBy(b.x - a.x, b.y - a.y);\n  };\n\n  Blockly.BlockSvg.prototype.getParent = function () {\n    return Blockly.BlockSvg.superClass_.getParent.call(this);\n  };\n\n  Blockly.BlockSvg.prototype.getRootBlock = function () {\n    return Blockly.BlockSvg.superClass_.getRootBlock.call(this);\n  };\n\n  Blockly.BlockSvg.prototype.render = function (a) {\n    if (!this.renderIsInProgress_) {\n      this.renderIsInProgress_ = !0;\n\n      try {\n        this.rendered = !0;\n        Blockly.utils.dom.startTextWidthCache();\n        this.isCollapsed() && this.updateCollapsed_();\n        this.workspace.getRenderer().render(this);\n        this.updateConnectionLocations_();\n\n        if (!1 !== a) {\n          var b = this.getParent();\n          b ? b.render(!0) : this.workspace.resizeContents();\n        }\n\n        Blockly.utils.dom.stopTextWidthCache();\n        this.updateMarkers_();\n      } finally {\n        this.renderIsInProgress_ = !1;\n      }\n    }\n  };\n\n  Blockly.BlockSvg.prototype.updateMarkers_ = function () {\n    this.workspace.keyboardAccessibilityMode && this.pathObject.cursorSvg && this.workspace.getCursor().draw();\n    this.workspace.keyboardAccessibilityMode && this.pathObject.markerSvg && this.workspace.getMarker(Blockly.MarkerManager.LOCAL_MARKER).draw();\n  };\n\n  Blockly.BlockSvg.prototype.updateConnectionLocations_ = function () {\n    var a = this.getRelativeToSurfaceXY();\n    this.previousConnection && this.previousConnection.moveToOffset(a);\n    this.outputConnection && this.outputConnection.moveToOffset(a);\n\n    for (var b = 0; b < this.inputList.length; b++) {\n      var c = this.inputList[b].connection;\n      c && (c.moveToOffset(a), c.isConnected() && c.tighten());\n    }\n\n    this.nextConnection && (this.nextConnection.moveToOffset(a), this.nextConnection.isConnected() && this.nextConnection.tighten());\n  };\n\n  Blockly.BlockSvg.prototype.setCursorSvg = function (a) {\n    this.pathObject.setCursorSvg(a);\n  };\n\n  Blockly.BlockSvg.prototype.setMarkerSvg = function (a) {\n    this.pathObject.setMarkerSvg(a);\n  };\n\n  Blockly.BlockSvg.prototype.getHeightWidth = function () {\n    var a = this.height,\n        b = this.width,\n        c = this.getNextBlock();\n\n    if (c) {\n      c = c.getHeightWidth();\n      var d = this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;\n      a += c.height - d;\n      b = Math.max(b, c.width);\n    }\n\n    return {\n      height: a,\n      width: b\n    };\n  };\n\n  Blockly.BlockSvg.prototype.fadeForReplacement = function (a) {\n    this.pathObject.updateReplacementFade(a);\n  };\n\n  Blockly.BlockSvg.prototype.highlightShapeForInput = function (a, b) {\n    this.pathObject.updateShapeForInputHighlight(a, b);\n  };\n\n  Blockly.ConnectionDB = function (a) {\n    this.connections_ = [];\n    this.connectionChecker_ = a;\n  };\n\n  Blockly.ConnectionDB.prototype.addConnection = function (a, b) {\n    b = this.calculateIndexForYPos_(b);\n    this.connections_.splice(b, 0, a);\n  };\n\n  Blockly.ConnectionDB.prototype.findIndexOfConnection_ = function (a, b) {\n    if (!this.connections_.length) return -1;\n    var c = this.calculateIndexForYPos_(b);\n    if (c >= this.connections_.length) return -1;\n    b = a.y;\n\n    for (var d = c; 0 <= d && this.connections_[d].y == b;) {\n      if (this.connections_[d] == a) return d;\n      d--;\n    }\n\n    for (; c < this.connections_.length && this.connections_[c].y == b;) {\n      if (this.connections_[c] == a) return c;\n      c++;\n    }\n\n    return -1;\n  };\n\n  Blockly.ConnectionDB.prototype.calculateIndexForYPos_ = function (a) {\n    if (!this.connections_.length) return 0;\n\n    for (var b = 0, c = this.connections_.length; b < c;) {\n      var d = Math.floor((b + c) / 2);\n      if (this.connections_[d].y < a) b = d + 1;else if (this.connections_[d].y > a) c = d;else {\n        b = d;\n        break;\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.ConnectionDB.prototype.removeConnection = function (a, b) {\n    a = this.findIndexOfConnection_(a, b);\n    if (-1 == a) throw Error(\"Unable to find connection in connectionDB.\");\n    this.connections_.splice(a, 1);\n  };\n\n  Blockly.ConnectionDB.prototype.getNeighbours = function (a, b) {\n    function c(l) {\n      var m = e - d[l].x,\n          n = f - d[l].y;\n      Math.sqrt(m * m + n * n) <= b && k.push(d[l]);\n      return n < b;\n    }\n\n    var d = this.connections_,\n        e = a.x,\n        f = a.y;\n    a = 0;\n\n    for (var g = d.length - 2, h = g; a < h;) {\n      d[h].y < f ? a = h : g = h, h = Math.floor((a + g) / 2);\n    }\n\n    var k = [];\n    g = a = h;\n\n    if (d.length) {\n      for (; 0 <= a && c(a);) {\n        a--;\n      }\n\n      do {\n        g++;\n      } while (g < d.length && c(g));\n    }\n\n    return k;\n  };\n\n  Blockly.ConnectionDB.prototype.isInYRange_ = function (a, b, c) {\n    return Math.abs(this.connections_[a].y - b) <= c;\n  };\n\n  Blockly.ConnectionDB.prototype.searchForClosest = function (a, b, c) {\n    if (!this.connections_.length) return {\n      connection: null,\n      radius: b\n    };\n    var d = a.y,\n        e = a.x;\n    a.x = e + c.x;\n    a.y = d + c.y;\n    var f = this.calculateIndexForYPos_(a.y);\n    c = null;\n\n    for (var g = b, h, k = f - 1; 0 <= k && this.isInYRange_(k, a.y, b);) {\n      h = this.connections_[k], this.connectionChecker_.canConnect(a, h, !0, g) && (c = h, g = h.distanceFrom(a)), k--;\n    }\n\n    for (; f < this.connections_.length && this.isInYRange_(f, a.y, b);) {\n      h = this.connections_[f], this.connectionChecker_.canConnect(a, h, !0, g) && (c = h, g = h.distanceFrom(a)), f++;\n    }\n\n    a.x = e;\n    a.y = d;\n    return {\n      connection: c,\n      radius: g\n    };\n  };\n\n  Blockly.ConnectionDB.init = function (a) {\n    var b = [];\n    b[Blockly.connectionTypes.INPUT_VALUE] = new Blockly.ConnectionDB(a);\n    b[Blockly.connectionTypes.OUTPUT_VALUE] = new Blockly.ConnectionDB(a);\n    b[Blockly.connectionTypes.NEXT_STATEMENT] = new Blockly.ConnectionDB(a);\n    b[Blockly.connectionTypes.PREVIOUS_STATEMENT] = new Blockly.ConnectionDB(a);\n    return b;\n  };\n\n  Blockly.Events.ThemeChange = function (a, b) {\n    Blockly.Events.ThemeChange.superClass_.constructor.call(this, b);\n    this.themeName = a;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.ThemeChange, Blockly.Events.UiBase);\n  Blockly.Events.ThemeChange.prototype.type = Blockly.Events.THEME_CHANGE;\n\n  Blockly.Events.ThemeChange.prototype.toJson = function () {\n    var a = Blockly.Events.ThemeChange.superClass_.toJson.call(this);\n    a.themeName = this.themeName;\n    return a;\n  };\n\n  Blockly.Events.ThemeChange.prototype.fromJson = function (a) {\n    Blockly.Events.ThemeChange.superClass_.fromJson.call(this, a);\n    this.themeName = a.themeName;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.THEME_CHANGE, Blockly.Events.ThemeChange);\n\n  Blockly.Events.ViewportChange = function (a, b, c, d, e) {\n    Blockly.Events.ViewportChange.superClass_.constructor.call(this, d);\n    this.viewTop = a;\n    this.viewLeft = b;\n    this.scale = c;\n    this.oldScale = e;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.ViewportChange, Blockly.Events.UiBase);\n  Blockly.Events.ViewportChange.prototype.type = Blockly.Events.VIEWPORT_CHANGE;\n\n  Blockly.Events.ViewportChange.prototype.toJson = function () {\n    var a = Blockly.Events.ViewportChange.superClass_.toJson.call(this);\n    a.viewTop = this.viewTop;\n    a.viewLeft = this.viewLeft;\n    a.scale = this.scale;\n    a.oldScale = this.oldScale;\n    return a;\n  };\n\n  Blockly.Events.ViewportChange.prototype.fromJson = function (a) {\n    Blockly.Events.ViewportChange.superClass_.fromJson.call(this, a);\n    this.viewTop = a.viewTop;\n    this.viewLeft = a.viewLeft;\n    this.scale = a.scale;\n    this.oldScale = a.oldScale;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.VIEWPORT_CHANGE, Blockly.Events.ViewportChange);\n\n  Blockly.MarkerManager = function (a) {\n    this.cursorSvg_ = this.cursor_ = null;\n    this.markers_ = {};\n    this.workspace_ = a;\n  };\n\n  Blockly.MarkerManager.LOCAL_MARKER = \"local_marker_1\";\n\n  Blockly.MarkerManager.prototype.registerMarker = function (a, b) {\n    this.markers_[a] && this.unregisterMarker(a);\n    b.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_, b));\n    this.setMarkerSvg(b.getDrawer().createDom());\n    this.markers_[a] = b;\n  };\n\n  Blockly.MarkerManager.prototype.unregisterMarker = function (a) {\n    var b = this.markers_[a];\n    if (b) b.dispose(), delete this.markers_[a];else throw Error(\"Marker with id \" + a + \" does not exist. Can only unregistermarkers that exist.\");\n  };\n\n  Blockly.MarkerManager.prototype.getCursor = function () {\n    return this.cursor_;\n  };\n\n  Blockly.MarkerManager.prototype.getMarker = function (a) {\n    return this.markers_[a];\n  };\n\n  Blockly.MarkerManager.prototype.setCursor = function (a) {\n    this.cursor_ && this.cursor_.getDrawer() && this.cursor_.getDrawer().dispose();\n    if (this.cursor_ = a) a = this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_, this.cursor_), this.cursor_.setDrawer(a), this.setCursorSvg(this.cursor_.getDrawer().createDom());\n  };\n\n  Blockly.MarkerManager.prototype.setCursorSvg = function (a) {\n    a ? (this.workspace_.getBlockCanvas().appendChild(a), this.cursorSvg_ = a) : this.cursorSvg_ = null;\n  };\n\n  Blockly.MarkerManager.prototype.setMarkerSvg = function (a) {\n    a ? this.workspace_.getBlockCanvas() && (this.cursorSvg_ ? this.workspace_.getBlockCanvas().insertBefore(a, this.cursorSvg_) : this.workspace_.getBlockCanvas().appendChild(a)) : this.markerSvg_ = null;\n  };\n\n  Blockly.MarkerManager.prototype.updateMarkers = function () {\n    this.workspace_.keyboardAccessibilityMode && this.cursorSvg_ && this.workspace_.getCursor().draw();\n  };\n\n  Blockly.MarkerManager.prototype.dispose = function () {\n    for (var a = Object.keys(this.markers_), b = 0, c; c = a[b]; b++) {\n      this.unregisterMarker(c);\n    }\n\n    this.markers_ = null;\n    this.cursor_ && (this.cursor_.dispose(), this.cursor_ = null);\n  };\n\n  Blockly.IMetricsManager = function () {};\n\n  Blockly.MetricsManager = function (a) {\n    this.workspace_ = a;\n  };\n\n  Blockly.MetricsManager.prototype.getDimensionsPx_ = function (a) {\n    var b = 0,\n        c = 0;\n    a && (b = a.getWidth(), c = a.getHeight());\n    return new Blockly.utils.Size(b, c);\n  };\n\n  Blockly.MetricsManager.prototype.getFlyoutMetrics = function (a) {\n    a = this.getDimensionsPx_(this.workspace_.getFlyout(a));\n    return {\n      width: a.width,\n      height: a.height,\n      position: this.workspace_.toolboxPosition\n    };\n  };\n\n  Blockly.MetricsManager.prototype.getToolboxMetrics = function () {\n    var a = this.getDimensionsPx_(this.workspace_.getToolbox());\n    return {\n      width: a.width,\n      height: a.height,\n      position: this.workspace_.toolboxPosition\n    };\n  };\n\n  Blockly.MetricsManager.prototype.getSvgMetrics = function () {\n    return this.workspace_.getCachedParentSvgSize();\n  };\n\n  Blockly.MetricsManager.prototype.getAbsoluteMetrics = function () {\n    var a = 0,\n        b = this.getToolboxMetrics(),\n        c = this.getFlyoutMetrics(!0),\n        d = !!this.workspace_.getToolbox(),\n        e = !!this.workspace_.getFlyout(!0),\n        f = d ? b.position : c.position,\n        g = f == Blockly.utils.toolbox.Position.LEFT;\n    f = f == Blockly.utils.toolbox.Position.TOP;\n    d && g ? a = b.width : e && g && (a = c.width);\n    g = 0;\n    d && f ? g = b.height : e && f && (g = c.height);\n    return {\n      top: g,\n      left: a\n    };\n  };\n\n  Blockly.MetricsManager.prototype.getViewMetrics = function (a) {\n    a = a ? this.workspace_.scale : 1;\n    var b = this.getSvgMetrics(),\n        c = this.getToolboxMetrics(),\n        d = this.getFlyoutMetrics(!0),\n        e = this.workspace_.getToolbox() ? c.position : d.position;\n    if (this.workspace_.getToolbox()) {\n      if (e == Blockly.utils.toolbox.Position.TOP || e == Blockly.utils.toolbox.Position.BOTTOM) b.height -= c.height;else {\n        if (e == Blockly.utils.toolbox.Position.LEFT || e == Blockly.utils.toolbox.Position.RIGHT) b.width -= c.width;\n      }\n    } else if (this.workspace_.getFlyout(!0)) if (e == Blockly.utils.toolbox.Position.TOP || e == Blockly.utils.toolbox.Position.BOTTOM) b.height -= d.height;else if (e == Blockly.utils.toolbox.Position.LEFT || e == Blockly.utils.toolbox.Position.RIGHT) b.width -= d.width;\n    return {\n      height: b.height / a,\n      width: b.width / a,\n      top: -this.workspace_.scrollY / a,\n      left: -this.workspace_.scrollX / a\n    };\n  };\n\n  Blockly.MetricsManager.prototype.getContentMetrics = function (a) {\n    a = a ? 1 : this.workspace_.scale;\n    var b = this.workspace_.getBlocksBoundingBox();\n    return {\n      height: (b.bottom - b.top) * a,\n      width: (b.right - b.left) * a,\n      top: b.top * a,\n      left: b.left * a\n    };\n  };\n\n  Blockly.MetricsManager.prototype.hasFixedEdges = function () {\n    return !this.workspace_.isMovableHorizontally() || !this.workspace_.isMovableVertically();\n  };\n\n  Blockly.MetricsManager.prototype.getComputedFixedEdges_ = function (a) {\n    if (!this.hasFixedEdges()) return {};\n    var b = this.workspace_.isMovableHorizontally(),\n        c = this.workspace_.isMovableVertically();\n    a = a || this.getViewMetrics(!1);\n    var d = {};\n    c || (d.top = a.top, d.bottom = a.top + a.height);\n    b || (d.left = a.left, d.right = a.left + a.width);\n    return d;\n  };\n\n  Blockly.MetricsManager.prototype.getPaddedContent_ = function (a, b) {\n    var c = b.top + b.height,\n        d = b.left + b.width,\n        e = a.width;\n    a = a.height;\n    var f = e / 2,\n        g = a / 2;\n    return {\n      top: Math.min(b.top - g, c - a),\n      bottom: Math.max(c + g, b.top + a),\n      left: Math.min(b.left - f, d - e),\n      right: Math.max(d + f, b.left + e)\n    };\n  };\n\n  Blockly.MetricsManager.prototype.getScrollMetrics = function (a, b, c) {\n    a = a ? this.workspace_.scale : 1;\n    b = b || this.getViewMetrics(!1);\n    var d = c || this.getContentMetrics();\n    c = this.getComputedFixedEdges_(b);\n    b = this.getPaddedContent_(b, d);\n    d = void 0 !== c.top ? c.top : b.top;\n    var e = void 0 !== c.left ? c.left : b.left;\n    return {\n      top: d / a,\n      left: e / a,\n      width: ((void 0 !== c.right ? c.right : b.right) - e) / a,\n      height: ((void 0 !== c.bottom ? c.bottom : b.bottom) - d) / a\n    };\n  };\n\n  Blockly.MetricsManager.prototype.getUiMetrics = function () {\n    return {\n      viewMetrics: this.getViewMetrics(),\n      absoluteMetrics: this.getAbsoluteMetrics(),\n      toolboxMetrics: this.getToolboxMetrics()\n    };\n  };\n\n  Blockly.MetricsManager.prototype.getMetrics = function () {\n    var a = this.getToolboxMetrics(),\n        b = this.getFlyoutMetrics(!0),\n        c = this.getSvgMetrics(),\n        d = this.getAbsoluteMetrics(),\n        e = this.getViewMetrics(),\n        f = this.getContentMetrics(),\n        g = this.getScrollMetrics(!1, e, f);\n    return {\n      contentHeight: f.height,\n      contentWidth: f.width,\n      contentTop: f.top,\n      contentLeft: f.left,\n      scrollHeight: g.height,\n      scrollWidth: g.width,\n      scrollTop: g.top,\n      scrollLeft: g.left,\n      viewHeight: e.height,\n      viewWidth: e.width,\n      viewTop: e.top,\n      viewLeft: e.left,\n      absoluteTop: d.top,\n      absoluteLeft: d.left,\n      svgHeight: c.height,\n      svgWidth: c.width,\n      toolboxWidth: a.width,\n      toolboxHeight: a.height,\n      toolboxPosition: a.position,\n      flyoutWidth: b.width,\n      flyoutHeight: b.height\n    };\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.METRICS_MANAGER, Blockly.registry.DEFAULT, Blockly.MetricsManager);\n\n  Blockly.FlyoutMetricsManager = function (a, b) {\n    this.flyout_ = b;\n    Blockly.FlyoutMetricsManager.superClass_.constructor.call(this, a);\n  };\n\n  Blockly.utils.object.inherits(Blockly.FlyoutMetricsManager, Blockly.MetricsManager);\n\n  Blockly.FlyoutMetricsManager.prototype.getBoundingBox_ = function () {\n    try {\n      var a = this.workspace_.getCanvas().getBBox();\n    } catch (b) {\n      a = {\n        height: 0,\n        y: 0,\n        width: 0,\n        x: 0\n      };\n    }\n\n    return a;\n  };\n\n  Blockly.FlyoutMetricsManager.prototype.getContentMetrics = function (a) {\n    var b = this.getBoundingBox_();\n    a = a ? 1 : this.workspace_.scale;\n    return {\n      height: b.height * a,\n      width: b.width * a,\n      top: b.y * a,\n      left: b.x * a\n    };\n  };\n\n  Blockly.FlyoutMetricsManager.prototype.getScrollMetrics = function (a, b, c) {\n    b = c || this.getContentMetrics();\n    c = this.flyout_.MARGIN * this.workspace_.scale;\n    a = a ? this.workspace_.scale : 1;\n    return {\n      height: (b.height + 2 * c) / a,\n      width: (b.width + b.left + c) / a,\n      top: 0,\n      left: 0\n    };\n  };\n\n  Blockly.FlyoutMetricsManager.prototype.getViewMetrics = function (a) {\n    var b = this.getSvgMetrics();\n    a = a ? this.workspace_.scale : 1;\n\n    if (this.flyout_.horizontalLayout) {\n      var c = b.width - 2 * this.flyout_.SCROLLBAR_PADDING;\n      b = b.height - this.flyout_.SCROLLBAR_PADDING;\n    } else c = b.width - this.flyout_.SCROLLBAR_PADDING, b = b.height - 2 * this.flyout_.SCROLLBAR_PADDING;\n\n    return {\n      height: b / a,\n      width: c / a,\n      top: -this.workspace_.scrollY / a,\n      left: -this.workspace_.scrollX / a\n    };\n  };\n\n  Blockly.FlyoutMetricsManager.prototype.getAbsoluteMetrics = function () {\n    var a = this.flyout_.SCROLLBAR_PADDING;\n    return this.flyout_.horizontalLayout ? {\n      top: 0,\n      left: a\n    } : {\n      top: a,\n      left: 0\n    };\n  };\n\n  Blockly.PluginManager = function () {\n    this.pluginData_ = {};\n    this.typeToPluginIds_ = {};\n  };\n\n  Blockly.PluginManager.prototype.addPlugin = function (a) {\n    this.pluginData_[a.id] = a;\n\n    for (var b = 0, c; c = a.types[b]; b++) {\n      c = String(c).toLowerCase(), void 0 === this.typeToPluginIds_[c] ? this.typeToPluginIds_[c] = [a.id] : this.typeToPluginIds_[c].push(a.id);\n    }\n  };\n\n  Blockly.PluginManager.prototype.getPlugin = function (a) {\n    return this.pluginData_[a] && this.pluginData_[a].plugin;\n  };\n\n  Blockly.PluginManager.prototype.getPlugins = function (a, b) {\n    a = String(a).toLowerCase();\n    a = this.typeToPluginIds_[a];\n    if (!a) return [];\n    var c = [];\n\n    if (b) {\n      var d = [],\n          e = this.pluginData_;\n      a.forEach(function (f) {\n        d.push(e[f]);\n      });\n      d.sort(function (f, g) {\n        return f.weight - g.weight;\n      });\n      d.forEach(function (f) {\n        c.push(f.plugin);\n      });\n    } else e = this.pluginData_, a.forEach(function (f) {\n      c.push(e[f].plugin);\n    });\n\n    return c;\n  };\n\n  Blockly.PluginManager.Type = function (a) {\n    this.name_ = a;\n  };\n\n  Blockly.PluginManager.Type.prototype.toString = function () {\n    return this.name_;\n  };\n\n  Blockly.PluginManager.Type.POSITIONABLE = new Blockly.PluginManager.Type(\"positionable\");\n\n  Blockly.ThemeManager = function (a, b) {\n    this.workspace_ = a;\n    this.theme_ = b;\n    this.subscribedWorkspaces_ = [];\n    this.componentDB_ = Object.create(null);\n  };\n\n  Blockly.ThemeManager.prototype.getTheme = function () {\n    return this.theme_;\n  };\n\n  Blockly.ThemeManager.prototype.setTheme = function (a) {\n    var b = this.theme_;\n    this.theme_ = a;\n    if (a = this.workspace_.getInjectionDiv()) b && Blockly.utils.dom.removeClass(a, b.getClassName()), Blockly.utils.dom.addClass(a, this.theme_.getClassName());\n\n    for (b = 0; a = this.subscribedWorkspaces_[b]; b++) {\n      a.refreshTheme();\n    }\n\n    b = 0;\n    a = Object.keys(this.componentDB_);\n\n    for (var c; c = a[b]; b++) {\n      for (var d = 0, e; e = this.componentDB_[c][d]; d++) {\n        var f = e.element;\n        e = e.propertyName;\n        var g = this.theme_ && this.theme_.getComponentStyle(c);\n        f.style[e] = g || \"\";\n      }\n    }\n\n    Blockly.hideChaff();\n  };\n\n  Blockly.ThemeManager.prototype.subscribeWorkspace = function (a) {\n    this.subscribedWorkspaces_.push(a);\n  };\n\n  Blockly.ThemeManager.prototype.unsubscribeWorkspace = function (a) {\n    a = this.subscribedWorkspaces_.indexOf(a);\n    if (0 > a) throw Error(\"Cannot unsubscribe a workspace that hasn't been subscribed.\");\n    this.subscribedWorkspaces_.splice(a, 1);\n  };\n\n  Blockly.ThemeManager.prototype.subscribe = function (a, b, c) {\n    this.componentDB_[b] || (this.componentDB_[b] = []);\n    this.componentDB_[b].push({\n      element: a,\n      propertyName: c\n    });\n    b = this.theme_ && this.theme_.getComponentStyle(b);\n    a.style[c] = b || \"\";\n  };\n\n  Blockly.ThemeManager.prototype.unsubscribe = function (a) {\n    if (a) for (var b = Object.keys(this.componentDB_), c = 0, d; d = b[c]; c++) {\n      for (var e = this.componentDB_[d], f = e.length - 1; 0 <= f; f--) {\n        e[f].element === a && e.splice(f, 1);\n      }\n\n      this.componentDB_[d].length || delete this.componentDB_[d];\n    }\n  };\n\n  Blockly.ThemeManager.prototype.dispose = function () {\n    this.componentDB_ = this.subscribedWorkspaces_ = this.theme_ = this.owner_ = null;\n  };\n\n  Blockly.TouchGesture = function (a, b) {\n    Blockly.TouchGesture.superClass_.constructor.call(this, a, b);\n    this.isMultiTouch_ = !1;\n    this.cachedPoints_ = Object.create(null);\n    this.startDistance_ = this.previousScale_ = 0;\n    this.isPinchZoomEnabled_ = this.onStartWrapper_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.TouchGesture, Blockly.Gesture);\n  Blockly.TouchGesture.ZOOM_IN_MULTIPLIER = 5;\n  Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER = 6;\n\n  Blockly.TouchGesture.prototype.doStart = function (a) {\n    this.isPinchZoomEnabled_ = this.startWorkspace_.options.zoomOptions && this.startWorkspace_.options.zoomOptions.pinch;\n    Blockly.TouchGesture.superClass_.doStart.call(this, a);\n    !this.isEnding_ && Blockly.Touch.isTouchEvent(a) && this.handleTouchStart(a);\n  };\n\n  Blockly.TouchGesture.prototype.bindMouseEvents = function (a) {\n    this.onStartWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mousedown\", null, this.handleStart.bind(this), !0);\n    this.onMoveWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mousemove\", null, this.handleMove.bind(this), !0);\n    this.onUpWrapper_ = Blockly.browserEvents.conditionalBind(document, \"mouseup\", null, this.handleUp.bind(this), !0);\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.TouchGesture.prototype.handleStart = function (a) {\n    !this.isDragging() && Blockly.Touch.isTouchEvent(a) && (this.handleTouchStart(a), this.isMultiTouch() && Blockly.longStop_());\n  };\n\n  Blockly.TouchGesture.prototype.handleMove = function (a) {\n    this.isDragging() ? Blockly.Touch.shouldHandleEvent(a) && Blockly.TouchGesture.superClass_.handleMove.call(this, a) : this.isMultiTouch() ? (Blockly.Touch.isTouchEvent(a) && this.handleTouchMove(a), Blockly.longStop_()) : Blockly.TouchGesture.superClass_.handleMove.call(this, a);\n  };\n\n  Blockly.TouchGesture.prototype.handleUp = function (a) {\n    Blockly.Touch.isTouchEvent(a) && !this.isDragging() && this.handleTouchEnd(a);\n    !this.isMultiTouch() || this.isDragging() ? Blockly.Touch.shouldHandleEvent(a) && Blockly.TouchGesture.superClass_.handleUp.call(this, a) : (a.preventDefault(), a.stopPropagation(), this.dispose());\n  };\n\n  Blockly.TouchGesture.prototype.isMultiTouch = function () {\n    return this.isMultiTouch_;\n  };\n\n  Blockly.TouchGesture.prototype.dispose = function () {\n    Blockly.TouchGesture.superClass_.dispose.call(this);\n    this.onStartWrapper_ && Blockly.browserEvents.unbind(this.onStartWrapper_);\n  };\n\n  Blockly.TouchGesture.prototype.handleTouchStart = function (a) {\n    var b = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    this.cachedPoints_[b] = this.getTouchPoint(a);\n    b = Object.keys(this.cachedPoints_);\n    2 == b.length && (this.startDistance_ = Blockly.utils.Coordinate.distance(this.cachedPoints_[b[0]], this.cachedPoints_[b[1]]), this.isMultiTouch_ = !0, a.preventDefault());\n  };\n\n  Blockly.TouchGesture.prototype.handleTouchMove = function (a) {\n    var b = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    this.cachedPoints_[b] = this.getTouchPoint(a);\n    b = Object.keys(this.cachedPoints_);\n    this.isPinchZoomEnabled_ && 2 === b.length ? this.handlePinch_(a) : Blockly.TouchGesture.superClass_.handleMove.call(this, a);\n  };\n\n  Blockly.TouchGesture.prototype.handlePinch_ = function (a) {\n    var b = Object.keys(this.cachedPoints_);\n    b = Blockly.utils.Coordinate.distance(this.cachedPoints_[b[0]], this.cachedPoints_[b[1]]) / this.startDistance_;\n\n    if (0 < this.previousScale_ && Infinity > this.previousScale_) {\n      var c = b - this.previousScale_;\n      c = 0 < c ? c * Blockly.TouchGesture.ZOOM_IN_MULTIPLIER : c * Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER;\n      var d = this.startWorkspace_,\n          e = Blockly.utils.mouseToSvg(a, d.getParentSvg(), d.getInverseScreenCTM());\n      d.zoom(e.x, e.y, c);\n    }\n\n    this.previousScale_ = b;\n    a.preventDefault();\n  };\n\n  Blockly.TouchGesture.prototype.handleTouchEnd = function (a) {\n    a = Blockly.Touch.getTouchIdentifierFromEvent(a);\n    this.cachedPoints_[a] && delete this.cachedPoints_[a];\n    2 > Object.keys(this.cachedPoints_).length && (this.cachedPoints_ = Object.create(null), this.previousScale_ = 0);\n  };\n\n  Blockly.TouchGesture.prototype.getTouchPoint = function (a) {\n    return this.startWorkspace_ ? new Blockly.utils.Coordinate(a.pageX ? a.pageX : a.changedTouches[0].pageX, a.pageY ? a.pageY : a.changedTouches[0].pageY) : null;\n  };\n\n  Blockly.WorkspaceAudio = function (a) {\n    this.parentWorkspace_ = a;\n    this.SOUNDS_ = Object.create(null);\n  };\n\n  Blockly.WorkspaceAudio.prototype.lastSound_ = null;\n\n  Blockly.WorkspaceAudio.prototype.dispose = function () {\n    this.SOUNDS_ = this.parentWorkspace_ = null;\n  };\n\n  Blockly.WorkspaceAudio.prototype.load = function (a, b) {\n    if (a.length) {\n      try {\n        var c = new Blockly.utils.global.Audio();\n      } catch (h) {\n        return;\n      }\n\n      for (var d, e = 0; e < a.length; e++) {\n        var f = a[e],\n            g = f.match(/\\.(\\w+)$/);\n\n        if (g && c.canPlayType(\"audio/\" + g[1])) {\n          d = new Blockly.utils.global.Audio(f);\n          break;\n        }\n      }\n\n      d && d.play && (this.SOUNDS_[b] = d);\n    }\n  };\n\n  Blockly.WorkspaceAudio.prototype.preload = function () {\n    for (var a in this.SOUNDS_) {\n      var b = this.SOUNDS_[a];\n      b.volume = .01;\n      var c = b.play();\n      void 0 !== c ? c.then(b.pause).catch(function () {}) : b.pause();\n      if (Blockly.utils.userAgent.IPAD || Blockly.utils.userAgent.IPHONE) break;\n    }\n  };\n\n  Blockly.WorkspaceAudio.prototype.play = function (a, b) {\n    var c = this.SOUNDS_[a];\n    c ? (a = new Date(), null != this.lastSound_ && a - this.lastSound_ < Blockly.SOUND_LIMIT || (this.lastSound_ = a, c = Blockly.utils.userAgent.IPAD || Blockly.utils.userAgent.ANDROID ? c : c.cloneNode(), c.volume = void 0 === b ? 1 : b, c.play())) : this.parentWorkspace_ && this.parentWorkspace_.getAudioManager().play(a, b);\n  };\n\n  Blockly.WorkspaceSvg = function (a, b, c) {\n    Blockly.WorkspaceSvg.superClass_.constructor.call(this, a);\n    this.metricsManager_ = new (Blockly.registry.getClassFromOptions(Blockly.registry.Type.METRICS_MANAGER, a, !0))(this);\n    this.getMetrics = a.getMetrics || this.metricsManager_.getMetrics.bind(this.metricsManager_);\n    this.setMetrics = a.setMetrics || Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_;\n    this.pluginManager_ = new Blockly.PluginManager();\n    this.connectionDBList = Blockly.ConnectionDB.init(this.connectionChecker);\n    b && (this.blockDragSurface_ = b);\n    c && (this.workspaceDragSurface_ = c);\n    this.useWorkspaceDragSurface_ = !!this.workspaceDragSurface_ && Blockly.utils.is3dSupported();\n    this.highlightedBlocks_ = [];\n    this.audioManager_ = new Blockly.WorkspaceAudio(a.parentWorkspace);\n    this.grid_ = this.options.gridPattern ? new Blockly.Grid(this.options.gridPattern, a.gridOptions) : null;\n    this.markerManager_ = new Blockly.MarkerManager(this);\n    this.toolboxCategoryCallbacks_ = {};\n    this.flyoutButtonCallbacks_ = {};\n    Blockly.Variables && Blockly.Variables.flyoutCategory && this.registerToolboxCategoryCallback(Blockly.VARIABLE_CATEGORY_NAME, Blockly.Variables.flyoutCategory);\n    Blockly.VariablesDynamic && Blockly.VariablesDynamic.flyoutCategory && this.registerToolboxCategoryCallback(Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME, Blockly.VariablesDynamic.flyoutCategory);\n    Blockly.Procedures && Blockly.Procedures.flyoutCategory && (this.registerToolboxCategoryCallback(Blockly.PROCEDURE_CATEGORY_NAME, Blockly.Procedures.flyoutCategory), this.addChangeListener(Blockly.Procedures.mutatorOpenListener));\n    this.themeManager_ = this.options.parentWorkspace ? this.options.parentWorkspace.getThemeManager() : new Blockly.ThemeManager(this, this.options.theme || Blockly.Themes.Classic);\n    this.themeManager_.subscribeWorkspace(this);\n    this.renderer_ = Blockly.blockRendering.init(this.options.renderer || \"geras\", this.getTheme(), this.options.rendererOverrides);\n    this.cachedParentSvg_ = null;\n    this.keyboardAccessibilityMode = !1;\n    this.topBoundedElements_ = [];\n    this.cachedParentSvgSize_ = new Blockly.utils.Size(0, 0);\n  };\n\n  Blockly.utils.object.inherits(Blockly.WorkspaceSvg, Blockly.Workspace);\n  Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_ = null;\n  Blockly.WorkspaceSvg.prototype.rendered = !0;\n  Blockly.WorkspaceSvg.prototype.isVisible_ = !0;\n  Blockly.WorkspaceSvg.prototype.isFlyout = !1;\n  Blockly.WorkspaceSvg.prototype.isMutator = !1;\n  Blockly.WorkspaceSvg.prototype.resizesEnabled_ = !0;\n  Blockly.WorkspaceSvg.prototype.scrollX = 0;\n  Blockly.WorkspaceSvg.prototype.scrollY = 0;\n  Blockly.WorkspaceSvg.prototype.startScrollX = 0;\n  Blockly.WorkspaceSvg.prototype.startScrollY = 0;\n  Blockly.WorkspaceSvg.prototype.dragDeltaXY_ = null;\n  Blockly.WorkspaceSvg.prototype.scale = 1;\n  Blockly.WorkspaceSvg.prototype.oldScale_ = 1;\n  Blockly.WorkspaceSvg.prototype.oldTop_ = 0;\n  Blockly.WorkspaceSvg.prototype.oldLeft_ = 0;\n  Blockly.WorkspaceSvg.prototype.trashcan = null;\n  Blockly.WorkspaceSvg.prototype.scrollbar = null;\n  Blockly.WorkspaceSvg.prototype.flyout_ = null;\n  Blockly.WorkspaceSvg.prototype.toolbox_ = null;\n  Blockly.WorkspaceSvg.prototype.currentGesture_ = null;\n  Blockly.WorkspaceSvg.prototype.blockDragSurface_ = null;\n  Blockly.WorkspaceSvg.prototype.workspaceDragSurface_ = null;\n  Blockly.WorkspaceSvg.prototype.useWorkspaceDragSurface_ = !1;\n  Blockly.WorkspaceSvg.prototype.isDragSurfaceActive_ = !1;\n  Blockly.WorkspaceSvg.prototype.injectionDiv_ = null;\n  Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_ = null;\n  Blockly.WorkspaceSvg.prototype.targetWorkspace = null;\n  Blockly.WorkspaceSvg.prototype.inverseScreenCTM_ = null;\n  Blockly.WorkspaceSvg.prototype.inverseScreenCTMDirty_ = !0;\n\n  Blockly.WorkspaceSvg.prototype.getMarkerManager = function () {\n    return this.markerManager_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getMetricsManager = function () {\n    return this.metricsManager_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setMetricsManager = function (a) {\n    this.metricsManager_ = a;\n    this.getMetrics = this.metricsManager_.getMetrics.bind(this.metricsManager_);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getPluginManager = function () {\n    return this.pluginManager_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setCursorSvg = function (a) {\n    this.markerManager_.setCursorSvg(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.setMarkerSvg = function (a) {\n    this.markerManager_.setMarkerSvg(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getMarker = function (a) {\n    return this.markerManager_ ? this.markerManager_.getMarker(a) : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getCursor = function () {\n    return this.markerManager_ ? this.markerManager_.getCursor() : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getRenderer = function () {\n    return this.renderer_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getThemeManager = function () {\n    return this.themeManager_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getTheme = function () {\n    return this.themeManager_.getTheme();\n  };\n\n  Blockly.WorkspaceSvg.prototype.setTheme = function (a) {\n    a || (a = Blockly.Themes.Classic);\n    this.themeManager_.setTheme(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.refreshTheme = function () {\n    this.svgGroup_ && this.renderer_.refreshDom(this.svgGroup_, this.getTheme());\n    this.updateBlockStyles_(this.getAllBlocks(!1).filter(function (b) {\n      return void 0 !== b.getStyleName();\n    }));\n    this.refreshToolboxSelection();\n    this.toolbox_ && this.toolbox_.refreshTheme();\n    this.isVisible() && this.setVisible(!0);\n    var a = new (Blockly.Events.get(Blockly.Events.THEME_CHANGE))(this.getTheme().name, this.id);\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateBlockStyles_ = function (a) {\n    for (var b = 0, c; c = a[b]; b++) {\n      var d = c.getStyleName();\n      d && (c.setStyle(d), c.mutator && c.mutator.updateBlockStyle());\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.getInverseScreenCTM = function () {\n    if (this.inverseScreenCTMDirty_) {\n      var a = this.getParentSvg().getScreenCTM();\n      a && (this.inverseScreenCTM_ = a.inverse(), this.inverseScreenCTMDirty_ = !1);\n    }\n\n    return this.inverseScreenCTM_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM = function () {\n    this.inverseScreenCTMDirty_ = !0;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isVisible = function () {\n    return this.isVisible_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getSvgXY = function (a) {\n    var b = 0,\n        c = 0,\n        d = 1;\n    if (Blockly.utils.dom.containsNode(this.getCanvas(), a) || Blockly.utils.dom.containsNode(this.getBubbleCanvas(), a)) d = this.scale;\n\n    do {\n      var e = Blockly.utils.getRelativeXY(a);\n      if (a == this.getCanvas() || a == this.getBubbleCanvas()) d = 1;\n      b += e.x * d;\n      c += e.y * d;\n      a = a.parentNode;\n    } while (a && a != this.getParentSvg());\n\n    return new Blockly.utils.Coordinate(b, c);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getCachedParentSvgSize = function () {\n    var a = this.cachedParentSvgSize_;\n    return new Blockly.utils.Size(a.width, a.height);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getOriginOffsetInPixels = function () {\n    return Blockly.utils.getInjectionDivXY_(this.getCanvas());\n  };\n\n  Blockly.WorkspaceSvg.prototype.getInjectionDiv = function () {\n    if (!this.injectionDiv_) for (var a = this.svgGroup_; a;) {\n      if (-1 != (\" \" + (a.getAttribute(\"class\") || \"\") + \" \").indexOf(\" injectionDiv \")) {\n        this.injectionDiv_ = a;\n        break;\n      }\n\n      a = a.parentNode;\n    }\n    return this.injectionDiv_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBlockCanvas = function () {\n    return this.svgBlockCanvas_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper = function (a) {\n    this.resizeHandlerWrapper_ = a;\n  };\n\n  Blockly.WorkspaceSvg.prototype.createDom = function (a) {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyWorkspace\"\n    }, null);\n    a && (this.svgBackground_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      height: \"100%\",\n      width: \"100%\",\n      \"class\": a\n    }, this.svgGroup_), \"blocklyMainBackground\" == a && this.grid_ ? this.svgBackground_.style.fill = \"url(#\" + this.grid_.getPatternId() + \")\" : this.themeManager_.subscribe(this.svgBackground_, \"workspaceBackgroundColour\", \"fill\"));\n    this.svgBlockCanvas_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyBlockCanvas\"\n    }, this.svgGroup_);\n    this.svgBubbleCanvas_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyBubbleCanvas\"\n    }, this.svgGroup_);\n    this.isFlyout || (Blockly.browserEvents.conditionalBind(this.svgGroup_, \"mousedown\", this, this.onMouseDown_, !1, !0), Blockly.browserEvents.conditionalBind(this.svgGroup_, \"wheel\", this, this.onMouseWheel_));\n    this.options.hasCategories && (this.toolbox_ = new (Blockly.registry.getClassFromOptions(Blockly.registry.Type.TOOLBOX, this.options, !0))(this));\n    this.grid_ && this.grid_.update(this.scale);\n    this.recordDeleteAreas();\n    (a = Blockly.registry.getClassFromOptions(Blockly.registry.Type.CURSOR, this.options)) && this.markerManager_.setCursor(new a());\n    this.renderer_.createDom(this.svgGroup_, this.getTheme());\n    return this.svgGroup_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.dispose = function () {\n    this.rendered = !1;\n    this.currentGesture_ && this.currentGesture_.cancel();\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.svgBubbleCanvas_ = this.svgBlockCanvas_ = null;\n    this.toolbox_ && (this.toolbox_.dispose(), this.toolbox_ = null);\n    this.flyout_ && (this.flyout_.dispose(), this.flyout_ = null);\n    this.trashcan && (this.trashcan.dispose(), this.trashcan = null);\n    this.scrollbar && (this.scrollbar.dispose(), this.scrollbar = null);\n    this.zoomControls_ && (this.zoomControls_.dispose(), this.zoomControls_ = null);\n    this.audioManager_ && (this.audioManager_.dispose(), this.audioManager_ = null);\n    this.grid_ && (this.grid_.dispose(), this.grid_ = null);\n    this.renderer_.dispose();\n    this.markerManager_ && (this.markerManager_.dispose(), this.markerManager_ = null);\n    Blockly.WorkspaceSvg.superClass_.dispose.call(this);\n    this.themeManager_ && (this.themeManager_.unsubscribeWorkspace(this), this.themeManager_.unsubscribe(this.svgBackground_), this.options.parentWorkspace || (this.themeManager_.dispose(), this.themeManager_ = null));\n    this.flyoutButtonCallbacks_ = this.toolboxCategoryCallbacks_ = this.connectionDBList = null;\n\n    if (!this.options.parentWorkspace) {\n      var a = this.getParentSvg();\n      a && a.parentNode && Blockly.utils.dom.removeNode(a.parentNode);\n    }\n\n    this.resizeHandlerWrapper_ && (Blockly.browserEvents.unbind(this.resizeHandlerWrapper_), this.resizeHandlerWrapper_ = null);\n  };\n\n  Blockly.WorkspaceSvg.prototype.newBlock = function (a, b) {\n    return new Blockly.BlockSvg(this, a, b);\n  };\n\n  Blockly.WorkspaceSvg.prototype.addTrashcan = function () {\n    if (!Blockly.Trashcan) throw Error(\"Missing require for Blockly.Trashcan\");\n    this.trashcan = new Blockly.Trashcan(this);\n    var a = this.trashcan.createDom();\n    this.svgGroup_.insertBefore(a, this.svgBlockCanvas_);\n    this.pluginManager_.addPlugin({\n      id: \"trashcan\",\n      plugin: this.trashcan,\n      weight: 1,\n      types: [Blockly.PluginManager.Type.POSITIONABLE]\n    });\n  };\n\n  Blockly.WorkspaceSvg.prototype.addZoomControls = function () {\n    if (!Blockly.ZoomControls) throw Error(\"Missing require for Blockly.ZoomControls\");\n    this.zoomControls_ = new Blockly.ZoomControls(this);\n    var a = this.zoomControls_.createDom();\n    this.svgGroup_.appendChild(a);\n    this.pluginManager_.addPlugin({\n      id: \"zoomControls\",\n      plugin: this.zoomControls_,\n      weight: 2,\n      types: [Blockly.PluginManager.Type.POSITIONABLE]\n    });\n  };\n\n  Blockly.WorkspaceSvg.prototype.addFlyout = function (a) {\n    var b = new Blockly.Options({\n      parentWorkspace: this,\n      rtl: this.RTL,\n      oneBasedIndex: this.options.oneBasedIndex,\n      horizontalLayout: this.horizontalLayout,\n      renderer: this.options.renderer,\n      rendererOverrides: this.options.rendererOverrides,\n      move: {\n        scrollbars: !0\n      }\n    });\n    b.toolboxPosition = this.options.toolboxPosition;\n    this.flyout_ = this.horizontalLayout ? new (Blockly.registry.getClassFromOptions(Blockly.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX, this.options, !0))(b) : new (Blockly.registry.getClassFromOptions(Blockly.registry.Type.FLYOUTS_VERTICAL_TOOLBOX, this.options, !0))(b);\n    this.flyout_.autoClose = !1;\n    this.flyout_.getWorkspace().setVisible(!0);\n    return this.flyout_.createDom(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getFlyout = function (a) {\n    return this.flyout_ || a ? this.flyout_ : this.toolbox_ ? this.toolbox_.getFlyout() : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getToolbox = function () {\n    return this.toolbox_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateScreenCalculations_ = function () {\n    this.updateInverseScreenCTM();\n    this.recordDeleteAreas();\n  };\n\n  Blockly.WorkspaceSvg.prototype.resizeContents = function () {\n    this.resizesEnabled_ && this.rendered && (this.scrollbar && this.scrollbar.resize(), this.updateInverseScreenCTM());\n  };\n\n  Blockly.WorkspaceSvg.prototype.resize = function () {\n    this.toolbox_ && this.toolbox_.position();\n    this.flyout_ && this.flyout_.position();\n\n    for (var a = this.pluginManager_.getPlugins(Blockly.PluginManager.Type.POSITIONABLE, !0), b = this.getMetricsManager().getUiMetrics(), c = [], d = 0, e; e = a[d]; d++) {\n      e.position(b, c), c.push(e.getBoundingRectangle());\n    }\n\n    this.scrollbar && this.scrollbar.resize();\n    this.updateScreenCalculations_();\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled = function () {\n    var a = Blockly.utils.getDocumentScroll();\n    Blockly.utils.Coordinate.equals(this.lastRecordedPageScroll_, a) || (this.lastRecordedPageScroll_ = a, this.updateScreenCalculations_());\n  };\n\n  Blockly.WorkspaceSvg.prototype.getCanvas = function () {\n    return this.svgBlockCanvas_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setCachedParentSvgSize = function (a, b) {\n    var c = this.getParentSvg();\n    a && (this.cachedParentSvgSize_.width = a, c.cachedWidth_ = a);\n    b && (this.cachedParentSvgSize_.height = b, c.cachedHeight_ = b);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBubbleCanvas = function () {\n    return this.svgBubbleCanvas_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getParentSvg = function () {\n    if (!this.cachedParentSvg_) for (var a = this.svgGroup_; a;) {\n      if (\"svg\" == a.tagName) {\n        this.cachedParentSvg_ = a;\n        break;\n      }\n\n      a = a.parentNode;\n    }\n    return this.cachedParentSvg_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.maybeFireViewportChangeEvent = function () {\n    if (Blockly.Events.isEnabled()) {\n      var a = this.scale,\n          b = -this.scrollY,\n          c = -this.scrollX;\n\n      if (!(a == this.oldScale_ && 1 > Math.abs(b - this.oldTop_) && 1 > Math.abs(c - this.oldLeft_))) {\n        var d = new (Blockly.Events.get(Blockly.Events.VIEWPORT_CHANGE))(b, c, a, this.id, this.oldScale_);\n        this.oldScale_ = a;\n        this.oldTop_ = b;\n        this.oldLeft_ = c;\n        Blockly.Events.fire(d);\n      }\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.translate = function (a, b) {\n    if (this.useWorkspaceDragSurface_ && this.isDragSurfaceActive_) this.workspaceDragSurface_.translateSurface(a, b);else {\n      var c = \"translate(\" + a + \",\" + b + \") scale(\" + this.scale + \")\";\n      this.svgBlockCanvas_.setAttribute(\"transform\", c);\n      this.svgBubbleCanvas_.setAttribute(\"transform\", c);\n    }\n    this.blockDragSurface_ && this.blockDragSurface_.translateAndScaleGroup(a, b, this.scale);\n    this.grid_ && this.grid_.moveTo(a, b);\n    this.maybeFireViewportChangeEvent();\n  };\n\n  Blockly.WorkspaceSvg.prototype.resetDragSurface = function () {\n    if (this.useWorkspaceDragSurface_) {\n      this.isDragSurfaceActive_ = !1;\n      var a = this.workspaceDragSurface_.getSurfaceTranslation();\n      this.workspaceDragSurface_.clearAndHide(this.svgGroup_);\n      a = \"translate(\" + a.x + \",\" + a.y + \") scale(\" + this.scale + \")\";\n      this.svgBlockCanvas_.setAttribute(\"transform\", a);\n      this.svgBubbleCanvas_.setAttribute(\"transform\", a);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.setupDragSurface = function () {\n    if (this.useWorkspaceDragSurface_ && !this.isDragSurfaceActive_) {\n      this.isDragSurfaceActive_ = !0;\n      var a = this.svgBlockCanvas_.previousSibling,\n          b = parseInt(this.getParentSvg().getAttribute(\"width\"), 10),\n          c = parseInt(this.getParentSvg().getAttribute(\"height\"), 10),\n          d = Blockly.utils.getRelativeXY(this.getCanvas());\n      this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(), this.getBubbleCanvas(), a, b, c, this.scale);\n      this.workspaceDragSurface_.translateSurface(d.x, d.y);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBlockDragSurface = function () {\n    return this.blockDragSurface_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getWidth = function () {\n    var a = this.getMetrics();\n    return a ? a.viewWidth / this.scale : 0;\n  };\n\n  Blockly.WorkspaceSvg.prototype.setVisible = function (a) {\n    this.isVisible_ = a;\n    if (this.svgGroup_) if (this.scrollbar && this.scrollbar.setContainerVisible(a), this.getFlyout() && this.getFlyout().setContainerVisible(a), this.getParentSvg().style.display = a ? \"block\" : \"none\", this.toolbox_ && this.toolbox_.setVisible(a), a) {\n      a = this.getAllBlocks(!1);\n\n      for (var b = a.length - 1; 0 <= b; b--) {\n        a[b].markDirty();\n      }\n\n      this.render();\n      this.toolbox_ && this.toolbox_.position();\n    } else Blockly.hideChaff(!0);\n  };\n\n  Blockly.WorkspaceSvg.prototype.render = function () {\n    for (var a = this.getAllBlocks(!1), b = a.length - 1; 0 <= b; b--) {\n      a[b].render(!1);\n    }\n\n    if (this.currentGesture_) for (a = this.currentGesture_.getInsertionMarkers(), b = 0; b < a.length; b++) {\n      a[b].render(!1);\n    }\n    this.markerManager_.updateMarkers();\n  };\n\n  Blockly.WorkspaceSvg.prototype.highlightBlock = function (a, b) {\n    if (void 0 === b) {\n      for (var c = 0, d; d = this.highlightedBlocks_[c]; c++) {\n        d.setHighlighted(!1);\n      }\n\n      this.highlightedBlocks_.length = 0;\n    }\n\n    if (d = a ? this.getBlockById(a) : null) (a = void 0 === b || b) ? -1 == this.highlightedBlocks_.indexOf(d) && this.highlightedBlocks_.push(d) : Blockly.utils.arrayRemove(this.highlightedBlocks_, d), d.setHighlighted(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.paste = function (a) {\n    !this.rendered || !a.tagName || a.getElementsByTagName(\"block\").length >= this.remainingCapacity() || (this.currentGesture_ && this.currentGesture_.cancel(), \"comment\" == a.tagName.toLowerCase() ? this.pasteWorkspaceComment_(a) : this.pasteBlock_(a));\n  };\n\n  Blockly.WorkspaceSvg.prototype.pasteBlock_ = function (a) {\n    Blockly.Events.disable();\n\n    try {\n      var b = Blockly.Xml.domToBlock(a, this),\n          c = parseInt(a.getAttribute(\"x\"), 10),\n          d = parseInt(a.getAttribute(\"y\"), 10);\n\n      if (!isNaN(c) && !isNaN(d)) {\n        this.RTL && (c = -c);\n\n        do {\n          a = !1;\n\n          for (var e = this.getAllBlocks(!1), f = 0, g; g = e[f]; f++) {\n            var h = g.getRelativeToSurfaceXY();\n\n            if (1 >= Math.abs(c - h.x) && 1 >= Math.abs(d - h.y)) {\n              a = !0;\n              break;\n            }\n          }\n\n          if (!a) {\n            var k = b.getConnections_(!1);\n            f = 0;\n\n            for (var l; l = k[f]; f++) {\n              if (l.closest(Blockly.SNAP_RADIUS, new Blockly.utils.Coordinate(c, d)).connection) {\n                a = !0;\n                break;\n              }\n            }\n          }\n\n          a && (c = this.RTL ? c - Blockly.SNAP_RADIUS : c + Blockly.SNAP_RADIUS, d += 2 * Blockly.SNAP_RADIUS);\n        } while (a);\n\n        b.moveBy(c, d);\n      }\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    Blockly.Events.isEnabled() && !b.isShadow() && Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CREATE))(b));\n    b.select();\n  };\n\n  Blockly.WorkspaceSvg.prototype.pasteWorkspaceComment_ = function (a) {\n    Blockly.Events.disable();\n\n    try {\n      var b = Blockly.WorkspaceCommentSvg.fromXml(a, this),\n          c = parseInt(a.getAttribute(\"x\"), 10),\n          d = parseInt(a.getAttribute(\"y\"), 10);\n      isNaN(c) || isNaN(d) || (this.RTL && (c = -c), b.moveBy(c + 50, d + 50));\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    Blockly.Events.isEnabled() && Blockly.WorkspaceComment.fireCreateEvent(b);\n    b.select();\n  };\n\n  Blockly.WorkspaceSvg.prototype.refreshToolboxSelection = function () {\n    var a = this.isFlyout ? this.targetWorkspace : this;\n    a && !a.currentGesture_ && a.toolbox_ && a.toolbox_.getFlyout() && a.toolbox_.refreshSelection();\n  };\n\n  Blockly.WorkspaceSvg.prototype.renameVariableById = function (a, b) {\n    Blockly.WorkspaceSvg.superClass_.renameVariableById.call(this, a, b);\n    this.refreshToolboxSelection();\n  };\n\n  Blockly.WorkspaceSvg.prototype.deleteVariableById = function (a) {\n    Blockly.WorkspaceSvg.superClass_.deleteVariableById.call(this, a);\n    this.refreshToolboxSelection();\n  };\n\n  Blockly.WorkspaceSvg.prototype.createVariable = function (a, b, c) {\n    a = Blockly.WorkspaceSvg.superClass_.createVariable.call(this, a, b, c);\n    this.refreshToolboxSelection();\n    return a;\n  };\n\n  Blockly.WorkspaceSvg.prototype.recordDeleteAreas = function () {\n    this.deleteAreaTrash_ = this.trashcan && this.svgGroup_.parentNode ? this.trashcan.getClientRect() : null;\n    this.deleteAreaToolbox_ = this.flyout_ ? this.flyout_.getClientRect() : this.toolbox_ && \"function\" == typeof this.toolbox_.getClientRect ? this.toolbox_.getClientRect() : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isDeleteArea = function (a) {\n    return this.deleteAreaTrash_ && this.deleteAreaTrash_.contains(a.clientX, a.clientY) ? Blockly.DELETE_AREA_TRASH : this.deleteAreaToolbox_ && this.deleteAreaToolbox_.contains(a.clientX, a.clientY) ? Blockly.DELETE_AREA_TOOLBOX : Blockly.DELETE_AREA_NONE;\n  };\n\n  Blockly.WorkspaceSvg.prototype.onMouseDown_ = function (a) {\n    var b = this.getGesture(a);\n    b && b.handleWsStart(a, this);\n  };\n\n  Blockly.WorkspaceSvg.prototype.startDrag = function (a, b) {\n    a = Blockly.utils.mouseToSvg(a, this.getParentSvg(), this.getInverseScreenCTM());\n    a.x /= this.scale;\n    a.y /= this.scale;\n    this.dragDeltaXY_ = Blockly.utils.Coordinate.difference(b, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.moveDrag = function (a) {\n    a = Blockly.utils.mouseToSvg(a, this.getParentSvg(), this.getInverseScreenCTM());\n    a.x /= this.scale;\n    a.y /= this.scale;\n    return Blockly.utils.Coordinate.sum(this.dragDeltaXY_, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.isDragging = function () {\n    return null != this.currentGesture_ && this.currentGesture_.isDragging();\n  };\n\n  Blockly.WorkspaceSvg.prototype.isDraggable = function () {\n    return this.options.moveOptions && this.options.moveOptions.drag;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isMovable = function () {\n    return this.options.moveOptions && !!this.options.moveOptions.scrollbars || this.options.moveOptions && this.options.moveOptions.wheel || this.options.moveOptions && this.options.moveOptions.drag || this.options.zoomOptions && this.options.zoomOptions.wheel || this.options.zoomOptions && this.options.zoomOptions.pinch;\n  };\n\n  Blockly.WorkspaceSvg.prototype.isMovableHorizontally = function () {\n    var a = !!this.scrollbar;\n    return this.isMovable() && (!a || a && this.scrollbar.canScrollHorizontally());\n  };\n\n  Blockly.WorkspaceSvg.prototype.isMovableVertically = function () {\n    var a = !!this.scrollbar;\n    return this.isMovable() && (!a || a && this.scrollbar.canScrollVertically());\n  };\n\n  Blockly.WorkspaceSvg.prototype.onMouseWheel_ = function (a) {\n    if (Blockly.Gesture.inProgress()) a.preventDefault(), a.stopPropagation();else {\n      var b = this.options.zoomOptions && this.options.zoomOptions.wheel,\n          c = this.options.moveOptions && this.options.moveOptions.wheel;\n\n      if (b || c) {\n        var d = Blockly.utils.getScrollDeltaPixels(a);\n        !b || !a.ctrlKey && c ? (b = this.scrollX - d.x, c = this.scrollY - d.y, a.shiftKey && !d.x && (b = this.scrollX - d.y, c = this.scrollY), this.scroll(b, c)) : (d = -d.y / 50, b = Blockly.utils.mouseToSvg(a, this.getParentSvg(), this.getInverseScreenCTM()), this.zoom(b.x, b.y, d));\n        a.preventDefault();\n      }\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox = function () {\n    var a = this.getTopBoundedElements();\n    if (!a.length) return new Blockly.utils.Rect(0, 0, 0, 0);\n\n    for (var b = a[0].getBoundingRectangle(), c = 1; c < a.length; c++) {\n      var d = a[c];\n      d.isInsertionMarker && d.isInsertionMarker() || (d = d.getBoundingRectangle(), d.top < b.top && (b.top = d.top), d.bottom > b.bottom && (b.bottom = d.bottom), d.left < b.left && (b.left = d.left), d.right > b.right && (b.right = d.right));\n    }\n\n    return b;\n  };\n\n  Blockly.WorkspaceSvg.prototype.cleanUp = function () {\n    this.setResizesEnabled(!1);\n    Blockly.Events.setGroup(!0);\n\n    for (var a = this.getTopBlocks(!0), b = 0, c = 0, d; d = a[c]; c++) {\n      if (d.isMovable()) {\n        var e = d.getRelativeToSurfaceXY();\n        d.moveBy(-e.x, b - e.y);\n        d.snapToGrid();\n        b = d.getRelativeToSurfaceXY().y + d.getHeightWidth().height + this.renderer_.getConstants().MIN_BLOCK_HEIGHT;\n      }\n    }\n\n    Blockly.Events.setGroup(!1);\n    this.setResizesEnabled(!0);\n  };\n\n  Blockly.WorkspaceSvg.prototype.showContextMenu = function (a) {\n    if (!this.options.readOnly && !this.isFlyout) {\n      var b = Blockly.ContextMenuRegistry.registry.getContextMenuOptions(Blockly.ContextMenuRegistry.ScopeType.WORKSPACE, {\n        workspace: this\n      });\n      this.configureContextMenu && this.configureContextMenu(b, a);\n      Blockly.ContextMenu.show(a, b, this.RTL);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.updateToolbox = function (a) {\n    if (a = Blockly.utils.toolbox.convertToolboxDefToJson(a)) {\n      if (!this.options.languageTree) throw Error(\"Existing toolbox is null.  Can't create new toolbox.\");\n\n      if (Blockly.utils.toolbox.hasCategories(a)) {\n        if (!this.toolbox_) throw Error(\"Existing toolbox has no categories.  Can't change mode.\");\n        this.options.languageTree = a;\n        this.toolbox_.render(a);\n      } else {\n        if (!this.flyout_) throw Error(\"Existing toolbox has categories.  Can't change mode.\");\n        this.options.languageTree = a;\n        this.flyout_.show(a);\n      }\n    } else if (this.options.languageTree) throw Error(\"Can't nullify an existing toolbox.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.markFocused = function () {\n    this.options.parentWorkspace ? this.options.parentWorkspace.markFocused() : (Blockly.mainWorkspace = this, this.setBrowserFocus());\n  };\n\n  Blockly.WorkspaceSvg.prototype.setBrowserFocus = function () {\n    document.activeElement && document.activeElement.blur && document.activeElement.blur();\n\n    try {\n      this.getParentSvg().focus({\n        preventScroll: !0\n      });\n    } catch (a) {\n      try {\n        this.getParentSvg().parentNode.setActive();\n      } catch (b) {\n        this.getParentSvg().parentNode.focus({\n          preventScroll: !0\n        });\n      }\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.zoom = function (a, b, c) {\n    c = Math.pow(this.options.zoomOptions.scaleSpeed, c);\n    var d = this.scale * c;\n\n    if (this.scale != d) {\n      d > this.options.zoomOptions.maxScale ? c = this.options.zoomOptions.maxScale / this.scale : d < this.options.zoomOptions.minScale && (c = this.options.zoomOptions.minScale / this.scale);\n      var e = this.getCanvas().getCTM(),\n          f = this.getParentSvg().createSVGPoint();\n      f.x = a;\n      f.y = b;\n      f = f.matrixTransform(e.inverse());\n      a = f.x;\n      b = f.y;\n      e = e.translate(a * (1 - c), b * (1 - c)).scale(c);\n      this.scrollX = e.e;\n      this.scrollY = e.f;\n      this.setScale(d);\n    }\n  };\n\n  Blockly.WorkspaceSvg.prototype.zoomCenter = function (a) {\n    var b = this.getMetrics();\n\n    if (this.flyout_) {\n      var c = b.svgWidth ? b.svgWidth / 2 : 0;\n      b = b.svgHeight ? b.svgHeight / 2 : 0;\n    } else c = b.viewWidth / 2 + b.absoluteLeft, b = b.viewHeight / 2 + b.absoluteTop;\n\n    this.zoom(c, b, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.zoomToFit = function () {\n    if (this.isMovable()) {\n      var a = this.getMetrics(),\n          b = a.viewWidth;\n      a = a.viewHeight;\n      var c = this.getBlocksBoundingBox(),\n          d = c.right - c.left;\n      c = c.bottom - c.top;\n\n      if (d) {\n        this.flyout_ && (this.horizontalLayout ? (a += this.flyout_.getHeight(), c += this.flyout_.getHeight() / this.scale) : (b += this.flyout_.getWidth(), d += this.flyout_.getWidth() / this.scale));\n        b /= d;\n        a /= c;\n        Blockly.Events.disable();\n\n        try {\n          this.setScale(Math.min(b, a)), this.scrollCenter();\n        } finally {\n          Blockly.Events.enable();\n        }\n\n        this.maybeFireViewportChangeEvent();\n      }\n    } else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.beginCanvasTransition = function () {\n    Blockly.utils.dom.addClass(this.svgBlockCanvas_, \"blocklyCanvasTransitioning\");\n    Blockly.utils.dom.addClass(this.svgBubbleCanvas_, \"blocklyCanvasTransitioning\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.endCanvasTransition = function () {\n    Blockly.utils.dom.removeClass(this.svgBlockCanvas_, \"blocklyCanvasTransitioning\");\n    Blockly.utils.dom.removeClass(this.svgBubbleCanvas_, \"blocklyCanvasTransitioning\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.scrollCenter = function () {\n    if (this.isMovable()) {\n      var a = this.getMetrics(),\n          b = (a.scrollWidth - a.viewWidth) / 2,\n          c = (a.scrollHeight - a.viewHeight) / 2;\n      b = -b - a.scrollLeft;\n      c = -c - a.scrollTop;\n      this.scroll(b, c);\n    } else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.centerOnBlock = function (a) {\n    if (this.isMovable()) {\n      if (a = a ? this.getBlockById(a) : null) {\n        var b = a.getRelativeToSurfaceXY(),\n            c = a.getHeightWidth(),\n            d = this.scale;\n        a = (b.x + (this.RTL ? -1 : 1) * c.width / 2) * d;\n        b = (b.y + c.height / 2) * d;\n        c = this.getMetrics();\n        this.scroll(-(a - c.viewWidth / 2), -(b - c.viewHeight / 2));\n      }\n    } else console.warn(\"Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.\");\n  };\n\n  Blockly.WorkspaceSvg.prototype.setScale = function (a) {\n    this.options.zoomOptions.maxScale && a > this.options.zoomOptions.maxScale ? a = this.options.zoomOptions.maxScale : this.options.zoomOptions.minScale && a < this.options.zoomOptions.minScale && (a = this.options.zoomOptions.minScale);\n    this.scale = a;\n    Blockly.hideChaff(!1);\n    this.flyout_ && (this.flyout_.reflow(), this.recordDeleteAreas());\n    this.grid_ && this.grid_.update(this.scale);\n    a = this.getMetrics();\n    this.scrollX -= a.absoluteLeft;\n    this.scrollY -= a.absoluteTop;\n    a.viewLeft += a.absoluteLeft;\n    a.viewTop += a.absoluteTop;\n    this.scroll(this.scrollX, this.scrollY);\n    this.scrollbar && (this.flyout_ ? this.scrollbar.resizeView(a) : this.scrollbar.resizeContent(a));\n  };\n\n  Blockly.WorkspaceSvg.prototype.getScale = function () {\n    return this.options.parentWorkspace ? this.options.parentWorkspace.getScale() : this.scale;\n  };\n\n  Blockly.WorkspaceSvg.prototype.scroll = function (a, b) {\n    Blockly.hideChaff(!0);\n    var c = this.getMetrics();\n    a = Math.min(a, -c.scrollLeft);\n    b = Math.min(b, -c.scrollTop);\n    var d = c.scrollTop + Math.max(0, c.scrollHeight - c.viewHeight);\n    a = Math.max(a, -(c.scrollLeft + Math.max(0, c.scrollWidth - c.viewWidth)));\n    b = Math.max(b, -d);\n    this.scrollX = a;\n    this.scrollY = b;\n    this.scrollbar && this.scrollbar.set(-(a + c.scrollLeft), -(b + c.scrollTop), !1);\n    a += c.absoluteLeft;\n    b += c.absoluteTop;\n    this.translate(a, b);\n  };\n\n  Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_ = function (a) {\n    var b = this.getMetrics();\n    \"number\" == typeof a.x && (this.scrollX = -(b.scrollLeft + (b.scrollWidth - b.viewWidth) * a.x));\n    \"number\" == typeof a.y && (this.scrollY = -(b.scrollTop + (b.scrollHeight - b.viewHeight) * a.y));\n    this.translate(this.scrollX + b.absoluteLeft, this.scrollY + b.absoluteTop);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getBlockById = function (a) {\n    return Blockly.WorkspaceSvg.superClass_.getBlockById.call(this, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getTopBlocks = function (a) {\n    return Blockly.WorkspaceSvg.superClass_.getTopBlocks.call(this, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.addTopBlock = function (a) {\n    this.addTopBoundedElement(a);\n    Blockly.WorkspaceSvg.superClass_.addTopBlock.call(this, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.removeTopBlock = function (a) {\n    this.removeTopBoundedElement(a);\n    Blockly.WorkspaceSvg.superClass_.removeTopBlock.call(this, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.addTopComment = function (a) {\n    this.addTopBoundedElement(a);\n    Blockly.WorkspaceSvg.superClass_.addTopComment.call(this, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.removeTopComment = function (a) {\n    this.removeTopBoundedElement(a);\n    Blockly.WorkspaceSvg.superClass_.removeTopComment.call(this, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.addTopBoundedElement = function (a) {\n    this.topBoundedElements_.push(a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.removeTopBoundedElement = function (a) {\n    Blockly.utils.arrayRemove(this.topBoundedElements_, a);\n  };\n\n  Blockly.WorkspaceSvg.prototype.getTopBoundedElements = function () {\n    return [].concat(this.topBoundedElements_);\n  };\n\n  Blockly.WorkspaceSvg.prototype.setResizesEnabled = function (a) {\n    var b = !this.resizesEnabled_ && a;\n    this.resizesEnabled_ = a;\n    b && this.resizeContents();\n  };\n\n  Blockly.WorkspaceSvg.prototype.clear = function () {\n    this.setResizesEnabled(!1);\n    Blockly.WorkspaceSvg.superClass_.clear.call(this);\n    this.topBoundedElements_ = [];\n    this.setResizesEnabled(!0);\n  };\n\n  Blockly.WorkspaceSvg.prototype.registerButtonCallback = function (a, b) {\n    if (\"function\" != typeof b) throw TypeError(\"Button callbacks must be functions.\");\n    this.flyoutButtonCallbacks_[a] = b;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getButtonCallback = function (a) {\n    return (a = this.flyoutButtonCallbacks_[a]) ? a : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.removeButtonCallback = function (a) {\n    this.flyoutButtonCallbacks_[a] = null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.registerToolboxCategoryCallback = function (a, b) {\n    if (\"function\" != typeof b) throw TypeError(\"Toolbox category callbacks must be functions.\");\n    this.toolboxCategoryCallbacks_[a] = b;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getToolboxCategoryCallback = function (a) {\n    return this.toolboxCategoryCallbacks_[a] || null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.removeToolboxCategoryCallback = function (a) {\n    this.toolboxCategoryCallbacks_[a] = null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getGesture = function (a) {\n    var b = \"mousedown\" == a.type || \"touchstart\" == a.type || \"pointerdown\" == a.type,\n        c = this.currentGesture_;\n    return c ? b && c.hasStarted() ? (console.warn(\"Tried to start the same gesture twice.\"), c.cancel(), null) : c : b ? this.currentGesture_ = new Blockly.TouchGesture(a, this) : null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.clearGesture = function () {\n    this.currentGesture_ = null;\n  };\n\n  Blockly.WorkspaceSvg.prototype.cancelCurrentGesture = function () {\n    this.currentGesture_ && this.currentGesture_.cancel();\n  };\n\n  Blockly.WorkspaceSvg.prototype.getAudioManager = function () {\n    return this.audioManager_;\n  };\n\n  Blockly.WorkspaceSvg.prototype.getGrid = function () {\n    return this.grid_;\n  };\n\n  Blockly.inject = function (a, b) {\n    Blockly.checkBlockColourConstants();\n    \"string\" == typeof a && (a = document.getElementById(a) || document.querySelector(a));\n    if (!a || !Blockly.utils.dom.containsNode(document, a)) throw Error(\"Error: container is not in current document.\");\n    b = new Blockly.Options(b || {});\n    var c = document.createElement(\"div\");\n    c.className = \"injectionDiv\";\n    c.tabIndex = 0;\n    Blockly.utils.aria.setState(c, Blockly.utils.aria.State.LABEL, Blockly.Msg.WORKSPACE_ARIA_LABEL);\n    a.appendChild(c);\n    a = Blockly.createDom_(c, b);\n    var d = new Blockly.BlockDragSurfaceSvg(c),\n        e = new Blockly.WorkspaceDragSurfaceSvg(c),\n        f = Blockly.createMainWorkspace_(a, b, d, e);\n    Blockly.init_(f);\n    Blockly.mainWorkspace = f;\n    Blockly.svgResize(f);\n    c.addEventListener(\"focusin\", function () {\n      Blockly.mainWorkspace = f;\n    });\n    return f;\n  };\n\n  Blockly.createDom_ = function (a, b) {\n    a.setAttribute(\"dir\", \"LTR\");\n    Blockly.Css.inject(b.hasCss, b.pathToMedia);\n    a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.SVG, {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      \"class\": \"blocklySvg\",\n      tabindex: \"0\"\n    }, a);\n    var c = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.DEFS, {}, a),\n        d = String(Math.random()).substring(2);\n    b.gridPattern = Blockly.Grid.createDom(d, b.gridOptions, c);\n    return a;\n  };\n\n  Blockly.createMainWorkspace_ = function (a, b, c, d) {\n    b.parentWorkspace = null;\n    b = new Blockly.WorkspaceSvg(b, c, d);\n    c = b.options;\n    b.scale = c.zoomOptions.startScale;\n    a.appendChild(b.createDom(\"blocklyMainBackground\"));\n    Blockly.utils.dom.addClass(b.getInjectionDiv(), b.getRenderer().getClassName());\n    Blockly.utils.dom.addClass(b.getInjectionDiv(), b.getTheme().getClassName());\n    !c.hasCategories && c.languageTree && (d = b.addFlyout(Blockly.utils.Svg.SVG), Blockly.utils.dom.insertAfter(d, a));\n    c.hasTrashcan && b.addTrashcan();\n    c.zoomOptions && c.zoomOptions.controls && b.addZoomControls();\n    b.getThemeManager().subscribe(a, \"workspaceBackgroundColour\", \"background-color\");\n    b.translate(0, 0);\n    b.addChangeListener(Blockly.bumpIntoBoundsHandler_(b));\n    Blockly.svgResize(b);\n    Blockly.WidgetDiv.createDom();\n    Blockly.DropDownDiv.createDom();\n    Blockly.Tooltip.createDom();\n    return b;\n  };\n\n  Blockly.extractObjectFromEvent_ = function (a, b) {\n    var c = null;\n\n    switch (b.type) {\n      case Blockly.Events.BLOCK_CREATE:\n      case Blockly.Events.BLOCK_MOVE:\n        (c = a.getBlockById(b.blockId)) && (c = c.getRootBlock());\n        break;\n\n      case Blockly.Events.COMMENT_CREATE:\n      case Blockly.Events.COMMENT_MOVE:\n        c = a.getCommentById(b.commentId);\n    }\n\n    return c;\n  };\n\n  Blockly.bumpTopObjectsIntoBounds_ = function (a) {\n    var b = a.getMetricsManager();\n\n    if (b.hasFixedEdges() && !a.isDragging()) {\n      b = b.getScrollMetrics(!0);\n\n      for (var c = a.getTopBoundedElements(), d = 0, e; e = c[d]; d++) {\n        Blockly.bumpObjectIntoBounds_(a, b, e);\n      }\n    }\n  };\n\n  Blockly.bumpIntoBoundsHandler_ = function (a) {\n    return function (b) {\n      var c = a.getMetricsManager();\n      if (c.hasFixedEdges && !a.isDragging()) if (-1 !== Blockly.Events.BUMP_EVENTS.indexOf(b.type)) {\n        c = c.getScrollMetrics(!0);\n        var d = Blockly.extractObjectFromEvent_(a, b);\n\n        if (d) {\n          var e = Blockly.Events.getGroup();\n          Blockly.Events.setGroup(b.group);\n          Blockly.bumpObjectIntoBounds_(a, c, d) && !b.group && console.warn(\"Moved object in bounds but there was no event group. This may break undo.\");\n          null !== e && Blockly.Events.setGroup(e);\n        }\n      } else b.type === Blockly.Events.VIEWPORT_CHANGE && b.scale > b.oldScale && Blockly.bumpTopObjectsIntoBounds_(a);\n    };\n  };\n\n  Blockly.bumpObjectIntoBounds_ = function (a, b, c) {\n    var d = c.getBoundingRectangle(),\n        e = d.right - d.left,\n        f = Blockly.utils.math.clamp(b.top, d.top, b.top + b.height - (d.bottom - d.top)) - d.top,\n        g = b.left;\n    b = b.left + b.width - e;\n    a.RTL ? g = Math.min(b, g) : b = Math.max(g, b);\n    return (a = Blockly.utils.math.clamp(g, d.left, b) - d.left) || f ? (c.moveBy(a, f), !0) : !1;\n  };\n\n  Blockly.init_ = function (a) {\n    var b = a.options,\n        c = a.getParentSvg();\n    Blockly.browserEvents.conditionalBind(c.parentNode, \"contextmenu\", null, function (e) {\n      Blockly.utils.isTargetInput(e) || e.preventDefault();\n    });\n    c = Blockly.browserEvents.conditionalBind(window, \"resize\", null, function () {\n      Blockly.hideChaff(!0);\n      Blockly.svgResize(a);\n      Blockly.bumpTopObjectsIntoBounds_(a);\n    });\n    a.setResizeHandlerWrapper(c);\n    Blockly.inject.bindDocumentEvents_();\n\n    if (b.languageTree) {\n      c = a.getToolbox();\n      var d = a.getFlyout(!0);\n      c ? c.init() : d && (d.init(a), d.show(b.languageTree), \"function\" == typeof d.scrollToStart && d.scrollToStart());\n    }\n\n    c = Blockly.Scrollbar.scrollbarThickness;\n    b.hasTrashcan && (c = a.trashcan.init(c));\n    b.zoomOptions && b.zoomOptions.controls && a.zoomControls_.init(c);\n    b.moveOptions && b.moveOptions.scrollbars ? (a.scrollbar = new Blockly.ScrollbarPair(a, !0 === b.moveOptions.scrollbars || !!b.moveOptions.scrollbars.horizontal, !0 === b.moveOptions.scrollbars || !!b.moveOptions.scrollbars.vertical, \"blocklyMainWorkspaceScrollbar\"), a.scrollbar.resize()) : a.setMetrics({\n      x: .5,\n      y: .5\n    });\n    b.hasSounds && Blockly.inject.loadSounds_(b.pathToMedia, a);\n  };\n\n  Blockly.inject.bindDocumentEvents_ = function () {\n    Blockly.documentEventsBound_ || (Blockly.browserEvents.conditionalBind(document, \"scroll\", null, function () {\n      for (var a = Blockly.Workspace.getAll(), b = 0, c; c = a[b]; b++) {\n        c.updateInverseScreenCTM && c.updateInverseScreenCTM();\n      }\n    }), Blockly.browserEvents.conditionalBind(document, \"keydown\", null, Blockly.onKeyDown), Blockly.browserEvents.bind(document, \"touchend\", null, Blockly.longStop_), Blockly.browserEvents.bind(document, \"touchcancel\", null, Blockly.longStop_), Blockly.utils.userAgent.IPAD && Blockly.browserEvents.conditionalBind(window, \"orientationchange\", document, function () {\n      Blockly.svgResize(Blockly.getMainWorkspace());\n    }));\n    Blockly.documentEventsBound_ = !0;\n  };\n\n  Blockly.inject.loadSounds_ = function (a, b) {\n    var c = b.getAudioManager();\n    c.load([a + \"click.mp3\", a + \"click.wav\", a + \"click.ogg\"], \"click\");\n    c.load([a + \"disconnect.wav\", a + \"disconnect.mp3\", a + \"disconnect.ogg\"], \"disconnect\");\n    c.load([a + \"delete.mp3\", a + \"delete.ogg\", a + \"delete.wav\"], \"delete\");\n    var d = [];\n\n    a = function a() {\n      for (; d.length;) {\n        Blockly.browserEvents.unbind(d.pop());\n      }\n\n      c.preload();\n    };\n\n    d.push(Blockly.browserEvents.conditionalBind(document, \"mousemove\", null, a, !0));\n    d.push(Blockly.browserEvents.conditionalBind(document, \"touchstart\", null, a, !0));\n  };\n\n  Blockly.Names = function (a, b) {\n    this.variablePrefix_ = b || \"\";\n    this.reservedDict_ = Object.create(null);\n    if (a) for (a = a.split(\",\"), b = 0; b < a.length; b++) {\n      this.reservedDict_[a[b]] = !0;\n    }\n    this.reset();\n  };\n\n  Blockly.Names.DEVELOPER_VARIABLE_TYPE = \"DEVELOPER_VARIABLE\";\n\n  Blockly.Names.prototype.reset = function () {\n    this.db_ = Object.create(null);\n    this.dbReverse_ = Object.create(null);\n    this.variableMap_ = null;\n  };\n\n  Blockly.Names.prototype.setVariableMap = function (a) {\n    this.variableMap_ = a;\n  };\n\n  Blockly.Names.prototype.getNameForUserVariable_ = function (a) {\n    return this.variableMap_ ? (a = this.variableMap_.getVariableById(a)) ? a.name : null : (console.log(\"Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());\"), null);\n  };\n\n  Blockly.Names.prototype.getName = function (a, b) {\n    if (b == Blockly.VARIABLE_CATEGORY_NAME) {\n      var c = this.getNameForUserVariable_(a);\n      c && (a = c);\n    }\n\n    c = a.toLowerCase() + \"_\" + b;\n    var d = b == Blockly.VARIABLE_CATEGORY_NAME || b == Blockly.Names.DEVELOPER_VARIABLE_TYPE ? this.variablePrefix_ : \"\";\n    if (c in this.db_) return d + this.db_[c];\n    a = this.getDistinctName(a, b);\n    this.db_[c] = a.substr(d.length);\n    return a;\n  };\n\n  Blockly.Names.prototype.getDistinctName = function (a, b) {\n    a = this.safeName_(a);\n\n    for (var c = \"\"; this.dbReverse_[a + c] || a + c in this.reservedDict_;) {\n      c = c ? c + 1 : 2;\n    }\n\n    a += c;\n    this.dbReverse_[a] = !0;\n    return (b == Blockly.VARIABLE_CATEGORY_NAME || b == Blockly.Names.DEVELOPER_VARIABLE_TYPE ? this.variablePrefix_ : \"\") + a;\n  };\n\n  Blockly.Names.prototype.safeName_ = function (a) {\n    a ? (a = encodeURI(a.replace(/ /g, \"_\")).replace(/[^\\w]/g, \"_\"), -1 != \"0123456789\".indexOf(a[0]) && (a = \"my_\" + a)) : a = Blockly.Msg.UNNAMED_KEY || \"unnamed\";\n    return a;\n  };\n\n  Blockly.Names.equals = function (a, b) {\n    return a.toLowerCase() == b.toLowerCase();\n  };\n\n  Blockly.Procedures = {};\n  Blockly.Procedures.NAME_TYPE = Blockly.PROCEDURE_CATEGORY_NAME;\n  Blockly.Procedures.DEFAULT_ARG = \"x\";\n\n  Blockly.Procedures.allProcedures = function (a) {\n    var b = a.getBlocksByType(\"procedures_defnoreturn\", !1).map(function (c) {\n      return c.getProcedureDef();\n    });\n    a = a.getBlocksByType(\"procedures_defreturn\", !1).map(function (c) {\n      return c.getProcedureDef();\n    });\n    b.sort(Blockly.Procedures.procTupleComparator_);\n    a.sort(Blockly.Procedures.procTupleComparator_);\n    return [b, a];\n  };\n\n  Blockly.Procedures.procTupleComparator_ = function (a, b) {\n    return a[0].toLowerCase().localeCompare(b[0].toLowerCase());\n  };\n\n  Blockly.Procedures.findLegalName = function (a, b) {\n    if (b.isInFlyout) return a;\n\n    for (a = a || Blockly.Msg.UNNAMED_KEY || \"unnamed\"; !Blockly.Procedures.isLegalName_(a, b.workspace, b);) {\n      var c = a.match(/^(.*?)(\\d+)$/);\n      a = c ? c[1] + (parseInt(c[2], 10) + 1) : a + \"2\";\n    }\n\n    return a;\n  };\n\n  Blockly.Procedures.isLegalName_ = function (a, b, c) {\n    return !Blockly.Procedures.isNameUsed(a, b, c);\n  };\n\n  Blockly.Procedures.isNameUsed = function (a, b, c) {\n    b = b.getAllBlocks(!1);\n\n    for (var d = 0; d < b.length; d++) {\n      if (b[d] != c && b[d].getProcedureDef) {\n        var e = b[d].getProcedureDef();\n        if (Blockly.Names.equals(e[0], a)) return !0;\n      }\n    }\n\n    return !1;\n  };\n\n  Blockly.Procedures.rename = function (a) {\n    a = a.trim();\n    var b = Blockly.Procedures.findLegalName(a, this.getSourceBlock()),\n        c = this.getValue();\n\n    if (c != a && c != b) {\n      a = this.getSourceBlock().workspace.getAllBlocks(!1);\n\n      for (var d = 0; d < a.length; d++) {\n        a[d].renameProcedure && a[d].renameProcedure(c, b);\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.Procedures.flyoutCategory = function (a) {\n    function b(f, g) {\n      for (var h = 0; h < f.length; h++) {\n        var k = f[h][0],\n            l = f[h][1],\n            m = Blockly.utils.xml.createElement(\"block\");\n        m.setAttribute(\"type\", g);\n        m.setAttribute(\"gap\", 16);\n        var n = Blockly.utils.xml.createElement(\"mutation\");\n        n.setAttribute(\"name\", k);\n        m.appendChild(n);\n\n        for (k = 0; k < l.length; k++) {\n          var p = Blockly.utils.xml.createElement(\"arg\");\n          p.setAttribute(\"name\", l[k]);\n          n.appendChild(p);\n        }\n\n        c.push(m);\n      }\n    }\n\n    var c = [];\n\n    if (Blockly.Blocks.procedures_defnoreturn) {\n      var d = Blockly.utils.xml.createElement(\"block\");\n      d.setAttribute(\"type\", \"procedures_defnoreturn\");\n      d.setAttribute(\"gap\", 16);\n      var e = Blockly.utils.xml.createElement(\"field\");\n      e.setAttribute(\"name\", \"NAME\");\n      e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE));\n      d.appendChild(e);\n      c.push(d);\n    }\n\n    Blockly.Blocks.procedures_defreturn && (d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"procedures_defreturn\"), d.setAttribute(\"gap\", 16), e = Blockly.utils.xml.createElement(\"field\"), e.setAttribute(\"name\", \"NAME\"), e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE)), d.appendChild(e), c.push(d));\n    Blockly.Blocks.procedures_ifreturn && (d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"procedures_ifreturn\"), d.setAttribute(\"gap\", 16), c.push(d));\n    c.length && c[c.length - 1].setAttribute(\"gap\", 24);\n    a = Blockly.Procedures.allProcedures(a);\n    b(a[0], \"procedures_callnoreturn\");\n    b(a[1], \"procedures_callreturn\");\n    return c;\n  };\n\n  Blockly.Procedures.updateMutatorFlyout_ = function (a) {\n    for (var b = [], c = a.getBlocksByType(\"procedures_mutatorarg\", !1), d = 0, e; e = c[d]; d++) {\n      b.push(e.getFieldValue(\"NAME\"));\n    }\n\n    c = Blockly.utils.xml.createElement(\"xml\");\n    d = Blockly.utils.xml.createElement(\"block\");\n    d.setAttribute(\"type\", \"procedures_mutatorarg\");\n    e = Blockly.utils.xml.createElement(\"field\");\n    e.setAttribute(\"name\", \"NAME\");\n    b = Blockly.Variables.generateUniqueNameFromOptions(Blockly.Procedures.DEFAULT_ARG, b);\n    b = Blockly.utils.xml.createTextNode(b);\n    e.appendChild(b);\n    d.appendChild(e);\n    c.appendChild(d);\n    a.updateToolbox(c);\n  };\n\n  Blockly.Procedures.mutatorOpenListener = function (a) {\n    if (a.type == Blockly.Events.BUBBLE_OPEN && \"mutator\" === a.bubbleType && a.isOpen) {\n      a = Blockly.Workspace.getById(a.workspaceId).getBlockById(a.blockId);\n      var b = a.type;\n      if (\"procedures_defnoreturn\" == b || \"procedures_defreturn\" == b) a = a.mutator.getWorkspace(), Blockly.Procedures.updateMutatorFlyout_(a), a.addChangeListener(Blockly.Procedures.mutatorChangeListener_);\n    }\n  };\n\n  Blockly.Procedures.mutatorChangeListener_ = function (a) {\n    if (a.type == Blockly.Events.BLOCK_CREATE || a.type == Blockly.Events.BLOCK_DELETE || a.type == Blockly.Events.BLOCK_CHANGE) a = Blockly.Workspace.getById(a.workspaceId), Blockly.Procedures.updateMutatorFlyout_(a);\n  };\n\n  Blockly.Procedures.getCallers = function (a, b) {\n    var c = [];\n    b = b.getAllBlocks(!1);\n\n    for (var d = 0; d < b.length; d++) {\n      if (b[d].getProcedureCall) {\n        var e = b[d].getProcedureCall();\n        e && Blockly.Names.equals(e, a) && c.push(b[d]);\n      }\n    }\n\n    return c;\n  };\n\n  Blockly.Procedures.mutateCallers = function (a) {\n    var b = Blockly.Events.recordUndo,\n        c = a.getProcedureDef()[0],\n        d = a.mutationToDom(!0);\n    a = Blockly.Procedures.getCallers(c, a.workspace);\n    c = 0;\n\n    for (var e; e = a[c]; c++) {\n      var f = e.mutationToDom();\n      f = f && Blockly.Xml.domToText(f);\n      e.domToMutation(d);\n      var g = e.mutationToDom();\n      g = g && Blockly.Xml.domToText(g);\n      f != g && (Blockly.Events.recordUndo = !1, Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(e, \"mutation\", null, f, g)), Blockly.Events.recordUndo = b);\n    }\n  };\n\n  Blockly.Procedures.getDefinition = function (a, b) {\n    b = b.getTopBlocks(!1);\n\n    for (var c = 0; c < b.length; c++) {\n      if (b[c].getProcedureDef) {\n        var d = b[c].getProcedureDef();\n        if (d && Blockly.Names.equals(d[0], a)) return b[c];\n      }\n    }\n\n    return null;\n  };\n\n  Blockly.ShortcutRegistry = function () {\n    Blockly.ShortcutRegistry.registry = this;\n    this.registry_ = Object.create(null);\n    this.keyMap_ = Object.create(null);\n  };\n\n  Blockly.ShortcutRegistry.modifierKeys = {\n    Shift: Blockly.utils.KeyCodes.SHIFT,\n    Control: Blockly.utils.KeyCodes.CTRL,\n    Alt: Blockly.utils.KeyCodes.ALT,\n    Meta: Blockly.utils.KeyCodes.META\n  };\n\n  Blockly.ShortcutRegistry.prototype.register = function (a, b) {\n    if (this.registry_[a.name] && !b) throw Error('Shortcut with name \"' + a.name + '\" already exists.');\n    this.registry_[a.name] = a;\n  };\n\n  Blockly.ShortcutRegistry.prototype.unregister = function (a) {\n    if (!this.registry_[a]) return console.warn('Keyboard shortcut with name \"' + a + '\" not found.'), !1;\n    this.removeAllKeyMappings(a);\n    delete this.registry_[a];\n    return !0;\n  };\n\n  Blockly.ShortcutRegistry.prototype.addKeyMapping = function (a, b, c) {\n    a = String(a);\n    var d = this.keyMap_[a];\n    if (d && !c) throw Error('Shortcut with name \"' + b + '\" collides with shortcuts ' + d.toString());\n    d && c ? d.unshift(b) : this.keyMap_[a] = [b];\n  };\n\n  Blockly.ShortcutRegistry.prototype.removeKeyMapping = function (a, b, c) {\n    var d = this.keyMap_[a];\n    if (!d && !c) return console.warn('No keyboard shortcut with name \"' + b + '\" registered with key code \"' + a + '\"'), !1;\n    var e = d.indexOf(b);\n    if (-1 < e) return d.splice(e, 1), 0 == d.length && delete this.keyMap_[a], !0;\n    c || console.warn('No keyboard shortcut with name \"' + b + '\" registered with key code \"' + a + '\"');\n    return !1;\n  };\n\n  Blockly.ShortcutRegistry.prototype.removeAllKeyMappings = function (a) {\n    for (var b in this.keyMap_) {\n      this.removeKeyMapping(b, a, !0);\n    }\n  };\n\n  Blockly.ShortcutRegistry.prototype.setKeyMap = function (a) {\n    this.keyMap_ = a;\n  };\n\n  Blockly.ShortcutRegistry.prototype.getKeyMap = function () {\n    return Blockly.utils.object.deepMerge(Object.create(null), this.keyMap_);\n  };\n\n  Blockly.ShortcutRegistry.prototype.getRegistry = function () {\n    return Blockly.utils.object.deepMerge(Object.create(null), this.registry_);\n  };\n\n  Blockly.ShortcutRegistry.prototype.onKeyDown = function (a, b) {\n    var c = this.serializeKeyEvent_(b);\n    c = this.getShortcutNamesByKeyCode(c);\n    if (!c) return !1;\n\n    for (var d = 0, e; e = c[d]; d++) {\n      if (e = this.registry_[e], (!e.preconditionFn || e.preconditionFn(a)) && e.callback && e.callback(a, b, e)) return !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.ShortcutRegistry.prototype.getShortcutNamesByKeyCode = function (a) {\n    return this.keyMap_[a] || [];\n  };\n\n  Blockly.ShortcutRegistry.prototype.getKeyCodesByShortcutName = function (a) {\n    var b = [],\n        c;\n\n    for (c in this.keyMap_) {\n      -1 < this.keyMap_[c].indexOf(a) && b.push(c);\n    }\n\n    return b;\n  };\n\n  Blockly.ShortcutRegistry.prototype.serializeKeyEvent_ = function (a) {\n    var b = \"\",\n        c;\n\n    for (c in Blockly.ShortcutRegistry.modifierKeys) {\n      a.getModifierState(c) && (\"\" != b && (b += \"+\"), b += c);\n    }\n\n    \"\" != b && a.keyCode ? b = b + \"+\" + a.keyCode : a.keyCode && (b = a.keyCode.toString());\n    return b;\n  };\n\n  Blockly.ShortcutRegistry.prototype.checkModifiers_ = function (a) {\n    for (var b = Blockly.utils.object.values(Blockly.ShortcutRegistry.modifierKeys), c = 0, d; d = a[c]; c++) {\n      if (0 > b.indexOf(d)) throw Error(d + \" is not a valid modifier key.\");\n    }\n  };\n\n  Blockly.ShortcutRegistry.prototype.createSerializedKey = function (a, b) {\n    var c = \"\";\n\n    if (b) {\n      this.checkModifiers_(b);\n\n      for (var d in Blockly.ShortcutRegistry.modifierKeys) {\n        -1 < b.indexOf(Blockly.ShortcutRegistry.modifierKeys[d]) && (\"\" != c && (c += \"+\"), c += d);\n      }\n    }\n\n    \"\" != c && a ? c = c + \"+\" + a : a && (c = a.toString());\n    return c;\n  };\n\n  new Blockly.ShortcutRegistry();\n\n  Blockly.VariableModel = function (a, b, c, d) {\n    this.workspace = a;\n    this.name = b;\n    this.type = c || \"\";\n    this.id_ = d || Blockly.utils.genUid();\n    Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.VAR_CREATE))(this));\n  };\n\n  Blockly.VariableModel.prototype.getId = function () {\n    return this.id_;\n  };\n\n  Blockly.VariableModel.compareByName = function (a, b) {\n    a = a.name.toLowerCase();\n    b = b.name.toLowerCase();\n    return a < b ? -1 : a == b ? 0 : 1;\n  };\n\n  Blockly.Variables = {};\n  Blockly.Variables.NAME_TYPE = Blockly.VARIABLE_CATEGORY_NAME;\n\n  Blockly.Variables.allUsedVarModels = function (a) {\n    var b = a.getAllBlocks(!1);\n    a = Object.create(null);\n\n    for (var c = 0; c < b.length; c++) {\n      var d = b[c].getVarModels();\n      if (d) for (var e = 0; e < d.length; e++) {\n        var f = d[e],\n            g = f.getId();\n        g && (a[g] = f);\n      }\n    }\n\n    b = [];\n\n    for (g in a) {\n      b.push(a[g]);\n    }\n\n    return b;\n  };\n\n  Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_ = {};\n\n  Blockly.Variables.allDeveloperVariables = function (a) {\n    a = a.getAllBlocks(!1);\n\n    for (var b = Object.create(null), c = 0, d; d = a[c]; c++) {\n      var e = d.getDeveloperVariables;\n      !e && d.getDeveloperVars && (e = d.getDeveloperVars, Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type] || (console.warn(\"Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '\" + d.type + \"')\"), Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type] = !0));\n      if (e) for (d = e(), e = 0; e < d.length; e++) {\n        b[d[e]] = !0;\n      }\n    }\n\n    return Object.keys(b);\n  };\n\n  Blockly.Variables.flyoutCategory = function (a) {\n    var b = [],\n        c = document.createElement(\"button\");\n    c.setAttribute(\"text\", \"%{BKY_NEW_VARIABLE}\");\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE\");\n    a.registerButtonCallback(\"CREATE_VARIABLE\", function (d) {\n      Blockly.Variables.createVariableButtonHandler(d.getTargetWorkspace());\n    });\n    b.push(c);\n    a = Blockly.Variables.flyoutCategoryBlocks(a);\n    return b = b.concat(a);\n  };\n\n  Blockly.Variables.flyoutCategoryBlocks = function (a) {\n    a = a.getVariablesOfType(\"\");\n    var b = [];\n\n    if (0 < a.length) {\n      var c = a[a.length - 1];\n\n      if (Blockly.Blocks.variables_set) {\n        var d = Blockly.utils.xml.createElement(\"block\");\n        d.setAttribute(\"type\", \"variables_set\");\n        d.setAttribute(\"gap\", Blockly.Blocks.math_change ? 8 : 24);\n        d.appendChild(Blockly.Variables.generateVariableFieldDom(c));\n        b.push(d);\n      }\n\n      Blockly.Blocks.math_change && (d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"math_change\"), d.setAttribute(\"gap\", Blockly.Blocks.variables_get ? 20 : 8), d.appendChild(Blockly.Variables.generateVariableFieldDom(c)), c = Blockly.Xml.textToDom('<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value>'), d.appendChild(c), b.push(d));\n\n      if (Blockly.Blocks.variables_get) {\n        a.sort(Blockly.VariableModel.compareByName);\n        c = 0;\n\n        for (var e; e = a[c]; c++) {\n          d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"variables_get\"), d.setAttribute(\"gap\", 8), d.appendChild(Blockly.Variables.generateVariableFieldDom(e)), b.push(d);\n        }\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.Variables.VAR_LETTER_OPTIONS = \"ijkmnopqrstuvwxyzabcdefgh\";\n\n  Blockly.Variables.generateUniqueName = function (a) {\n    return Blockly.Variables.generateUniqueNameFromOptions(Blockly.Variables.VAR_LETTER_OPTIONS.charAt(0), a.getAllVariableNames());\n  };\n\n  Blockly.Variables.generateUniqueNameFromOptions = function (a, b) {\n    if (!b.length) return a;\n\n    for (var c = Blockly.Variables.VAR_LETTER_OPTIONS, d = \"\", e = c.indexOf(a);;) {\n      for (var f = !1, g = 0; g < b.length; g++) {\n        if (b[g].toLowerCase() == a) {\n          f = !0;\n          break;\n        }\n      }\n\n      if (!f) return a;\n      e++;\n      e == c.length && (e = 0, d = Number(d) + 1);\n      a = c.charAt(e) + d;\n    }\n  };\n\n  Blockly.Variables.createVariableButtonHandler = function (a, b, c) {\n    var d = c || \"\",\n        e = function e(f) {\n      Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE, f, function (g) {\n        if (g) {\n          var h = Blockly.Variables.nameUsedWithAnyType(g, a);\n\n          if (h) {\n            if (h.type == d) var k = Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace(\"%1\", h.name);else k = Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE, k = k.replace(\"%1\", h.name).replace(\"%2\", h.type);\n            Blockly.alert(k, function () {\n              e(g);\n            });\n          } else a.createVariable(g, d), b && b(g);\n        } else b && b(null);\n      });\n    };\n\n    e(\"\");\n  };\n\n  Blockly.Variables.createVariable = Blockly.Variables.createVariableButtonHandler;\n\n  Blockly.Variables.renameVariable = function (a, b, c) {\n    var d = function d(e) {\n      var f = Blockly.Msg.RENAME_VARIABLE_TITLE.replace(\"%1\", b.name);\n      Blockly.Variables.promptName(f, e, function (g) {\n        if (g) {\n          var h = Blockly.Variables.nameUsedWithOtherType_(g, b.type, a);\n          h ? (h = Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace(\"%1\", h.name).replace(\"%2\", h.type), Blockly.alert(h, function () {\n            d(g);\n          })) : (a.renameVariableById(b.getId(), g), c && c(g));\n        } else c && c(null);\n      });\n    };\n\n    d(\"\");\n  };\n\n  Blockly.Variables.promptName = function (a, b, c) {\n    Blockly.prompt(a, b, function (d) {\n      d && (d = d.replace(/[\\s\\xa0]+/g, \" \").trim(), d == Blockly.Msg.RENAME_VARIABLE || d == Blockly.Msg.NEW_VARIABLE) && (d = null);\n      c(d);\n    });\n  };\n\n  Blockly.Variables.nameUsedWithOtherType_ = function (a, b, c) {\n    c = c.getVariableMap().getAllVariables();\n    a = a.toLowerCase();\n\n    for (var d = 0, e; e = c[d]; d++) {\n      if (e.name.toLowerCase() == a && e.type != b) return e;\n    }\n\n    return null;\n  };\n\n  Blockly.Variables.nameUsedWithAnyType = function (a, b) {\n    b = b.getVariableMap().getAllVariables();\n    a = a.toLowerCase();\n\n    for (var c = 0, d; d = b[c]; c++) {\n      if (d.name.toLowerCase() == a) return d;\n    }\n\n    return null;\n  };\n\n  Blockly.Variables.generateVariableFieldDom = function (a) {\n    var b = Blockly.utils.xml.createElement(\"field\");\n    b.setAttribute(\"name\", \"VAR\");\n    b.setAttribute(\"id\", a.getId());\n    b.setAttribute(\"variabletype\", a.type);\n    a = Blockly.utils.xml.createTextNode(a.name);\n    b.appendChild(a);\n    return b;\n  };\n\n  Blockly.Variables.getOrCreateVariablePackage = function (a, b, c, d) {\n    var e = Blockly.Variables.getVariable(a, b, c, d);\n    e || (e = Blockly.Variables.createVariable_(a, b, c, d));\n    return e;\n  };\n\n  Blockly.Variables.getVariable = function (a, b, c, d) {\n    var e = a.getPotentialVariableMap(),\n        f = null;\n    if (b && (f = a.getVariableById(b), !f && e && (f = e.getVariableById(b)), f)) return f;\n\n    if (c) {\n      if (void 0 == d) throw Error(\"Tried to look up a variable by name without a type\");\n      f = a.getVariable(c, d);\n      !f && e && (f = e.getVariable(c, d));\n    }\n\n    return f;\n  };\n\n  Blockly.Variables.createVariable_ = function (a, b, c, d) {\n    var e = a.getPotentialVariableMap();\n    c || (c = Blockly.Variables.generateUniqueName(a.isFlyout ? a.targetWorkspace : a));\n    return e ? e.createVariable(c, d, b) : a.createVariable(c, d, b);\n  };\n\n  Blockly.Variables.getAddedVariables = function (a, b) {\n    a = a.getAllVariables();\n    var c = [];\n    if (b.length != a.length) for (var d = 0; d < a.length; d++) {\n      var e = a[d];\n      -1 == b.indexOf(e) && c.push(e);\n    }\n    return c;\n  };\n\n  Blockly.VERSION = \"5.20210325.1\";\n  Blockly.mainWorkspace = null;\n  Blockly.selected = null;\n  Blockly.draggingConnections = [];\n  Blockly.clipboardXml_ = null;\n  Blockly.clipboardSource_ = null;\n  Blockly.clipboardTypeCounts_ = null;\n  Blockly.cache3dSupported_ = null;\n  Blockly.parentContainer = null;\n\n  Blockly.svgSize = function (a) {\n    Blockly.utils.deprecation.warn(\"Blockly.svgSize\", \"March 2021\", \"March 2022\", \"workspace.getCachedParentSvgSize\");\n    return new Blockly.utils.Size(a.cachedWidth_, a.cachedHeight_);\n  };\n\n  Blockly.resizeSvgContents = function (a) {\n    a.resizeContents();\n  };\n\n  Blockly.svgResize = function (a) {\n    for (; a.options.parentWorkspace;) {\n      a = a.options.parentWorkspace;\n    }\n\n    var b = a.getParentSvg(),\n        c = a.getCachedParentSvgSize(),\n        d = b.parentNode;\n\n    if (d) {\n      var e = d.offsetWidth;\n      d = d.offsetHeight;\n      c.width != e && (b.setAttribute(\"width\", e + \"px\"), a.setCachedParentSvgSize(e, null));\n      c.height != d && (b.setAttribute(\"height\", d + \"px\"), a.setCachedParentSvgSize(null, d));\n      a.resize();\n    }\n  };\n\n  Blockly.onKeyDown = function (a) {\n    var b = Blockly.mainWorkspace;\n    if (b && !(Blockly.utils.isTargetInput(a) || b.rendered && !b.isVisible())) Blockly.ShortcutRegistry.registry.onKeyDown(b, a);\n  };\n\n  Blockly.deleteBlock = function (a) {\n    a.workspace.isFlyout || (Blockly.Events.setGroup(!0), Blockly.hideChaff(), a.dispose(!0, !0), Blockly.Events.setGroup(!1));\n  };\n\n  Blockly.copy = function (a) {\n    if (a = a.toCopyData()) Blockly.clipboardXml_ = a.xml, Blockly.clipboardSource_ = a.source, Blockly.clipboardTypeCounts_ = a.typeCounts;\n  };\n\n  Blockly.paste = function () {\n    if (!Blockly.clipboardXml_) return !1;\n    var a = Blockly.clipboardSource_;\n    a.isFlyout && (a = a.targetWorkspace);\n    return Blockly.clipboardTypeCounts_ && a.isCapacityAvailable(Blockly.clipboardTypeCounts_) ? (Blockly.Events.setGroup(!0), a.paste(Blockly.clipboardXml_), Blockly.Events.setGroup(!1), !0) : !1;\n  };\n\n  Blockly.duplicate = function (a) {\n    var b = Blockly.clipboardXml_,\n        c = Blockly.clipboardSource_;\n    Blockly.copy(a);\n    a.workspace.paste(Blockly.clipboardXml_);\n    Blockly.clipboardXml_ = b;\n    Blockly.clipboardSource_ = c;\n  };\n\n  Blockly.onContextMenu_ = function (a) {\n    Blockly.utils.isTargetInput(a) || a.preventDefault();\n  };\n\n  Blockly.hideChaff = function (a) {\n    Blockly.Tooltip.hide();\n    Blockly.WidgetDiv.hide();\n    Blockly.DropDownDiv.hideWithoutAnimation();\n    a || (a = Blockly.getMainWorkspace(), a.trashcan && a.trashcan.flyout && a.trashcan.closeFlyout(), (a = a.getToolbox()) && a.getFlyout() && a.getFlyout().autoClose && a.clearSelection());\n  };\n\n  Blockly.getMainWorkspace = function () {\n    return Blockly.mainWorkspace;\n  };\n\n  Blockly.alert = function (a, b) {\n    alert(a);\n    b && b();\n  };\n\n  Blockly.confirm = function (a, b) {\n    b(confirm(a));\n  };\n\n  Blockly.prompt = function (a, b, c) {\n    c(prompt(a, b));\n  };\n\n  Blockly.jsonInitFactory_ = function (a) {\n    return function () {\n      this.jsonInit(a);\n    };\n  };\n\n  Blockly.defineBlocksWithJsonArray = function (a) {\n    for (var b = 0; b < a.length; b++) {\n      var c = a[b];\n\n      if (c) {\n        var d = c.type;\n        null == d || \"\" === d ? console.warn(\"Block definition #\" + b + \" in JSON array is missing a type attribute. Skipping.\") : (Blockly.Blocks[d] && console.warn(\"Block definition #\" + b + ' in JSON array overwrites prior definition of \"' + d + '\".'), Blockly.Blocks[d] = {\n          init: Blockly.jsonInitFactory_(c)\n        });\n      } else console.warn(\"Block definition #\" + b + \" in JSON array is \" + c + \". Skipping.\");\n    }\n  };\n\n  Blockly.isNumber = function (a) {\n    return /^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(a);\n  };\n\n  Blockly.hueToHex = function (a) {\n    return Blockly.utils.colour.hsvToHex(a, Blockly.HSV_SATURATION, 255 * Blockly.HSV_VALUE);\n  };\n\n  Blockly.checkBlockColourConstants = function () {\n    Blockly.checkBlockColourConstant_(\"LOGIC_HUE\", [\"Blocks\", \"logic\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"LOGIC_HUE\", [\"Constants\", \"Logic\", \"HUE\"], 210);\n    Blockly.checkBlockColourConstant_(\"LOOPS_HUE\", [\"Blocks\", \"loops\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"LOOPS_HUE\", [\"Constants\", \"Loops\", \"HUE\"], 120);\n    Blockly.checkBlockColourConstant_(\"MATH_HUE\", [\"Blocks\", \"math\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"MATH_HUE\", [\"Constants\", \"Math\", \"HUE\"], 230);\n    Blockly.checkBlockColourConstant_(\"TEXTS_HUE\", [\"Blocks\", \"texts\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"TEXTS_HUE\", [\"Constants\", \"Text\", \"HUE\"], 160);\n    Blockly.checkBlockColourConstant_(\"LISTS_HUE\", [\"Blocks\", \"lists\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"LISTS_HUE\", [\"Constants\", \"Lists\", \"HUE\"], 260);\n    Blockly.checkBlockColourConstant_(\"COLOUR_HUE\", [\"Blocks\", \"colour\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"COLOUR_HUE\", [\"Constants\", \"Colour\", \"HUE\"], 20);\n    Blockly.checkBlockColourConstant_(\"VARIABLES_HUE\", [\"Blocks\", \"variables\", \"HUE\"], void 0);\n    Blockly.checkBlockColourConstant_(\"VARIABLES_HUE\", [\"Constants\", \"Variables\", \"HUE\"], 330);\n    Blockly.checkBlockColourConstant_(\"VARIABLES_DYNAMIC_HUE\", [\"Constants\", \"VariablesDynamic\", \"HUE\"], 310);\n    Blockly.checkBlockColourConstant_(\"PROCEDURES_HUE\", [\"Blocks\", \"procedures\", \"HUE\"], void 0);\n  };\n\n  Blockly.checkBlockColourConstant_ = function (a, b, c) {\n    for (var d = \"Blockly\", e = Blockly, f = 0; f < b.length; ++f) {\n      d += \".\" + b[f], e && (e = e[b[f]]);\n    }\n\n    e && e !== c && (a = (void 0 === c ? '%1 has been removed. Use Blockly.Msg[\"%2\"].' : '%1 is deprecated and unused. Override Blockly.Msg[\"%2\"].').replace(\"%1\", d).replace(\"%2\", a), console.warn(a));\n  };\n\n  Blockly.setParentContainer = function (a) {\n    Blockly.parentContainer = a;\n  };\n\n  Blockly.bindEvent_ = Blockly.browserEvents.bind;\n  Blockly.unbindEvent_ = Blockly.browserEvents.unbind;\n  Blockly.bindEventWithChecks_ = Blockly.browserEvents.conditionalBind;\n  Blockly.ALIGN_LEFT = Blockly.constants.ALIGN.LEFT;\n  Blockly.ALIGN_CENTRE = Blockly.constants.ALIGN.CENTRE;\n  Blockly.ALIGN_RIGHT = Blockly.constants.ALIGN.RIGHT;\n  Blockly.INPUT_VALUE = Blockly.connectionTypes.INPUT_VALUE;\n  Blockly.OUTPUT_VALUE = Blockly.connectionTypes.OUTPUT_VALUE;\n  Blockly.NEXT_STATEMENT = Blockly.connectionTypes.NEXT_STATEMENT;\n  Blockly.PREVIOUS_STATEMENT = Blockly.connectionTypes.PREVIOUS_STATEMENT;\n  Blockly.DUMMY_INPUT = Blockly.inputTypes.DUMMY;\n  Blockly.TOOLBOX_AT_TOP = Blockly.utils.toolbox.Position.TOP;\n  Blockly.TOOLBOX_AT_BOTTOM = Blockly.utils.toolbox.Position.BOTTOM;\n  Blockly.TOOLBOX_AT_LEFT = Blockly.utils.toolbox.Position.LEFT;\n  Blockly.TOOLBOX_AT_RIGHT = Blockly.utils.toolbox.Position.RIGHT;\n\n  Blockly.Events.BubbleOpen = function (a, b, c) {\n    Blockly.Events.BubbleOpen.superClass_.constructor.call(this, a ? a.workspace.id : void 0);\n    this.blockId = a ? a.id : null;\n    this.isOpen = b;\n    this.bubbleType = c;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.BubbleOpen, Blockly.Events.UiBase);\n  Blockly.Events.BubbleOpen.prototype.type = Blockly.Events.BUBBLE_OPEN;\n\n  Blockly.Events.BubbleOpen.prototype.toJson = function () {\n    var a = Blockly.Events.BubbleOpen.superClass_.toJson.call(this);\n    a.isOpen = this.isOpen;\n    a.bubbleType = this.bubbleType;\n    a.blockId = this.blockId;\n    return a;\n  };\n\n  Blockly.Events.BubbleOpen.prototype.fromJson = function (a) {\n    Blockly.Events.BubbleOpen.superClass_.fromJson.call(this, a);\n    this.isOpen = a.isOpen;\n    this.bubbleType = a.bubbleType;\n    this.blockId = a.blockId;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.BUBBLE_OPEN, Blockly.Events.BubbleOpen);\n\n  Blockly.Icon = function (a) {\n    this.block_ = a;\n    this.iconGroup_ = null;\n  };\n\n  Blockly.Icon.prototype.collapseHidden = !0;\n  Blockly.Icon.prototype.SIZE = 17;\n  Blockly.Icon.prototype.bubble_ = null;\n  Blockly.Icon.prototype.iconXY_ = null;\n\n  Blockly.Icon.prototype.createIcon = function () {\n    this.iconGroup_ || (this.iconGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyIconGroup\"\n    }, null), this.block_.isInFlyout && Blockly.utils.dom.addClass(this.iconGroup_, \"blocklyIconGroupReadonly\"), this.drawIcon_(this.iconGroup_), this.block_.getSvgRoot().appendChild(this.iconGroup_), Blockly.browserEvents.conditionalBind(this.iconGroup_, \"mouseup\", this, this.iconClick_), this.updateEditable());\n  };\n\n  Blockly.Icon.prototype.dispose = function () {\n    Blockly.utils.dom.removeNode(this.iconGroup_);\n    this.iconGroup_ = null;\n    this.setVisible(!1);\n    this.block_ = null;\n  };\n\n  Blockly.Icon.prototype.updateEditable = function () {};\n\n  Blockly.Icon.prototype.isVisible = function () {\n    return !!this.bubble_;\n  };\n\n  Blockly.Icon.prototype.iconClick_ = function (a) {\n    this.block_.workspace.isDragging() || this.block_.isInFlyout || Blockly.utils.isRightButton(a) || this.setVisible(!this.isVisible());\n  };\n\n  Blockly.Icon.prototype.applyColour = function () {\n    this.isVisible() && this.bubble_.setColour(this.block_.style.colourPrimary);\n  };\n\n  Blockly.Icon.prototype.setIconLocation = function (a) {\n    this.iconXY_ = a;\n    this.isVisible() && this.bubble_.setAnchorLocation(a);\n  };\n\n  Blockly.Icon.prototype.computeIconLocation = function () {\n    var a = this.block_.getRelativeToSurfaceXY(),\n        b = Blockly.utils.getRelativeXY(this.iconGroup_);\n    a = new Blockly.utils.Coordinate(a.x + b.x + this.SIZE / 2, a.y + b.y + this.SIZE / 2);\n    Blockly.utils.Coordinate.equals(this.getIconLocation(), a) || this.setIconLocation(a);\n  };\n\n  Blockly.Icon.prototype.getIconLocation = function () {\n    return this.iconXY_;\n  };\n\n  Blockly.Icon.prototype.getCorrectedSize = function () {\n    return new Blockly.utils.Size(Blockly.Icon.prototype.SIZE, Blockly.Icon.prototype.SIZE - 2);\n  };\n\n  Blockly.Warning = function (a) {\n    Blockly.Warning.superClass_.constructor.call(this, a);\n    this.createIcon();\n    this.text_ = {};\n  };\n\n  Blockly.utils.object.inherits(Blockly.Warning, Blockly.Icon);\n  Blockly.Warning.prototype.collapseHidden = !1;\n\n  Blockly.Warning.prototype.drawIcon_ = function (a) {\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyIconShape\",\n      d: \"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyIconSymbol\",\n      d: \"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyIconSymbol\",\n      x: \"7\",\n      y: \"11\",\n      height: \"2\",\n      width: \"2\"\n    }, a);\n  };\n\n  Blockly.Warning.prototype.setVisible = function (a) {\n    a != this.isVisible() && (Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BUBBLE_OPEN))(this.block_, a, \"warning\")), a ? this.createBubble_() : this.disposeBubble_());\n  };\n\n  Blockly.Warning.prototype.createBubble_ = function () {\n    this.paragraphElement_ = Blockly.Bubble.textToDom(this.getText());\n    this.bubble_ = Blockly.Bubble.createNonEditableBubble(this.paragraphElement_, this.block_, this.iconXY_);\n    this.applyColour();\n  };\n\n  Blockly.Warning.prototype.disposeBubble_ = function () {\n    this.bubble_.dispose();\n    this.paragraphElement_ = this.bubble_ = null;\n  };\n\n  Blockly.Warning.prototype.setText = function (a, b) {\n    this.text_[b] != a && (a ? this.text_[b] = a : delete this.text_[b], this.isVisible() && (this.setVisible(!1), this.setVisible(!0)));\n  };\n\n  Blockly.Warning.prototype.getText = function () {\n    var a = [],\n        b;\n\n    for (b in this.text_) {\n      a.push(this.text_[b]);\n    }\n\n    return a.join(\"\\n\");\n  };\n\n  Blockly.Warning.prototype.dispose = function () {\n    this.block_.warning = null;\n    Blockly.Icon.prototype.dispose.call(this);\n  };\n\n  Blockly.Comment = function (a) {\n    Blockly.Comment.superClass_.constructor.call(this, a);\n    this.model_ = a.commentModel;\n    this.model_.text = this.model_.text || \"\";\n    this.cachedText_ = \"\";\n    this.onInputWrapper_ = this.onChangeWrapper_ = this.onWheelWrapper_ = this.onMouseUpWrapper_ = null;\n    this.createIcon();\n  };\n\n  Blockly.utils.object.inherits(Blockly.Comment, Blockly.Icon);\n\n  Blockly.Comment.prototype.drawIcon_ = function (a) {\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CIRCLE, {\n      \"class\": \"blocklyIconShape\",\n      r: \"8\",\n      cx: \"8\",\n      cy: \"8\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyIconSymbol\",\n      d: \"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyIconSymbol\",\n      x: \"6.8\",\n      y: \"10.78\",\n      height: \"2\",\n      width: \"2\"\n    }, a);\n  };\n\n  Blockly.Comment.prototype.createEditor_ = function () {\n    this.foreignObject_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FOREIGNOBJECT, {\n      x: Blockly.Bubble.BORDER_WIDTH,\n      y: Blockly.Bubble.BORDER_WIDTH\n    }, null);\n    var a = document.createElementNS(Blockly.utils.dom.HTML_NS, \"body\");\n    a.setAttribute(\"xmlns\", Blockly.utils.dom.HTML_NS);\n    a.className = \"blocklyMinimalBody\";\n    var b = this.textarea_ = document.createElementNS(Blockly.utils.dom.HTML_NS, \"textarea\");\n    b.className = \"blocklyCommentTextarea\";\n    b.setAttribute(\"dir\", this.block_.RTL ? \"RTL\" : \"LTR\");\n    b.value = this.model_.text;\n    this.resizeTextarea_();\n    a.appendChild(b);\n    this.foreignObject_.appendChild(a);\n    this.onMouseUpWrapper_ = Blockly.browserEvents.conditionalBind(b, \"mouseup\", this, this.startEdit_, !0, !0);\n    this.onWheelWrapper_ = Blockly.browserEvents.conditionalBind(b, \"wheel\", this, function (c) {\n      c.stopPropagation();\n    });\n    this.onChangeWrapper_ = Blockly.browserEvents.conditionalBind(b, \"change\", this, function (c) {\n      this.cachedText_ != this.model_.text && Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(this.block_, \"comment\", null, this.cachedText_, this.model_.text));\n    });\n    this.onInputWrapper_ = Blockly.browserEvents.conditionalBind(b, \"input\", this, function (c) {\n      this.model_.text = b.value;\n    });\n    setTimeout(b.focus.bind(b), 0);\n    return this.foreignObject_;\n  };\n\n  Blockly.Comment.prototype.updateEditable = function () {\n    Blockly.Comment.superClass_.updateEditable.call(this);\n    this.isVisible() && (this.disposeBubble_(), this.createBubble_());\n  };\n\n  Blockly.Comment.prototype.onBubbleResize_ = function () {\n    this.isVisible() && (this.model_.size = this.bubble_.getBubbleSize(), this.resizeTextarea_());\n  };\n\n  Blockly.Comment.prototype.resizeTextarea_ = function () {\n    var a = this.model_.size,\n        b = 2 * Blockly.Bubble.BORDER_WIDTH,\n        c = a.width - b;\n    a = a.height - b;\n    this.foreignObject_.setAttribute(\"width\", c);\n    this.foreignObject_.setAttribute(\"height\", a);\n    this.textarea_.style.width = c - 4 + \"px\";\n    this.textarea_.style.height = a - 4 + \"px\";\n  };\n\n  Blockly.Comment.prototype.setVisible = function (a) {\n    a != this.isVisible() && (Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BUBBLE_OPEN))(this.block_, a, \"comment\")), (this.model_.pinned = a) ? this.createBubble_() : this.disposeBubble_());\n  };\n\n  Blockly.Comment.prototype.createBubble_ = function () {\n    !this.block_.isEditable() || Blockly.utils.userAgent.IE ? this.createNonEditableBubble_() : this.createEditableBubble_();\n  };\n\n  Blockly.Comment.prototype.createEditableBubble_ = function () {\n    this.bubble_ = new Blockly.Bubble(this.block_.workspace, this.createEditor_(), this.block_.pathObject.svgPath, this.iconXY_, this.model_.size.width, this.model_.size.height);\n    this.bubble_.setSvgId(this.block_.id);\n    this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this));\n    this.applyColour();\n  };\n\n  Blockly.Comment.prototype.createNonEditableBubble_ = function () {\n    this.paragraphElement_ = Blockly.Bubble.textToDom(this.block_.getCommentText());\n    this.bubble_ = Blockly.Bubble.createNonEditableBubble(this.paragraphElement_, this.block_, this.iconXY_);\n    this.applyColour();\n  };\n\n  Blockly.Comment.prototype.disposeBubble_ = function () {\n    this.onMouseUpWrapper_ && (Blockly.browserEvents.unbind(this.onMouseUpWrapper_), this.onMouseUpWrapper_ = null);\n    this.onWheelWrapper_ && (Blockly.browserEvents.unbind(this.onWheelWrapper_), this.onWheelWrapper_ = null);\n    this.onChangeWrapper_ && (Blockly.browserEvents.unbind(this.onChangeWrapper_), this.onChangeWrapper_ = null);\n    this.onInputWrapper_ && (Blockly.browserEvents.unbind(this.onInputWrapper_), this.onInputWrapper_ = null);\n    this.bubble_.dispose();\n    this.paragraphElement_ = this.foreignObject_ = this.textarea_ = this.bubble_ = null;\n  };\n\n  Blockly.Comment.prototype.startEdit_ = function (a) {\n    this.bubble_.promote() && this.textarea_.focus();\n    this.cachedText_ = this.model_.text;\n  };\n\n  Blockly.Comment.prototype.getBubbleSize = function () {\n    return this.model_.size;\n  };\n\n  Blockly.Comment.prototype.setBubbleSize = function (a, b) {\n    this.bubble_ ? this.bubble_.setBubbleSize(a, b) : (this.model_.size.width = a, this.model_.size.height = b);\n  };\n\n  Blockly.Comment.prototype.updateText = function () {\n    this.textarea_ ? this.textarea_.value = this.model_.text : this.paragraphElement_ && (this.paragraphElement_.firstChild.textContent = this.model_.text);\n  };\n\n  Blockly.Comment.prototype.dispose = function () {\n    this.block_.comment = null;\n    Blockly.Icon.prototype.dispose.call(this);\n  };\n\n  Blockly.Css.register(\".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}\".split(\",\"));\n\n  Blockly.Flyout = function (a) {\n    a.setMetrics = this.setMetrics_.bind(this);\n    this.workspace_ = new Blockly.WorkspaceSvg(a);\n    this.workspace_.setMetricsManager(new Blockly.FlyoutMetricsManager(this.workspace_, this));\n    this.workspace_.isFlyout = !0;\n    this.workspace_.setVisible(this.isVisible_);\n    this.RTL = !!a.RTL;\n    this.horizontalLayout = !1;\n    this.toolboxPosition_ = a.toolboxPosition;\n    this.eventWrappers_ = [];\n    this.mats_ = [];\n    this.buttons_ = [];\n    this.listeners_ = [];\n    this.permanentlyDisabled_ = [];\n    this.tabWidth_ = this.workspace_.getRenderer().getConstants().TAB_WIDTH;\n    this.targetWorkspace = null;\n  };\n\n  Blockly.Flyout.prototype.autoClose = !0;\n  Blockly.Flyout.prototype.isVisible_ = !1;\n  Blockly.Flyout.prototype.containerVisible_ = !0;\n  Blockly.Flyout.prototype.CORNER_RADIUS = 8;\n  Blockly.Flyout.prototype.MARGIN = Blockly.Flyout.prototype.CORNER_RADIUS;\n  Blockly.Flyout.prototype.GAP_X = 3 * Blockly.Flyout.prototype.MARGIN;\n  Blockly.Flyout.prototype.GAP_Y = 3 * Blockly.Flyout.prototype.MARGIN;\n  Blockly.Flyout.prototype.SCROLLBAR_PADDING = 2;\n  Blockly.Flyout.prototype.width_ = 0;\n  Blockly.Flyout.prototype.height_ = 0;\n  Blockly.Flyout.prototype.dragAngleRange_ = 70;\n\n  Blockly.Flyout.prototype.createDom = function (a) {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(a, {\n      \"class\": \"blocklyFlyout\",\n      style: \"display: none\"\n    }, null);\n    this.svgBackground_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyFlyoutBackground\"\n    }, this.svgGroup_);\n    this.svgGroup_.appendChild(this.workspace_.createDom());\n    this.workspace_.getThemeManager().subscribe(this.svgBackground_, \"flyoutBackgroundColour\", \"fill\");\n    this.workspace_.getThemeManager().subscribe(this.svgBackground_, \"flyoutOpacity\", \"fill-opacity\");\n    return this.svgGroup_;\n  };\n\n  Blockly.Flyout.prototype.init = function (a) {\n    this.targetWorkspace = a;\n    this.workspace_.targetWorkspace = a;\n    this.workspace_.scrollbar = new Blockly.ScrollbarPair(this.workspace_, this.horizontalLayout, !this.horizontalLayout, \"blocklyFlyoutScrollbar\");\n    this.hide();\n    Array.prototype.push.apply(this.eventWrappers_, Blockly.browserEvents.conditionalBind(this.svgGroup_, \"wheel\", this, this.wheel_));\n    this.autoClose || (this.filterWrapper_ = this.filterForCapacity_.bind(this), this.targetWorkspace.addChangeListener(this.filterWrapper_));\n    Array.prototype.push.apply(this.eventWrappers_, Blockly.browserEvents.conditionalBind(this.svgBackground_, \"mousedown\", this, this.onMouseDown_));\n    this.workspace_.getGesture = this.targetWorkspace.getGesture.bind(this.targetWorkspace);\n    this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap());\n    this.workspace_.createPotentialVariableMap();\n  };\n\n  Blockly.Flyout.prototype.dispose = function () {\n    this.hide();\n    Blockly.browserEvents.unbind(this.eventWrappers_);\n    this.filterWrapper_ && (this.targetWorkspace.removeChangeListener(this.filterWrapper_), this.filterWrapper_ = null);\n    this.workspace_ && (this.workspace_.getThemeManager().unsubscribe(this.svgBackground_), this.workspace_.targetWorkspace = null, this.workspace_.dispose(), this.workspace_ = null);\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.targetWorkspace = this.svgBackground_ = null;\n  };\n\n  Blockly.Flyout.prototype.getWidth = function () {\n    return this.width_;\n  };\n\n  Blockly.Flyout.prototype.getHeight = function () {\n    return this.height_;\n  };\n\n  Blockly.Flyout.prototype.getFlyoutScale = function () {\n    return this.targetWorkspace.scale;\n  };\n\n  Blockly.Flyout.prototype.getWorkspace = function () {\n    return this.workspace_;\n  };\n\n  Blockly.Flyout.prototype.isVisible = function () {\n    return this.isVisible_;\n  };\n\n  Blockly.Flyout.prototype.setVisible = function (a) {\n    var b = a != this.isVisible();\n    this.isVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Flyout.prototype.setContainerVisible = function (a) {\n    var b = a != this.containerVisible_;\n    this.containerVisible_ = a;\n    b && this.updateDisplay_();\n  };\n\n  Blockly.Flyout.prototype.updateDisplay_ = function () {\n    var a = this.containerVisible_ ? this.isVisible() : !1;\n    this.svgGroup_.style.display = a ? \"block\" : \"none\";\n    this.workspace_.scrollbar.setContainerVisible(a);\n  };\n\n  Blockly.Flyout.prototype.positionAt_ = function (a, b, c, d) {\n    this.svgGroup_.setAttribute(\"width\", a);\n    this.svgGroup_.setAttribute(\"height\", b);\n    this.workspace_.setCachedParentSvgSize(a, b);\n    \"svg\" == this.svgGroup_.tagName ? Blockly.utils.dom.setCssTransform(this.svgGroup_, \"translate(\" + c + \"px,\" + d + \"px)\") : this.svgGroup_.setAttribute(\"transform\", \"translate(\" + c + \",\" + d + \")\");\n    if (a = this.workspace_.scrollbar) a.setOrigin(c, d), a.resize(), a.hScroll && a.hScroll.setPosition(a.hScroll.position.x, a.hScroll.position.y), a.vScroll && a.vScroll.setPosition(a.vScroll.position.x, a.vScroll.position.y);\n  };\n\n  Blockly.Flyout.prototype.hide = function () {\n    if (this.isVisible()) {\n      this.setVisible(!1);\n\n      for (var a = 0, b; b = this.listeners_[a]; a++) {\n        Blockly.browserEvents.unbind(b);\n      }\n\n      this.listeners_.length = 0;\n      this.reflowWrapper_ && (this.workspace_.removeChangeListener(this.reflowWrapper_), this.reflowWrapper_ = null);\n    }\n  };\n\n  Blockly.Flyout.prototype.show = function (a) {\n    this.workspace_.setResizesEnabled(!1);\n    this.hide();\n    this.clearOldBlocks_();\n    \"string\" == typeof a && (a = this.getDynamicCategoryContents_(a));\n    this.setVisible(!0);\n    a = Blockly.utils.toolbox.convertFlyoutDefToJsonArray(a);\n    a = this.createFlyoutInfo_(a);\n    this.layout_(a.contents, a.gaps);\n    this.listeners_.push(Blockly.browserEvents.conditionalBind(this.svgBackground_, \"mouseover\", this, function () {\n      for (var b = this.workspace_.getTopBlocks(!1), c = 0, d; d = b[c]; c++) {\n        d.removeSelect();\n      }\n    }));\n    this.horizontalLayout ? this.height_ = 0 : this.width_ = 0;\n    this.workspace_.setResizesEnabled(!0);\n    this.reflow();\n    this.filterForCapacity_();\n    this.position();\n    this.reflowWrapper_ = this.reflow.bind(this);\n    this.workspace_.addChangeListener(this.reflowWrapper_);\n  };\n\n  Blockly.Flyout.prototype.createFlyoutInfo_ = function (a) {\n    var b = [],\n        c = [];\n    this.permanentlyDisabled_.length = 0;\n\n    for (var d = this.horizontalLayout ? this.GAP_X : this.GAP_Y, e = 0, f; f = a[e]; e++) {\n      switch (f.custom && (f = this.getDynamicCategoryContents_(f.custom), f = Blockly.utils.toolbox.convertFlyoutDefToJsonArray(f), a.splice.apply(a, [e, 1].concat(f)), f = a[e]), f.kind.toUpperCase()) {\n        case \"BLOCK\":\n          var g = f,\n              h = this.getBlockXml_(g);\n          f = this.createBlock_(h);\n          g = parseInt(g.gap || h.getAttribute(\"gap\"), 10);\n          c.push(isNaN(g) ? d : g);\n          b.push({\n            type: \"block\",\n            block: f\n          });\n          break;\n\n        case \"SEP\":\n          this.addSeparatorGap_(f, c, d);\n          break;\n\n        case \"LABEL\":\n          f = this.createButton_(f, !0);\n          b.push({\n            type: \"button\",\n            button: f\n          });\n          c.push(d);\n          break;\n\n        case \"BUTTON\":\n          f = this.createButton_(f, !1), b.push({\n            type: \"button\",\n            button: f\n          }), c.push(d);\n      }\n    }\n\n    return {\n      contents: b,\n      gaps: c\n    };\n  };\n\n  Blockly.Flyout.prototype.getDynamicCategoryContents_ = function (a) {\n    a = this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);\n    if (\"function\" != typeof a) throw TypeError(\"Couldn't find a callback function when opening a toolbox category.\");\n    a = a(this.workspace_.targetWorkspace);\n    if (!Array.isArray(a)) throw new TypeError(\"Result of toolbox category callback must be an array.\");\n    return a;\n  };\n\n  Blockly.Flyout.prototype.createButton_ = function (a, b) {\n    if (!Blockly.FlyoutButton) throw Error(\"Missing require for Blockly.FlyoutButton\");\n    return new Blockly.FlyoutButton(this.workspace_, this.targetWorkspace, a, b);\n  };\n\n  Blockly.Flyout.prototype.createBlock_ = function (a) {\n    a = Blockly.Xml.domToBlock(a, this.workspace_);\n    a.isEnabled() || this.permanentlyDisabled_.push(a);\n    return a;\n  };\n\n  Blockly.Flyout.prototype.getBlockXml_ = function (a) {\n    var b = null,\n        c = a.blockxml;\n    c && \"string\" != typeof c ? b = c : c && \"string\" == typeof c ? (b = Blockly.Xml.textToDom(c), a.blockxml = b) : a.type && (b = Blockly.utils.xml.createElement(\"xml\"), b.setAttribute(\"type\", a.type), b.setAttribute(\"disabled\", a.disabled), a.blockxml = b);\n    if (!b) throw Error(\"Error: Invalid block definition. Block definition must have blockxml or type.\");\n    return b;\n  };\n\n  Blockly.Flyout.prototype.addSeparatorGap_ = function (a, b, c) {\n    a = parseInt(a.gap, 10);\n    !isNaN(a) && 0 < b.length ? b[b.length - 1] = a : b.push(c);\n  };\n\n  Blockly.Flyout.prototype.clearOldBlocks_ = function () {\n    for (var a = this.workspace_.getTopBlocks(!1), b = 0, c; c = a[b]; b++) {\n      c.workspace == this.workspace_ && c.dispose(!1, !1);\n    }\n\n    for (b = 0; b < this.mats_.length; b++) {\n      if (a = this.mats_[b]) Blockly.Tooltip.unbindMouseEvents(a), Blockly.utils.dom.removeNode(a);\n    }\n\n    for (b = this.mats_.length = 0; a = this.buttons_[b]; b++) {\n      a.dispose();\n    }\n\n    this.buttons_.length = 0;\n    this.workspace_.getPotentialVariableMap().clear();\n  };\n\n  Blockly.Flyout.prototype.addBlockListeners_ = function (a, b, c) {\n    this.listeners_.push(Blockly.browserEvents.conditionalBind(a, \"mousedown\", null, this.blockMouseDown_(b)));\n    this.listeners_.push(Blockly.browserEvents.conditionalBind(c, \"mousedown\", null, this.blockMouseDown_(b)));\n    this.listeners_.push(Blockly.browserEvents.bind(a, \"mouseenter\", b, b.addSelect));\n    this.listeners_.push(Blockly.browserEvents.bind(a, \"mouseleave\", b, b.removeSelect));\n    this.listeners_.push(Blockly.browserEvents.bind(c, \"mouseenter\", b, b.addSelect));\n    this.listeners_.push(Blockly.browserEvents.bind(c, \"mouseleave\", b, b.removeSelect));\n  };\n\n  Blockly.Flyout.prototype.blockMouseDown_ = function (a) {\n    var b = this;\n    return function (c) {\n      var d = b.targetWorkspace.getGesture(c);\n      d && (d.setStartBlock(a), d.handleFlyoutStart(c, b));\n    };\n  };\n\n  Blockly.Flyout.prototype.onMouseDown_ = function (a) {\n    var b = this.targetWorkspace.getGesture(a);\n    b && b.handleFlyoutStart(a, this);\n  };\n\n  Blockly.Flyout.prototype.isBlockCreatable_ = function (a) {\n    return a.isEnabled();\n  };\n\n  Blockly.Flyout.prototype.createBlock = function (a) {\n    var b = null;\n    Blockly.Events.disable();\n    var c = this.targetWorkspace.getAllVariables();\n    this.targetWorkspace.setResizesEnabled(!1);\n\n    try {\n      b = this.placeNewBlock_(a);\n    } finally {\n      Blockly.Events.enable();\n    }\n\n    Blockly.hideChaff();\n    a = Blockly.Variables.getAddedVariables(this.targetWorkspace, c);\n\n    if (Blockly.Events.isEnabled()) {\n      Blockly.Events.setGroup(!0);\n\n      for (c = 0; c < a.length; c++) {\n        var d = a[c];\n        Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.VAR_CREATE))(d));\n      }\n\n      Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CREATE))(b));\n    }\n\n    this.autoClose ? this.hide() : this.filterForCapacity_();\n    return b;\n  };\n\n  Blockly.Flyout.prototype.initFlyoutButton_ = function (a, b, c) {\n    var d = a.createDom();\n    a.moveTo(b, c);\n    a.show();\n    this.listeners_.push(Blockly.browserEvents.conditionalBind(d, \"mousedown\", this, this.onMouseDown_));\n    this.buttons_.push(a);\n  };\n\n  Blockly.Flyout.prototype.createRect_ = function (a, b, c, d, e) {\n    b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"fill-opacity\": 0,\n      x: b,\n      y: c,\n      height: d.height,\n      width: d.width\n    }, null);\n    b.tooltip = a;\n    Blockly.Tooltip.bindMouseEvents(b);\n    this.workspace_.getCanvas().insertBefore(b, a.getSvgRoot());\n    a.flyoutRect_ = b;\n    return this.mats_[e] = b;\n  };\n\n  Blockly.Flyout.prototype.moveRectToBlock_ = function (a, b) {\n    var c = b.getHeightWidth();\n    a.setAttribute(\"width\", c.width);\n    a.setAttribute(\"height\", c.height);\n    b = b.getRelativeToSurfaceXY();\n    a.setAttribute(\"y\", b.y);\n    a.setAttribute(\"x\", this.RTL ? b.x - c.width : b.x);\n  };\n\n  Blockly.Flyout.prototype.filterForCapacity_ = function () {\n    for (var a = this.workspace_.getTopBlocks(!1), b = 0, c; c = a[b]; b++) {\n      if (-1 == this.permanentlyDisabled_.indexOf(c)) for (var d = this.targetWorkspace.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(c)); c;) {\n        c.setEnabled(d), c = c.getNextBlock();\n      }\n    }\n  };\n\n  Blockly.Flyout.prototype.reflow = function () {\n    this.reflowWrapper_ && this.workspace_.removeChangeListener(this.reflowWrapper_);\n    this.reflowInternal_();\n    this.reflowWrapper_ && this.workspace_.addChangeListener(this.reflowWrapper_);\n  };\n\n  Blockly.Flyout.prototype.isScrollable = function () {\n    return this.workspace_.scrollbar ? this.workspace_.scrollbar.isVisible() : !1;\n  };\n\n  Blockly.Flyout.prototype.placeNewBlock_ = function (a) {\n    var b = this.targetWorkspace;\n    if (!a.getSvgRoot()) throw Error(\"oldBlock is not rendered.\");\n    var c = Blockly.Xml.blockToDom(a, !0);\n    b.setResizesEnabled(!1);\n    c = Blockly.Xml.domToBlock(c, b);\n    if (!c.getSvgRoot()) throw Error(\"block is not rendered.\");\n    var d = b.getOriginOffsetInPixels(),\n        e = this.workspace_.getOriginOffsetInPixels();\n    a = a.getRelativeToSurfaceXY();\n    a.scale(this.workspace_.scale);\n    a = Blockly.utils.Coordinate.sum(e, a);\n    d = Blockly.utils.Coordinate.difference(a, d);\n    d.scale(1 / b.scale);\n    c.moveBy(d.x, d.y);\n    return c;\n  };\n\n  Blockly.HorizontalFlyout = function (a) {\n    Blockly.HorizontalFlyout.superClass_.constructor.call(this, a);\n    this.horizontalLayout = !0;\n  };\n\n  Blockly.utils.object.inherits(Blockly.HorizontalFlyout, Blockly.Flyout);\n\n  Blockly.HorizontalFlyout.prototype.setMetrics_ = function (a) {\n    if (this.isVisible()) {\n      var b = this.workspace_.getMetricsManager(),\n          c = b.getScrollMetrics(),\n          d = b.getViewMetrics();\n      b = b.getAbsoluteMetrics();\n      \"number\" == typeof a.x && (this.workspace_.scrollX = -(c.left + (c.width - d.width) * a.x));\n      this.workspace_.translate(this.workspace_.scrollX + b.left, this.workspace_.scrollY + b.top);\n    }\n  };\n\n  Blockly.HorizontalFlyout.prototype.getX = function () {\n    return 0;\n  };\n\n  Blockly.HorizontalFlyout.prototype.getY = function () {\n    if (!this.isVisible()) return 0;\n    var a = this.targetWorkspace.getMetricsManager(),\n        b = a.getAbsoluteMetrics(),\n        c = a.getViewMetrics();\n    a = a.getToolboxMetrics();\n    var d = this.toolboxPosition_ == Blockly.utils.toolbox.Position.TOP;\n    return this.targetWorkspace.toolboxPosition == this.toolboxPosition_ ? this.targetWorkspace.getToolbox() ? d ? a.height : c.height - this.height_ : d ? 0 : c.height : d ? 0 : c.height + b.top - this.height_;\n  };\n\n  Blockly.HorizontalFlyout.prototype.position = function () {\n    if (this.isVisible() && this.targetWorkspace.isVisible()) {\n      var a = this.targetWorkspace.getMetricsManager().getViewMetrics();\n      this.width_ = a.width;\n      this.setBackgroundPath_(a.width - 2 * this.CORNER_RADIUS, this.height_ - this.CORNER_RADIUS);\n      a = this.getX();\n      var b = this.getY();\n      this.positionAt_(this.width_, this.height_, a, b);\n    }\n  };\n\n  Blockly.HorizontalFlyout.prototype.setBackgroundPath_ = function (a, b) {\n    var c = this.toolboxPosition_ == Blockly.utils.toolbox.Position.TOP,\n        d = [\"M 0,\" + (c ? 0 : this.CORNER_RADIUS)];\n    c ? (d.push(\"h\", a + 2 * this.CORNER_RADIUS), d.push(\"v\", b), d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, -this.CORNER_RADIUS, this.CORNER_RADIUS), d.push(\"h\", -a), d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, -this.CORNER_RADIUS, -this.CORNER_RADIUS)) : (d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, this.CORNER_RADIUS, -this.CORNER_RADIUS), d.push(\"h\", a), d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, 1, this.CORNER_RADIUS, this.CORNER_RADIUS), d.push(\"v\", b), d.push(\"h\", -a - 2 * this.CORNER_RADIUS));\n    d.push(\"z\");\n    this.svgBackground_.setAttribute(\"d\", d.join(\" \"));\n  };\n\n  Blockly.HorizontalFlyout.prototype.scrollToStart = function () {\n    this.workspace_.scrollbar.setX(this.RTL ? Infinity : 0);\n  };\n\n  Blockly.HorizontalFlyout.prototype.wheel_ = function (a) {\n    var b = Blockly.utils.getScrollDeltaPixels(a);\n\n    if (b = b.x || b.y) {\n      var c = this.workspace_.getMetricsManager(),\n          d = c.getScrollMetrics();\n      b = c.getViewMetrics().left - d.left + b;\n      this.workspace_.scrollbar.setX(b);\n      Blockly.WidgetDiv.hide();\n      Blockly.DropDownDiv.hideWithoutAnimation();\n    }\n\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.HorizontalFlyout.prototype.layout_ = function (a, b) {\n    this.workspace_.scale = this.targetWorkspace.scale;\n    var c = this.MARGIN,\n        d = c + this.tabWidth_;\n    this.RTL && (a = a.reverse());\n\n    for (var e = 0, f; f = a[e]; e++) {\n      if (\"block\" == f.type) {\n        f = f.block;\n\n        for (var g = f.getDescendants(!1), h = 0, k; k = g[h]; h++) {\n          k.isInFlyout = !0;\n        }\n\n        f.render();\n        g = f.getSvgRoot();\n        h = f.getHeightWidth();\n        k = f.outputConnection ? this.tabWidth_ : 0;\n        k = this.RTL ? d + h.width : d - k;\n        f.moveBy(k, c);\n        k = this.createRect_(f, k, c, h, e);\n        d += h.width + b[e];\n        this.addBlockListeners_(g, f, k);\n      } else \"button\" == f.type && (this.initFlyoutButton_(f.button, d, c), d += f.button.width + b[e]);\n    }\n  };\n\n  Blockly.HorizontalFlyout.prototype.isDragTowardWorkspace = function (a) {\n    a = Math.atan2(a.y, a.x) / Math.PI * 180;\n    var b = this.dragAngleRange_;\n    return a < 90 + b && a > 90 - b || a > -90 - b && a < -90 + b ? !0 : !1;\n  };\n\n  Blockly.HorizontalFlyout.prototype.getClientRect = function () {\n    if (!this.svgGroup_) return null;\n    var a = this.svgGroup_.getBoundingClientRect(),\n        b = a.top;\n    return this.toolboxPosition_ == Blockly.utils.toolbox.Position.TOP ? new Blockly.utils.Rect(-1E9, b + a.height, -1E9, 1E9) : new Blockly.utils.Rect(b, 1E9, -1E9, 1E9);\n  };\n\n  Blockly.HorizontalFlyout.prototype.reflowInternal_ = function () {\n    this.workspace_.scale = this.getFlyoutScale();\n\n    for (var a = 0, b = this.workspace_.getTopBlocks(!1), c = 0, d; d = b[c]; c++) {\n      a = Math.max(a, d.getHeightWidth().height);\n    }\n\n    a += 1.5 * this.MARGIN;\n    a *= this.workspace_.scale;\n    a += Blockly.Scrollbar.scrollbarThickness;\n\n    if (this.height_ != a) {\n      for (c = 0; d = b[c]; c++) {\n        d.flyoutRect_ && this.moveRectToBlock_(d.flyoutRect_, d);\n      }\n\n      this.targetWorkspace.toolboxPosition != this.toolboxPosition_ || this.toolboxPosition_ != Blockly.utils.toolbox.Position.TOP || this.targetWorkspace.getToolbox() || this.targetWorkspace.translate(this.targetWorkspace.scrollX, this.targetWorkspace.scrollY + a);\n      this.height_ = a;\n      this.position();\n    }\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX, Blockly.registry.DEFAULT, Blockly.HorizontalFlyout);\n\n  Blockly.VerticalFlyout = function (a) {\n    Blockly.VerticalFlyout.superClass_.constructor.call(this, a);\n  };\n\n  Blockly.utils.object.inherits(Blockly.VerticalFlyout, Blockly.Flyout);\n  Blockly.VerticalFlyout.registryName = \"verticalFlyout\";\n\n  Blockly.VerticalFlyout.prototype.setMetrics_ = function (a) {\n    if (this.isVisible()) {\n      var b = this.workspace_.getMetricsManager(),\n          c = b.getScrollMetrics(),\n          d = b.getViewMetrics();\n      b = b.getAbsoluteMetrics();\n      \"number\" == typeof a.y && (this.workspace_.scrollY = -(c.top + (c.height - d.height) * a.y));\n      this.workspace_.translate(this.workspace_.scrollX + b.left, this.workspace_.scrollY + b.top);\n    }\n  };\n\n  Blockly.VerticalFlyout.prototype.getX = function () {\n    if (!this.isVisible()) return 0;\n    var a = this.targetWorkspace.getMetricsManager(),\n        b = a.getAbsoluteMetrics(),\n        c = a.getViewMetrics();\n    a = a.getToolboxMetrics();\n    return this.targetWorkspace.toolboxPosition == this.toolboxPosition_ ? this.targetWorkspace.getToolbox() ? this.toolboxPosition_ == Blockly.utils.toolbox.Position.LEFT ? a.width : c.width - this.width_ : this.toolboxPosition_ == Blockly.utils.toolbox.Position.LEFT ? 0 : c.width : this.toolboxPosition_ == Blockly.utils.toolbox.Position.LEFT ? 0 : c.width + b.left - this.width_;\n  };\n\n  Blockly.VerticalFlyout.prototype.getY = function () {\n    return 0;\n  };\n\n  Blockly.VerticalFlyout.prototype.position = function () {\n    if (this.isVisible() && this.targetWorkspace.isVisible()) {\n      var a = this.targetWorkspace.getMetricsManager().getViewMetrics();\n      this.height_ = a.height;\n      this.setBackgroundPath_(this.width_ - this.CORNER_RADIUS, a.height - 2 * this.CORNER_RADIUS);\n      a = this.getX();\n      var b = this.getY();\n      this.positionAt_(this.width_, this.height_, a, b);\n    }\n  };\n\n  Blockly.VerticalFlyout.prototype.setBackgroundPath_ = function (a, b) {\n    var c = this.toolboxPosition_ == Blockly.utils.toolbox.Position.RIGHT,\n        d = a + this.CORNER_RADIUS;\n    d = [\"M \" + (c ? d : 0) + \",0\"];\n    d.push(\"h\", c ? -a : a);\n    d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, c ? 0 : 1, c ? -this.CORNER_RADIUS : this.CORNER_RADIUS, this.CORNER_RADIUS);\n    d.push(\"v\", Math.max(0, b));\n    d.push(\"a\", this.CORNER_RADIUS, this.CORNER_RADIUS, 0, 0, c ? 0 : 1, c ? this.CORNER_RADIUS : -this.CORNER_RADIUS, this.CORNER_RADIUS);\n    d.push(\"h\", c ? a : -a);\n    d.push(\"z\");\n    this.svgBackground_.setAttribute(\"d\", d.join(\" \"));\n  };\n\n  Blockly.VerticalFlyout.prototype.scrollToStart = function () {\n    this.workspace_.scrollbar.setY(0);\n  };\n\n  Blockly.VerticalFlyout.prototype.wheel_ = function (a) {\n    var b = Blockly.utils.getScrollDeltaPixels(a);\n\n    if (b.y) {\n      var c = this.workspace_.getMetricsManager(),\n          d = c.getScrollMetrics();\n      b = c.getViewMetrics().top - d.top + b.y;\n      this.workspace_.scrollbar.setY(b);\n      Blockly.WidgetDiv.hide();\n      Blockly.DropDownDiv.hideWithoutAnimation();\n    }\n\n    a.preventDefault();\n    a.stopPropagation();\n  };\n\n  Blockly.VerticalFlyout.prototype.layout_ = function (a, b) {\n    this.workspace_.scale = this.targetWorkspace.scale;\n\n    for (var c = this.MARGIN, d = this.RTL ? c : c + this.tabWidth_, e = 0, f; f = a[e]; e++) {\n      if (\"block\" == f.type) {\n        f = f.block;\n\n        for (var g = f.getDescendants(!1), h = 0, k; k = g[h]; h++) {\n          k.isInFlyout = !0;\n        }\n\n        f.render();\n        g = f.getSvgRoot();\n        h = f.getHeightWidth();\n        k = f.outputConnection ? d - this.tabWidth_ : d;\n        f.moveBy(k, c);\n        k = this.createRect_(f, this.RTL ? k - h.width : k, c, h, e);\n        this.addBlockListeners_(g, f, k);\n        c += h.height + b[e];\n      } else \"button\" == f.type && (this.initFlyoutButton_(f.button, d, c), c += f.button.height + b[e]);\n    }\n  };\n\n  Blockly.VerticalFlyout.prototype.isDragTowardWorkspace = function (a) {\n    a = Math.atan2(a.y, a.x) / Math.PI * 180;\n    var b = this.dragAngleRange_;\n    return a < b && a > -b || a < -180 + b || a > 180 - b ? !0 : !1;\n  };\n\n  Blockly.VerticalFlyout.prototype.getClientRect = function () {\n    if (!this.svgGroup_) return null;\n    var a = this.svgGroup_.getBoundingClientRect(),\n        b = a.left;\n    return this.toolboxPosition_ == Blockly.utils.toolbox.Position.LEFT ? new Blockly.utils.Rect(-1E9, 1E9, -1E9, b + a.width) : new Blockly.utils.Rect(-1E9, 1E9, b, 1E9);\n  };\n\n  Blockly.VerticalFlyout.prototype.reflowInternal_ = function () {\n    this.workspace_.scale = this.getFlyoutScale();\n\n    for (var a = 0, b = this.workspace_.getTopBlocks(!1), c = 0, d; d = b[c]; c++) {\n      var e = d.getHeightWidth().width;\n      d.outputConnection && (e -= this.tabWidth_);\n      a = Math.max(a, e);\n    }\n\n    for (c = 0; d = this.buttons_[c]; c++) {\n      a = Math.max(a, d.width);\n    }\n\n    a += 1.5 * this.MARGIN + this.tabWidth_;\n    a *= this.workspace_.scale;\n    a += Blockly.Scrollbar.scrollbarThickness;\n\n    if (this.width_ != a) {\n      for (c = 0; d = b[c]; c++) {\n        if (this.RTL) {\n          e = d.getRelativeToSurfaceXY().x;\n          var f = a / this.workspace_.scale - this.MARGIN;\n          d.outputConnection || (f -= this.tabWidth_);\n          d.moveBy(f - e, 0);\n        }\n\n        d.flyoutRect_ && this.moveRectToBlock_(d.flyoutRect_, d);\n      }\n\n      if (this.RTL) for (c = 0; d = this.buttons_[c]; c++) {\n        b = d.getPosition().y, d.moveTo(a / this.workspace_.scale - d.width - this.MARGIN - this.tabWidth_, b);\n      }\n      this.targetWorkspace.toolboxPosition != this.toolboxPosition_ || this.toolboxPosition_ != Blockly.utils.toolbox.Position.LEFT || this.targetWorkspace.getToolbox() || this.targetWorkspace.translate(this.targetWorkspace.scrollX + a, this.targetWorkspace.scrollY);\n      this.width_ = a;\n      this.position();\n    }\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.FLYOUTS_VERTICAL_TOOLBOX, Blockly.registry.DEFAULT, Blockly.VerticalFlyout);\n\n  Blockly.FlyoutButton = function (a, b, c, d) {\n    this.workspace_ = a;\n    this.targetWorkspace_ = b;\n    this.text_ = c.text;\n    this.position_ = new Blockly.utils.Coordinate(0, 0);\n    this.isLabel_ = d;\n    this.callbackKey_ = c.callbackKey || c.callbackkey;\n    this.cssClass_ = c[\"web-class\"] || null;\n    this.onMouseUpWrapper_ = null;\n    this.info = c;\n  };\n\n  Blockly.FlyoutButton.MARGIN_X = 5;\n  Blockly.FlyoutButton.MARGIN_Y = 2;\n  Blockly.FlyoutButton.prototype.width = 0;\n  Blockly.FlyoutButton.prototype.height = 0;\n\n  Blockly.FlyoutButton.prototype.createDom = function () {\n    var a = this.isLabel_ ? \"blocklyFlyoutLabel\" : \"blocklyFlyoutButton\";\n    this.cssClass_ && (a += \" \" + this.cssClass_);\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": a\n    }, this.workspace_.getCanvas());\n    if (!this.isLabel_) var b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyFlyoutButtonShadow\",\n      rx: 4,\n      ry: 4,\n      x: 1,\n      y: 1\n    }, this.svgGroup_);\n    a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": this.isLabel_ ? \"blocklyFlyoutLabelBackground\" : \"blocklyFlyoutButtonBackground\",\n      rx: 4,\n      ry: 4\n    }, this.svgGroup_);\n    var c = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TEXT, {\n      \"class\": this.isLabel_ ? \"blocklyFlyoutLabelText\" : \"blocklyText\",\n      x: 0,\n      y: 0,\n      \"text-anchor\": \"middle\"\n    }, this.svgGroup_),\n        d = Blockly.utils.replaceMessageReferences(this.text_);\n    this.workspace_.RTL && (d += \"\\u200F\");\n    c.textContent = d;\n    this.isLabel_ && (this.svgText_ = c, this.workspace_.getThemeManager().subscribe(this.svgText_, \"flyoutForegroundColour\", \"fill\"));\n    var e = Blockly.utils.style.getComputedStyle(c, \"fontSize\"),\n        f = Blockly.utils.style.getComputedStyle(c, \"fontWeight\"),\n        g = Blockly.utils.style.getComputedStyle(c, \"fontFamily\");\n    this.width = Blockly.utils.dom.getFastTextWidthWithSizeString(c, e, f, g);\n    d = Blockly.utils.dom.measureFontMetrics(d, e, f, g);\n    this.height = d.height;\n    this.isLabel_ || (this.width += 2 * Blockly.FlyoutButton.MARGIN_X, this.height += 2 * Blockly.FlyoutButton.MARGIN_Y, b.setAttribute(\"width\", this.width), b.setAttribute(\"height\", this.height));\n    a.setAttribute(\"width\", this.width);\n    a.setAttribute(\"height\", this.height);\n    c.setAttribute(\"x\", this.width / 2);\n    c.setAttribute(\"y\", this.height / 2 - d.height / 2 + d.baseline);\n    this.updateTransform_();\n    this.onMouseUpWrapper_ = Blockly.browserEvents.conditionalBind(this.svgGroup_, \"mouseup\", this, this.onMouseUp_);\n    return this.svgGroup_;\n  };\n\n  Blockly.FlyoutButton.prototype.show = function () {\n    this.updateTransform_();\n    this.svgGroup_.setAttribute(\"display\", \"block\");\n  };\n\n  Blockly.FlyoutButton.prototype.updateTransform_ = function () {\n    this.svgGroup_.setAttribute(\"transform\", \"translate(\" + this.position_.x + \",\" + this.position_.y + \")\");\n  };\n\n  Blockly.FlyoutButton.prototype.moveTo = function (a, b) {\n    this.position_.x = a;\n    this.position_.y = b;\n    this.updateTransform_();\n  };\n\n  Blockly.FlyoutButton.prototype.isLabel = function () {\n    return this.isLabel_;\n  };\n\n  Blockly.FlyoutButton.prototype.getPosition = function () {\n    return this.position_;\n  };\n\n  Blockly.FlyoutButton.prototype.getButtonText = function () {\n    return this.text_;\n  };\n\n  Blockly.FlyoutButton.prototype.getTargetWorkspace = function () {\n    return this.targetWorkspace_;\n  };\n\n  Blockly.FlyoutButton.prototype.dispose = function () {\n    this.onMouseUpWrapper_ && Blockly.browserEvents.unbind(this.onMouseUpWrapper_);\n    this.svgGroup_ && Blockly.utils.dom.removeNode(this.svgGroup_);\n    this.svgText_ && this.workspace_.getThemeManager().unsubscribe(this.svgText_);\n  };\n\n  Blockly.FlyoutButton.prototype.onMouseUp_ = function (a) {\n    (a = this.targetWorkspace_.getGesture(a)) && a.cancel();\n    this.isLabel_ && this.callbackKey_ ? console.warn(\"Labels should not have callbacks. Label text: \" + this.text_) : this.isLabel_ || this.callbackKey_ && this.targetWorkspace_.getButtonCallback(this.callbackKey_) ? this.isLabel_ || this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this) : console.warn(\"Buttons should have callbacks. Button text: \" + this.text_);\n  };\n\n  Blockly.Css.register(\".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}\".split(\",\"));\n\n  Blockly.Generator = function (a) {\n    this.name_ = a;\n    this.FUNCTION_NAME_PLACEHOLDER_REGEXP_ = new RegExp(this.FUNCTION_NAME_PLACEHOLDER_, \"g\");\n  };\n\n  Blockly.Generator.NAME_TYPE = \"generated_function\";\n  Blockly.Generator.prototype.INFINITE_LOOP_TRAP = null;\n  Blockly.Generator.prototype.STATEMENT_PREFIX = null;\n  Blockly.Generator.prototype.STATEMENT_SUFFIX = null;\n  Blockly.Generator.prototype.INDENT = \"  \";\n  Blockly.Generator.prototype.COMMENT_WRAP = 60;\n  Blockly.Generator.prototype.ORDER_OVERRIDES = [];\n  Blockly.Generator.prototype.isInitialized = null;\n\n  Blockly.Generator.prototype.workspaceToCode = function (a) {\n    a || (console.warn(\"No workspace specified in workspaceToCode call.  Guessing.\"), a = Blockly.getMainWorkspace());\n    var b = [];\n    this.init(a);\n    a = a.getTopBlocks(!0);\n\n    for (var c = 0, d; d = a[c]; c++) {\n      var e = this.blockToCode(d);\n      Array.isArray(e) && (e = e[0]);\n      e && (d.outputConnection && (e = this.scrubNakedValue(e), this.STATEMENT_PREFIX && !d.suppressPrefixSuffix && (e = this.injectId(this.STATEMENT_PREFIX, d) + e), this.STATEMENT_SUFFIX && !d.suppressPrefixSuffix && (e += this.injectId(this.STATEMENT_SUFFIX, d))), b.push(e));\n    }\n\n    b = b.join(\"\\n\");\n    b = this.finish(b);\n    b = b.replace(/^\\s+\\n/, \"\");\n    b = b.replace(/\\n\\s+$/, \"\\n\");\n    return b = b.replace(/[ \\t]+\\n/g, \"\\n\");\n  };\n\n  Blockly.Generator.prototype.prefixLines = function (a, b) {\n    return b + a.replace(/(?!\\n$)\\n/g, \"\\n\" + b);\n  };\n\n  Blockly.Generator.prototype.allNestedComments = function (a) {\n    var b = [];\n    a = a.getDescendants(!0);\n\n    for (var c = 0; c < a.length; c++) {\n      var d = a[c].getCommentText();\n      d && b.push(d);\n    }\n\n    b.length && b.push(\"\");\n    return b.join(\"\\n\");\n  };\n\n  Blockly.Generator.prototype.blockToCode = function (a, b) {\n    !1 === this.isInitialized && console.warn(\"Generator init was not called before blockToCode was called.\");\n    if (!a) return \"\";\n    if (!a.isEnabled()) return b ? \"\" : this.blockToCode(a.getNextBlock());\n    if (a.isInsertionMarker()) return b ? \"\" : this.blockToCode(a.getChildren(!1)[0]);\n    var c = this[a.type];\n    if (\"function\" != typeof c) throw Error('Language \"' + this.name_ + '\" does not know how to generate  code for block type \"' + a.type + '\".');\n    c = c.call(a, a);\n\n    if (Array.isArray(c)) {\n      if (!a.outputConnection) throw TypeError(\"Expecting string from statement block: \" + a.type);\n      return [this.scrub_(a, c[0], b), c[1]];\n    }\n\n    if (\"string\" == typeof c) return this.STATEMENT_PREFIX && !a.suppressPrefixSuffix && (c = this.injectId(this.STATEMENT_PREFIX, a) + c), this.STATEMENT_SUFFIX && !a.suppressPrefixSuffix && (c += this.injectId(this.STATEMENT_SUFFIX, a)), this.scrub_(a, c, b);\n    if (null === c) return \"\";\n    throw SyntaxError(\"Invalid code generated: \" + c);\n  };\n\n  Blockly.Generator.prototype.valueToCode = function (a, b, c) {\n    if (isNaN(c)) throw TypeError(\"Expecting valid order from block: \" + a.type);\n    var d = a.getInputTargetBlock(b);\n    if (!d) return \"\";\n    b = this.blockToCode(d);\n    if (\"\" === b) return \"\";\n    if (!Array.isArray(b)) throw TypeError(\"Expecting tuple from value block: \" + d.type);\n    a = b[0];\n    b = b[1];\n    if (isNaN(b)) throw TypeError(\"Expecting valid order from value block: \" + d.type);\n    if (!a) return \"\";\n    d = !1;\n    var e = Math.floor(c),\n        f = Math.floor(b);\n    if (e <= f && (e != f || 0 != e && 99 != e)) for (d = !0, e = 0; e < this.ORDER_OVERRIDES.length; e++) {\n      if (this.ORDER_OVERRIDES[e][0] == c && this.ORDER_OVERRIDES[e][1] == b) {\n        d = !1;\n        break;\n      }\n    }\n    d && (a = \"(\" + a + \")\");\n    return a;\n  };\n\n  Blockly.Generator.prototype.statementToCode = function (a, b) {\n    a = a.getInputTargetBlock(b);\n    b = this.blockToCode(a);\n    if (\"string\" != typeof b) throw TypeError(\"Expecting code from statement block: \" + (a && a.type));\n    b && (b = this.prefixLines(b, this.INDENT));\n    return b;\n  };\n\n  Blockly.Generator.prototype.addLoopTrap = function (a, b) {\n    this.INFINITE_LOOP_TRAP && (a = this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP, b), this.INDENT) + a);\n    this.STATEMENT_SUFFIX && !b.suppressPrefixSuffix && (a = this.prefixLines(this.injectId(this.STATEMENT_SUFFIX, b), this.INDENT) + a);\n    this.STATEMENT_PREFIX && !b.suppressPrefixSuffix && (a += this.prefixLines(this.injectId(this.STATEMENT_PREFIX, b), this.INDENT));\n    return a;\n  };\n\n  Blockly.Generator.prototype.injectId = function (a, b) {\n    b = b.id.replace(/\\$/g, \"$$$$\");\n    return a.replace(/%1/g, \"'\" + b + \"'\");\n  };\n\n  Blockly.Generator.prototype.RESERVED_WORDS_ = \"\";\n\n  Blockly.Generator.prototype.addReservedWords = function (a) {\n    this.RESERVED_WORDS_ += a + \",\";\n  };\n\n  Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_ = \"{leCUI8hutHZI4480Dc}\";\n\n  Blockly.Generator.prototype.provideFunction_ = function (a, b) {\n    if (!this.definitions_[a]) {\n      var c = this.variableDB_.getDistinctName(a, Blockly.PROCEDURE_CATEGORY_NAME);\n      this.functionNames_[a] = c;\n      b = b.join(\"\\n\").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_, c);\n\n      for (var d; d != b;) {\n        d = b, b = b.replace(/^(( {2})*) {2}/gm, \"$1\\x00\");\n      }\n\n      b = b.replace(/\\0/g, this.INDENT);\n      this.definitions_[a] = b;\n    }\n\n    return this.functionNames_[a];\n  };\n\n  Blockly.Generator.prototype.init = function (a) {};\n\n  Blockly.Generator.prototype.scrub_ = function (a, b, c) {\n    return b;\n  };\n\n  Blockly.Generator.prototype.finish = function (a) {\n    return a;\n  };\n\n  Blockly.Generator.prototype.scrubNakedValue = function (a) {\n    return a;\n  };\n\n  Blockly.ToolboxItem = function (a, b, c) {\n    this.id_ = a.toolboxitemid || Blockly.utils.IdGenerator.getNextUniqueId();\n    this.level_ = (this.parent_ = c || null) ? this.parent_.getLevel() + 1 : 0;\n    this.toolboxItemDef_ = a;\n    this.parentToolbox_ = b;\n    this.workspace_ = this.parentToolbox_.getWorkspace();\n  };\n\n  Blockly.ToolboxItem.prototype.init = function () {};\n\n  Blockly.ToolboxItem.prototype.getDiv = function () {\n    return null;\n  };\n\n  Blockly.ToolboxItem.prototype.getId = function () {\n    return this.id_;\n  };\n\n  Blockly.ToolboxItem.prototype.getParent = function () {\n    return null;\n  };\n\n  Blockly.ToolboxItem.prototype.getLevel = function () {\n    return this.level_;\n  };\n\n  Blockly.ToolboxItem.prototype.isSelectable = function () {\n    return !1;\n  };\n\n  Blockly.ToolboxItem.prototype.isCollapsible = function () {\n    return !1;\n  };\n\n  Blockly.ToolboxItem.prototype.dispose = function () {};\n\n  Blockly.ToolboxCategory = function (a, b, c) {\n    Blockly.ToolboxCategory.superClass_.constructor.call(this, a, b, c);\n    this.name_ = Blockly.utils.replaceMessageReferences(a.name);\n    this.colour_ = this.getColour_(a);\n    this.labelDom_ = this.iconDom_ = this.rowContents_ = this.rowDiv_ = this.htmlDiv_ = null;\n    this.cssConfig_ = this.makeDefaultCssConfig_();\n    Blockly.utils.object.mixin(this.cssConfig_, a.cssconfig || a.cssConfig);\n    this.isDisabled_ = this.isHidden_ = !1;\n    this.flyoutItems_ = [];\n    this.parseContents_(a);\n  };\n\n  Blockly.utils.object.inherits(Blockly.ToolboxCategory, Blockly.ToolboxItem);\n  Blockly.ToolboxCategory.registrationName = \"category\";\n  Blockly.ToolboxCategory.nestedPadding = 19;\n  Blockly.ToolboxCategory.borderWidth = 8;\n  Blockly.ToolboxCategory.defaultBackgroundColour = \"#57e\";\n\n  Blockly.ToolboxCategory.prototype.makeDefaultCssConfig_ = function () {\n    return {\n      container: \"blocklyToolboxCategory\",\n      row: \"blocklyTreeRow\",\n      rowcontentcontainer: \"blocklyTreeRowContentContainer\",\n      icon: \"blocklyTreeIcon\",\n      label: \"blocklyTreeLabel\",\n      contents: \"blocklyToolboxContents\",\n      selected: \"blocklyTreeSelected\",\n      openicon: \"blocklyTreeIconOpen\",\n      closedicon: \"blocklyTreeIconClosed\"\n    };\n  };\n\n  Blockly.ToolboxCategory.prototype.parseContents_ = function (a) {\n    var b = a.contents;\n    if (a.custom) this.flyoutItems_ = a.custom;else if (b) {\n      a = 0;\n\n      for (var c; c = b[a]; a++) {\n        this.flyoutItems_.push(c);\n      }\n    }\n  };\n\n  Blockly.ToolboxCategory.prototype.init = function () {\n    this.createDom_();\n    \"true\" == this.toolboxItemDef_.hidden && this.hide();\n  };\n\n  Blockly.ToolboxCategory.prototype.createDom_ = function () {\n    this.htmlDiv_ = this.createContainer_();\n    Blockly.utils.aria.setRole(this.htmlDiv_, Blockly.utils.aria.Role.TREEITEM);\n    Blockly.utils.aria.setState(this.htmlDiv_, Blockly.utils.aria.State.SELECTED, !1);\n    Blockly.utils.aria.setState(this.htmlDiv_, Blockly.utils.aria.State.LEVEL, this.level_);\n    this.rowDiv_ = this.createRowContainer_();\n    this.rowDiv_.style.pointerEvents = \"auto\";\n    this.htmlDiv_.appendChild(this.rowDiv_);\n    this.rowContents_ = this.createRowContentsContainer_();\n    this.rowContents_.style.pointerEvents = \"none\";\n    this.rowDiv_.appendChild(this.rowContents_);\n    this.iconDom_ = this.createIconDom_();\n    Blockly.utils.aria.setRole(this.iconDom_, Blockly.utils.aria.Role.PRESENTATION);\n    this.rowContents_.appendChild(this.iconDom_);\n    this.labelDom_ = this.createLabelDom_(this.name_);\n    this.rowContents_.appendChild(this.labelDom_);\n    Blockly.utils.aria.setState(this.htmlDiv_, Blockly.utils.aria.State.LABELLEDBY, this.labelDom_.getAttribute(\"id\"));\n    this.addColourBorder_(this.colour_);\n    return this.htmlDiv_;\n  };\n\n  Blockly.ToolboxCategory.prototype.createContainer_ = function () {\n    var a = document.createElement(\"div\");\n    Blockly.utils.dom.addClass(a, this.cssConfig_.container);\n    return a;\n  };\n\n  Blockly.ToolboxCategory.prototype.createRowContainer_ = function () {\n    var a = document.createElement(\"div\");\n    Blockly.utils.dom.addClass(a, this.cssConfig_.row);\n    var b = Blockly.ToolboxCategory.nestedPadding * this.getLevel();\n    b = b.toString() + \"px\";\n    this.workspace_.RTL ? a.style.paddingRight = b : a.style.paddingLeft = b;\n    return a;\n  };\n\n  Blockly.ToolboxCategory.prototype.createRowContentsContainer_ = function () {\n    var a = document.createElement(\"div\");\n    Blockly.utils.dom.addClass(a, this.cssConfig_.rowcontentcontainer);\n    return a;\n  };\n\n  Blockly.ToolboxCategory.prototype.createIconDom_ = function () {\n    var a = document.createElement(\"span\");\n    this.parentToolbox_.isHorizontal() || Blockly.utils.dom.addClass(a, this.cssConfig_.icon);\n    a.style.display = \"inline-block\";\n    return a;\n  };\n\n  Blockly.ToolboxCategory.prototype.createLabelDom_ = function (a) {\n    var b = document.createElement(\"span\");\n    b.setAttribute(\"id\", this.getId() + \".label\");\n    b.textContent = a;\n    Blockly.utils.dom.addClass(b, this.cssConfig_.label);\n    return b;\n  };\n\n  Blockly.ToolboxCategory.prototype.refreshTheme = function () {\n    this.colour_ = this.getColour_(this.toolboxItemDef_);\n    this.addColourBorder_(this.colour_);\n  };\n\n  Blockly.ToolboxCategory.prototype.addColourBorder_ = function (a) {\n    a && (a = Blockly.ToolboxCategory.borderWidth + \"px solid \" + (a || \"#ddd\"), this.workspace_.RTL ? this.rowDiv_.style.borderRight = a : this.rowDiv_.style.borderLeft = a);\n  };\n\n  Blockly.ToolboxCategory.prototype.getColour_ = function (a) {\n    var b = a.categorystyle || a.categoryStyle;\n    if ((a = a.colour) && b) console.warn('Toolbox category \"' + this.name_ + '\" must not have both a style and a colour');else return b ? this.getColourfromStyle_(b) : this.parseColour_(a);\n    return \"\";\n  };\n\n  Blockly.ToolboxCategory.prototype.getColourfromStyle_ = function (a) {\n    var b = this.workspace_.getTheme();\n\n    if (a && b) {\n      if ((b = b.categoryStyles[a]) && b.colour) return this.parseColour_(b.colour);\n      console.warn('Style \"' + a + '\" must exist and contain a colour value');\n    }\n\n    return \"\";\n  };\n\n  Blockly.ToolboxCategory.prototype.getClickTarget = function () {\n    return this.rowDiv_;\n  };\n\n  Blockly.ToolboxCategory.prototype.parseColour_ = function (a) {\n    a = Blockly.utils.replaceMessageReferences(a);\n    if (null == a || \"\" === a) return \"\";\n    var b = Number(a);\n\n    if (isNaN(b)) {\n      if (b = Blockly.utils.colour.parse(a)) return b;\n      console.warn('Toolbox category \"' + this.name_ + '\" has unrecognized colour attribute: ' + a);\n      return \"\";\n    }\n\n    return Blockly.hueToHex(b);\n  };\n\n  Blockly.ToolboxCategory.prototype.openIcon_ = function (a) {\n    a && (Blockly.utils.dom.removeClasses(a, this.cssConfig_.closedicon), Blockly.utils.dom.addClass(a, this.cssConfig_.openicon));\n  };\n\n  Blockly.ToolboxCategory.prototype.closeIcon_ = function (a) {\n    a && (Blockly.utils.dom.removeClasses(a, this.cssConfig_.openicon), Blockly.utils.dom.addClass(a, this.cssConfig_.closedicon));\n  };\n\n  Blockly.ToolboxCategory.prototype.setVisible_ = function (a) {\n    this.htmlDiv_.style.display = a ? \"block\" : \"none\";\n    this.isHidden_ = !a;\n    this.parentToolbox_.getSelectedItem() == this && this.parentToolbox_.clearSelection();\n  };\n\n  Blockly.ToolboxCategory.prototype.hide = function () {\n    this.setVisible_(!1);\n  };\n\n  Blockly.ToolboxCategory.prototype.show = function () {\n    this.setVisible_(!0);\n  };\n\n  Blockly.ToolboxCategory.prototype.isVisible = function () {\n    return !this.isHidden_ && this.allAncestorsExpanded_();\n  };\n\n  Blockly.ToolboxCategory.prototype.allAncestorsExpanded_ = function () {\n    for (var a = this; a.getParent();) {\n      if (a = a.getParent(), !a.isExpanded()) return !1;\n    }\n\n    return !0;\n  };\n\n  Blockly.ToolboxCategory.prototype.isSelectable = function () {\n    return this.isVisible() && !this.isDisabled_;\n  };\n\n  Blockly.ToolboxCategory.prototype.onClick = function (a) {};\n\n  Blockly.ToolboxCategory.prototype.setSelected = function (a) {\n    if (a) {\n      var b = this.parseColour_(Blockly.ToolboxCategory.defaultBackgroundColour);\n      this.rowDiv_.style.backgroundColor = this.colour_ || b;\n      Blockly.utils.dom.addClass(this.rowDiv_, this.cssConfig_.selected);\n    } else this.rowDiv_.style.backgroundColor = \"\", Blockly.utils.dom.removeClass(this.rowDiv_, this.cssConfig_.selected);\n\n    Blockly.utils.aria.setState(this.htmlDiv_, Blockly.utils.aria.State.SELECTED, a);\n  };\n\n  Blockly.ToolboxCategory.prototype.setDisabled = function (a) {\n    this.isDisabled_ = a;\n    this.getDiv().setAttribute(\"disabled\", a);\n    a ? this.getDiv().setAttribute(\"disabled\", \"true\") : this.getDiv().removeAttribute(\"disabled\");\n  };\n\n  Blockly.ToolboxCategory.prototype.getName = function () {\n    return this.name_;\n  };\n\n  Blockly.ToolboxCategory.prototype.getParent = function () {\n    return this.parent_;\n  };\n\n  Blockly.ToolboxCategory.prototype.getDiv = function () {\n    return this.htmlDiv_;\n  };\n\n  Blockly.ToolboxCategory.prototype.getContents = function () {\n    return this.flyoutItems_;\n  };\n\n  Blockly.ToolboxCategory.prototype.updateFlyoutContents = function (a) {\n    this.flyoutItems_ = [];\n    \"string\" == typeof a ? this.toolboxItemDef_.custom = a : (delete this.toolboxItemDef_.custom, this.toolboxItemDef_.contents = Blockly.utils.toolbox.convertFlyoutDefToJsonArray(a));\n    this.parseContents_(this.toolboxItemDef_);\n  };\n\n  Blockly.ToolboxCategory.prototype.dispose = function () {\n    Blockly.utils.dom.removeNode(this.htmlDiv_);\n  };\n\n  Blockly.Css.register([\".blocklyTreeRow:not(.blocklyTreeSelected):hover {\", \"background-color: rgba(255, 255, 255, 0.2);\", \"}\", '.blocklyToolboxDiv[layout=\"h\"] .blocklyToolboxCategory {', \"margin: 1px 5px 1px 0;\", \"}\", '.blocklyToolboxDiv[dir=\"RTL\"][layout=\"h\"] .blocklyToolboxCategory {', \"margin: 1px 0 1px 5px;\", \"}\", \".blocklyTreeRow {\", \"height: 22px;\", \"line-height: 22px;\", \"margin-bottom: 3px;\", \"padding-right: 8px;\", \"white-space: nowrap;\", \"}\", '.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeRow {', \"margin-left: 8px;\", \"padding-right: 0px\", \"}\", \".blocklyTreeIcon {\", \"background-image: url(<<<PATH>>>/sprites.png);\", \"height: 16px;\", \"vertical-align: middle;\", \"visibility: hidden;\", \"width: 16px;\", \"}\", \".blocklyTreeIconClosed {\", \"background-position: -32px -1px;\", \"}\", '.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeIconClosed {', \"background-position: 0 -1px;\", \"}\", \".blocklyTreeSelected>.blocklyTreeIconClosed {\", \"background-position: -32px -17px;\", \"}\", '.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeSelected>.blocklyTreeIconClosed {', \"background-position: 0 -17px;\", \"}\", \".blocklyTreeIconOpen {\", \"background-position: -16px -1px;\", \"}\", \".blocklyTreeSelected>.blocklyTreeIconOpen {\", \"background-position: -16px -17px;\", \"}\", \".blocklyTreeLabel {\", \"cursor: default;\", \"font: 16px sans-serif;\", \"padding: 0 3px;\", \"vertical-align: middle;\", \"}\", \".blocklyToolboxDelete .blocklyTreeLabel {\", 'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;', \"}\", \".blocklyTreeSelected .blocklyTreeLabel {\", \"color: #fff;\", \"}\"]);\n  Blockly.registry.register(Blockly.registry.Type.TOOLBOX_ITEM, Blockly.ToolboxCategory.registrationName, Blockly.ToolboxCategory);\n\n  Blockly.ToolboxSeparator = function (a, b) {\n    Blockly.ToolboxSeparator.superClass_.constructor.call(this, a, b);\n    this.cssConfig_ = {\n      container: \"blocklyTreeSeparator\"\n    };\n    Blockly.utils.object.mixin(this.cssConfig_, a.cssconfig || a.cssConfig);\n  };\n\n  Blockly.utils.object.inherits(Blockly.ToolboxSeparator, Blockly.ToolboxItem);\n  Blockly.ToolboxSeparator.registrationName = \"sep\";\n\n  Blockly.ToolboxSeparator.prototype.init = function () {\n    this.createDom_();\n  };\n\n  Blockly.ToolboxSeparator.prototype.createDom_ = function () {\n    var a = document.createElement(\"div\");\n    Blockly.utils.dom.addClass(a, this.cssConfig_.container);\n    return this.htmlDiv_ = a;\n  };\n\n  Blockly.ToolboxSeparator.prototype.getDiv = function () {\n    return this.htmlDiv_;\n  };\n\n  Blockly.ToolboxSeparator.prototype.dispose = function () {\n    Blockly.utils.dom.removeNode(this.htmlDiv_);\n  };\n\n  Blockly.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout=\"h\"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(\",\"));\n  Blockly.registry.register(Blockly.registry.Type.TOOLBOX_ITEM, Blockly.ToolboxSeparator.registrationName, Blockly.ToolboxSeparator);\n\n  Blockly.CollapsibleToolboxCategory = function (a, b, c) {\n    this.subcategoriesDiv_ = null;\n    this.expanded_ = !1;\n    this.toolboxItems_ = [];\n    Blockly.CollapsibleToolboxCategory.superClass_.constructor.call(this, a, b, c);\n  };\n\n  Blockly.utils.object.inherits(Blockly.CollapsibleToolboxCategory, Blockly.ToolboxCategory);\n  Blockly.CollapsibleToolboxCategory.registrationName = \"collapsibleCategory\";\n\n  Blockly.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_ = function () {\n    var a = Blockly.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);\n    a.contents = \"blocklyToolboxContents\";\n    return a;\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.parseContents_ = function (a) {\n    var b = a.contents,\n        c = !0;\n    if (a.custom) this.flyoutItems_ = a.custom;else if (b) {\n      a = 0;\n\n      for (var d; d = b[a]; a++) {\n        !Blockly.registry.hasItem(Blockly.registry.Type.TOOLBOX_ITEM, d.kind) || d.kind.toLowerCase() == Blockly.ToolboxSeparator.registrationName && c ? (this.flyoutItems_.push(d), c = !0) : (this.createToolboxItem_(d), c = !1);\n      }\n    }\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.createToolboxItem_ = function (a) {\n    var b = a.kind;\n    \"CATEGORY\" == b.toUpperCase() && Blockly.utils.toolbox.isCategoryCollapsible(a) && (b = Blockly.CollapsibleToolboxCategory.registrationName);\n    a = new (Blockly.registry.getClass(Blockly.registry.Type.TOOLBOX_ITEM, b))(a, this.parentToolbox_, this);\n    this.toolboxItems_.push(a);\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.init = function () {\n    Blockly.CollapsibleToolboxCategory.superClass_.init.call(this);\n    this.setExpanded(\"true\" == this.toolboxItemDef_.expanded || this.toolboxItemDef_.expanded);\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.createDom_ = function () {\n    Blockly.CollapsibleToolboxCategory.superClass_.createDom_.call(this);\n    var a = this.getChildToolboxItems();\n    this.subcategoriesDiv_ = this.createSubCategoriesDom_(a);\n    Blockly.utils.aria.setRole(this.subcategoriesDiv_, Blockly.utils.aria.Role.GROUP);\n    this.htmlDiv_.appendChild(this.subcategoriesDiv_);\n    return this.htmlDiv_;\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.createIconDom_ = function () {\n    var a = document.createElement(\"span\");\n    this.parentToolbox_.isHorizontal() || (Blockly.utils.dom.addClass(a, this.cssConfig_.icon), a.style.visibility = \"visible\");\n    a.style.display = \"inline-block\";\n    return a;\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_ = function (a) {\n    var b = document.createElement(\"div\");\n    Blockly.utils.dom.addClass(b, this.cssConfig_.contents);\n\n    for (var c = 0; c < a.length; c++) {\n      var d = a[c];\n      d.init();\n      var e = d.getDiv();\n      b.appendChild(e);\n      d.getClickTarget && d.getClickTarget().setAttribute(\"id\", d.getId());\n    }\n\n    return b;\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.setExpanded = function (a) {\n    this.expanded_ != a && ((this.expanded_ = a) ? (this.subcategoriesDiv_.style.display = \"block\", this.openIcon_(this.iconDom_)) : (this.subcategoriesDiv_.style.display = \"none\", this.closeIcon_(this.iconDom_)), Blockly.utils.aria.setState(this.htmlDiv_, Blockly.utils.aria.State.EXPANDED, a), this.parentToolbox_.handleToolboxItemResize());\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.setVisible_ = function (a) {\n    this.htmlDiv_.style.display = a ? \"block\" : \"none\";\n\n    for (var b = 0, c; c = this.getChildToolboxItems()[b]; b++) {\n      c.setVisible_(a);\n    }\n\n    this.isHidden_ = !a;\n    this.parentToolbox_.getSelectedItem() == this && this.parentToolbox_.clearSelection();\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.isExpanded = function () {\n    return this.expanded_;\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.isCollapsible = function () {\n    return !0;\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.onClick = function (a) {\n    this.toggleExpanded();\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.toggleExpanded = function () {\n    this.setExpanded(!this.expanded_);\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.getDiv = function () {\n    return this.htmlDiv_;\n  };\n\n  Blockly.CollapsibleToolboxCategory.prototype.getChildToolboxItems = function () {\n    return this.toolboxItems_;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.TOOLBOX_ITEM, Blockly.CollapsibleToolboxCategory.registrationName, Blockly.CollapsibleToolboxCategory);\n\n  Blockly.Events.ToolboxItemSelect = function (a, b, c) {\n    Blockly.Events.ToolboxItemSelect.superClass_.constructor.call(this, c);\n    this.oldItem = a;\n    this.newItem = b;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.ToolboxItemSelect, Blockly.Events.UiBase);\n  Blockly.Events.ToolboxItemSelect.prototype.type = Blockly.Events.TOOLBOX_ITEM_SELECT;\n\n  Blockly.Events.ToolboxItemSelect.prototype.toJson = function () {\n    var a = Blockly.Events.ToolboxItemSelect.superClass_.toJson.call(this);\n    a.oldItem = this.oldItem;\n    a.newItem = this.newItem;\n    return a;\n  };\n\n  Blockly.Events.ToolboxItemSelect.prototype.fromJson = function (a) {\n    Blockly.Events.ToolboxItemSelect.superClass_.fromJson.call(this, a);\n    this.oldItem = a.oldItem;\n    this.newItem = a.newItem;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.TOOLBOX_ITEM_SELECT, Blockly.Events.ToolboxItemSelect);\n\n  Blockly.Toolbox = function (a) {\n    this.workspace_ = a;\n    this.toolboxDef_ = a.options.languageTree || {\n      contents: []\n    };\n    this.horizontalLayout_ = a.options.horizontalLayout;\n    this.contentsDiv_ = this.HtmlDiv = null;\n    this.contents_ = [];\n    this.height_ = this.width_ = 0;\n    this.RTL = a.options.RTL;\n    this.flyout_ = null;\n    this.contentMap_ = {};\n    this.toolboxPosition = a.options.toolboxPosition;\n    this.previouslySelectedItem_ = this.selectedItem_ = null;\n    this.boundEvents_ = [];\n  };\n\n  Blockly.Toolbox.prototype.onShortcut = function (a) {\n    return !1;\n  };\n\n  Blockly.Toolbox.prototype.init = function () {\n    var a = this.workspace_,\n        b = a.getParentSvg();\n    this.flyout_ = this.createFlyout_();\n    this.HtmlDiv = this.createDom_(this.workspace_);\n    Blockly.utils.dom.insertAfter(this.flyout_.createDom(\"svg\"), b);\n    this.flyout_.init(a);\n    this.render(this.toolboxDef_);\n    a = a.getThemeManager();\n    a.subscribe(this.HtmlDiv, \"toolboxBackgroundColour\", \"background-color\");\n    a.subscribe(this.HtmlDiv, \"toolboxForegroundColour\", \"color\");\n  };\n\n  Blockly.Toolbox.prototype.createDom_ = function (a) {\n    a = a.getParentSvg();\n    var b = this.createContainer_();\n    this.contentsDiv_ = this.createContentsContainer_();\n    this.contentsDiv_.tabIndex = 0;\n    Blockly.utils.aria.setRole(this.contentsDiv_, Blockly.utils.aria.Role.TREE);\n    b.appendChild(this.contentsDiv_);\n    a.parentNode.insertBefore(b, a);\n    this.attachEvents_(b, this.contentsDiv_);\n    return b;\n  };\n\n  Blockly.Toolbox.prototype.createContainer_ = function () {\n    var a = document.createElement(\"div\");\n    a.setAttribute(\"layout\", this.isHorizontal() ? \"h\" : \"v\");\n    Blockly.utils.dom.addClass(a, \"blocklyToolboxDiv\");\n    Blockly.utils.dom.addClass(a, \"blocklyNonSelectable\");\n    a.setAttribute(\"dir\", this.RTL ? \"RTL\" : \"LTR\");\n    return a;\n  };\n\n  Blockly.Toolbox.prototype.createContentsContainer_ = function () {\n    var a = document.createElement(\"div\");\n    Blockly.utils.dom.addClass(a, \"blocklyToolboxContents\");\n    this.isHorizontal() && (a.style.flexDirection = \"row\");\n    return a;\n  };\n\n  Blockly.Toolbox.prototype.attachEvents_ = function (a, b) {\n    a = Blockly.browserEvents.conditionalBind(a, \"click\", this, this.onClick_, !1, !0);\n    this.boundEvents_.push(a);\n    b = Blockly.browserEvents.conditionalBind(b, \"keydown\", this, this.onKeyDown_, !1, !0);\n    this.boundEvents_.push(b);\n  };\n\n  Blockly.Toolbox.prototype.onClick_ = function (a) {\n    if (Blockly.utils.isRightButton(a) || a.target == this.HtmlDiv) Blockly.hideChaff(!1);else {\n      var b = a.target.getAttribute(\"id\");\n      b && (b = this.getToolboxItemById(b), b.isSelectable() && (this.setSelectedItem(b), b.onClick(a)));\n      Blockly.hideChaff(!0);\n    }\n    Blockly.Touch.clearTouchIdentifier();\n  };\n\n  Blockly.Toolbox.prototype.onKeyDown_ = function (a) {\n    var b = !1;\n\n    switch (a.keyCode) {\n      case Blockly.utils.KeyCodes.DOWN:\n        b = this.selectNext_();\n        break;\n\n      case Blockly.utils.KeyCodes.UP:\n        b = this.selectPrevious_();\n        break;\n\n      case Blockly.utils.KeyCodes.LEFT:\n        b = this.selectParent_();\n        break;\n\n      case Blockly.utils.KeyCodes.RIGHT:\n        b = this.selectChild_();\n        break;\n\n      case Blockly.utils.KeyCodes.ENTER:\n      case Blockly.utils.KeyCodes.SPACE:\n        this.selectedItem_ && this.selectedItem_.isCollapsible() && (this.selectedItem_.toggleExpanded(), b = !0);\n        break;\n\n      default:\n        b = !1;\n    }\n\n    !b && this.selectedItem_ && this.selectedItem_.onKeyDown && (b = this.selectedItem_.onKeyDown(a));\n    b && a.preventDefault();\n  };\n\n  Blockly.Toolbox.prototype.createFlyout_ = function () {\n    var a = this.workspace_,\n        b = new Blockly.Options({\n      parentWorkspace: a,\n      rtl: a.RTL,\n      oneBasedIndex: a.options.oneBasedIndex,\n      horizontalLayout: a.horizontalLayout,\n      renderer: a.options.renderer,\n      rendererOverrides: a.options.rendererOverrides,\n      move: {\n        scrollbars: !0\n      }\n    });\n    b.toolboxPosition = a.options.toolboxPosition;\n    return new (a.horizontalLayout ? Blockly.registry.getClassFromOptions(Blockly.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX, a.options, !0) : Blockly.registry.getClassFromOptions(Blockly.registry.Type.FLYOUTS_VERTICAL_TOOLBOX, a.options, !0))(b);\n  };\n\n  Blockly.Toolbox.prototype.render = function (a) {\n    this.toolboxDef_ = a;\n\n    for (var b = 0; b < this.contents_.length; b++) {\n      var c = this.contents_[b];\n      c && c.dispose();\n    }\n\n    this.contents_ = [];\n    this.contentMap_ = {};\n    this.renderContents_(a.contents);\n    this.position();\n  };\n\n  Blockly.Toolbox.prototype.renderContents_ = function (a) {\n    for (var b = document.createDocumentFragment(), c = 0, d; d = a[c]; c++) {\n      this.createToolboxItem_(d, b);\n    }\n\n    this.contentsDiv_.appendChild(b);\n  };\n\n  Blockly.Toolbox.prototype.createToolboxItem_ = function (a, b) {\n    var c = a.kind;\n    \"CATEGORY\" == c.toUpperCase() && Blockly.utils.toolbox.isCategoryCollapsible(a) && (c = Blockly.CollapsibleToolboxCategory.registrationName);\n    if (c = Blockly.registry.getClass(Blockly.registry.Type.TOOLBOX_ITEM, c.toLowerCase())) a = new c(a, this), this.addToolboxItem_(a), a.init(), (c = a.getDiv()) && b.appendChild(c), a.getClickTarget && a.getClickTarget().setAttribute(\"id\", a.getId());\n  };\n\n  Blockly.Toolbox.prototype.addToolboxItem_ = function (a) {\n    this.contents_.push(a);\n    this.contentMap_[a.getId()] = a;\n    if (a.isCollapsible()) for (var b = 0, c; c = a.getChildToolboxItems()[b]; b++) {\n      this.addToolboxItem_(c);\n    }\n  };\n\n  Blockly.Toolbox.prototype.getToolboxItems = function () {\n    return this.contents_;\n  };\n\n  Blockly.Toolbox.prototype.addStyle = function (a) {\n    Blockly.utils.dom.addClass(this.HtmlDiv, a);\n  };\n\n  Blockly.Toolbox.prototype.removeStyle = function (a) {\n    Blockly.utils.dom.removeClass(this.HtmlDiv, a);\n  };\n\n  Blockly.Toolbox.prototype.getClientRect = function () {\n    if (!this.HtmlDiv) return null;\n    var a = this.HtmlDiv.getBoundingClientRect(),\n        b = a.top,\n        c = b + a.height,\n        d = a.left;\n    a = d + a.width;\n    return this.toolboxPosition == Blockly.utils.toolbox.Position.TOP ? new Blockly.utils.Rect(-1E7, c, -1E7, 1E7) : this.toolboxPosition == Blockly.utils.toolbox.Position.BOTTOM ? new Blockly.utils.Rect(b, 1E7, -1E7, 1E7) : this.toolboxPosition == Blockly.utils.toolbox.Position.LEFT ? new Blockly.utils.Rect(-1E7, 1E7, -1E7, a) : new Blockly.utils.Rect(-1E7, 1E7, d, 1E7);\n  };\n\n  Blockly.Toolbox.prototype.getToolboxItemById = function (a) {\n    return this.contentMap_[a];\n  };\n\n  Blockly.Toolbox.prototype.getWidth = function () {\n    return this.width_;\n  };\n\n  Blockly.Toolbox.prototype.getHeight = function () {\n    return this.height_;\n  };\n\n  Blockly.Toolbox.prototype.getFlyout = function () {\n    return this.flyout_;\n  };\n\n  Blockly.Toolbox.prototype.getWorkspace = function () {\n    return this.workspace_;\n  };\n\n  Blockly.Toolbox.prototype.getSelectedItem = function () {\n    return this.selectedItem_;\n  };\n\n  Blockly.Toolbox.prototype.getPreviouslySelectedItem = function () {\n    return this.previouslySelectedItem_;\n  };\n\n  Blockly.Toolbox.prototype.isHorizontal = function () {\n    return this.horizontalLayout_;\n  };\n\n  Blockly.Toolbox.prototype.position = function () {\n    var a = this.workspace_.getMetrics(),\n        b = this.HtmlDiv;\n    b && (this.horizontalLayout_ ? (b.style.left = \"0\", b.style.height = \"auto\", b.style.width = \"100%\", this.height_ = b.offsetHeight, this.width_ = a.viewWidth, this.toolboxPosition == Blockly.utils.toolbox.Position.TOP ? b.style.top = \"0\" : b.style.bottom = \"0\") : (this.toolboxPosition == Blockly.utils.toolbox.Position.RIGHT ? b.style.right = \"0\" : b.style.left = \"0\", b.style.height = \"100%\", this.width_ = b.offsetWidth, this.height_ = a.viewHeight), this.flyout_.position());\n  };\n\n  Blockly.Toolbox.prototype.handleToolboxItemResize = function () {\n    var a = this.workspace_,\n        b = this.HtmlDiv.getBoundingClientRect();\n    a.translate(this.toolboxPosition == Blockly.utils.toolbox.Position.LEFT ? a.scrollX + b.width : a.scrollX, this.toolboxPosition == Blockly.utils.toolbox.Position.TOP ? a.scrollY + b.height : a.scrollY);\n    Blockly.svgResize(a);\n  };\n\n  Blockly.Toolbox.prototype.clearSelection = function () {\n    this.setSelectedItem(null);\n  };\n\n  Blockly.Toolbox.prototype.refreshTheme = function () {\n    for (var a = 0; a < this.contents_.length; a++) {\n      var b = this.contents_[a];\n      b.refreshTheme && b.refreshTheme();\n    }\n  };\n\n  Blockly.Toolbox.prototype.refreshSelection = function () {\n    this.selectedItem_ && this.selectedItem_.isSelectable() && this.selectedItem_.getContents().length && this.flyout_.show(this.selectedItem_.getContents());\n  };\n\n  Blockly.Toolbox.prototype.setVisible = function (a) {\n    this.HtmlDiv.style.display = a ? \"block\" : \"none\";\n  };\n\n  Blockly.Toolbox.prototype.setSelectedItem = function (a) {\n    var b = this.selectedItem_;\n    !a && !b || a && !a.isSelectable() || (this.shouldDeselectItem_(b, a) && null != b && this.deselectItem_(b), this.shouldSelectItem_(b, a) && null != a && this.selectItem_(b, a), this.updateFlyout_(b, a), this.fireSelectEvent_(b, a));\n  };\n\n  Blockly.Toolbox.prototype.shouldDeselectItem_ = function (a, b) {\n    return null != a && (!a.isCollapsible() || a != b);\n  };\n\n  Blockly.Toolbox.prototype.shouldSelectItem_ = function (a, b) {\n    return null != b && b != a;\n  };\n\n  Blockly.Toolbox.prototype.deselectItem_ = function (a) {\n    this.selectedItem_ = null;\n    this.previouslySelectedItem_ = a;\n    a.setSelected(!1);\n    Blockly.utils.aria.setState(this.contentsDiv_, Blockly.utils.aria.State.ACTIVEDESCENDANT, \"\");\n  };\n\n  Blockly.Toolbox.prototype.selectItem_ = function (a, b) {\n    this.selectedItem_ = b;\n    this.previouslySelectedItem_ = a;\n    b.setSelected(!0);\n    Blockly.utils.aria.setState(this.contentsDiv_, Blockly.utils.aria.State.ACTIVEDESCENDANT, b.getId());\n  };\n\n  Blockly.Toolbox.prototype.selectItemByPosition = function (a) {\n    -1 < a && a < this.contents_.length && (a = this.contents_[a], a.isSelectable() && this.setSelectedItem(a));\n  };\n\n  Blockly.Toolbox.prototype.updateFlyout_ = function (a, b) {\n    (a != b || b.isCollapsible()) && b && b.getContents().length ? (this.flyout_.show(b.getContents()), this.flyout_.scrollToStart()) : this.flyout_.hide();\n  };\n\n  Blockly.Toolbox.prototype.fireSelectEvent_ = function (a, b) {\n    var c = a && a.getName(),\n        d = b && b.getName();\n    a == b && (d = null);\n    a = new (Blockly.Events.get(Blockly.Events.TOOLBOX_ITEM_SELECT))(c, d, this.workspace_.id);\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.Toolbox.prototype.selectParent_ = function () {\n    return this.selectedItem_ ? this.selectedItem_.isCollapsible() && this.selectedItem_.isExpanded() ? (this.selectedItem_.setExpanded(!1), !0) : this.selectedItem_.getParent() && this.selectedItem_.getParent().isSelectable() ? (this.setSelectedItem(this.selectedItem_.getParent()), !0) : !1 : !1;\n  };\n\n  Blockly.Toolbox.prototype.selectChild_ = function () {\n    if (!this.selectedItem_ || !this.selectedItem_.isCollapsible()) return !1;\n    var a = this.selectedItem_;\n    a.isExpanded() ? this.selectNext_() : a.setExpanded(!0);\n    return !0;\n  };\n\n  Blockly.Toolbox.prototype.selectNext_ = function () {\n    if (!this.selectedItem_) return !1;\n    var a = this.contents_.indexOf(this.selectedItem_) + 1;\n\n    if (-1 < a && a < this.contents_.length) {\n      for (var b = this.contents_[a]; b && !b.isSelectable();) {\n        b = this.contents_[++a];\n      }\n\n      if (b && b.isSelectable()) return this.setSelectedItem(b), !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.Toolbox.prototype.selectPrevious_ = function () {\n    if (!this.selectedItem_) return !1;\n    var a = this.contents_.indexOf(this.selectedItem_) - 1;\n\n    if (-1 < a && a < this.contents_.length) {\n      for (var b = this.contents_[a]; b && !b.isSelectable();) {\n        b = this.contents_[--a];\n      }\n\n      if (b && b.isSelectable()) return this.setSelectedItem(b), !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.Toolbox.prototype.dispose = function () {\n    this.flyout_.dispose();\n\n    for (var a = 0; a < this.contents_.length; a++) {\n      this.contents_[a].dispose();\n    }\n\n    for (a = 0; a < this.boundEvents_.length; a++) {\n      Blockly.browserEvents.unbind(this.boundEvents_[a]);\n    }\n\n    this.boundEvents_ = [];\n    this.contents_ = [];\n    this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv);\n    Blockly.utils.dom.removeNode(this.HtmlDiv);\n  };\n\n  Blockly.Css.register([\".blocklyToolboxDelete {\", 'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;', \"}\", \".blocklyToolboxGrab {\", 'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;', \"cursor: grabbing;\", \"cursor: -webkit-grabbing;\", \"}\", \".blocklyToolboxDiv {\", \"background-color: #ddd;\", \"overflow-x: visible;\", \"overflow-y: auto;\", \"padding: 4px 0 4px 0;\", \"position: absolute;\", \"z-index: 70;\", \"-webkit-tap-highlight-color: transparent;\", \"}\", \".blocklyToolboxContents {\", \"display: flex;\", \"flex-wrap: wrap;\", \"flex-direction: column;\", \"}\", \".blocklyToolboxContents:focus {\", \"outline: none;\", \"}\"]);\n  Blockly.registry.register(Blockly.registry.Type.TOOLBOX, Blockly.registry.DEFAULT, Blockly.Toolbox);\n\n  Blockly.Events.TrashcanOpen = function (a, b) {\n    Blockly.Events.TrashcanOpen.superClass_.constructor.call(this, b);\n    this.isOpen = a;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.TrashcanOpen, Blockly.Events.UiBase);\n  Blockly.Events.TrashcanOpen.prototype.type = Blockly.Events.TRASHCAN_OPEN;\n\n  Blockly.Events.TrashcanOpen.prototype.toJson = function () {\n    var a = Blockly.Events.TrashcanOpen.superClass_.toJson.call(this);\n    a.isOpen = this.isOpen;\n    return a;\n  };\n\n  Blockly.Events.TrashcanOpen.prototype.fromJson = function (a) {\n    Blockly.Events.TrashcanOpen.superClass_.fromJson.call(this, a);\n    this.isOpen = a.isOpen;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.TRASHCAN_OPEN, Blockly.Events.TrashcanOpen);\n\n  Blockly.IPlugin = function () {};\n\n  Blockly.IPositionable = function () {};\n\n  Blockly.Trashcan = function (a) {\n    this.workspace_ = a;\n    this.contents_ = [];\n    this.flyout = null;\n    0 >= this.workspace_.options.maxTrashcanContents || (a = new Blockly.Options({\n      scrollbars: !0,\n      parentWorkspace: this.workspace_,\n      rtl: this.workspace_.RTL,\n      oneBasedIndex: this.workspace_.options.oneBasedIndex,\n      renderer: this.workspace_.options.renderer,\n      rendererOverrides: this.workspace_.options.rendererOverrides,\n      move: {\n        scrollbars: !0\n      }\n    }), this.workspace_.horizontalLayout ? (a.toolboxPosition = this.workspace_.toolboxPosition == Blockly.utils.toolbox.Position.TOP ? Blockly.utils.toolbox.Position.BOTTOM : Blockly.utils.toolbox.Position.TOP, this.flyout = new (Blockly.registry.getClassFromOptions(Blockly.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX, this.workspace_.options, !0))(a)) : (a.toolboxPosition = this.workspace_.toolboxPosition == Blockly.utils.toolbox.Position.RIGHT ? Blockly.utils.toolbox.Position.LEFT : Blockly.utils.toolbox.Position.RIGHT, this.flyout = new (Blockly.registry.getClassFromOptions(Blockly.registry.Type.FLYOUTS_VERTICAL_TOOLBOX, this.workspace_.options, !0))(a)), this.workspace_.addChangeListener(this.onDelete_.bind(this)));\n  };\n\n  Blockly.Trashcan.prototype.WIDTH_ = 47;\n  Blockly.Trashcan.prototype.BODY_HEIGHT_ = 44;\n  Blockly.Trashcan.prototype.LID_HEIGHT_ = 16;\n  Blockly.Trashcan.prototype.MARGIN_BOTTOM_ = 20;\n  Blockly.Trashcan.prototype.MARGIN_SIDE_ = 20;\n  Blockly.Trashcan.prototype.MARGIN_HOTSPOT_ = 10;\n  Blockly.Trashcan.prototype.SPRITE_LEFT_ = 0;\n  Blockly.Trashcan.prototype.SPRITE_TOP_ = 32;\n  Blockly.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_ = .1;\n  Blockly.Trashcan.ANIMATION_LENGTH_ = 80;\n  Blockly.Trashcan.ANIMATION_FRAMES_ = 4;\n  Blockly.Trashcan.OPACITY_MIN_ = .4;\n  Blockly.Trashcan.OPACITY_MAX_ = .8;\n  Blockly.Trashcan.MAX_LID_ANGLE_ = 45;\n  Blockly.Trashcan.prototype.isLidOpen = !1;\n  Blockly.Trashcan.prototype.minOpenness_ = 0;\n  Blockly.Trashcan.prototype.svgGroup_ = null;\n  Blockly.Trashcan.prototype.svgLid_ = null;\n  Blockly.Trashcan.prototype.lidTask_ = 0;\n  Blockly.Trashcan.prototype.lidOpen_ = 0;\n  Blockly.Trashcan.prototype.left_ = 0;\n  Blockly.Trashcan.prototype.top_ = 0;\n\n  Blockly.Trashcan.prototype.createDom = function () {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyTrash\"\n    }, null);\n    var a = String(Math.random()).substring(2);\n    var b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CLIPPATH, {\n      id: \"blocklyTrashBodyClipPath\" + a\n    }, this.svgGroup_);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      width: this.WIDTH_,\n      height: this.BODY_HEIGHT_,\n      y: this.LID_HEIGHT_\n    }, b);\n    var c = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {\n      width: Blockly.SPRITE.width,\n      x: -this.SPRITE_LEFT_,\n      height: Blockly.SPRITE.height,\n      y: -this.SPRITE_TOP_,\n      \"clip-path\": \"url(#blocklyTrashBodyClipPath\" + a + \")\"\n    }, this.svgGroup_);\n    c.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.workspace_.options.pathToMedia + Blockly.SPRITE.url);\n    b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CLIPPATH, {\n      id: \"blocklyTrashLidClipPath\" + a\n    }, this.svgGroup_);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      width: this.WIDTH_,\n      height: this.LID_HEIGHT_\n    }, b);\n    this.svgLid_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {\n      width: Blockly.SPRITE.width,\n      x: -this.SPRITE_LEFT_,\n      height: Blockly.SPRITE.height,\n      y: -this.SPRITE_TOP_,\n      \"clip-path\": \"url(#blocklyTrashLidClipPath\" + a + \")\"\n    }, this.svgGroup_);\n    this.svgLid_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.workspace_.options.pathToMedia + Blockly.SPRITE.url);\n    Blockly.browserEvents.bind(this.svgGroup_, \"mousedown\", this, this.blockMouseDownWhenOpenable_);\n    Blockly.browserEvents.bind(this.svgGroup_, \"mouseup\", this, this.click);\n    Blockly.browserEvents.bind(c, \"mouseover\", this, this.mouseOver_);\n    Blockly.browserEvents.bind(c, \"mouseout\", this, this.mouseOut_);\n    this.animateLid_();\n    return this.svgGroup_;\n  };\n\n  Blockly.Trashcan.prototype.init = function (a) {\n    0 < this.workspace_.options.maxTrashcanContents && (Blockly.utils.dom.insertAfter(this.flyout.createDom(Blockly.utils.Svg.SVG), this.workspace_.getParentSvg()), this.flyout.init(this.workspace_));\n    this.verticalSpacing_ = this.MARGIN_BOTTOM_ + a;\n    this.setLidOpen(!1);\n    return this.verticalSpacing_ + this.BODY_HEIGHT_ + this.LID_HEIGHT_;\n  };\n\n  Blockly.Trashcan.prototype.dispose = function () {\n    this.svgGroup_ && (Blockly.utils.dom.removeNode(this.svgGroup_), this.svgGroup_ = null);\n    this.workspace_ = this.svgLid_ = null;\n    clearTimeout(this.lidTask_);\n  };\n\n  Blockly.Trashcan.prototype.hasContents_ = function () {\n    return !!this.contents_.length;\n  };\n\n  Blockly.Trashcan.prototype.contentsIsOpen = function () {\n    return this.flyout.isVisible();\n  };\n\n  Blockly.Trashcan.prototype.openFlyout = function () {\n    if (!this.contentsIsOpen()) {\n      for (var a = [], b = 0, c; c = this.contents_[b]; b++) {\n        a[b] = Blockly.Xml.textToDom(c);\n      }\n\n      this.flyout.show(a);\n      this.fireUiEvent_(!0);\n    }\n  };\n\n  Blockly.Trashcan.prototype.closeFlyout = function () {\n    this.contentsIsOpen() && (this.flyout.hide(), this.fireUiEvent_(!1));\n  };\n\n  Blockly.Trashcan.prototype.emptyContents = function () {\n    this.hasContents_() && (this.contents_.length = 0, this.setMinOpenness_(0), this.closeFlyout());\n  };\n\n  Blockly.Trashcan.prototype.position = function (a, b) {\n    if (this.verticalSpacing_) {\n      this.left_ = a.toolboxMetrics.position == Blockly.utils.toolbox.Position.LEFT || this.workspace_.horizontalLayout && !this.workspace_.RTL ? a.viewMetrics.width + a.absoluteMetrics.left - this.WIDTH_ - this.MARGIN_SIDE_ - Blockly.Scrollbar.scrollbarThickness : this.MARGIN_SIDE_ + Blockly.Scrollbar.scrollbarThickness;\n      var c = this.BODY_HEIGHT_ + this.LID_HEIGHT_,\n          d = this.top_ = a.absoluteMetrics.top + this.verticalSpacing_,\n          e = a.absoluteMetrics.top + a.viewMetrics.height - c - this.verticalSpacing_;\n      this.top_ = (a = a.toolboxMetrics.position !== Blockly.utils.toolbox.Position.BOTTOM) ? e : d;\n\n      for (var f = this.getBoundingRectangle(), g = 0, h; h = b[g]; g++) {\n        f.intersects(h) && (this.top_ = a ? h.top - c - this.MARGIN_BOTTOM_ : h.bottom + this.MARGIN_BOTTOM_, f = this.getBoundingRectangle(), g = -1);\n      }\n\n      this.top_ = Blockly.utils.math.clamp(d, this.top_, e);\n      this.svgGroup_.setAttribute(\"transform\", \"translate(\" + this.left_ + \",\" + this.top_ + \")\");\n    }\n  };\n\n  Blockly.Trashcan.prototype.getBoundingRectangle = function () {\n    return new Blockly.utils.Rect(this.top_, this.top_ + this.BODY_HEIGHT_ + this.LID_HEIGHT_, this.left_, this.left_ + this.WIDTH_);\n  };\n\n  Blockly.Trashcan.prototype.getClientRect = function () {\n    if (!this.svgGroup_) return null;\n    var a = this.svgGroup_.getBoundingClientRect(),\n        b = a.top + this.SPRITE_TOP_ - this.MARGIN_HOTSPOT_;\n    a = a.left + this.SPRITE_LEFT_ - this.MARGIN_HOTSPOT_;\n    return new Blockly.utils.Rect(b, b + this.LID_HEIGHT_ + this.BODY_HEIGHT_ + 2 * this.MARGIN_HOTSPOT_, a, a + this.WIDTH_ + 2 * this.MARGIN_HOTSPOT_);\n  };\n\n  Blockly.Trashcan.prototype.setLidOpen = function (a) {\n    this.isLidOpen != a && (clearTimeout(this.lidTask_), this.isLidOpen = a, this.animateLid_());\n  };\n\n  Blockly.Trashcan.prototype.animateLid_ = function () {\n    var a = Blockly.Trashcan.ANIMATION_FRAMES_,\n        b = 1 / (a + 1);\n    this.lidOpen_ += this.isLidOpen ? b : -b;\n    this.lidOpen_ = Math.min(Math.max(this.lidOpen_, this.minOpenness_), 1);\n    this.setLidAngle_(this.lidOpen_ * Blockly.Trashcan.MAX_LID_ANGLE_);\n    b = Blockly.Trashcan.OPACITY_MIN_;\n    this.svgGroup_.style.opacity = b + this.lidOpen_ * (Blockly.Trashcan.OPACITY_MAX_ - b);\n    this.lidOpen_ > this.minOpenness_ && 1 > this.lidOpen_ && (this.lidTask_ = setTimeout(this.animateLid_.bind(this), Blockly.Trashcan.ANIMATION_LENGTH_ / a));\n  };\n\n  Blockly.Trashcan.prototype.setLidAngle_ = function (a) {\n    var b = this.workspace_.toolboxPosition == Blockly.utils.toolbox.Position.RIGHT || this.workspace_.horizontalLayout && this.workspace_.RTL;\n    this.svgLid_.setAttribute(\"transform\", \"rotate(\" + (b ? -a : a) + \",\" + (b ? 4 : this.WIDTH_ - 4) + \",\" + (this.LID_HEIGHT_ - 2) + \")\");\n  };\n\n  Blockly.Trashcan.prototype.setMinOpenness_ = function (a) {\n    this.minOpenness_ = a;\n    this.isLidOpen || this.setLidAngle_(a * Blockly.Trashcan.MAX_LID_ANGLE_);\n  };\n\n  Blockly.Trashcan.prototype.closeLid = function () {\n    this.setLidOpen(!1);\n  };\n\n  Blockly.Trashcan.prototype.click = function () {\n    this.hasContents_() && this.openFlyout();\n  };\n\n  Blockly.Trashcan.prototype.fireUiEvent_ = function (a) {\n    a = new (Blockly.Events.get(Blockly.Events.TRASHCAN_OPEN))(a, this.workspace_.id);\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.Trashcan.prototype.blockMouseDownWhenOpenable_ = function (a) {\n    !this.contentsIsOpen() && this.hasContents_() && a.stopPropagation();\n  };\n\n  Blockly.Trashcan.prototype.mouseOver_ = function () {\n    this.hasContents_() && this.setLidOpen(!0);\n  };\n\n  Blockly.Trashcan.prototype.mouseOut_ = function () {\n    this.setLidOpen(!1);\n  };\n\n  Blockly.Trashcan.prototype.onDelete_ = function (a) {\n    if (!(0 >= this.workspace_.options.maxTrashcanContents) && a.type == Blockly.Events.BLOCK_DELETE && a.oldXml.tagName && \"shadow\" != a.oldXml.tagName.toLowerCase() && (a = this.cleanBlockXML_(a.oldXml), -1 == this.contents_.indexOf(a))) {\n      for (this.contents_.unshift(a); this.contents_.length > this.workspace_.options.maxTrashcanContents;) {\n        this.contents_.pop();\n      }\n\n      this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_);\n    }\n  };\n\n  Blockly.Trashcan.prototype.cleanBlockXML_ = function (a) {\n    for (var b = a = a.cloneNode(!0); b;) {\n      b.removeAttribute && (b.removeAttribute(\"x\"), b.removeAttribute(\"y\"), b.removeAttribute(\"id\"), b.removeAttribute(\"disabled\"), \"comment\" == b.nodeName && (b.removeAttribute(\"h\"), b.removeAttribute(\"w\"), b.removeAttribute(\"pinned\")));\n      var c = b.firstChild || b.nextSibling;\n      if (!c) for (c = b.parentNode; c;) {\n        if (c.nextSibling) {\n          c = c.nextSibling;\n          break;\n        }\n\n        c = c.parentNode;\n      }\n      b = c;\n    }\n\n    return Blockly.Xml.domToText(a);\n  };\n\n  Blockly.VariablesDynamic = {};\n\n  Blockly.VariablesDynamic.onCreateVariableButtonClick_String = function (a) {\n    Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(), void 0, \"String\");\n  };\n\n  Blockly.VariablesDynamic.onCreateVariableButtonClick_Number = function (a) {\n    Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(), void 0, \"Number\");\n  };\n\n  Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour = function (a) {\n    Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(), void 0, \"Colour\");\n  };\n\n  Blockly.VariablesDynamic.flyoutCategory = function (a) {\n    var b = [],\n        c = document.createElement(\"button\");\n    c.setAttribute(\"text\", Blockly.Msg.NEW_STRING_VARIABLE);\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE_STRING\");\n    b.push(c);\n    c = document.createElement(\"button\");\n    c.setAttribute(\"text\", Blockly.Msg.NEW_NUMBER_VARIABLE);\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE_NUMBER\");\n    b.push(c);\n    c = document.createElement(\"button\");\n    c.setAttribute(\"text\", Blockly.Msg.NEW_COLOUR_VARIABLE);\n    c.setAttribute(\"callbackKey\", \"CREATE_VARIABLE_COLOUR\");\n    b.push(c);\n    a.registerButtonCallback(\"CREATE_VARIABLE_STRING\", Blockly.VariablesDynamic.onCreateVariableButtonClick_String);\n    a.registerButtonCallback(\"CREATE_VARIABLE_NUMBER\", Blockly.VariablesDynamic.onCreateVariableButtonClick_Number);\n    a.registerButtonCallback(\"CREATE_VARIABLE_COLOUR\", Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour);\n    a = Blockly.VariablesDynamic.flyoutCategoryBlocks(a);\n    return b = b.concat(a);\n  };\n\n  Blockly.VariablesDynamic.flyoutCategoryBlocks = function (a) {\n    a = a.getAllVariables();\n    var b = [];\n\n    if (0 < a.length) {\n      if (Blockly.Blocks.variables_set_dynamic) {\n        var c = a[a.length - 1],\n            d = Blockly.utils.xml.createElement(\"block\");\n        d.setAttribute(\"type\", \"variables_set_dynamic\");\n        d.setAttribute(\"gap\", 24);\n        d.appendChild(Blockly.Variables.generateVariableFieldDom(c));\n        b.push(d);\n      }\n\n      if (Blockly.Blocks.variables_get_dynamic) {\n        a.sort(Blockly.VariableModel.compareByName);\n        c = 0;\n\n        for (var e; e = a[c]; c++) {\n          d = Blockly.utils.xml.createElement(\"block\"), d.setAttribute(\"type\", \"variables_get_dynamic\"), d.setAttribute(\"gap\", 8), d.appendChild(Blockly.Variables.generateVariableFieldDom(e)), b.push(d);\n        }\n      }\n    }\n\n    return b;\n  };\n\n  Blockly.ZoomControls = function (a) {\n    this.workspace_ = a;\n    this.zoomResetGroup_ = this.zoomOutGroup_ = this.zoomInGroup_ = this.verticalSpacing_ = this.onZoomOutWrapper_ = this.onZoomInWrapper_ = this.onZoomResetWrapper_ = null;\n  };\n\n  Blockly.ZoomControls.prototype.WIDTH_ = 32;\n  Blockly.ZoomControls.prototype.HEIGHT_ = 110;\n  Blockly.ZoomControls.prototype.MARGIN_BOTTOM_ = 20;\n  Blockly.ZoomControls.prototype.MARGIN_SIDE_ = 20;\n  Blockly.ZoomControls.prototype.svgGroup_ = null;\n  Blockly.ZoomControls.prototype.left_ = 0;\n  Blockly.ZoomControls.prototype.top_ = 0;\n\n  Blockly.ZoomControls.prototype.createDom = function () {\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {}, null);\n    var a = String(Math.random()).substring(2);\n    this.createZoomOutSvg_(a);\n    this.createZoomInSvg_(a);\n    this.workspace_.isMovable() && this.createZoomResetSvg_(a);\n    return this.svgGroup_;\n  };\n\n  Blockly.ZoomControls.prototype.init = function (a) {\n    this.verticalSpacing_ = this.MARGIN_BOTTOM_ + a;\n    return this.verticalSpacing_ + this.HEIGHT_;\n  };\n\n  Blockly.ZoomControls.prototype.dispose = function () {\n    this.svgGroup_ && Blockly.utils.dom.removeNode(this.svgGroup_);\n    this.onZoomResetWrapper_ && Blockly.browserEvents.unbind(this.onZoomResetWrapper_);\n    this.onZoomInWrapper_ && Blockly.browserEvents.unbind(this.onZoomInWrapper_);\n    this.onZoomOutWrapper_ && Blockly.browserEvents.unbind(this.onZoomOutWrapper_);\n  };\n\n  Blockly.ZoomControls.prototype.getBoundingRectangle = function () {\n    return new Blockly.utils.Rect(this.top_, this.top_ + this.HEIGHT_, this.left_, this.left_ + this.WIDTH_);\n  };\n\n  Blockly.ZoomControls.prototype.position = function (a, b) {\n    if (this.verticalSpacing_) {\n      this.left_ = a.toolboxMetrics.position == Blockly.utils.toolbox.Position.LEFT || this.workspace_.horizontalLayout && !this.workspace_.RTL ? a.viewMetrics.width + a.absoluteMetrics.left - this.WIDTH_ - this.MARGIN_SIDE_ - Blockly.Scrollbar.scrollbarThickness : this.MARGIN_SIDE_ + Blockly.Scrollbar.scrollbarThickness;\n      var c = this.top_ = a.absoluteMetrics.top + this.verticalSpacing_,\n          d = a.absoluteMetrics.top + a.viewMetrics.height - this.HEIGHT_ - this.verticalSpacing_;\n      this.top_ = (a = a.toolboxMetrics.position !== Blockly.utils.toolbox.Position.BOTTOM) ? d : c;\n      a ? (this.zoomInGroup_.setAttribute(\"transform\", \"translate(0, 43)\"), this.zoomOutGroup_.setAttribute(\"transform\", \"translate(0, 77)\")) : (this.zoomInGroup_.setAttribute(\"transform\", \"translate(0, 34)\"), this.zoomResetGroup_ && this.zoomResetGroup_.setAttribute(\"transform\", \"translate(0, 77)\"));\n\n      for (var e = this.getBoundingRectangle(), f = 0, g; g = b[f]; f++) {\n        e.intersects(g) && (this.top_ = a ? g.top - this.HEIGHT_ - this.MARGIN_BOTTOM_ : g.bottom + this.MARGIN_BOTTOM_, e = this.getBoundingRectangle(), f = -1);\n      }\n\n      this.top_ = Blockly.utils.math.clamp(c, this.top_, d);\n      this.svgGroup_.setAttribute(\"transform\", \"translate(\" + this.left_ + \",\" + this.top_ + \")\");\n    }\n  };\n\n  Blockly.ZoomControls.prototype.createZoomOutSvg_ = function (a) {\n    this.zoomOutGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyZoom\"\n    }, this.svgGroup_);\n    var b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CLIPPATH, {\n      id: \"blocklyZoomoutClipPath\" + a\n    }, this.zoomOutGroup_);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      width: 32,\n      height: 32\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {\n      width: Blockly.SPRITE.width,\n      height: Blockly.SPRITE.height,\n      x: -64,\n      y: -92,\n      \"clip-path\": \"url(#blocklyZoomoutClipPath\" + a + \")\"\n    }, this.zoomOutGroup_).setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.workspace_.options.pathToMedia + Blockly.SPRITE.url);\n    this.onZoomOutWrapper_ = Blockly.browserEvents.conditionalBind(this.zoomOutGroup_, \"mousedown\", null, this.zoom_.bind(this, -1));\n  };\n\n  Blockly.ZoomControls.prototype.createZoomInSvg_ = function (a) {\n    this.zoomInGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyZoom\"\n    }, this.svgGroup_);\n    var b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CLIPPATH, {\n      id: \"blocklyZoominClipPath\" + a\n    }, this.zoomInGroup_);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      width: 32,\n      height: 32\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {\n      width: Blockly.SPRITE.width,\n      height: Blockly.SPRITE.height,\n      x: -32,\n      y: -92,\n      \"clip-path\": \"url(#blocklyZoominClipPath\" + a + \")\"\n    }, this.zoomInGroup_).setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.workspace_.options.pathToMedia + Blockly.SPRITE.url);\n    this.onZoomInWrapper_ = Blockly.browserEvents.conditionalBind(this.zoomInGroup_, \"mousedown\", null, this.zoom_.bind(this, 1));\n  };\n\n  Blockly.ZoomControls.prototype.zoom_ = function (a, b) {\n    this.workspace_.markFocused();\n    this.workspace_.zoomCenter(a);\n    this.fireZoomEvent_();\n    Blockly.Touch.clearTouchIdentifier();\n    b.stopPropagation();\n    b.preventDefault();\n  };\n\n  Blockly.ZoomControls.prototype.createZoomResetSvg_ = function (a) {\n    this.zoomResetGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyZoom\"\n    }, this.svgGroup_);\n    var b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CLIPPATH, {\n      id: \"blocklyZoomresetClipPath\" + a\n    }, this.zoomResetGroup_);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      width: 32,\n      height: 32\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {\n      width: Blockly.SPRITE.width,\n      height: Blockly.SPRITE.height,\n      y: -92,\n      \"clip-path\": \"url(#blocklyZoomresetClipPath\" + a + \")\"\n    }, this.zoomResetGroup_).setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.workspace_.options.pathToMedia + Blockly.SPRITE.url);\n    this.onZoomResetWrapper_ = Blockly.browserEvents.conditionalBind(this.zoomResetGroup_, \"mousedown\", null, this.resetZoom_.bind(this));\n  };\n\n  Blockly.ZoomControls.prototype.resetZoom_ = function (a) {\n    this.workspace_.markFocused();\n    var b = Math.log(this.workspace_.options.zoomOptions.startScale / this.workspace_.scale) / Math.log(this.workspace_.options.zoomOptions.scaleSpeed);\n    this.workspace_.beginCanvasTransition();\n    this.workspace_.zoomCenter(b);\n    this.workspace_.scrollCenter();\n    setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_), 500);\n    this.fireZoomEvent_();\n    Blockly.Touch.clearTouchIdentifier();\n    a.stopPropagation();\n    a.preventDefault();\n  };\n\n  Blockly.ZoomControls.prototype.fireZoomEvent_ = function () {\n    var a = new (Blockly.Events.get(Blockly.Events.CLICK))(null, this.workspace_.id, \"zoom_controls\");\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.Css.register([\".blocklyZoom>image, .blocklyZoom>svg>image {\", \"opacity: .4;\", \"}\", \".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\", \"opacity: .6;\", \"}\", \".blocklyZoom>image:active, .blocklyZoom>svg>image:active {\", \"opacity: .8;\", \"}\"]);\n  Blockly.ShortcutItems = {};\n  Blockly.ShortcutItems.names = {\n    ESCAPE: \"escape\",\n    DELETE: \"delete\",\n    COPY: \"copy\",\n    CUT: \"cut\",\n    PASTE: \"paste\",\n    UNDO: \"undo\",\n    REDO: \"redo\"\n  };\n\n  Blockly.ShortcutItems.registerEscape = function () {\n    var a = {\n      name: Blockly.ShortcutItems.names.ESCAPE,\n      preconditionFn: function preconditionFn(b) {\n        return !b.options.readOnly;\n      },\n      callback: function callback() {\n        Blockly.hideChaff();\n        return !0;\n      }\n    };\n    Blockly.ShortcutRegistry.registry.register(a);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(Blockly.utils.KeyCodes.ESC, a.name);\n  };\n\n  Blockly.ShortcutItems.registerDelete = function () {\n    var a = {\n      name: Blockly.ShortcutItems.names.DELETE,\n      preconditionFn: function preconditionFn(b) {\n        return !b.options.readOnly && Blockly.selected && Blockly.selected.isDeletable();\n      },\n      callback: function callback(b, c) {\n        c.preventDefault();\n        if (Blockly.Gesture.inProgress()) return !1;\n        Blockly.deleteBlock(Blockly.selected);\n        return !0;\n      }\n    };\n    Blockly.ShortcutRegistry.registry.register(a);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(Blockly.utils.KeyCodes.DELETE, a.name);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(Blockly.utils.KeyCodes.BACKSPACE, a.name);\n  };\n\n  Blockly.ShortcutItems.registerCopy = function () {\n    var a = {\n      name: Blockly.ShortcutItems.names.COPY,\n      preconditionFn: function preconditionFn(c) {\n        return !c.options.readOnly && !Blockly.Gesture.inProgress() && Blockly.selected && Blockly.selected.isDeletable() && Blockly.selected.isMovable();\n      },\n      callback: function callback() {\n        Blockly.hideChaff();\n        Blockly.copy(Blockly.selected);\n        return !0;\n      }\n    };\n    Blockly.ShortcutRegistry.registry.register(a);\n    var b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.C, [Blockly.utils.KeyCodes.CTRL]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.C, [Blockly.utils.KeyCodes.ALT]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.C, [Blockly.utils.KeyCodes.META]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n  };\n\n  Blockly.ShortcutItems.registerCut = function () {\n    var a = {\n      name: Blockly.ShortcutItems.names.CUT,\n      preconditionFn: function preconditionFn(c) {\n        return !c.options.readOnly && !Blockly.Gesture.inProgress() && Blockly.selected && Blockly.selected.isDeletable() && Blockly.selected.isMovable() && !Blockly.selected.workspace.isFlyout;\n      },\n      callback: function callback() {\n        Blockly.copy(Blockly.selected);\n        Blockly.deleteBlock(Blockly.selected);\n        return !0;\n      }\n    };\n    Blockly.ShortcutRegistry.registry.register(a);\n    var b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.X, [Blockly.utils.KeyCodes.CTRL]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.X, [Blockly.utils.KeyCodes.ALT]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.X, [Blockly.utils.KeyCodes.META]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n  };\n\n  Blockly.ShortcutItems.registerPaste = function () {\n    var a = {\n      name: Blockly.ShortcutItems.names.PASTE,\n      preconditionFn: function preconditionFn(c) {\n        return !c.options.readOnly && !Blockly.Gesture.inProgress();\n      },\n      callback: function callback() {\n        return Blockly.paste();\n      }\n    };\n    Blockly.ShortcutRegistry.registry.register(a);\n    var b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.V, [Blockly.utils.KeyCodes.CTRL]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.V, [Blockly.utils.KeyCodes.ALT]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.V, [Blockly.utils.KeyCodes.META]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n  };\n\n  Blockly.ShortcutItems.registerUndo = function () {\n    var a = {\n      name: Blockly.ShortcutItems.names.UNDO,\n      preconditionFn: function preconditionFn(c) {\n        return !c.options.readOnly && !Blockly.Gesture.inProgress();\n      },\n      callback: function callback(c) {\n        Blockly.hideChaff();\n        c.undo(!1);\n        return !0;\n      }\n    };\n    Blockly.ShortcutRegistry.registry.register(a);\n    var b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.Z, [Blockly.utils.KeyCodes.CTRL]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.Z, [Blockly.utils.KeyCodes.ALT]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.Z, [Blockly.utils.KeyCodes.META]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n  };\n\n  Blockly.ShortcutItems.registerRedo = function () {\n    var a = {\n      name: Blockly.ShortcutItems.names.REDO,\n      preconditionFn: function preconditionFn(c) {\n        return !Blockly.Gesture.inProgress() && !c.options.readOnly;\n      },\n      callback: function callback(c) {\n        Blockly.hideChaff();\n        c.undo(!0);\n        return !0;\n      }\n    };\n    Blockly.ShortcutRegistry.registry.register(a);\n    var b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.Z, [Blockly.utils.KeyCodes.SHIFT, Blockly.utils.KeyCodes.CTRL]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.Z, [Blockly.utils.KeyCodes.SHIFT, Blockly.utils.KeyCodes.ALT]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.Z, [Blockly.utils.KeyCodes.SHIFT, Blockly.utils.KeyCodes.META]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n    b = Blockly.ShortcutRegistry.registry.createSerializedKey(Blockly.utils.KeyCodes.Y, [Blockly.utils.KeyCodes.CTRL]);\n    Blockly.ShortcutRegistry.registry.addKeyMapping(b, a.name);\n  };\n\n  Blockly.ShortcutItems.registerDefaultShortcuts = function () {\n    Blockly.ShortcutItems.registerEscape();\n    Blockly.ShortcutItems.registerDelete();\n    Blockly.ShortcutItems.registerCopy();\n    Blockly.ShortcutItems.registerCut();\n    Blockly.ShortcutItems.registerPaste();\n    Blockly.ShortcutItems.registerUndo();\n    Blockly.ShortcutItems.registerRedo();\n  };\n\n  Blockly.ShortcutItems.registerDefaultShortcuts();\n  Blockly.ContextMenuItems = {};\n\n  Blockly.ContextMenuItems.registerUndo = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText() {\n        return Blockly.Msg.UNDO;\n      },\n      preconditionFn: function preconditionFn(a) {\n        return 0 < a.workspace.getUndoStack().length ? \"enabled\" : \"disabled\";\n      },\n      callback: function callback(a) {\n        a.workspace.undo(!1);\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.WORKSPACE,\n      id: \"undoWorkspace\",\n      weight: 1\n    });\n  };\n\n  Blockly.ContextMenuItems.registerRedo = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText() {\n        return Blockly.Msg.REDO;\n      },\n      preconditionFn: function preconditionFn(a) {\n        return 0 < a.workspace.getRedoStack().length ? \"enabled\" : \"disabled\";\n      },\n      callback: function callback(a) {\n        a.workspace.undo(!0);\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.WORKSPACE,\n      id: \"redoWorkspace\",\n      weight: 2\n    });\n  };\n\n  Blockly.ContextMenuItems.registerCleanup = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText() {\n        return Blockly.Msg.CLEAN_UP;\n      },\n      preconditionFn: function preconditionFn(a) {\n        return a.workspace.isMovable() ? 1 < a.workspace.getTopBlocks(!1).length ? \"enabled\" : \"disabled\" : \"hidden\";\n      },\n      callback: function callback(a) {\n        a.workspace.cleanUp();\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.WORKSPACE,\n      id: \"cleanWorkspace\",\n      weight: 3\n    });\n  };\n\n  Blockly.ContextMenuItems.toggleOption_ = function (a, b) {\n    for (var c = 0, d = 0; d < b.length; d++) {\n      for (var e = b[d]; e;) {\n        setTimeout(e.setCollapsed.bind(e, a), c), e = e.getNextBlock(), c += 10;\n      }\n    }\n  };\n\n  Blockly.ContextMenuItems.registerCollapse = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText() {\n        return Blockly.Msg.COLLAPSE_ALL;\n      },\n      preconditionFn: function preconditionFn(a) {\n        if (a.workspace.options.collapse) {\n          a = a.workspace.getTopBlocks(!1);\n\n          for (var b = 0; b < a.length; b++) {\n            for (var c = a[b]; c;) {\n              if (!c.isCollapsed()) return \"enabled\";\n              c = c.getNextBlock();\n            }\n          }\n\n          return \"disabled\";\n        }\n\n        return \"hidden\";\n      },\n      callback: function callback(a) {\n        Blockly.ContextMenuItems.toggleOption_(!0, a.workspace.getTopBlocks(!0));\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.WORKSPACE,\n      id: \"collapseWorkspace\",\n      weight: 4\n    });\n  };\n\n  Blockly.ContextMenuItems.registerExpand = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText() {\n        return Blockly.Msg.EXPAND_ALL;\n      },\n      preconditionFn: function preconditionFn(a) {\n        if (a.workspace.options.collapse) {\n          a = a.workspace.getTopBlocks(!1);\n\n          for (var b = 0; b < a.length; b++) {\n            for (var c = a[b]; c;) {\n              if (c.isCollapsed()) return \"enabled\";\n              c = c.getNextBlock();\n            }\n          }\n\n          return \"disabled\";\n        }\n\n        return \"hidden\";\n      },\n      callback: function callback(a) {\n        Blockly.ContextMenuItems.toggleOption_(!1, a.workspace.getTopBlocks(!0));\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.WORKSPACE,\n      id: \"expandWorkspace\",\n      weight: 5\n    });\n  };\n\n  Blockly.ContextMenuItems.addDeletableBlocks_ = function (a, b) {\n    if (a.isDeletable()) Array.prototype.push.apply(b, a.getDescendants(!1));else {\n      a = a.getChildren(!1);\n\n      for (var c = 0; c < a.length; c++) {\n        Blockly.ContextMenuItems.addDeletableBlocks_(a[c], b);\n      }\n    }\n  };\n\n  Blockly.ContextMenuItems.getDeletableBlocks_ = function (a) {\n    var b = [];\n    a = a.getTopBlocks(!0);\n\n    for (var c = 0; c < a.length; c++) {\n      Blockly.ContextMenuItems.addDeletableBlocks_(a[c], b);\n    }\n\n    return b;\n  };\n\n  Blockly.ContextMenuItems.deleteNext_ = function (a, b) {\n    Blockly.Events.setGroup(b);\n    var c = a.shift();\n    c && (c.workspace ? (c.dispose(!1, !0), setTimeout(Blockly.ContextMenuItems.deleteNext_, 10, a, b)) : Blockly.ContextMenuItems.deleteNext_(a, b));\n    Blockly.Events.setGroup(!1);\n  };\n\n  Blockly.ContextMenuItems.registerDeleteAll = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText(a) {\n        if (a.workspace) return a = Blockly.ContextMenuItems.getDeletableBlocks_(a.workspace).length, 1 == a ? Blockly.Msg.DELETE_BLOCK : Blockly.Msg.DELETE_X_BLOCKS.replace(\"%1\", String(a));\n      },\n      preconditionFn: function preconditionFn(a) {\n        if (a.workspace) return 0 < Blockly.ContextMenuItems.getDeletableBlocks_(a.workspace).length ? \"enabled\" : \"disabled\";\n      },\n      callback: function callback(a) {\n        if (a.workspace) {\n          a.workspace.cancelCurrentGesture();\n          var b = Blockly.ContextMenuItems.getDeletableBlocks_(a.workspace),\n              c = Blockly.utils.genUid();\n          2 > b.length ? Blockly.ContextMenuItems.deleteNext_(b, c) : Blockly.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace(\"%1\", b.length), function (d) {\n            d && Blockly.ContextMenuItems.deleteNext_(b, c);\n          });\n        }\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.WORKSPACE,\n      id: \"workspaceDelete\",\n      weight: 6\n    });\n  };\n\n  Blockly.ContextMenuItems.registerWorkspaceOptions_ = function () {\n    Blockly.ContextMenuItems.registerUndo();\n    Blockly.ContextMenuItems.registerRedo();\n    Blockly.ContextMenuItems.registerCleanup();\n    Blockly.ContextMenuItems.registerCollapse();\n    Blockly.ContextMenuItems.registerExpand();\n    Blockly.ContextMenuItems.registerDeleteAll();\n  };\n\n  Blockly.ContextMenuItems.registerDuplicate = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText() {\n        return Blockly.Msg.DUPLICATE_BLOCK;\n      },\n      preconditionFn: function preconditionFn(a) {\n        a = a.block;\n        return !a.isInFlyout && a.isDeletable() && a.isMovable() ? a.isDuplicatable() ? \"enabled\" : \"disabled\" : \"hidden\";\n      },\n      callback: function callback(a) {\n        a.block && Blockly.duplicate(a.block);\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.BLOCK,\n      id: \"blockDuplicate\",\n      weight: 1\n    });\n  };\n\n  Blockly.ContextMenuItems.registerComment = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText(a) {\n        return a.block.getCommentIcon() ? Blockly.Msg.REMOVE_COMMENT : Blockly.Msg.ADD_COMMENT;\n      },\n      preconditionFn: function preconditionFn(a) {\n        a = a.block;\n        return Blockly.utils.userAgent.IE || a.isInFlyout || !a.workspace.options.comments || a.isCollapsed() || !a.isEditable() ? \"hidden\" : \"enabled\";\n      },\n      callback: function callback(a) {\n        a = a.block;\n        a.getCommentIcon() ? a.setCommentText(null) : a.setCommentText(\"\");\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.BLOCK,\n      id: \"blockComment\",\n      weight: 2\n    });\n  };\n\n  Blockly.ContextMenuItems.registerInline = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText(a) {\n        return a.block.getInputsInline() ? Blockly.Msg.EXTERNAL_INPUTS : Blockly.Msg.INLINE_INPUTS;\n      },\n      preconditionFn: function preconditionFn(a) {\n        a = a.block;\n        if (!a.isInFlyout && a.isMovable() && !a.isCollapsed()) for (var b = 1; b < a.inputList.length; b++) {\n          if (a.inputList[b - 1].type != Blockly.inputTypes.STATEMENT && a.inputList[b].type != Blockly.inputTypes.STATEMENT) return \"enabled\";\n        }\n        return \"hidden\";\n      },\n      callback: function callback(a) {\n        a.block.setInputsInline(!a.block.getInputsInline());\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.BLOCK,\n      id: \"blockInline\",\n      weight: 3\n    });\n  };\n\n  Blockly.ContextMenuItems.registerCollapseExpandBlock = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText(a) {\n        return a.block.isCollapsed() ? Blockly.Msg.EXPAND_BLOCK : Blockly.Msg.COLLAPSE_BLOCK;\n      },\n      preconditionFn: function preconditionFn(a) {\n        a = a.block;\n        return !a.isInFlyout && a.isMovable() ? \"enabled\" : \"hidden\";\n      },\n      callback: function callback(a) {\n        a.block.setCollapsed(!a.block.isCollapsed());\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.BLOCK,\n      id: \"blockCollapseExpand\",\n      weight: 4\n    });\n  };\n\n  Blockly.ContextMenuItems.registerDisable = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText(a) {\n        return a.block.isEnabled() ? Blockly.Msg.DISABLE_BLOCK : Blockly.Msg.ENABLE_BLOCK;\n      },\n      preconditionFn: function preconditionFn(a) {\n        a = a.block;\n        return !a.isInFlyout && a.workspace.options.disable && a.isEditable() ? a.getInheritedDisabled() ? \"disabled\" : \"enabled\" : \"hidden\";\n      },\n      callback: function callback(a) {\n        a = a.block;\n        var b = Blockly.Events.getGroup();\n        b || Blockly.Events.setGroup(!0);\n        a.setEnabled(!a.isEnabled());\n        b || Blockly.Events.setGroup(!1);\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.BLOCK,\n      id: \"blockDisable\",\n      weight: 5\n    });\n  };\n\n  Blockly.ContextMenuItems.registerDelete = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText(a) {\n        var b = a.block;\n        a = b.getDescendants(!1).length;\n        (b = b.getNextBlock()) && (a -= b.getDescendants(!1).length);\n        return 1 == a ? Blockly.Msg.DELETE_BLOCK : Blockly.Msg.DELETE_X_BLOCKS.replace(\"%1\", String(a));\n      },\n      preconditionFn: function preconditionFn(a) {\n        return !a.block.isInFlyout && a.block.isDeletable() ? \"enabled\" : \"hidden\";\n      },\n      callback: function callback(a) {\n        Blockly.Events.setGroup(!0);\n        a.block.dispose(!0, !0);\n        Blockly.Events.setGroup(!1);\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.BLOCK,\n      id: \"blockDelete\",\n      weight: 6\n    });\n  };\n\n  Blockly.ContextMenuItems.registerHelp = function () {\n    Blockly.ContextMenuRegistry.registry.register({\n      displayText: function displayText() {\n        return Blockly.Msg.HELP;\n      },\n      preconditionFn: function preconditionFn(a) {\n        a = a.block;\n        return (\"function\" == typeof a.helpUrl ? a.helpUrl() : a.helpUrl) ? \"enabled\" : \"hidden\";\n      },\n      callback: function callback(a) {\n        a.block.showHelp();\n      },\n      scopeType: Blockly.ContextMenuRegistry.ScopeType.BLOCK,\n      id: \"blockHelp\",\n      weight: 7\n    });\n  };\n\n  Blockly.ContextMenuItems.registerBlockOptions_ = function () {\n    Blockly.ContextMenuItems.registerDuplicate();\n    Blockly.ContextMenuItems.registerComment();\n    Blockly.ContextMenuItems.registerInline();\n    Blockly.ContextMenuItems.registerCollapseExpandBlock();\n    Blockly.ContextMenuItems.registerDisable();\n    Blockly.ContextMenuItems.registerDelete();\n    Blockly.ContextMenuItems.registerHelp();\n  };\n\n  Blockly.ContextMenuItems.registerDefaultOptions = function () {\n    Blockly.ContextMenuItems.registerWorkspaceOptions_();\n    Blockly.ContextMenuItems.registerBlockOptions_();\n  };\n\n  Blockly.ContextMenuItems.registerDefaultOptions();\n\n  Blockly.Mutator = function (a) {\n    Blockly.Mutator.superClass_.constructor.call(this, null);\n    this.quarkNames_ = a;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Mutator, Blockly.Icon);\n  Blockly.Mutator.prototype.workspaceWidth_ = 0;\n  Blockly.Mutator.prototype.workspaceHeight_ = 0;\n\n  Blockly.Mutator.prototype.setBlock = function (a) {\n    this.block_ = a;\n  };\n\n  Blockly.Mutator.prototype.getWorkspace = function () {\n    return this.workspace_;\n  };\n\n  Blockly.Mutator.prototype.drawIcon_ = function (a) {\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyIconShape\",\n      rx: \"4\",\n      ry: \"4\",\n      height: \"16\",\n      width: \"16\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyIconSymbol\",\n      d: \"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CIRCLE, {\n      \"class\": \"blocklyIconShape\",\n      r: \"2.7\",\n      cx: \"8\",\n      cy: \"8\"\n    }, a);\n  };\n\n  Blockly.Mutator.prototype.iconClick_ = function (a) {\n    this.block_.isEditable() && Blockly.Icon.prototype.iconClick_.call(this, a);\n  };\n\n  Blockly.Mutator.prototype.createEditor_ = function () {\n    this.svgDialog_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.SVG, {\n      x: Blockly.Bubble.BORDER_WIDTH,\n      y: Blockly.Bubble.BORDER_WIDTH\n    }, null);\n    if (this.quarkNames_.length) for (var a = Blockly.utils.xml.createElement(\"xml\"), b = 0, c; c = this.quarkNames_[b]; b++) {\n      var d = Blockly.utils.xml.createElement(\"block\");\n      d.setAttribute(\"type\", c);\n      a.appendChild(d);\n    } else a = null;\n    b = new Blockly.Options({\n      disable: !1,\n      parentWorkspace: this.block_.workspace,\n      media: this.block_.workspace.options.pathToMedia,\n      rtl: this.block_.RTL,\n      horizontalLayout: !1,\n      renderer: this.block_.workspace.options.renderer,\n      rendererOverrides: this.block_.workspace.options.rendererOverrides\n    });\n    b.toolboxPosition = this.block_.RTL ? Blockly.utils.toolbox.Position.RIGHT : Blockly.utils.toolbox.Position.LEFT;\n    if (c = !!a) b.languageTree = Blockly.utils.toolbox.convertToolboxDefToJson(a);\n    this.workspace_ = new Blockly.WorkspaceSvg(b);\n    this.workspace_.isMutator = !0;\n    this.workspace_.addChangeListener(Blockly.Events.disableOrphans);\n    a = c ? this.workspace_.addFlyout(Blockly.utils.Svg.G) : null;\n    b = this.workspace_.createDom(\"blocklyMutatorBackground\");\n    a && b.insertBefore(a, this.workspace_.svgBlockCanvas_);\n    this.svgDialog_.appendChild(b);\n    return this.svgDialog_;\n  };\n\n  Blockly.Mutator.prototype.updateEditable = function () {\n    Blockly.Mutator.superClass_.updateEditable.call(this);\n    this.block_.isInFlyout || (this.block_.isEditable() ? this.iconGroup_ && Blockly.utils.dom.removeClass(this.iconGroup_, \"blocklyIconGroupReadonly\") : (this.setVisible(!1), this.iconGroup_ && Blockly.utils.dom.addClass(this.iconGroup_, \"blocklyIconGroupReadonly\")));\n  };\n\n  Blockly.Mutator.prototype.resizeBubble_ = function () {\n    var a = 2 * Blockly.Bubble.BORDER_WIDTH,\n        b = this.workspace_.getCanvas().getBBox(),\n        c = b.width + b.x,\n        d = b.height + 3 * a,\n        e = this.workspace_.getFlyout();\n\n    if (e) {\n      var f = e.getWorkspace().getMetricsManager().getScrollMetrics();\n      d = Math.max(d, f.height + 20);\n      c += e.getWidth();\n    }\n\n    this.block_.RTL && (c = -b.x);\n    c += 3 * a;\n    if (Math.abs(this.workspaceWidth_ - c) > a || Math.abs(this.workspaceHeight_ - d) > a) this.workspaceWidth_ = c, this.workspaceHeight_ = d, this.bubble_.setBubbleSize(c + a, d + a), this.svgDialog_.setAttribute(\"width\", this.workspaceWidth_), this.svgDialog_.setAttribute(\"height\", this.workspaceHeight_), this.workspace_.setCachedParentSvgSize(this.workspaceWidth_, this.workspaceHeight_);\n    this.block_.RTL && (a = \"translate(\" + this.workspaceWidth_ + \",0)\", this.workspace_.getCanvas().setAttribute(\"transform\", a));\n    this.workspace_.resize();\n  };\n\n  Blockly.Mutator.prototype.onBubbleMove_ = function () {\n    this.workspace_ && this.workspace_.recordDeleteAreas();\n  };\n\n  Blockly.Mutator.prototype.setVisible = function (a) {\n    if (a != this.isVisible()) if (Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BUBBLE_OPEN))(this.block_, a, \"mutator\")), a) {\n      this.bubble_ = new Blockly.Bubble(this.block_.workspace, this.createEditor_(), this.block_.pathObject.svgPath, this.iconXY_, null, null);\n      this.bubble_.setSvgId(this.block_.id);\n      this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));\n      var b = this.workspace_.options.languageTree;\n      a = this.workspace_.getFlyout();\n      b && (a.init(this.workspace_), a.show(b));\n      this.rootBlock_ = this.block_.decompose(this.workspace_);\n      b = this.rootBlock_.getDescendants(!1);\n\n      for (var c = 0, d; d = b[c]; c++) {\n        d.render();\n      }\n\n      this.rootBlock_.setMovable(!1);\n      this.rootBlock_.setDeletable(!1);\n      a ? (b = 2 * a.CORNER_RADIUS, a = this.rootBlock_.RTL ? a.getWidth() + b : b) : a = b = 16;\n      this.block_.RTL && (a = -a);\n      this.rootBlock_.moveBy(a, b);\n\n      if (this.block_.saveConnections) {\n        var e = this,\n            f = this.block_;\n        f.saveConnections(this.rootBlock_);\n\n        this.sourceListener_ = function () {\n          f.saveConnections(e.rootBlock_);\n        };\n\n        this.block_.workspace.addChangeListener(this.sourceListener_);\n      }\n\n      this.resizeBubble_();\n      this.workspace_.addChangeListener(this.workspaceChanged_.bind(this));\n      this.applyColour();\n    } else this.svgDialog_ = null, this.workspace_.dispose(), this.rootBlock_ = this.workspace_ = null, this.bubble_.dispose(), this.bubble_ = null, this.workspaceHeight_ = this.workspaceWidth_ = 0, this.sourceListener_ && (this.block_.workspace.removeChangeListener(this.sourceListener_), this.sourceListener_ = null);\n  };\n\n  Blockly.Mutator.prototype.workspaceChanged_ = function (a) {\n    if (!(a.isUiEvent || a.type == Blockly.Events.CHANGE && \"disabled\" == a.element)) {\n      if (!this.workspace_.isDragging()) {\n        a = this.workspace_.getTopBlocks(!1);\n\n        for (var b = 0, c; c = a[b]; b++) {\n          var d = c.getRelativeToSurfaceXY();\n          20 > d.y && c.moveBy(0, 20 - d.y);\n\n          if (c.RTL) {\n            var e = -20,\n                f = this.workspace_.getFlyout();\n            f && (e -= f.getWidth());\n            d.x > e && c.moveBy(e - d.x, 0);\n          } else 20 > d.x && c.moveBy(20 - d.x, 0);\n        }\n      }\n\n      if (this.rootBlock_.workspace == this.workspace_) {\n        Blockly.Events.setGroup(!0);\n        c = this.block_;\n        a = (a = c.mutationToDom()) && Blockly.Xml.domToText(a);\n        b = c.rendered;\n        c.rendered = !1;\n        c.compose(this.rootBlock_);\n        c.rendered = b;\n        c.initSvg();\n        c.rendered && c.render();\n        b = (b = c.mutationToDom()) && Blockly.Xml.domToText(b);\n\n        if (a != b) {\n          Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(c, \"mutation\", null, a, b));\n          var g = Blockly.Events.getGroup();\n          setTimeout(function () {\n            Blockly.Events.setGroup(g);\n            c.bumpNeighbours();\n            Blockly.Events.setGroup(!1);\n          }, Blockly.BUMP_DELAY);\n        }\n\n        this.workspace_.isDragging() || this.resizeBubble_();\n        Blockly.Events.setGroup(!1);\n      }\n    }\n  };\n\n  Blockly.Mutator.prototype.dispose = function () {\n    this.block_.mutator = null;\n    Blockly.Icon.prototype.dispose.call(this);\n  };\n\n  Blockly.Mutator.prototype.updateBlockStyle = function () {\n    var a = this.workspace_;\n\n    if (a && a.getAllBlocks(!1)) {\n      for (var b = a.getAllBlocks(!1), c = 0; c < b.length; c++) {\n        var d = b[c];\n        d.setStyle(d.getStyleName());\n      }\n\n      if (c = a.getFlyout()) for (a = c.workspace_.getAllBlocks(!1), c = 0; c < a.length; c++) {\n        d = a[c], d.setStyle(d.getStyleName());\n      }\n    }\n  };\n\n  Blockly.Mutator.reconnect = function (a, b, c) {\n    if (!a || !a.getSourceBlock().workspace) return !1;\n    c = b.getInput(c).connection;\n    var d = a.targetBlock();\n    return d && d != b || c.targetConnection == a ? !1 : (c.isConnected() && c.disconnect(), c.connect(a), !0);\n  };\n\n  Blockly.Mutator.findParentWs = function (a) {\n    var b = null;\n\n    if (a && a.options) {\n      var c = a.options.parentWorkspace;\n      a.isFlyout ? c && c.options && (b = c.options.parentWorkspace) : c && (b = c);\n    }\n\n    return b;\n  };\n\n  Blockly.FieldTextInput = function (a, b, c) {\n    this.spellcheck_ = !0;\n    Blockly.FieldTextInput.superClass_.constructor.call(this, a, b, c);\n    this.onKeyInputWrapper_ = this.onKeyDownWrapper_ = this.htmlInput_ = null;\n    this.fullBlockClickTarget_ = !1;\n    this.workspace_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldTextInput, Blockly.Field);\n  Blockly.FieldTextInput.prototype.DEFAULT_VALUE = \"\";\n\n  Blockly.FieldTextInput.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.text);\n    return new Blockly.FieldTextInput(b, void 0, a);\n  };\n\n  Blockly.FieldTextInput.prototype.SERIALIZABLE = !0;\n  Blockly.FieldTextInput.BORDERRADIUS = 4;\n  Blockly.FieldTextInput.prototype.CURSOR = \"text\";\n\n  Blockly.FieldTextInput.prototype.configure_ = function (a) {\n    Blockly.FieldTextInput.superClass_.configure_.call(this, a);\n    \"boolean\" == typeof a.spellcheck && (this.spellcheck_ = a.spellcheck);\n  };\n\n  Blockly.FieldTextInput.prototype.initView = function () {\n    if (this.getConstants().FULL_BLOCK_FIELDS) {\n      for (var a = 0, b = 0, c = 0, d; d = this.sourceBlock_.inputList[c]; c++) {\n        for (var e = 0; d.fieldRow[e]; e++) {\n          a++;\n        }\n\n        d.connection && b++;\n      }\n\n      this.fullBlockClickTarget_ = 1 >= a && this.sourceBlock_.outputConnection && !b;\n    } else this.fullBlockClickTarget_ = !1;\n\n    this.fullBlockClickTarget_ ? this.clickTarget_ = this.sourceBlock_.getSvgRoot() : this.createBorderRect_();\n    this.createTextElement_();\n  };\n\n  Blockly.FieldTextInput.prototype.doClassValidation_ = function (a) {\n    return null === a || void 0 === a ? null : String(a);\n  };\n\n  Blockly.FieldTextInput.prototype.doValueInvalid_ = function (a) {\n    this.isBeingEdited_ && (this.isTextValid_ = !1, a = this.value_, this.value_ = this.htmlInput_.untypedDefaultValue_, this.sourceBlock_ && Blockly.Events.isEnabled() && Blockly.Events.fire(new (Blockly.Events.get(Blockly.Events.BLOCK_CHANGE))(this.sourceBlock_, \"field\", this.name || null, a, this.value_)));\n  };\n\n  Blockly.FieldTextInput.prototype.doValueUpdate_ = function (a) {\n    this.isTextValid_ = !0;\n    this.value_ = a;\n    this.isBeingEdited_ || (this.isDirty_ = !0);\n  };\n\n  Blockly.FieldTextInput.prototype.applyColour = function () {\n    this.sourceBlock_ && this.getConstants().FULL_BLOCK_FIELDS && (this.borderRect_ ? this.borderRect_.setAttribute(\"stroke\", this.sourceBlock_.style.colourTertiary) : this.sourceBlock_.pathObject.svgPath.setAttribute(\"fill\", this.getConstants().FIELD_BORDER_RECT_COLOUR));\n  };\n\n  Blockly.FieldTextInput.prototype.render_ = function () {\n    Blockly.FieldTextInput.superClass_.render_.call(this);\n\n    if (this.isBeingEdited_) {\n      this.resizeEditor_();\n      var a = this.htmlInput_;\n      this.isTextValid_ ? (Blockly.utils.dom.removeClass(a, \"blocklyInvalidInput\"), Blockly.utils.aria.setState(a, Blockly.utils.aria.State.INVALID, !1)) : (Blockly.utils.dom.addClass(a, \"blocklyInvalidInput\"), Blockly.utils.aria.setState(a, Blockly.utils.aria.State.INVALID, !0));\n    }\n  };\n\n  Blockly.FieldTextInput.prototype.setSpellcheck = function (a) {\n    a != this.spellcheck_ && (this.spellcheck_ = a, this.htmlInput_ && this.htmlInput_.setAttribute(\"spellcheck\", this.spellcheck_));\n  };\n\n  Blockly.FieldTextInput.prototype.showEditor_ = function (a, b) {\n    this.workspace_ = this.sourceBlock_.workspace;\n    a = b || !1;\n    !a && (Blockly.utils.userAgent.MOBILE || Blockly.utils.userAgent.ANDROID || Blockly.utils.userAgent.IPAD) ? this.showPromptEditor_() : this.showInlineEditor_(a);\n  };\n\n  Blockly.FieldTextInput.prototype.showPromptEditor_ = function () {\n    Blockly.prompt(Blockly.Msg.CHANGE_VALUE_TITLE, this.getText(), function (a) {\n      this.setValue(this.getValueFromEditorText_(a));\n    }.bind(this));\n  };\n\n  Blockly.FieldTextInput.prototype.showInlineEditor_ = function (a) {\n    Blockly.WidgetDiv.show(this, this.sourceBlock_.RTL, this.widgetDispose_.bind(this));\n    this.htmlInput_ = this.widgetCreate_();\n    this.isBeingEdited_ = !0;\n    a || (this.htmlInput_.focus({\n      preventScroll: !0\n    }), this.htmlInput_.select());\n  };\n\n  Blockly.FieldTextInput.prototype.widgetCreate_ = function () {\n    var a = Blockly.WidgetDiv.DIV;\n    Blockly.utils.dom.addClass(this.getClickTarget_(), \"editing\");\n    var b = document.createElement(\"input\");\n    b.className = \"blocklyHtmlInput\";\n    b.setAttribute(\"spellcheck\", this.spellcheck_);\n    var c = this.workspace_.getScale(),\n        d = this.getConstants().FIELD_TEXT_FONTSIZE * c + \"pt\";\n    a.style.fontSize = d;\n    b.style.fontSize = d;\n    d = Blockly.FieldTextInput.BORDERRADIUS * c + \"px\";\n\n    if (this.fullBlockClickTarget_) {\n      d = this.getScaledBBox();\n      d = (d.bottom - d.top) / 2 + \"px\";\n      var e = this.sourceBlock_.getParent() ? this.sourceBlock_.getParent().style.colourTertiary : this.sourceBlock_.style.colourTertiary;\n      b.style.border = 1 * c + \"px solid \" + e;\n      a.style.borderRadius = d;\n      a.style.transition = \"box-shadow 0.25s ease 0s\";\n      this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW && (a.style.boxShadow = \"rgba(255, 255, 255, 0.3) 0px 0px 0px \" + 4 * c + \"px\");\n    }\n\n    b.style.borderRadius = d;\n    a.appendChild(b);\n    b.value = b.defaultValue = this.getEditorText_(this.value_);\n    b.untypedDefaultValue_ = this.value_;\n    b.oldValue_ = null;\n    this.resizeEditor_();\n    this.bindInputEvents_(b);\n    return b;\n  };\n\n  Blockly.FieldTextInput.prototype.widgetDispose_ = function () {\n    this.isBeingEdited_ = !1;\n    this.isTextValid_ = !0;\n    this.forceRerender();\n    if (this.onFinishEditing_) this.onFinishEditing_(this.value_);\n    this.unbindInputEvents_();\n    var a = Blockly.WidgetDiv.DIV.style;\n    a.width = \"auto\";\n    a.height = \"auto\";\n    a.fontSize = \"\";\n    a.transition = \"\";\n    a.boxShadow = \"\";\n    this.htmlInput_ = null;\n    Blockly.utils.dom.removeClass(this.getClickTarget_(), \"editing\");\n  };\n\n  Blockly.FieldTextInput.prototype.bindInputEvents_ = function (a) {\n    this.onKeyDownWrapper_ = Blockly.browserEvents.conditionalBind(a, \"keydown\", this, this.onHtmlInputKeyDown_);\n    this.onKeyInputWrapper_ = Blockly.browserEvents.conditionalBind(a, \"input\", this, this.onHtmlInputChange_);\n  };\n\n  Blockly.FieldTextInput.prototype.unbindInputEvents_ = function () {\n    this.onKeyDownWrapper_ && (Blockly.browserEvents.unbind(this.onKeyDownWrapper_), this.onKeyDownWrapper_ = null);\n    this.onKeyInputWrapper_ && (Blockly.browserEvents.unbind(this.onKeyInputWrapper_), this.onKeyInputWrapper_ = null);\n  };\n\n  Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_ = function (a) {\n    a.keyCode == Blockly.utils.KeyCodes.ENTER ? (Blockly.WidgetDiv.hide(), Blockly.DropDownDiv.hideWithoutAnimation()) : a.keyCode == Blockly.utils.KeyCodes.ESC ? (this.htmlInput_.value = this.htmlInput_.defaultValue, Blockly.WidgetDiv.hide(), Blockly.DropDownDiv.hideWithoutAnimation()) : a.keyCode == Blockly.utils.KeyCodes.TAB && (Blockly.WidgetDiv.hide(), Blockly.DropDownDiv.hideWithoutAnimation(), this.sourceBlock_.tab(this, !a.shiftKey), a.preventDefault());\n  };\n\n  Blockly.FieldTextInput.prototype.onHtmlInputChange_ = function (a) {\n    a = this.htmlInput_.value;\n    a !== this.htmlInput_.oldValue_ && (this.htmlInput_.oldValue_ = a, Blockly.Events.setGroup(!0), a = this.getValueFromEditorText_(a), this.setValue(a), this.forceRerender(), this.resizeEditor_(), Blockly.Events.setGroup(!1));\n  };\n\n  Blockly.FieldTextInput.prototype.setEditorValue_ = function (a) {\n    this.isDirty_ = !0;\n    this.isBeingEdited_ && (this.htmlInput_.value = this.getEditorText_(a));\n    this.setValue(a);\n  };\n\n  Blockly.FieldTextInput.prototype.resizeEditor_ = function () {\n    var a = Blockly.WidgetDiv.DIV,\n        b = this.getScaledBBox();\n    a.style.width = b.right - b.left + \"px\";\n    a.style.height = b.bottom - b.top + \"px\";\n    b = new Blockly.utils.Coordinate(this.sourceBlock_.RTL ? b.right - a.offsetWidth : b.left, b.top);\n    a.style.left = b.x + \"px\";\n    a.style.top = b.y + \"px\";\n  };\n\n  Blockly.FieldTextInput.prototype.isTabNavigable = function () {\n    return !0;\n  };\n\n  Blockly.FieldTextInput.prototype.getText_ = function () {\n    return this.isBeingEdited_ && this.htmlInput_ ? this.htmlInput_.value : null;\n  };\n\n  Blockly.FieldTextInput.prototype.getEditorText_ = function (a) {\n    return String(a);\n  };\n\n  Blockly.FieldTextInput.prototype.getValueFromEditorText_ = function (a) {\n    return a;\n  };\n\n  Blockly.fieldRegistry.register(\"field_input\", Blockly.FieldTextInput);\n\n  Blockly.FieldAngle = function (a, b, c) {\n    this.clockwise_ = Blockly.FieldAngle.CLOCKWISE;\n    this.offset_ = Blockly.FieldAngle.OFFSET;\n    this.wrap_ = Blockly.FieldAngle.WRAP;\n    this.round_ = Blockly.FieldAngle.ROUND;\n    Blockly.FieldAngle.superClass_.constructor.call(this, a, b, c);\n    this.moveSurfaceWrapper_ = this.clickSurfaceWrapper_ = this.clickWrapper_ = this.line_ = this.gauge_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldAngle, Blockly.FieldTextInput);\n  Blockly.FieldAngle.prototype.DEFAULT_VALUE = 0;\n\n  Blockly.FieldAngle.fromJson = function (a) {\n    return new Blockly.FieldAngle(a.angle, void 0, a);\n  };\n\n  Blockly.FieldAngle.prototype.SERIALIZABLE = !0;\n  Blockly.FieldAngle.ROUND = 15;\n  Blockly.FieldAngle.HALF = 50;\n  Blockly.FieldAngle.CLOCKWISE = !1;\n  Blockly.FieldAngle.OFFSET = 0;\n  Blockly.FieldAngle.WRAP = 360;\n  Blockly.FieldAngle.RADIUS = Blockly.FieldAngle.HALF - 1;\n\n  Blockly.FieldAngle.prototype.configure_ = function (a) {\n    Blockly.FieldAngle.superClass_.configure_.call(this, a);\n\n    switch (a.mode) {\n      case \"compass\":\n        this.clockwise_ = !0;\n        this.offset_ = 90;\n        break;\n\n      case \"protractor\":\n        this.clockwise_ = !1, this.offset_ = 0;\n    }\n\n    var b = a.clockwise;\n    \"boolean\" == typeof b && (this.clockwise_ = b);\n    b = a.offset;\n    null != b && (b = Number(b), isNaN(b) || (this.offset_ = b));\n    b = a.wrap;\n    null != b && (b = Number(b), isNaN(b) || (this.wrap_ = b));\n    a = a.round;\n    null != a && (a = Number(a), isNaN(a) || (this.round_ = a));\n  };\n\n  Blockly.FieldAngle.prototype.initView = function () {\n    Blockly.FieldAngle.superClass_.initView.call(this);\n    this.symbol_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TSPAN, {}, null);\n    this.symbol_.appendChild(document.createTextNode(\"\\xB0\"));\n    this.textElement_.appendChild(this.symbol_);\n  };\n\n  Blockly.FieldAngle.prototype.render_ = function () {\n    Blockly.FieldAngle.superClass_.render_.call(this);\n    this.updateGraph_();\n  };\n\n  Blockly.FieldAngle.prototype.showEditor_ = function (a) {\n    Blockly.FieldAngle.superClass_.showEditor_.call(this, a, Blockly.utils.userAgent.MOBILE || Blockly.utils.userAgent.ANDROID || Blockly.utils.userAgent.IPAD);\n    a = this.dropdownCreate_();\n    Blockly.DropDownDiv.getContentDiv().appendChild(a);\n    Blockly.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary, this.sourceBlock_.style.colourTertiary);\n    Blockly.DropDownDiv.showPositionedByField(this, this.dropdownDispose_.bind(this));\n    this.updateGraph_();\n  };\n\n  Blockly.FieldAngle.prototype.dropdownCreate_ = function () {\n    var a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.SVG, {\n      xmlns: Blockly.utils.dom.SVG_NS,\n      \"xmlns:html\": Blockly.utils.dom.HTML_NS,\n      \"xmlns:xlink\": Blockly.utils.dom.XLINK_NS,\n      version: \"1.1\",\n      height: 2 * Blockly.FieldAngle.HALF + \"px\",\n      width: 2 * Blockly.FieldAngle.HALF + \"px\",\n      style: \"touch-action: none\"\n    }, null),\n        b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CIRCLE, {\n      cx: Blockly.FieldAngle.HALF,\n      cy: Blockly.FieldAngle.HALF,\n      r: Blockly.FieldAngle.RADIUS,\n      \"class\": \"blocklyAngleCircle\"\n    }, a);\n    this.gauge_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyAngleGauge\"\n    }, a);\n    this.line_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.LINE, {\n      x1: Blockly.FieldAngle.HALF,\n      y1: Blockly.FieldAngle.HALF,\n      \"class\": \"blocklyAngleLine\"\n    }, a);\n\n    for (var c = 0; 360 > c; c += 15) {\n      Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.LINE, {\n        x1: Blockly.FieldAngle.HALF + Blockly.FieldAngle.RADIUS,\n        y1: Blockly.FieldAngle.HALF,\n        x2: Blockly.FieldAngle.HALF + Blockly.FieldAngle.RADIUS - (0 == c % 45 ? 10 : 5),\n        y2: Blockly.FieldAngle.HALF,\n        \"class\": \"blocklyAngleMarks\",\n        transform: \"rotate(\" + c + \",\" + Blockly.FieldAngle.HALF + \",\" + Blockly.FieldAngle.HALF + \")\"\n      }, a);\n    }\n\n    this.clickWrapper_ = Blockly.browserEvents.conditionalBind(a, \"click\", this, this.hide_);\n    this.clickSurfaceWrapper_ = Blockly.browserEvents.conditionalBind(b, \"click\", this, this.onMouseMove_, !0, !0);\n    this.moveSurfaceWrapper_ = Blockly.browserEvents.conditionalBind(b, \"mousemove\", this, this.onMouseMove_, !0, !0);\n    return a;\n  };\n\n  Blockly.FieldAngle.prototype.dropdownDispose_ = function () {\n    this.clickWrapper_ && (Blockly.browserEvents.unbind(this.clickWrapper_), this.clickWrapper_ = null);\n    this.clickSurfaceWrapper_ && (Blockly.browserEvents.unbind(this.clickSurfaceWrapper_), this.clickSurfaceWrapper_ = null);\n    this.moveSurfaceWrapper_ && (Blockly.browserEvents.unbind(this.moveSurfaceWrapper_), this.moveSurfaceWrapper_ = null);\n    this.line_ = this.gauge_ = null;\n  };\n\n  Blockly.FieldAngle.prototype.hide_ = function () {\n    Blockly.DropDownDiv.hideIfOwner(this);\n    Blockly.WidgetDiv.hide();\n  };\n\n  Blockly.FieldAngle.prototype.onMouseMove_ = function (a) {\n    var b = this.gauge_.ownerSVGElement.getBoundingClientRect(),\n        c = a.clientX - b.left - Blockly.FieldAngle.HALF;\n    a = a.clientY - b.top - Blockly.FieldAngle.HALF;\n    b = Math.atan(-a / c);\n    isNaN(b) || (b = Blockly.utils.math.toDegrees(b), 0 > c ? b += 180 : 0 < a && (b += 360), b = this.clockwise_ ? this.offset_ + 360 - b : 360 - (this.offset_ - b), this.displayMouseOrKeyboardValue_(b));\n  };\n\n  Blockly.FieldAngle.prototype.displayMouseOrKeyboardValue_ = function (a) {\n    this.round_ && (a = Math.round(a / this.round_) * this.round_);\n    a = this.wrapValue_(a);\n    a != this.value_ && this.setEditorValue_(a);\n  };\n\n  Blockly.FieldAngle.prototype.updateGraph_ = function () {\n    if (this.gauge_) {\n      var a = Number(this.getText()) + this.offset_,\n          b = Blockly.utils.math.toRadians(a % 360);\n      a = [\"M \", Blockly.FieldAngle.HALF, \",\", Blockly.FieldAngle.HALF];\n      var c = Blockly.FieldAngle.HALF,\n          d = Blockly.FieldAngle.HALF;\n\n      if (!isNaN(b)) {\n        var e = Number(this.clockwise_),\n            f = Blockly.utils.math.toRadians(this.offset_),\n            g = Math.cos(f) * Blockly.FieldAngle.RADIUS,\n            h = Math.sin(f) * -Blockly.FieldAngle.RADIUS;\n        e && (b = 2 * f - b);\n        c += Math.cos(b) * Blockly.FieldAngle.RADIUS;\n        d -= Math.sin(b) * Blockly.FieldAngle.RADIUS;\n        b = Math.abs(Math.floor((b - f) / Math.PI) % 2);\n        e && (b = 1 - b);\n        a.push(\" l \", g, \",\", h, \" A \", Blockly.FieldAngle.RADIUS, \",\", Blockly.FieldAngle.RADIUS, \" 0 \", b, \" \", e, \" \", c, \",\", d, \" z\");\n      }\n\n      this.gauge_.setAttribute(\"d\", a.join(\"\"));\n      this.line_.setAttribute(\"x2\", c);\n      this.line_.setAttribute(\"y2\", d);\n    }\n  };\n\n  Blockly.FieldAngle.prototype.onHtmlInputKeyDown_ = function (a) {\n    Blockly.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this, a);\n    var b;\n    a.keyCode === Blockly.utils.KeyCodes.LEFT ? b = this.sourceBlock_.RTL ? 1 : -1 : a.keyCode === Blockly.utils.KeyCodes.RIGHT ? b = this.sourceBlock_.RTL ? -1 : 1 : a.keyCode === Blockly.utils.KeyCodes.DOWN ? b = -1 : a.keyCode === Blockly.utils.KeyCodes.UP && (b = 1);\n\n    if (b) {\n      var c = this.getValue();\n      this.displayMouseOrKeyboardValue_(c + b * this.round_);\n      a.preventDefault();\n      a.stopPropagation();\n    }\n  };\n\n  Blockly.FieldAngle.prototype.doClassValidation_ = function (a) {\n    a = Number(a);\n    return isNaN(a) || !isFinite(a) ? null : this.wrapValue_(a);\n  };\n\n  Blockly.FieldAngle.prototype.wrapValue_ = function (a) {\n    a %= 360;\n    0 > a && (a += 360);\n    a > this.wrap_ && (a -= 360);\n    return a;\n  };\n\n  Blockly.Css.register(\".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}\".split(\",\"));\n  Blockly.fieldRegistry.register(\"field_angle\", Blockly.FieldAngle);\n\n  Blockly.FieldCheckbox = function (a, b, c) {\n    this.checkChar_ = null;\n    Blockly.FieldCheckbox.superClass_.constructor.call(this, a, b, c);\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldCheckbox, Blockly.Field);\n  Blockly.FieldCheckbox.prototype.DEFAULT_VALUE = !1;\n\n  Blockly.FieldCheckbox.fromJson = function (a) {\n    return new Blockly.FieldCheckbox(a.checked, void 0, a);\n  };\n\n  Blockly.FieldCheckbox.CHECK_CHAR = \"\\u2713\";\n  Blockly.FieldCheckbox.prototype.SERIALIZABLE = !0;\n  Blockly.FieldCheckbox.prototype.CURSOR = \"default\";\n\n  Blockly.FieldCheckbox.prototype.configure_ = function (a) {\n    Blockly.FieldCheckbox.superClass_.configure_.call(this, a);\n    a.checkCharacter && (this.checkChar_ = a.checkCharacter);\n  };\n\n  Blockly.FieldCheckbox.prototype.initView = function () {\n    Blockly.FieldCheckbox.superClass_.initView.call(this);\n    Blockly.utils.dom.addClass(this.textElement_, \"blocklyCheckbox\");\n    this.textElement_.style.display = this.value_ ? \"block\" : \"none\";\n  };\n\n  Blockly.FieldCheckbox.prototype.render_ = function () {\n    this.textContent_ && (this.textContent_.nodeValue = this.getDisplayText_());\n    this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET);\n  };\n\n  Blockly.FieldCheckbox.prototype.getDisplayText_ = function () {\n    return this.checkChar_ || Blockly.FieldCheckbox.CHECK_CHAR;\n  };\n\n  Blockly.FieldCheckbox.prototype.setCheckCharacter = function (a) {\n    this.checkChar_ = a;\n    this.forceRerender();\n  };\n\n  Blockly.FieldCheckbox.prototype.showEditor_ = function () {\n    this.setValue(!this.value_);\n  };\n\n  Blockly.FieldCheckbox.prototype.doClassValidation_ = function (a) {\n    return !0 === a || \"TRUE\" === a ? \"TRUE\" : !1 === a || \"FALSE\" === a ? \"FALSE\" : null;\n  };\n\n  Blockly.FieldCheckbox.prototype.doValueUpdate_ = function (a) {\n    this.value_ = this.convertValueToBool_(a);\n    this.textElement_ && (this.textElement_.style.display = this.value_ ? \"block\" : \"none\");\n  };\n\n  Blockly.FieldCheckbox.prototype.getValue = function () {\n    return this.value_ ? \"TRUE\" : \"FALSE\";\n  };\n\n  Blockly.FieldCheckbox.prototype.getValueBoolean = function () {\n    return this.value_;\n  };\n\n  Blockly.FieldCheckbox.prototype.getText = function () {\n    return String(this.convertValueToBool_(this.value_));\n  };\n\n  Blockly.FieldCheckbox.prototype.convertValueToBool_ = function (a) {\n    return \"string\" == typeof a ? \"TRUE\" == a : !!a;\n  };\n\n  Blockly.fieldRegistry.register(\"field_checkbox\", Blockly.FieldCheckbox);\n\n  Blockly.FieldColour = function (a, b, c) {\n    Blockly.FieldColour.superClass_.constructor.call(this, a, b, c);\n    this.onKeyDownWrapper_ = this.onMouseLeaveWrapper_ = this.onMouseEnterWrapper_ = this.onMouseMoveWrapper_ = this.onClickWrapper_ = this.highlightedIndex_ = this.picker_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldColour, Blockly.Field);\n\n  Blockly.FieldColour.fromJson = function (a) {\n    return new Blockly.FieldColour(a.colour, void 0, a);\n  };\n\n  Blockly.FieldColour.prototype.SERIALIZABLE = !0;\n  Blockly.FieldColour.prototype.CURSOR = \"default\";\n  Blockly.FieldColour.prototype.isDirty_ = !1;\n  Blockly.FieldColour.prototype.colours_ = null;\n  Blockly.FieldColour.prototype.titles_ = null;\n  Blockly.FieldColour.prototype.columns_ = 0;\n\n  Blockly.FieldColour.prototype.configure_ = function (a) {\n    Blockly.FieldColour.superClass_.configure_.call(this, a);\n    a.colourOptions && (this.colours_ = a.colourOptions, this.titles_ = a.colourTitles);\n    a.columns && (this.columns_ = a.columns);\n  };\n\n  Blockly.FieldColour.prototype.initView = function () {\n    this.size_ = new Blockly.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH, this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT);\n    this.getConstants().FIELD_COLOUR_FULL_BLOCK ? this.clickTarget_ = this.sourceBlock_.getSvgRoot() : (this.createBorderRect_(), this.borderRect_.style.fillOpacity = \"1\");\n  };\n\n  Blockly.FieldColour.prototype.applyColour = function () {\n    this.getConstants().FIELD_COLOUR_FULL_BLOCK ? (this.sourceBlock_.pathObject.svgPath.setAttribute(\"fill\", this.getValue()), this.sourceBlock_.pathObject.svgPath.setAttribute(\"stroke\", \"#fff\")) : this.borderRect_ && (this.borderRect_.style.fill = this.getValue());\n  };\n\n  Blockly.FieldColour.prototype.doClassValidation_ = function (a) {\n    return \"string\" != typeof a ? null : Blockly.utils.colour.parse(a);\n  };\n\n  Blockly.FieldColour.prototype.doValueUpdate_ = function (a) {\n    this.value_ = a;\n    this.borderRect_ ? this.borderRect_.style.fill = a : this.sourceBlock_ && this.sourceBlock_.rendered && (this.sourceBlock_.pathObject.svgPath.setAttribute(\"fill\", a), this.sourceBlock_.pathObject.svgPath.setAttribute(\"stroke\", \"#fff\"));\n  };\n\n  Blockly.FieldColour.prototype.getText = function () {\n    var a = this.value_;\n    /^#(.)\\1(.)\\2(.)\\3$/.test(a) && (a = \"#\" + a[1] + a[3] + a[5]);\n    return a;\n  };\n\n  Blockly.FieldColour.COLOURS = \"#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033\".split(\" \");\n  Blockly.FieldColour.prototype.DEFAULT_VALUE = Blockly.FieldColour.COLOURS[0];\n  Blockly.FieldColour.TITLES = [];\n  Blockly.FieldColour.COLUMNS = 7;\n\n  Blockly.FieldColour.prototype.setColours = function (a, b) {\n    this.colours_ = a;\n    b && (this.titles_ = b);\n    return this;\n  };\n\n  Blockly.FieldColour.prototype.setColumns = function (a) {\n    this.columns_ = a;\n    return this;\n  };\n\n  Blockly.FieldColour.prototype.showEditor_ = function () {\n    this.picker_ = this.dropdownCreate_();\n    Blockly.DropDownDiv.getContentDiv().appendChild(this.picker_);\n    Blockly.DropDownDiv.showPositionedByField(this, this.dropdownDispose_.bind(this));\n    this.picker_.focus({\n      preventScroll: !0\n    });\n  };\n\n  Blockly.FieldColour.prototype.onClick_ = function (a) {\n    a = (a = a.target) && a.label;\n    null !== a && (this.setValue(a), Blockly.DropDownDiv.hideIfOwner(this));\n  };\n\n  Blockly.FieldColour.prototype.onKeyDown_ = function (a) {\n    var b = !1;\n    if (a.keyCode === Blockly.utils.KeyCodes.UP) this.moveHighlightBy_(0, -1), b = !0;else if (a.keyCode === Blockly.utils.KeyCodes.DOWN) this.moveHighlightBy_(0, 1), b = !0;else if (a.keyCode === Blockly.utils.KeyCodes.LEFT) this.moveHighlightBy_(-1, 0), b = !0;else if (a.keyCode === Blockly.utils.KeyCodes.RIGHT) this.moveHighlightBy_(1, 0), b = !0;else if (a.keyCode === Blockly.utils.KeyCodes.ENTER) {\n      if (b = this.getHighlighted_()) b = b && b.label, null !== b && this.setValue(b);\n      Blockly.DropDownDiv.hideWithoutAnimation();\n      b = !0;\n    }\n    b && a.stopPropagation();\n  };\n\n  Blockly.FieldColour.prototype.moveHighlightBy_ = function (a, b) {\n    var c = this.colours_ || Blockly.FieldColour.COLOURS,\n        d = this.columns_ || Blockly.FieldColour.COLUMNS,\n        e = this.highlightedIndex_ % d,\n        f = Math.floor(this.highlightedIndex_ / d);\n    e += a;\n    f += b;\n    0 > a ? 0 > e && 0 < f ? (e = d - 1, f--) : 0 > e && (e = 0) : 0 < a ? e > d - 1 && f < Math.floor(c.length / d) - 1 ? (e = 0, f++) : e > d - 1 && e-- : 0 > b ? 0 > f && (f = 0) : 0 < b && f > Math.floor(c.length / d) - 1 && (f = Math.floor(c.length / d) - 1);\n    this.setHighlightedCell_(this.picker_.childNodes[f].childNodes[e], f * d + e);\n  };\n\n  Blockly.FieldColour.prototype.onMouseMove_ = function (a) {\n    var b = (a = a.target) && Number(a.getAttribute(\"data-index\"));\n    null !== b && b !== this.highlightedIndex_ && this.setHighlightedCell_(a, b);\n  };\n\n  Blockly.FieldColour.prototype.onMouseEnter_ = function () {\n    this.picker_.focus({\n      preventScroll: !0\n    });\n  };\n\n  Blockly.FieldColour.prototype.onMouseLeave_ = function () {\n    this.picker_.blur();\n    var a = this.getHighlighted_();\n    a && Blockly.utils.dom.removeClass(a, \"blocklyColourHighlighted\");\n  };\n\n  Blockly.FieldColour.prototype.getHighlighted_ = function () {\n    var a = this.columns_ || Blockly.FieldColour.COLUMNS,\n        b = this.picker_.childNodes[Math.floor(this.highlightedIndex_ / a)];\n    return b ? b.childNodes[this.highlightedIndex_ % a] : null;\n  };\n\n  Blockly.FieldColour.prototype.setHighlightedCell_ = function (a, b) {\n    var c = this.getHighlighted_();\n    c && Blockly.utils.dom.removeClass(c, \"blocklyColourHighlighted\");\n    Blockly.utils.dom.addClass(a, \"blocklyColourHighlighted\");\n    this.highlightedIndex_ = b;\n    Blockly.utils.aria.setState(this.picker_, Blockly.utils.aria.State.ACTIVEDESCENDANT, a.getAttribute(\"id\"));\n  };\n\n  Blockly.FieldColour.prototype.dropdownCreate_ = function () {\n    var a = this.columns_ || Blockly.FieldColour.COLUMNS,\n        b = this.colours_ || Blockly.FieldColour.COLOURS,\n        c = this.titles_ || Blockly.FieldColour.TITLES,\n        d = this.getValue(),\n        e = document.createElement(\"table\");\n    e.className = \"blocklyColourTable\";\n    e.tabIndex = 0;\n    e.dir = \"ltr\";\n    Blockly.utils.aria.setRole(e, Blockly.utils.aria.Role.GRID);\n    Blockly.utils.aria.setState(e, Blockly.utils.aria.State.EXPANDED, !0);\n    Blockly.utils.aria.setState(e, Blockly.utils.aria.State.ROWCOUNT, Math.floor(b.length / a));\n    Blockly.utils.aria.setState(e, Blockly.utils.aria.State.COLCOUNT, a);\n\n    for (var f, g = 0; g < b.length; g++) {\n      0 == g % a && (f = document.createElement(\"tr\"), Blockly.utils.aria.setRole(f, Blockly.utils.aria.Role.ROW), e.appendChild(f));\n      var h = document.createElement(\"td\");\n      f.appendChild(h);\n      h.label = b[g];\n      h.title = c[g] || b[g];\n      h.id = Blockly.utils.IdGenerator.getNextUniqueId();\n      h.setAttribute(\"data-index\", g);\n      Blockly.utils.aria.setRole(h, Blockly.utils.aria.Role.GRIDCELL);\n      Blockly.utils.aria.setState(h, Blockly.utils.aria.State.LABEL, b[g]);\n      Blockly.utils.aria.setState(h, Blockly.utils.aria.State.SELECTED, b[g] == d);\n      h.style.backgroundColor = b[g];\n      b[g] == d && (h.className = \"blocklyColourSelected\", this.highlightedIndex_ = g);\n    }\n\n    this.onClickWrapper_ = Blockly.browserEvents.conditionalBind(e, \"click\", this, this.onClick_, !0);\n    this.onMouseMoveWrapper_ = Blockly.browserEvents.conditionalBind(e, \"mousemove\", this, this.onMouseMove_, !0);\n    this.onMouseEnterWrapper_ = Blockly.browserEvents.conditionalBind(e, \"mouseenter\", this, this.onMouseEnter_, !0);\n    this.onMouseLeaveWrapper_ = Blockly.browserEvents.conditionalBind(e, \"mouseleave\", this, this.onMouseLeave_, !0);\n    this.onKeyDownWrapper_ = Blockly.browserEvents.conditionalBind(e, \"keydown\", this, this.onKeyDown_);\n    return e;\n  };\n\n  Blockly.FieldColour.prototype.dropdownDispose_ = function () {\n    this.onClickWrapper_ && (Blockly.browserEvents.unbind(this.onClickWrapper_), this.onClickWrapper_ = null);\n    this.onMouseMoveWrapper_ && (Blockly.browserEvents.unbind(this.onMouseMoveWrapper_), this.onMouseMoveWrapper_ = null);\n    this.onMouseEnterWrapper_ && (Blockly.browserEvents.unbind(this.onMouseEnterWrapper_), this.onMouseEnterWrapper_ = null);\n    this.onMouseLeaveWrapper_ && (Blockly.browserEvents.unbind(this.onMouseLeaveWrapper_), this.onMouseLeaveWrapper_ = null);\n    this.onKeyDownWrapper_ && (Blockly.browserEvents.unbind(this.onKeyDownWrapper_), this.onKeyDownWrapper_ = null);\n    this.highlightedIndex_ = this.picker_ = null;\n  };\n\n  Blockly.Css.register([\".blocklyColourTable {\", \"border-collapse: collapse;\", \"display: block;\", \"outline: none;\", \"padding: 1px;\", \"}\", \".blocklyColourTable>tr>td {\", \"border: .5px solid #888;\", \"box-sizing: border-box;\", \"cursor: pointer;\", \"display: inline-block;\", \"height: 20px;\", \"padding: 0;\", \"width: 20px;\", \"}\", \".blocklyColourTable>tr>td.blocklyColourHighlighted {\", \"border-color: #eee;\", \"box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);\", \"position: relative;\", \"}\", \".blocklyColourSelected, .blocklyColourSelected:hover {\", \"border-color: #eee !important;\", \"outline: 1px solid #333;\", \"position: relative;\", \"}\"]);\n  Blockly.fieldRegistry.register(\"field_colour\", Blockly.FieldColour);\n\n  Blockly.FieldDropdown = function (a, b, c) {\n    \"function\" != typeof a && Blockly.FieldDropdown.validateOptions_(a);\n    this.menuGenerator_ = a;\n    this.suffixField = this.prefixField = this.generatedOptions_ = null;\n    this.trimOptions_();\n    this.selectedOption_ = this.getOptions(!1)[0];\n    Blockly.FieldDropdown.superClass_.constructor.call(this, this.selectedOption_[1], b, c);\n    this.svgArrow_ = this.arrow_ = this.imageElement_ = this.menu_ = this.selectedMenuItem_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldDropdown, Blockly.Field);\n\n  Blockly.FieldDropdown.fromJson = function (a) {\n    return new Blockly.FieldDropdown(a.options, void 0, a);\n  };\n\n  Blockly.FieldDropdown.prototype.fromXml = function (a) {\n    this.isOptionListDynamic() && this.getOptions(!1);\n    this.setValue(a.textContent);\n  };\n\n  Blockly.FieldDropdown.prototype.SERIALIZABLE = !0;\n  Blockly.FieldDropdown.CHECKMARK_OVERHANG = 25;\n  Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH = .45;\n  Blockly.FieldDropdown.IMAGE_Y_OFFSET = 5;\n  Blockly.FieldDropdown.IMAGE_Y_PADDING = 2 * Blockly.FieldDropdown.IMAGE_Y_OFFSET;\n  Blockly.FieldDropdown.ARROW_CHAR = Blockly.utils.userAgent.ANDROID ? \"\\u25BC\" : \"\\u25BE\";\n  Blockly.FieldDropdown.prototype.CURSOR = \"default\";\n\n  Blockly.FieldDropdown.prototype.initView = function () {\n    this.shouldAddBorderRect_() ? this.createBorderRect_() : this.clickTarget_ = this.sourceBlock_.getSvgRoot();\n    this.createTextElement_();\n    this.imageElement_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {}, this.fieldGroup_);\n    this.getConstants().FIELD_DROPDOWN_SVG_ARROW ? this.createSVGArrow_() : this.createTextArrow_();\n    this.borderRect_ && Blockly.utils.dom.addClass(this.borderRect_, \"blocklyDropdownRect\");\n  };\n\n  Blockly.FieldDropdown.prototype.shouldAddBorderRect_ = function () {\n    return !this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW || this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW && !this.sourceBlock_.isShadow();\n  };\n\n  Blockly.FieldDropdown.prototype.createTextArrow_ = function () {\n    this.arrow_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TSPAN, {}, this.textElement_);\n    this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL ? Blockly.FieldDropdown.ARROW_CHAR + \" \" : \" \" + Blockly.FieldDropdown.ARROW_CHAR));\n    this.sourceBlock_.RTL ? this.textElement_.insertBefore(this.arrow_, this.textContent_) : this.textElement_.appendChild(this.arrow_);\n  };\n\n  Blockly.FieldDropdown.prototype.createSVGArrow_ = function () {\n    this.svgArrow_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {\n      height: this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE + \"px\",\n      width: this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE + \"px\"\n    }, this.fieldGroup_);\n    this.svgArrow_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI);\n  };\n\n  Blockly.FieldDropdown.prototype.showEditor_ = function (a) {\n    this.menu_ = this.dropdownCreate_();\n    this.menu_.openingCoords = a && \"number\" === typeof a.clientX ? new Blockly.utils.Coordinate(a.clientX, a.clientY) : null;\n    this.menu_.render(Blockly.DropDownDiv.getContentDiv());\n    a = this.menu_.getElement();\n    Blockly.utils.dom.addClass(a, \"blocklyDropdownMenu\");\n\n    if (this.getConstants().FIELD_DROPDOWN_COLOURED_DIV) {\n      a = this.sourceBlock_.isShadow() ? this.sourceBlock_.getParent().getColour() : this.sourceBlock_.getColour();\n      var b = this.sourceBlock_.isShadow() ? this.sourceBlock_.getParent().style.colourTertiary : this.sourceBlock_.style.colourTertiary;\n      Blockly.DropDownDiv.setColour(a, b);\n    }\n\n    Blockly.DropDownDiv.showPositionedByField(this, this.dropdownDispose_.bind(this));\n    this.menu_.focus();\n    this.selectedMenuItem_ && this.menu_.setHighlighted(this.selectedMenuItem_);\n    this.applyColour();\n  };\n\n  Blockly.FieldDropdown.prototype.dropdownCreate_ = function () {\n    var a = new Blockly.Menu();\n    a.setRole(Blockly.utils.aria.Role.LISTBOX);\n    var b = this.getOptions(!1);\n    this.selectedMenuItem_ = null;\n\n    for (var c = 0; c < b.length; c++) {\n      var d = b[c][0],\n          e = b[c][1];\n\n      if (\"object\" == typeof d) {\n        var f = new Image(d.width, d.height);\n        f.src = d.src;\n        f.alt = d.alt || \"\";\n        d = f;\n      }\n\n      d = new Blockly.MenuItem(d, e);\n      d.setRole(Blockly.utils.aria.Role.OPTION);\n      d.setRightToLeft(this.sourceBlock_.RTL);\n      d.setCheckable(!0);\n      a.addChild(d);\n      d.setChecked(e == this.value_);\n      e == this.value_ && (this.selectedMenuItem_ = d);\n      d.onAction(this.handleMenuActionEvent_, this);\n    }\n\n    return a;\n  };\n\n  Blockly.FieldDropdown.prototype.dropdownDispose_ = function () {\n    this.menu_ && this.menu_.dispose();\n    this.selectedMenuItem_ = this.menu_ = null;\n    this.applyColour();\n  };\n\n  Blockly.FieldDropdown.prototype.handleMenuActionEvent_ = function (a) {\n    Blockly.DropDownDiv.hideIfOwner(this, !0);\n    this.onItemSelected_(this.menu_, a);\n  };\n\n  Blockly.FieldDropdown.prototype.onItemSelected_ = function (a, b) {\n    this.setValue(b.getValue());\n  };\n\n  Blockly.FieldDropdown.prototype.trimOptions_ = function () {\n    var a = this.menuGenerator_;\n\n    if (Array.isArray(a)) {\n      for (var b = !1, c = 0; c < a.length; c++) {\n        var d = a[c][0];\n        \"string\" == typeof d ? a[c][0] = Blockly.utils.replaceMessageReferences(d) : (null != d.alt && (a[c][0].alt = Blockly.utils.replaceMessageReferences(d.alt)), b = !0);\n      }\n\n      if (!(b || 2 > a.length)) {\n        b = [];\n\n        for (c = 0; c < a.length; c++) {\n          b.push(a[c][0]);\n        }\n\n        c = Blockly.utils.string.shortestStringLength(b);\n        d = Blockly.utils.string.commonWordPrefix(b, c);\n        var e = Blockly.utils.string.commonWordSuffix(b, c);\n        !d && !e || c <= d + e || (d && (this.prefixField = b[0].substring(0, d - 1)), e && (this.suffixField = b[0].substr(1 - e)), this.menuGenerator_ = Blockly.FieldDropdown.applyTrim_(a, d, e));\n      }\n    }\n  };\n\n  Blockly.FieldDropdown.applyTrim_ = function (a, b, c) {\n    for (var d = [], e = 0; e < a.length; e++) {\n      var f = a[e][0],\n          g = a[e][1];\n      f = f.substring(b, f.length - c);\n      d[e] = [f, g];\n    }\n\n    return d;\n  };\n\n  Blockly.FieldDropdown.prototype.isOptionListDynamic = function () {\n    return \"function\" == typeof this.menuGenerator_;\n  };\n\n  Blockly.FieldDropdown.prototype.getOptions = function (a) {\n    return this.isOptionListDynamic() ? (this.generatedOptions_ && a || (this.generatedOptions_ = this.menuGenerator_.call(this), Blockly.FieldDropdown.validateOptions_(this.generatedOptions_)), this.generatedOptions_) : this.menuGenerator_;\n  };\n\n  Blockly.FieldDropdown.prototype.doClassValidation_ = function (a) {\n    for (var b = !1, c = this.getOptions(!0), d = 0, e; e = c[d]; d++) {\n      if (e[1] == a) {\n        b = !0;\n        break;\n      }\n    }\n\n    return b ? a : (this.sourceBlock_ && console.warn(\"Cannot set the dropdown's value to an unavailable option. Block type: \" + this.sourceBlock_.type + \", Field name: \" + this.name + \", Value: \" + a), null);\n  };\n\n  Blockly.FieldDropdown.prototype.doValueUpdate_ = function (a) {\n    Blockly.FieldDropdown.superClass_.doValueUpdate_.call(this, a);\n    a = this.getOptions(!0);\n\n    for (var b = 0, c; c = a[b]; b++) {\n      c[1] == this.value_ && (this.selectedOption_ = c);\n    }\n  };\n\n  Blockly.FieldDropdown.prototype.applyColour = function () {\n    this.borderRect_ && (this.borderRect_.setAttribute(\"stroke\", this.sourceBlock_.style.colourTertiary), this.menu_ ? this.borderRect_.setAttribute(\"fill\", this.sourceBlock_.style.colourTertiary) : this.borderRect_.setAttribute(\"fill\", \"transparent\"));\n    this.sourceBlock_ && this.arrow_ && (this.sourceBlock_.isShadow() ? this.arrow_.style.fill = this.sourceBlock_.style.colourSecondary : this.arrow_.style.fill = this.sourceBlock_.style.colourPrimary);\n  };\n\n  Blockly.FieldDropdown.prototype.render_ = function () {\n    this.textContent_.nodeValue = \"\";\n    this.imageElement_.style.display = \"none\";\n    var a = this.selectedOption_ && this.selectedOption_[0];\n    a && \"object\" == typeof a ? this.renderSelectedImage_(a) : this.renderSelectedText_();\n    this.positionBorderRect_();\n  };\n\n  Blockly.FieldDropdown.prototype.renderSelectedImage_ = function (a) {\n    this.imageElement_.style.display = \"\";\n    this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", a.src);\n    this.imageElement_.setAttribute(\"height\", a.height);\n    this.imageElement_.setAttribute(\"width\", a.width);\n    var b = Number(a.height);\n    a = Number(a.width);\n    var c = !!this.borderRect_,\n        d = Math.max(c ? this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT : 0, b + Blockly.FieldDropdown.IMAGE_Y_PADDING);\n    c = c ? this.getConstants().FIELD_BORDER_RECT_X_PADDING : 0;\n    var e = this.svgArrow_ ? this.positionSVGArrow_(a + c, d / 2 - this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE / 2) : Blockly.utils.dom.getFastTextWidth(this.arrow_, this.getConstants().FIELD_TEXT_FONTSIZE, this.getConstants().FIELD_TEXT_FONTWEIGHT, this.getConstants().FIELD_TEXT_FONTFAMILY);\n    this.size_.width = a + e + 2 * c;\n    this.size_.height = d;\n    var f = 0;\n    this.sourceBlock_.RTL ? this.imageElement_.setAttribute(\"x\", c + e) : (f = a + e, this.textElement_.setAttribute(\"text-anchor\", \"end\"), this.imageElement_.setAttribute(\"x\", c));\n    this.imageElement_.setAttribute(\"y\", d / 2 - b / 2);\n    this.positionTextElement_(f + c, a + e);\n  };\n\n  Blockly.FieldDropdown.prototype.renderSelectedText_ = function () {\n    this.textContent_.nodeValue = this.getDisplayText_();\n    Blockly.utils.dom.addClass(this.textElement_, \"blocklyDropdownText\");\n    this.textElement_.setAttribute(\"text-anchor\", \"start\");\n    var a = !!this.borderRect_,\n        b = Math.max(a ? this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT : 0, this.getConstants().FIELD_TEXT_HEIGHT),\n        c = Blockly.utils.dom.getFastTextWidth(this.textElement_, this.getConstants().FIELD_TEXT_FONTSIZE, this.getConstants().FIELD_TEXT_FONTWEIGHT, this.getConstants().FIELD_TEXT_FONTFAMILY);\n    a = a ? this.getConstants().FIELD_BORDER_RECT_X_PADDING : 0;\n    var d = 0;\n    this.svgArrow_ && (d = this.positionSVGArrow_(c + a, b / 2 - this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE / 2));\n    this.size_.width = c + d + 2 * a;\n    this.size_.height = b;\n    this.positionTextElement_(a, c);\n  };\n\n  Blockly.FieldDropdown.prototype.positionSVGArrow_ = function (a, b) {\n    if (!this.svgArrow_) return 0;\n    var c = this.borderRect_ ? this.getConstants().FIELD_BORDER_RECT_X_PADDING : 0,\n        d = this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,\n        e = this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;\n    this.svgArrow_.setAttribute(\"transform\", \"translate(\" + (this.sourceBlock_.RTL ? c : a + d) + \",\" + b + \")\");\n    return e + d;\n  };\n\n  Blockly.FieldDropdown.prototype.getText_ = function () {\n    if (!this.selectedOption_) return null;\n    var a = this.selectedOption_[0];\n    return \"object\" == typeof a ? a.alt : a;\n  };\n\n  Blockly.FieldDropdown.validateOptions_ = function (a) {\n    if (!Array.isArray(a)) throw TypeError(\"FieldDropdown options must be an array.\");\n    if (!a.length) throw TypeError(\"FieldDropdown options must not be an empty array.\");\n\n    for (var b = !1, c = 0; c < a.length; ++c) {\n      var d = a[c];\n      Array.isArray(d) ? \"string\" != typeof d[1] ? (b = !0, console.error(\"Invalid option[\" + c + \"]: Each FieldDropdown option id must be a string. Found \" + d[1] + \" in: \", d)) : d[0] && \"string\" != typeof d[0] && \"string\" != typeof d[0].src && (b = !0, console.error(\"Invalid option[\" + c + \"]: Each FieldDropdown option must have a string label or image description. Found\" + d[0] + \" in: \", d)) : (b = !0, console.error(\"Invalid option[\" + c + \"]: Each FieldDropdown option must be an array. Found: \", d));\n    }\n\n    if (b) throw TypeError(\"Found invalid FieldDropdown options.\");\n  };\n\n  Blockly.fieldRegistry.register(\"field_dropdown\", Blockly.FieldDropdown);\n\n  Blockly.FieldLabelSerializable = function (a, b, c) {\n    Blockly.FieldLabelSerializable.superClass_.constructor.call(this, a, b, c);\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldLabelSerializable, Blockly.FieldLabel);\n\n  Blockly.FieldLabelSerializable.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.text);\n    return new Blockly.FieldLabelSerializable(b, void 0, a);\n  };\n\n  Blockly.FieldLabelSerializable.prototype.EDITABLE = !1;\n  Blockly.FieldLabelSerializable.prototype.SERIALIZABLE = !0;\n  Blockly.fieldRegistry.register(\"field_label_serializable\", Blockly.FieldLabelSerializable);\n\n  Blockly.FieldImage = function (a, b, c, d, e, f, g) {\n    if (!a) throw Error(\"Src value of an image field is required\");\n    a = Blockly.utils.replaceMessageReferences(a);\n    c = Number(Blockly.utils.replaceMessageReferences(c));\n    b = Number(Blockly.utils.replaceMessageReferences(b));\n    if (isNaN(c) || isNaN(b)) throw Error(\"Height and width values of an image field must cast to numbers.\");\n    if (0 >= c || 0 >= b) throw Error(\"Height and width values of an image field must be greater than 0.\");\n    this.flipRtl_ = !1;\n    this.altText_ = \"\";\n    Blockly.FieldImage.superClass_.constructor.call(this, a, null, g);\n    g || (this.flipRtl_ = !!f, this.altText_ = Blockly.utils.replaceMessageReferences(d) || \"\");\n    this.size_ = new Blockly.utils.Size(b, c + Blockly.FieldImage.Y_PADDING);\n    this.imageHeight_ = c;\n    this.clickHandler_ = null;\n    \"function\" == typeof e && (this.clickHandler_ = e);\n    this.imageElement_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldImage, Blockly.Field);\n  Blockly.FieldImage.prototype.DEFAULT_VALUE = \"\";\n\n  Blockly.FieldImage.fromJson = function (a) {\n    return new Blockly.FieldImage(a.src, a.width, a.height, void 0, void 0, void 0, a);\n  };\n\n  Blockly.FieldImage.Y_PADDING = 1;\n  Blockly.FieldImage.prototype.EDITABLE = !1;\n  Blockly.FieldImage.prototype.isDirty_ = !1;\n\n  Blockly.FieldImage.prototype.configure_ = function (a) {\n    Blockly.FieldImage.superClass_.configure_.call(this, a);\n    this.flipRtl_ = !!a.flipRtl;\n    this.altText_ = Blockly.utils.replaceMessageReferences(a.alt) || \"\";\n  };\n\n  Blockly.FieldImage.prototype.initView = function () {\n    this.imageElement_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.IMAGE, {\n      height: this.imageHeight_ + \"px\",\n      width: this.size_.width + \"px\",\n      alt: this.altText_\n    }, this.fieldGroup_);\n    this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", this.value_);\n    this.clickHandler_ && (this.imageElement_.style.cursor = \"pointer\");\n  };\n\n  Blockly.FieldImage.prototype.updateSize_ = function () {};\n\n  Blockly.FieldImage.prototype.doClassValidation_ = function (a) {\n    return \"string\" != typeof a ? null : a;\n  };\n\n  Blockly.FieldImage.prototype.doValueUpdate_ = function (a) {\n    this.value_ = a;\n    this.imageElement_ && this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS, \"xlink:href\", String(this.value_));\n  };\n\n  Blockly.FieldImage.prototype.getFlipRtl = function () {\n    return this.flipRtl_;\n  };\n\n  Blockly.FieldImage.prototype.setAlt = function (a) {\n    a != this.altText_ && (this.altText_ = a || \"\", this.imageElement_ && this.imageElement_.setAttribute(\"alt\", this.altText_));\n  };\n\n  Blockly.FieldImage.prototype.showEditor_ = function () {\n    this.clickHandler_ && this.clickHandler_(this);\n  };\n\n  Blockly.FieldImage.prototype.setOnClickHandler = function (a) {\n    this.clickHandler_ = a;\n  };\n\n  Blockly.FieldImage.prototype.getText_ = function () {\n    return this.altText_;\n  };\n\n  Blockly.fieldRegistry.register(\"field_image\", Blockly.FieldImage);\n\n  Blockly.FieldMultilineInput = function (a, b, c) {\n    Blockly.FieldMultilineInput.superClass_.constructor.call(this, a, b, c);\n    this.textGroup_ = null;\n    this.maxLines_ = Infinity;\n    this.isOverflowedY_ = !1;\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldMultilineInput, Blockly.FieldTextInput);\n\n  Blockly.FieldMultilineInput.prototype.configure_ = function (a) {\n    Blockly.FieldMultilineInput.superClass_.configure_.call(this, a);\n    a.maxLines && this.setMaxLines(a.maxLines);\n  };\n\n  Blockly.FieldMultilineInput.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.text);\n    return new Blockly.FieldMultilineInput(b, void 0, a);\n  };\n\n  Blockly.FieldMultilineInput.prototype.toXml = function (a) {\n    a.textContent = this.getValue().replace(/\\n/g, \"&#10;\");\n    return a;\n  };\n\n  Blockly.FieldMultilineInput.prototype.fromXml = function (a) {\n    this.setValue(a.textContent.replace(/&#10;/g, \"\\n\"));\n  };\n\n  Blockly.FieldMultilineInput.prototype.initView = function () {\n    this.createBorderRect_();\n    this.textGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": \"blocklyEditableText\"\n    }, this.fieldGroup_);\n  };\n\n  Blockly.FieldMultilineInput.prototype.getDisplayText_ = function () {\n    var a = this.getText();\n    if (!a) return Blockly.Field.NBSP;\n    var b = a.split(\"\\n\");\n    a = \"\";\n\n    for (var c = this.isOverflowedY_ ? this.maxLines_ : b.length, d = 0; d < c; d++) {\n      var e = b[d];\n      e.length > this.maxDisplayLength ? e = e.substring(0, this.maxDisplayLength - 4) + \"...\" : this.isOverflowedY_ && d === c - 1 && (e = e.substring(0, e.length - 3) + \"...\");\n      e = e.replace(/\\s/g, Blockly.Field.NBSP);\n      a += e;\n      d !== c - 1 && (a += \"\\n\");\n    }\n\n    this.sourceBlock_.RTL && (a += \"\\u200F\");\n    return a;\n  };\n\n  Blockly.FieldMultilineInput.prototype.doValueUpdate_ = function (a) {\n    Blockly.FieldMultilineInput.superClass_.doValueUpdate_.call(this, a);\n    this.isOverflowedY_ = this.value_.split(\"\\n\").length > this.maxLines_;\n  };\n\n  Blockly.FieldMultilineInput.prototype.render_ = function () {\n    for (var a; a = this.textGroup_.firstChild;) {\n      this.textGroup_.removeChild(a);\n    }\n\n    a = this.getDisplayText_().split(\"\\n\");\n\n    for (var b = 0, c = 0; c < a.length; c++) {\n      var d = this.getConstants().FIELD_TEXT_HEIGHT + this.getConstants().FIELD_BORDER_RECT_Y_PADDING;\n      Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TEXT, {\n        \"class\": \"blocklyText blocklyMultilineText\",\n        x: this.getConstants().FIELD_BORDER_RECT_X_PADDING,\n        y: b + this.getConstants().FIELD_BORDER_RECT_Y_PADDING,\n        dy: this.getConstants().FIELD_TEXT_BASELINE\n      }, this.textGroup_).appendChild(document.createTextNode(a[c]));\n      b += d;\n    }\n\n    this.isBeingEdited_ && (a = this.htmlInput_, this.isOverflowedY_ ? Blockly.utils.dom.addClass(a, \"blocklyHtmlTextAreaInputOverflowedY\") : Blockly.utils.dom.removeClass(a, \"blocklyHtmlTextAreaInputOverflowedY\"));\n    this.updateSize_();\n    this.isBeingEdited_ && (this.sourceBlock_.RTL ? setTimeout(this.resizeEditor_.bind(this), 0) : this.resizeEditor_(), a = this.htmlInput_, this.isTextValid_ ? (Blockly.utils.dom.removeClass(a, \"blocklyInvalidInput\"), Blockly.utils.aria.setState(a, Blockly.utils.aria.State.INVALID, !1)) : (Blockly.utils.dom.addClass(a, \"blocklyInvalidInput\"), Blockly.utils.aria.setState(a, Blockly.utils.aria.State.INVALID, !0)));\n  };\n\n  Blockly.FieldMultilineInput.prototype.updateSize_ = function () {\n    for (var a = this.textGroup_.childNodes, b = 0, c = 0, d = 0; d < a.length; d++) {\n      var e = Blockly.utils.dom.getTextWidth(a[d]);\n      e > b && (b = e);\n      c += this.getConstants().FIELD_TEXT_HEIGHT + (0 < d ? this.getConstants().FIELD_BORDER_RECT_Y_PADDING : 0);\n    }\n\n    if (this.isBeingEdited_) {\n      a = this.value_.split(\"\\n\");\n      e = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.TEXT, {\n        \"class\": \"blocklyText blocklyMultilineText\"\n      });\n      var f = this.getConstants().FIELD_TEXT_FONTSIZE,\n          g = this.getConstants().FIELD_TEXT_FONTWEIGHT,\n          h = this.getConstants().FIELD_TEXT_FONTFAMILY;\n\n      for (d = 0; d < a.length; d++) {\n        a[d].length > this.maxDisplayLength && (a[d] = a[d].substring(0, this.maxDisplayLength));\n        e.textContent = a[d];\n        var k = Blockly.utils.dom.getFastTextWidth(e, f, g, h);\n        k > b && (b = k);\n      }\n\n      b += this.htmlInput_.offsetWidth - this.htmlInput_.clientWidth;\n    }\n\n    this.borderRect_ && (c += 2 * this.getConstants().FIELD_BORDER_RECT_Y_PADDING, b += 2 * this.getConstants().FIELD_BORDER_RECT_X_PADDING, this.borderRect_.setAttribute(\"width\", b), this.borderRect_.setAttribute(\"height\", c));\n    this.size_.width = b;\n    this.size_.height = c;\n    this.positionBorderRect_();\n  };\n\n  Blockly.FieldMultilineInput.prototype.showEditor_ = function (a, b) {\n    Blockly.FieldMultilineInput.superClass_.showEditor_.call(this, a, b);\n    this.forceRerender();\n  };\n\n  Blockly.FieldMultilineInput.prototype.widgetCreate_ = function () {\n    var a = Blockly.WidgetDiv.DIV,\n        b = this.workspace_.getScale(),\n        c = document.createElement(\"textarea\");\n    c.className = \"blocklyHtmlInput blocklyHtmlTextAreaInput\";\n    c.setAttribute(\"spellcheck\", this.spellcheck_);\n    var d = this.getConstants().FIELD_TEXT_FONTSIZE * b + \"pt\";\n    a.style.fontSize = d;\n    c.style.fontSize = d;\n    c.style.borderRadius = Blockly.FieldTextInput.BORDERRADIUS * b + \"px\";\n    d = this.getConstants().FIELD_BORDER_RECT_X_PADDING * b;\n    var e = this.getConstants().FIELD_BORDER_RECT_Y_PADDING * b / 2;\n    c.style.padding = e + \"px \" + d + \"px \" + e + \"px \" + d + \"px\";\n    d = this.getConstants().FIELD_TEXT_HEIGHT + this.getConstants().FIELD_BORDER_RECT_Y_PADDING;\n    c.style.lineHeight = d * b + \"px\";\n    a.appendChild(c);\n    c.value = c.defaultValue = this.getEditorText_(this.value_);\n    c.untypedDefaultValue_ = this.value_;\n    c.oldValue_ = null;\n    Blockly.utils.userAgent.GECKO ? setTimeout(this.resizeEditor_.bind(this), 0) : this.resizeEditor_();\n    this.bindInputEvents_(c);\n    return c;\n  };\n\n  Blockly.FieldMultilineInput.prototype.setMaxLines = function (a) {\n    \"number\" === typeof a && 0 < a && a !== this.maxLines_ && (this.maxLines_ = a, this.forceRerender());\n  };\n\n  Blockly.FieldMultilineInput.prototype.getMaxLines = function () {\n    return this.maxLines_;\n  };\n\n  Blockly.FieldMultilineInput.prototype.onHtmlInputKeyDown_ = function (a) {\n    a.keyCode !== Blockly.utils.KeyCodes.ENTER && Blockly.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this, a);\n  };\n\n  Blockly.Css.register(\".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}\".split(\",\"));\n  Blockly.fieldRegistry.register(\"field_multilinetext\", Blockly.FieldMultilineInput);\n\n  Blockly.FieldNumber = function (a, b, c, d, e, f) {\n    this.min_ = -Infinity;\n    this.max_ = Infinity;\n    this.precision_ = 0;\n    this.decimalPlaces_ = null;\n    Blockly.FieldNumber.superClass_.constructor.call(this, a, e, f);\n    f || this.setConstraints(b, c, d);\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldNumber, Blockly.FieldTextInput);\n  Blockly.FieldNumber.prototype.DEFAULT_VALUE = 0;\n\n  Blockly.FieldNumber.fromJson = function (a) {\n    return new Blockly.FieldNumber(a.value, void 0, void 0, void 0, void 0, a);\n  };\n\n  Blockly.FieldNumber.prototype.SERIALIZABLE = !0;\n\n  Blockly.FieldNumber.prototype.configure_ = function (a) {\n    Blockly.FieldNumber.superClass_.configure_.call(this, a);\n    this.setMinInternal_(a.min);\n    this.setMaxInternal_(a.max);\n    this.setPrecisionInternal_(a.precision);\n  };\n\n  Blockly.FieldNumber.prototype.setConstraints = function (a, b, c) {\n    this.setMinInternal_(a);\n    this.setMaxInternal_(b);\n    this.setPrecisionInternal_(c);\n    this.setValue(this.getValue());\n  };\n\n  Blockly.FieldNumber.prototype.setMin = function (a) {\n    this.setMinInternal_(a);\n    this.setValue(this.getValue());\n  };\n\n  Blockly.FieldNumber.prototype.setMinInternal_ = function (a) {\n    null == a ? this.min_ = -Infinity : (a = Number(a), isNaN(a) || (this.min_ = a));\n  };\n\n  Blockly.FieldNumber.prototype.getMin = function () {\n    return this.min_;\n  };\n\n  Blockly.FieldNumber.prototype.setMax = function (a) {\n    this.setMaxInternal_(a);\n    this.setValue(this.getValue());\n  };\n\n  Blockly.FieldNumber.prototype.setMaxInternal_ = function (a) {\n    null == a ? this.max_ = Infinity : (a = Number(a), isNaN(a) || (this.max_ = a));\n  };\n\n  Blockly.FieldNumber.prototype.getMax = function () {\n    return this.max_;\n  };\n\n  Blockly.FieldNumber.prototype.setPrecision = function (a) {\n    this.setPrecisionInternal_(a);\n    this.setValue(this.getValue());\n  };\n\n  Blockly.FieldNumber.prototype.setPrecisionInternal_ = function (a) {\n    null == a ? this.precision_ = 0 : (a = Number(a), isNaN(a) || (this.precision_ = a));\n    var b = this.precision_.toLocaleString(\"en-US\", {\n      maximumFractionDigits: 20\n    }),\n        c = b.indexOf(\".\");\n    this.decimalPlaces_ = -1 == c ? a ? 0 : null : b.length - c - 1;\n  };\n\n  Blockly.FieldNumber.prototype.getPrecision = function () {\n    return this.precision_;\n  };\n\n  Blockly.FieldNumber.prototype.doClassValidation_ = function (a) {\n    if (null === a) return null;\n    a = String(a);\n    a = a.replace(/O/ig, \"0\");\n    a = a.replace(/,/g, \"\");\n    a = a.replace(/infinity/i, \"Infinity\");\n    a = Number(a || 0);\n    if (isNaN(a)) return null;\n    a = Math.min(Math.max(a, this.min_), this.max_);\n    this.precision_ && isFinite(a) && (a = Math.round(a / this.precision_) * this.precision_);\n    null != this.decimalPlaces_ && (a = Number(a.toFixed(this.decimalPlaces_)));\n    return a;\n  };\n\n  Blockly.FieldNumber.prototype.widgetCreate_ = function () {\n    var a = Blockly.FieldNumber.superClass_.widgetCreate_.call(this);\n    -Infinity < this.min_ && Blockly.utils.aria.setState(a, Blockly.utils.aria.State.VALUEMIN, this.min_);\n    Infinity > this.max_ && Blockly.utils.aria.setState(a, Blockly.utils.aria.State.VALUEMAX, this.max_);\n    return a;\n  };\n\n  Blockly.fieldRegistry.register(\"field_number\", Blockly.FieldNumber);\n\n  Blockly.FieldVariable = function (a, b, c, d, e) {\n    this.menuGenerator_ = Blockly.FieldVariable.dropdownCreate;\n    this.defaultVariableName = \"string\" === typeof a ? a : \"\";\n    this.size_ = new Blockly.utils.Size(0, 0);\n    e && this.configure_(e);\n    b && this.setValidator(b);\n    e || this.setTypes_(c, d);\n  };\n\n  Blockly.utils.object.inherits(Blockly.FieldVariable, Blockly.FieldDropdown);\n\n  Blockly.FieldVariable.fromJson = function (a) {\n    var b = Blockly.utils.replaceMessageReferences(a.variable);\n    return new Blockly.FieldVariable(b, void 0, void 0, void 0, a);\n  };\n\n  Blockly.FieldVariable.prototype.SERIALIZABLE = !0;\n\n  Blockly.FieldVariable.prototype.configure_ = function (a) {\n    Blockly.FieldVariable.superClass_.configure_.call(this, a);\n    this.setTypes_(a.variableTypes, a.defaultType);\n  };\n\n  Blockly.FieldVariable.prototype.initModel = function () {\n    if (!this.variable_) {\n      var a = Blockly.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace, null, this.defaultVariableName, this.defaultType_);\n      this.doValueUpdate_(a.getId());\n    }\n  };\n\n  Blockly.FieldVariable.prototype.shouldAddBorderRect_ = function () {\n    return Blockly.FieldVariable.superClass_.shouldAddBorderRect_.call(this) && (!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW || \"variables_get\" != this.sourceBlock_.type);\n  };\n\n  Blockly.FieldVariable.prototype.fromXml = function (a) {\n    var b = a.getAttribute(\"id\"),\n        c = a.textContent,\n        d = a.getAttribute(\"variabletype\") || a.getAttribute(\"variableType\") || \"\";\n    b = Blockly.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace, b, c, d);\n    if (null != d && d !== b.type) throw Error(\"Serialized variable type with id '\" + b.getId() + \"' had type \" + b.type + \", and does not match variable field that references it: \" + Blockly.Xml.domToText(a) + \".\");\n    this.setValue(b.getId());\n  };\n\n  Blockly.FieldVariable.prototype.toXml = function (a) {\n    this.initModel();\n    a.id = this.variable_.getId();\n    a.textContent = this.variable_.name;\n    this.variable_.type && a.setAttribute(\"variabletype\", this.variable_.type);\n    return a;\n  };\n\n  Blockly.FieldVariable.prototype.setSourceBlock = function (a) {\n    if (a.isShadow()) throw Error(\"Variable fields are not allowed to exist on shadow blocks.\");\n    Blockly.FieldVariable.superClass_.setSourceBlock.call(this, a);\n  };\n\n  Blockly.FieldVariable.prototype.getValue = function () {\n    return this.variable_ ? this.variable_.getId() : null;\n  };\n\n  Blockly.FieldVariable.prototype.getText = function () {\n    return this.variable_ ? this.variable_.name : \"\";\n  };\n\n  Blockly.FieldVariable.prototype.getVariable = function () {\n    return this.variable_;\n  };\n\n  Blockly.FieldVariable.prototype.getValidator = function () {\n    return this.variable_ ? this.validator_ : null;\n  };\n\n  Blockly.FieldVariable.prototype.doClassValidation_ = function (a) {\n    if (null === a) return null;\n    var b = Blockly.Variables.getVariable(this.sourceBlock_.workspace, a);\n    if (!b) return console.warn(\"Variable id doesn't point to a real variable! ID was \" + a), null;\n    b = b.type;\n    return this.typeIsAllowed_(b) ? a : (console.warn(\"Variable type doesn't match this field!  Type was \" + b), null);\n  };\n\n  Blockly.FieldVariable.prototype.doValueUpdate_ = function (a) {\n    this.variable_ = Blockly.Variables.getVariable(this.sourceBlock_.workspace, a);\n    Blockly.FieldVariable.superClass_.doValueUpdate_.call(this, a);\n  };\n\n  Blockly.FieldVariable.prototype.typeIsAllowed_ = function (a) {\n    var b = this.getVariableTypes_();\n    if (!b) return !0;\n\n    for (var c = 0; c < b.length; c++) {\n      if (a == b[c]) return !0;\n    }\n\n    return !1;\n  };\n\n  Blockly.FieldVariable.prototype.getVariableTypes_ = function () {\n    var a = this.variableTypes;\n    if (null === a && this.sourceBlock_ && this.sourceBlock_.workspace) return this.sourceBlock_.workspace.getVariableTypes();\n    a = a || [\"\"];\n    if (0 == a.length) throw a = this.getText(), Error(\"'variableTypes' of field variable \" + a + \" was an empty list\");\n    return a;\n  };\n\n  Blockly.FieldVariable.prototype.setTypes_ = function (a, b) {\n    b = b || \"\";\n    if (null == a || void 0 == a) a = null;else if (Array.isArray(a)) {\n      for (var c = !1, d = 0; d < a.length; d++) {\n        a[d] == b && (c = !0);\n      }\n\n      if (!c) throw Error(\"Invalid default type '\" + b + \"' in the definition of a FieldVariable\");\n    } else throw Error(\"'variableTypes' was not an array in the definition of a FieldVariable\");\n    this.defaultType_ = b;\n    this.variableTypes = a;\n  };\n\n  Blockly.FieldVariable.prototype.refreshVariableName = function () {\n    this.forceRerender();\n  };\n\n  Blockly.FieldVariable.dropdownCreate = function () {\n    if (!this.variable_) throw Error(\"Tried to call dropdownCreate on a variable field with no variable selected.\");\n    var a = this.getText(),\n        b = [];\n    if (this.sourceBlock_ && this.sourceBlock_.workspace) for (var c = this.getVariableTypes_(), d = 0; d < c.length; d++) {\n      var e = this.sourceBlock_.workspace.getVariablesOfType(c[d]);\n      b = b.concat(e);\n    }\n    b.sort(Blockly.VariableModel.compareByName);\n    c = [];\n\n    for (d = 0; d < b.length; d++) {\n      c[d] = [b[d].name, b[d].getId()];\n    }\n\n    c.push([Blockly.Msg.RENAME_VARIABLE, Blockly.RENAME_VARIABLE_ID]);\n    Blockly.Msg.DELETE_VARIABLE && c.push([Blockly.Msg.DELETE_VARIABLE.replace(\"%1\", a), Blockly.DELETE_VARIABLE_ID]);\n    return c;\n  };\n\n  Blockly.FieldVariable.prototype.onItemSelected_ = function (a, b) {\n    a = b.getValue();\n\n    if (this.sourceBlock_ && this.sourceBlock_.workspace) {\n      if (a == Blockly.RENAME_VARIABLE_ID) {\n        Blockly.Variables.renameVariable(this.sourceBlock_.workspace, this.variable_);\n        return;\n      }\n\n      if (a == Blockly.DELETE_VARIABLE_ID) {\n        this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId());\n        return;\n      }\n    }\n\n    this.setValue(a);\n  };\n\n  Blockly.FieldVariable.prototype.referencesVariables = function () {\n    return !0;\n  };\n\n  Blockly.fieldRegistry.register(\"field_variable\", Blockly.FieldVariable);\n  Blockly.utils.svgPaths = {};\n\n  Blockly.utils.svgPaths.point = function (a, b) {\n    return \" \" + a + \",\" + b + \" \";\n  };\n\n  Blockly.utils.svgPaths.curve = function (a, b) {\n    return \" \" + a + b.join(\"\");\n  };\n\n  Blockly.utils.svgPaths.moveTo = function (a, b) {\n    return \" M \" + a + \",\" + b + \" \";\n  };\n\n  Blockly.utils.svgPaths.moveBy = function (a, b) {\n    return \" m \" + a + \",\" + b + \" \";\n  };\n\n  Blockly.utils.svgPaths.lineTo = function (a, b) {\n    return \" l \" + a + \",\" + b + \" \";\n  };\n\n  Blockly.utils.svgPaths.line = function (a) {\n    return \" l\" + a.join(\"\");\n  };\n\n  Blockly.utils.svgPaths.lineOnAxis = function (a, b) {\n    return \" \" + a + \" \" + b + \" \";\n  };\n\n  Blockly.utils.svgPaths.arc = function (a, b, c, d) {\n    return a + \" \" + c + \" \" + c + \" \" + b + d;\n  };\n\n  Blockly.blockRendering.ConstantProvider = function () {\n    this.NO_PADDING = 0;\n    this.SMALL_PADDING = 3;\n    this.MEDIUM_PADDING = 5;\n    this.MEDIUM_LARGE_PADDING = 8;\n    this.LARGE_PADDING = 10;\n    this.TALL_INPUT_FIELD_OFFSET_Y = this.MEDIUM_PADDING;\n    this.TAB_HEIGHT = 15;\n    this.TAB_OFFSET_FROM_TOP = 5;\n    this.TAB_VERTICAL_OVERLAP = 2.5;\n    this.TAB_WIDTH = 8;\n    this.NOTCH_WIDTH = 15;\n    this.NOTCH_HEIGHT = 4;\n    this.MIN_BLOCK_WIDTH = 12;\n    this.EMPTY_BLOCK_SPACER_HEIGHT = 16;\n    this.DUMMY_INPUT_SHADOW_MIN_HEIGHT = this.DUMMY_INPUT_MIN_HEIGHT = this.TAB_HEIGHT;\n    this.CORNER_RADIUS = 8;\n    this.STATEMENT_INPUT_NOTCH_OFFSET = this.NOTCH_OFFSET_LEFT = 15;\n    this.STATEMENT_BOTTOM_SPACER = 0;\n    this.STATEMENT_INPUT_PADDING_LEFT = 20;\n    this.BETWEEN_STATEMENT_PADDING_Y = 4;\n    this.TOP_ROW_MIN_HEIGHT = this.MEDIUM_PADDING;\n    this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT = this.LARGE_PADDING;\n    this.BOTTOM_ROW_MIN_HEIGHT = this.MEDIUM_PADDING;\n    this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT = this.LARGE_PADDING;\n    this.ADD_START_HATS = !1;\n    this.START_HAT_HEIGHT = 15;\n    this.START_HAT_WIDTH = 100;\n    this.SPACER_DEFAULT_HEIGHT = 15;\n    this.MIN_BLOCK_HEIGHT = 24;\n    this.EMPTY_INLINE_INPUT_PADDING = 14.5;\n    this.EMPTY_INLINE_INPUT_HEIGHT = this.TAB_HEIGHT + 11;\n    this.EXTERNAL_VALUE_INPUT_PADDING = 2;\n    this.EMPTY_STATEMENT_INPUT_HEIGHT = this.MIN_BLOCK_HEIGHT;\n    this.START_POINT = Blockly.utils.svgPaths.moveBy(0, 0);\n    this.JAGGED_TEETH_HEIGHT = 12;\n    this.JAGGED_TEETH_WIDTH = 6;\n    this.FIELD_TEXT_FONTSIZE = 11;\n    this.FIELD_TEXT_FONTWEIGHT = \"normal\";\n    this.FIELD_TEXT_FONTFAMILY = \"sans-serif\";\n    this.FIELD_TEXT_BASELINE = this.FIELD_TEXT_HEIGHT = -1;\n    this.FIELD_BORDER_RECT_RADIUS = 4;\n    this.FIELD_BORDER_RECT_HEIGHT = 16;\n    this.FIELD_BORDER_RECT_X_PADDING = 5;\n    this.FIELD_BORDER_RECT_Y_PADDING = 3;\n    this.FIELD_BORDER_RECT_COLOUR = \"#fff\";\n    this.FIELD_TEXT_BASELINE_CENTER = !Blockly.utils.userAgent.IE && !Blockly.utils.userAgent.EDGE;\n    this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT = this.FIELD_BORDER_RECT_HEIGHT;\n    this.FIELD_DROPDOWN_SVG_ARROW = this.FIELD_DROPDOWN_COLOURED_DIV = this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW = !1;\n    this.FIELD_DROPDOWN_SVG_ARROW_PADDING = this.FIELD_BORDER_RECT_X_PADDING;\n    this.FIELD_DROPDOWN_SVG_ARROW_SIZE = 12;\n    this.FIELD_DROPDOWN_SVG_ARROW_DATAURI = \"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=\";\n    this.FIELD_COLOUR_FULL_BLOCK = this.FIELD_TEXTINPUT_BOX_SHADOW = !1;\n    this.FIELD_COLOUR_DEFAULT_WIDTH = 26;\n    this.FIELD_COLOUR_DEFAULT_HEIGHT = this.FIELD_BORDER_RECT_HEIGHT;\n    this.FIELD_CHECKBOX_X_OFFSET = this.FIELD_BORDER_RECT_X_PADDING - 3;\n    this.randomIdentifier = String(Math.random()).substring(2);\n    this.embossFilterId = \"\";\n    this.embossFilter_ = null;\n    this.disabledPatternId = \"\";\n    this.disabledPattern_ = null;\n    this.debugFilterId = \"\";\n    this.cssNode_ = this.debugFilter_ = null;\n    this.CURSOR_COLOUR = \"#cc0a0a\";\n    this.MARKER_COLOUR = \"#4286f4\";\n    this.CURSOR_WS_WIDTH = 100;\n    this.WS_CURSOR_HEIGHT = 5;\n    this.CURSOR_STACK_PADDING = 10;\n    this.CURSOR_BLOCK_PADDING = 2;\n    this.CURSOR_STROKE_WIDTH = 4;\n    this.FULL_BLOCK_FIELDS = !1;\n    this.INSERTION_MARKER_COLOUR = \"#000000\";\n    this.INSERTION_MARKER_OPACITY = .2;\n    this.SHAPES = {\n      PUZZLE: 1,\n      NOTCH: 2\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.init = function () {\n    this.JAGGED_TEETH = this.makeJaggedTeeth();\n    this.NOTCH = this.makeNotch();\n    this.START_HAT = this.makeStartHat();\n    this.PUZZLE_TAB = this.makePuzzleTab();\n    this.INSIDE_CORNERS = this.makeInsideCorners();\n    this.OUTSIDE_CORNERS = this.makeOutsideCorners();\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.setTheme = function (a) {\n    this.blockStyles = {};\n    var b = a.blockStyles,\n        c;\n\n    for (c in b) {\n      this.blockStyles[c] = this.validatedBlockStyle_(b[c]);\n    }\n\n    this.setDynamicProperties_(a);\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.setDynamicProperties_ = function (a) {\n    this.setFontConstants_(a);\n    this.setComponentConstants_(a);\n    this.ADD_START_HATS = null != a.startHats ? a.startHats : this.ADD_START_HATS;\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.setFontConstants_ = function (a) {\n    this.FIELD_TEXT_FONTFAMILY = a.fontStyle && void 0 != a.fontStyle.family ? a.fontStyle.family : this.FIELD_TEXT_FONTFAMILY;\n    this.FIELD_TEXT_FONTWEIGHT = a.fontStyle && void 0 != a.fontStyle.weight ? a.fontStyle.weight : this.FIELD_TEXT_FONTWEIGHT;\n    this.FIELD_TEXT_FONTSIZE = a.fontStyle && void 0 != a.fontStyle.size ? a.fontStyle.size : this.FIELD_TEXT_FONTSIZE;\n    a = Blockly.utils.dom.measureFontMetrics(\"Hg\", this.FIELD_TEXT_FONTSIZE + \"pt\", this.FIELD_TEXT_FONTWEIGHT, this.FIELD_TEXT_FONTFAMILY);\n    this.FIELD_TEXT_HEIGHT = a.height;\n    this.FIELD_TEXT_BASELINE = a.baseline;\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.setComponentConstants_ = function (a) {\n    this.CURSOR_COLOUR = a.getComponentStyle(\"cursorColour\") || this.CURSOR_COLOUR;\n    this.MARKER_COLOUR = a.getComponentStyle(\"markerColour\") || this.MARKER_COLOUR;\n    this.INSERTION_MARKER_COLOUR = a.getComponentStyle(\"insertionMarkerColour\") || this.INSERTION_MARKER_COLOUR;\n    this.INSERTION_MARKER_OPACITY = Number(a.getComponentStyle(\"insertionMarkerOpacity\")) || this.INSERTION_MARKER_OPACITY;\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.getBlockStyleForColour = function (a) {\n    var b = \"auto_\" + a;\n    this.blockStyles[b] || (this.blockStyles[b] = this.createBlockStyle_(a));\n    return {\n      style: this.blockStyles[b],\n      name: b\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.getBlockStyle = function (a) {\n    return this.blockStyles[a || \"\"] || (a && 0 == a.indexOf(\"auto_\") ? this.getBlockStyleForColour(a.substring(5)).style : this.createBlockStyle_(\"#000000\"));\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.createBlockStyle_ = function (a) {\n    return this.validatedBlockStyle_({\n      colourPrimary: a\n    });\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.validatedBlockStyle_ = function (a) {\n    var b = {};\n    a && Blockly.utils.object.mixin(b, a);\n    a = Blockly.utils.parseBlockColour(b.colourPrimary || \"#000\");\n    b.colourPrimary = a.hex;\n    b.colourSecondary = b.colourSecondary ? Blockly.utils.parseBlockColour(b.colourSecondary).hex : this.generateSecondaryColour_(b.colourPrimary);\n    b.colourTertiary = b.colourTertiary ? Blockly.utils.parseBlockColour(b.colourTertiary).hex : this.generateTertiaryColour_(b.colourPrimary);\n    b.hat = b.hat || \"\";\n    return b;\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.generateSecondaryColour_ = function (a) {\n    return Blockly.utils.colour.blend(\"#fff\", a, .6) || a;\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.generateTertiaryColour_ = function (a) {\n    return Blockly.utils.colour.blend(\"#fff\", a, .3) || a;\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.dispose = function () {\n    this.embossFilter_ && Blockly.utils.dom.removeNode(this.embossFilter_);\n    this.disabledPattern_ && Blockly.utils.dom.removeNode(this.disabledPattern_);\n    this.debugFilter_ && Blockly.utils.dom.removeNode(this.debugFilter_);\n    this.cssNode_ = null;\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.makeJaggedTeeth = function () {\n    var a = this.JAGGED_TEETH_HEIGHT,\n        b = this.JAGGED_TEETH_WIDTH,\n        c = Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(b, a / 4), Blockly.utils.svgPaths.point(2 * -b, a / 2), Blockly.utils.svgPaths.point(b, a / 4)]);\n    return {\n      height: a,\n      width: b,\n      path: c\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.makeStartHat = function () {\n    var a = this.START_HAT_HEIGHT,\n        b = this.START_HAT_WIDTH,\n        c = Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(30, -a), Blockly.utils.svgPaths.point(70, -a), Blockly.utils.svgPaths.point(b, 0)]);\n    return {\n      height: a,\n      width: b,\n      path: c\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.makePuzzleTab = function () {\n    function a(f) {\n      f = f ? -1 : 1;\n      var g = -f,\n          h = c / 2,\n          k = h + 2.5,\n          l = h + .5,\n          m = Blockly.utils.svgPaths.point(-b, f * h);\n      h = Blockly.utils.svgPaths.point(b, f * h);\n      return Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(0, f * k), Blockly.utils.svgPaths.point(-b, g * l), m]) + Blockly.utils.svgPaths.curve(\"s\", [Blockly.utils.svgPaths.point(b, 2.5 * g), h]);\n    }\n\n    var b = this.TAB_WIDTH,\n        c = this.TAB_HEIGHT,\n        d = a(!0),\n        e = a(!1);\n    return {\n      type: this.SHAPES.PUZZLE,\n      width: b,\n      height: c,\n      pathDown: e,\n      pathUp: d\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.makeNotch = function () {\n    function a(g) {\n      return Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(g * d, c), Blockly.utils.svgPaths.point(3 * g, 0), Blockly.utils.svgPaths.point(g * d, -c)]);\n    }\n\n    var b = this.NOTCH_WIDTH,\n        c = this.NOTCH_HEIGHT,\n        d = (b - 3) / 2,\n        e = a(1),\n        f = a(-1);\n    return {\n      type: this.SHAPES.NOTCH,\n      width: b,\n      height: c,\n      pathLeft: e,\n      pathRight: f\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.makeInsideCorners = function () {\n    var a = this.CORNER_RADIUS,\n        b = Blockly.utils.svgPaths.arc(\"a\", \"0 0,0\", a, Blockly.utils.svgPaths.point(-a, a)),\n        c = Blockly.utils.svgPaths.arc(\"a\", \"0 0,0\", a, Blockly.utils.svgPaths.point(a, a));\n    return {\n      width: a,\n      height: a,\n      pathTop: b,\n      pathBottom: c\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.makeOutsideCorners = function () {\n    var a = this.CORNER_RADIUS,\n        b = Blockly.utils.svgPaths.moveBy(0, a) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a, Blockly.utils.svgPaths.point(a, -a)),\n        c = Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a, Blockly.utils.svgPaths.point(a, a)),\n        d = Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a, Blockly.utils.svgPaths.point(-a, -a)),\n        e = Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a, Blockly.utils.svgPaths.point(-a, a));\n    return {\n      topLeft: b,\n      topRight: c,\n      bottomRight: e,\n      bottomLeft: d,\n      rightHeight: a\n    };\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.shapeFor = function (a) {\n    switch (a.type) {\n      case Blockly.connectionTypes.INPUT_VALUE:\n      case Blockly.connectionTypes.OUTPUT_VALUE:\n        return this.PUZZLE_TAB;\n\n      case Blockly.connectionTypes.PREVIOUS_STATEMENT:\n      case Blockly.connectionTypes.NEXT_STATEMENT:\n        return this.NOTCH;\n\n      default:\n        throw Error(\"Unknown connection type\");\n    }\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.createDom = function (a, b, c) {\n    this.injectCSS_(b, c);\n    a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.DEFS, {}, a);\n    b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FILTER, {\n      id: \"blocklyEmbossFilter\" + this.randomIdentifier\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEGAUSSIANBLUR, {\n      \"in\": \"SourceAlpha\",\n      stdDeviation: 1,\n      result: \"blur\"\n    }, b);\n    c = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FESPECULARLIGHTING, {\n      \"in\": \"blur\",\n      surfaceScale: 1,\n      specularConstant: .5,\n      specularExponent: 10,\n      \"lighting-color\": \"white\",\n      result: \"specOut\"\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEPOINTLIGHT, {\n      x: -5E3,\n      y: -1E4,\n      z: 2E4\n    }, c);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPOSITE, {\n      \"in\": \"specOut\",\n      in2: \"SourceAlpha\",\n      operator: \"in\",\n      result: \"specOut\"\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPOSITE, {\n      \"in\": \"SourceGraphic\",\n      in2: \"specOut\",\n      operator: \"arithmetic\",\n      k1: 0,\n      k2: 1,\n      k3: 1,\n      k4: 0\n    }, b);\n    this.embossFilterId = b.id;\n    this.embossFilter_ = b;\n    b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATTERN, {\n      id: \"blocklyDisabledPattern\" + this.randomIdentifier,\n      patternUnits: \"userSpaceOnUse\",\n      width: 10,\n      height: 10\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      width: 10,\n      height: 10,\n      fill: \"#aaa\"\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      d: \"M 0 0 L 10 10 M 10 0 L 0 10\",\n      stroke: \"#cc0\"\n    }, b);\n    this.disabledPatternId = b.id;\n    this.disabledPattern_ = b;\n    Blockly.blockRendering.Debug && (a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FILTER, {\n      id: \"blocklyDebugFilter\" + this.randomIdentifier,\n      height: \"160%\",\n      width: \"180%\",\n      y: \"-30%\",\n      x: \"-40%\"\n    }, a), b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPONENTTRANSFER, {\n      result: \"outBlur\"\n    }, a), Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEFUNCA, {\n      type: \"table\",\n      tableValues: \"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"\n    }, b), Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEFLOOD, {\n      \"flood-color\": \"#ff0000\",\n      \"flood-opacity\": .5,\n      result: \"outColor\"\n    }, a), Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPOSITE, {\n      \"in\": \"outColor\",\n      in2: \"outBlur\",\n      operator: \"in\",\n      result: \"outGlow\"\n    }, a), this.debugFilterId = a.id, this.debugFilter_ = a);\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.injectCSS_ = function (a, b) {\n    b = this.getCSS_(b);\n    a = \"blockly-renderer-style-\" + a;\n    this.cssNode_ = document.getElementById(a);\n    var c = b.join(\"\\n\");\n    this.cssNode_ ? this.cssNode_.firstChild.textContent = c : (b = document.createElement(\"style\"), b.id = a, a = document.createTextNode(c), b.appendChild(a), document.head.insertBefore(b, document.head.firstChild), this.cssNode_ = b);\n  };\n\n  Blockly.blockRendering.ConstantProvider.prototype.getCSS_ = function (a) {\n    return [a + \" .blocklyText, \", a + \" .blocklyFlyoutLabelText {\", \"font: \" + this.FIELD_TEXT_FONTWEIGHT + \" \" + this.FIELD_TEXT_FONTSIZE + \"pt \" + this.FIELD_TEXT_FONTFAMILY + \";\", \"}\", a + \" .blocklyText {\", \"fill: #fff;\", \"}\", a + \" .blocklyNonEditableText>rect,\", a + \" .blocklyEditableText>rect {\", \"fill: \" + this.FIELD_BORDER_RECT_COLOUR + \";\", \"fill-opacity: .6;\", \"stroke: none;\", \"}\", a + \" .blocklyNonEditableText>text,\", a + \" .blocklyEditableText>text {\", \"fill: #000;\", \"}\", a + \" .blocklyFlyoutLabelText {\", \"fill: #000;\", \"}\", a + \" .blocklyText.blocklyBubbleText {\", \"fill: #000;\", \"}\", a + \" .blocklyEditableText:not(.editing):hover>rect {\", \"stroke: #fff;\", \"stroke-width: 2;\", \"}\", a + \" .blocklyHtmlInput {\", \"font-family: \" + this.FIELD_TEXT_FONTFAMILY + \";\", \"font-weight: \" + this.FIELD_TEXT_FONTWEIGHT + \";\", \"}\", a + \" .blocklySelected>.blocklyPath {\", \"stroke: #fc3;\", \"stroke-width: 3px;\", \"}\", a + \" .blocklyHighlightedConnectionPath {\", \"stroke: #fc3;\", \"}\", a + \" .blocklyReplaceable .blocklyPath {\", \"fill-opacity: .5;\", \"}\", a + \" .blocklyReplaceable .blocklyPathLight,\", a + \" .blocklyReplaceable .blocklyPathDark {\", \"display: none;\", \"}\", a + \" .blocklyInsertionMarker>.blocklyPath {\", \"fill-opacity: \" + this.INSERTION_MARKER_OPACITY + \";\", \"stroke: none;\", \"}\"];\n  };\n\n  Blockly.blockRendering.Types = {\n    NONE: 0,\n    FIELD: 1,\n    HAT: 2,\n    ICON: 4,\n    SPACER: 8,\n    BETWEEN_ROW_SPACER: 16,\n    IN_ROW_SPACER: 32,\n    EXTERNAL_VALUE_INPUT: 64,\n    INPUT: 128,\n    INLINE_INPUT: 256,\n    STATEMENT_INPUT: 512,\n    CONNECTION: 1024,\n    PREVIOUS_CONNECTION: 2048,\n    NEXT_CONNECTION: 4096,\n    OUTPUT_CONNECTION: 8192,\n    CORNER: 16384,\n    LEFT_SQUARE_CORNER: 32768,\n    LEFT_ROUND_CORNER: 65536,\n    RIGHT_SQUARE_CORNER: 131072,\n    RIGHT_ROUND_CORNER: 262144,\n    JAGGED_EDGE: 524288,\n    ROW: 1048576,\n    TOP_ROW: 2097152,\n    BOTTOM_ROW: 4194304,\n    INPUT_ROW: 8388608\n  };\n  Blockly.blockRendering.Types.LEFT_CORNER = Blockly.blockRendering.Types.LEFT_SQUARE_CORNER | Blockly.blockRendering.Types.LEFT_ROUND_CORNER;\n  Blockly.blockRendering.Types.RIGHT_CORNER = Blockly.blockRendering.Types.RIGHT_SQUARE_CORNER | Blockly.blockRendering.Types.RIGHT_ROUND_CORNER;\n  Blockly.blockRendering.Types.nextTypeValue_ = 16777216;\n\n  Blockly.blockRendering.Types.getType = function (a) {\n    Object.prototype.hasOwnProperty.call(Blockly.blockRendering.Types, a) || (Blockly.blockRendering.Types[a] = Blockly.blockRendering.Types.nextTypeValue_, Blockly.blockRendering.Types.nextTypeValue_ <<= 1);\n    return Blockly.blockRendering.Types[a];\n  };\n\n  Blockly.blockRendering.Types.isField = function (a) {\n    return a.type & Blockly.blockRendering.Types.FIELD;\n  };\n\n  Blockly.blockRendering.Types.isHat = function (a) {\n    return a.type & Blockly.blockRendering.Types.HAT;\n  };\n\n  Blockly.blockRendering.Types.isIcon = function (a) {\n    return a.type & Blockly.blockRendering.Types.ICON;\n  };\n\n  Blockly.blockRendering.Types.isSpacer = function (a) {\n    return a.type & Blockly.blockRendering.Types.SPACER;\n  };\n\n  Blockly.blockRendering.Types.isInRowSpacer = function (a) {\n    return a.type & Blockly.blockRendering.Types.IN_ROW_SPACER;\n  };\n\n  Blockly.blockRendering.Types.isInput = function (a) {\n    return a.type & Blockly.blockRendering.Types.INPUT;\n  };\n\n  Blockly.blockRendering.Types.isExternalInput = function (a) {\n    return a.type & Blockly.blockRendering.Types.EXTERNAL_VALUE_INPUT;\n  };\n\n  Blockly.blockRendering.Types.isInlineInput = function (a) {\n    return a.type & Blockly.blockRendering.Types.INLINE_INPUT;\n  };\n\n  Blockly.blockRendering.Types.isStatementInput = function (a) {\n    return a.type & Blockly.blockRendering.Types.STATEMENT_INPUT;\n  };\n\n  Blockly.blockRendering.Types.isPreviousConnection = function (a) {\n    return a.type & Blockly.blockRendering.Types.PREVIOUS_CONNECTION;\n  };\n\n  Blockly.blockRendering.Types.isNextConnection = function (a) {\n    return a.type & Blockly.blockRendering.Types.NEXT_CONNECTION;\n  };\n\n  Blockly.blockRendering.Types.isPreviousOrNextConnection = function (a) {\n    return a.type & (Blockly.blockRendering.Types.PREVIOUS_CONNECTION | Blockly.blockRendering.Types.NEXT_CONNECTION);\n  };\n\n  Blockly.blockRendering.Types.isLeftRoundedCorner = function (a) {\n    return a.type & Blockly.blockRendering.Types.LEFT_ROUND_CORNER;\n  };\n\n  Blockly.blockRendering.Types.isRightRoundedCorner = function (a) {\n    return a.type & Blockly.blockRendering.Types.RIGHT_ROUND_CORNER;\n  };\n\n  Blockly.blockRendering.Types.isLeftSquareCorner = function (a) {\n    return a.type & Blockly.blockRendering.Types.LEFT_SQUARE_CORNER;\n  };\n\n  Blockly.blockRendering.Types.isRightSquareCorner = function (a) {\n    return a.type & Blockly.blockRendering.Types.RIGHT_SQUARE_CORNER;\n  };\n\n  Blockly.blockRendering.Types.isCorner = function (a) {\n    return a.type & Blockly.blockRendering.Types.CORNER;\n  };\n\n  Blockly.blockRendering.Types.isJaggedEdge = function (a) {\n    return a.type & Blockly.blockRendering.Types.JAGGED_EDGE;\n  };\n\n  Blockly.blockRendering.Types.isRow = function (a) {\n    return a.type & Blockly.blockRendering.Types.ROW;\n  };\n\n  Blockly.blockRendering.Types.isBetweenRowSpacer = function (a) {\n    return a.type & Blockly.blockRendering.Types.BETWEEN_ROW_SPACER;\n  };\n\n  Blockly.blockRendering.Types.isTopRow = function (a) {\n    return a.type & Blockly.blockRendering.Types.TOP_ROW;\n  };\n\n  Blockly.blockRendering.Types.isBottomRow = function (a) {\n    return a.type & Blockly.blockRendering.Types.BOTTOM_ROW;\n  };\n\n  Blockly.blockRendering.Types.isTopOrBottomRow = function (a) {\n    return a.type & (Blockly.blockRendering.Types.TOP_ROW | Blockly.blockRendering.Types.BOTTOM_ROW);\n  };\n\n  Blockly.blockRendering.Types.isInputRow = function (a) {\n    return a.type & Blockly.blockRendering.Types.INPUT_ROW;\n  };\n\n  Blockly.blockRendering.Measurable = function (a) {\n    this.height = this.width = 0;\n    this.type = Blockly.blockRendering.Types.NONE;\n    this.centerline = this.xPos = 0;\n    this.constants_ = a;\n    this.notchOffset = this.constants_.NOTCH_OFFSET_LEFT;\n  };\n\n  Blockly.blockRendering.Connection = function (a, b) {\n    Blockly.blockRendering.Connection.superClass_.constructor.call(this, a);\n    this.connectionModel = b;\n    this.shape = this.constants_.shapeFor(b);\n    this.isDynamicShape = !!this.shape.isDynamic;\n    this.type |= Blockly.blockRendering.Types.CONNECTION;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.Connection, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.OutputConnection = function (a, b) {\n    Blockly.blockRendering.OutputConnection.superClass_.constructor.call(this, a, b);\n    this.type |= Blockly.blockRendering.Types.OUTPUT_CONNECTION;\n    this.height = this.isDynamicShape ? 0 : this.shape.height;\n    this.startX = this.width = this.isDynamicShape ? 0 : this.shape.width;\n    this.connectionOffsetY = this.constants_.TAB_OFFSET_FROM_TOP;\n    this.connectionOffsetX = 0;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.OutputConnection, Blockly.blockRendering.Connection);\n\n  Blockly.blockRendering.PreviousConnection = function (a, b) {\n    Blockly.blockRendering.PreviousConnection.superClass_.constructor.call(this, a, b);\n    this.type |= Blockly.blockRendering.Types.PREVIOUS_CONNECTION;\n    this.height = this.shape.height;\n    this.width = this.shape.width;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.PreviousConnection, Blockly.blockRendering.Connection);\n\n  Blockly.blockRendering.NextConnection = function (a, b) {\n    Blockly.blockRendering.NextConnection.superClass_.constructor.call(this, a, b);\n    this.type |= Blockly.blockRendering.Types.NEXT_CONNECTION;\n    this.height = this.shape.height;\n    this.width = this.shape.width;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.NextConnection, Blockly.blockRendering.Connection);\n\n  Blockly.blockRendering.InputConnection = function (a, b) {\n    Blockly.blockRendering.InputConnection.superClass_.constructor.call(this, a, b.connection);\n    this.type |= Blockly.blockRendering.Types.INPUT;\n    this.input = b;\n    this.align = b.align;\n    (this.connectedBlock = b.connection && b.connection.targetBlock() ? b.connection.targetBlock() : null) ? (a = this.connectedBlock.getHeightWidth(), this.connectedBlockWidth = a.width, this.connectedBlockHeight = a.height) : this.connectedBlockHeight = this.connectedBlockWidth = 0;\n    this.connectionOffsetY = this.connectionOffsetX = 0;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.InputConnection, Blockly.blockRendering.Connection);\n\n  Blockly.blockRendering.InlineInput = function (a, b) {\n    Blockly.blockRendering.InlineInput.superClass_.constructor.call(this, a, b);\n    this.type |= Blockly.blockRendering.Types.INLINE_INPUT;\n    this.connectedBlock ? (this.width = this.connectedBlockWidth, this.height = this.connectedBlockHeight) : (this.height = this.constants_.EMPTY_INLINE_INPUT_HEIGHT, this.width = this.constants_.EMPTY_INLINE_INPUT_PADDING);\n    this.connectionHeight = this.isDynamicShape ? this.shape.height(this.height) : this.shape.height;\n    this.connectionWidth = this.isDynamicShape ? this.shape.width(this.height) : this.shape.width;\n    this.connectedBlock || (this.width += this.connectionWidth * (this.isDynamicShape ? 2 : 1));\n    this.connectionOffsetY = this.isDynamicShape ? this.shape.connectionOffsetY(this.connectionHeight) : this.constants_.TAB_OFFSET_FROM_TOP;\n    this.connectionOffsetX = this.isDynamicShape ? this.shape.connectionOffsetX(this.connectionWidth) : 0;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.InlineInput, Blockly.blockRendering.InputConnection);\n\n  Blockly.blockRendering.StatementInput = function (a, b) {\n    Blockly.blockRendering.StatementInput.superClass_.constructor.call(this, a, b);\n    this.type |= Blockly.blockRendering.Types.STATEMENT_INPUT;\n    this.height = this.connectedBlock ? this.connectedBlockHeight + this.constants_.STATEMENT_BOTTOM_SPACER : this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT;\n    this.width = this.constants_.STATEMENT_INPUT_NOTCH_OFFSET + this.shape.width;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.StatementInput, Blockly.blockRendering.InputConnection);\n\n  Blockly.blockRendering.ExternalValueInput = function (a, b) {\n    Blockly.blockRendering.ExternalValueInput.superClass_.constructor.call(this, a, b);\n    this.type |= Blockly.blockRendering.Types.EXTERNAL_VALUE_INPUT;\n    this.height = this.connectedBlock ? this.connectedBlockHeight - this.constants_.TAB_OFFSET_FROM_TOP - this.constants_.MEDIUM_PADDING : this.shape.height;\n    this.width = this.shape.width + this.constants_.EXTERNAL_VALUE_INPUT_PADDING;\n    this.connectionOffsetY = this.constants_.TAB_OFFSET_FROM_TOP;\n    this.connectionHeight = this.shape.height;\n    this.connectionWidth = this.shape.width;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.ExternalValueInput, Blockly.blockRendering.InputConnection);\n\n  Blockly.blockRendering.Icon = function (a, b) {\n    Blockly.blockRendering.Icon.superClass_.constructor.call(this, a);\n    this.icon = b;\n    this.isVisible = b.isVisible();\n    this.type |= Blockly.blockRendering.Types.ICON;\n    a = b.getCorrectedSize();\n    this.height = a.height;\n    this.width = a.width;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.Icon, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.JaggedEdge = function (a) {\n    Blockly.blockRendering.JaggedEdge.superClass_.constructor.call(this, a);\n    this.type |= Blockly.blockRendering.Types.JAGGED_EDGE;\n    this.height = this.constants_.JAGGED_TEETH.height;\n    this.width = this.constants_.JAGGED_TEETH.width;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.JaggedEdge, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.Field = function (a, b, c) {\n    Blockly.blockRendering.Field.superClass_.constructor.call(this, a);\n    this.field = b;\n    this.isEditable = b.EDITABLE;\n    this.flipRtl = b.getFlipRtl();\n    this.type |= Blockly.blockRendering.Types.FIELD;\n    a = this.field.getSize();\n    this.height = a.height;\n    this.width = a.width;\n    this.parentInput = c;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.Field, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.Hat = function (a) {\n    Blockly.blockRendering.Hat.superClass_.constructor.call(this, a);\n    this.type |= Blockly.blockRendering.Types.HAT;\n    this.height = this.constants_.START_HAT.height;\n    this.width = this.constants_.START_HAT.width;\n    this.ascenderHeight = this.height;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.Hat, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.SquareCorner = function (a, b) {\n    Blockly.blockRendering.SquareCorner.superClass_.constructor.call(this, a);\n    this.type = (b && \"left\" != b ? Blockly.blockRendering.Types.RIGHT_SQUARE_CORNER : Blockly.blockRendering.Types.LEFT_SQUARE_CORNER) | Blockly.blockRendering.Types.CORNER;\n    this.width = this.height = this.constants_.NO_PADDING;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.SquareCorner, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.RoundCorner = function (a, b) {\n    Blockly.blockRendering.RoundCorner.superClass_.constructor.call(this, a);\n    this.type = (b && \"left\" != b ? Blockly.blockRendering.Types.RIGHT_ROUND_CORNER : Blockly.blockRendering.Types.LEFT_ROUND_CORNER) | Blockly.blockRendering.Types.CORNER;\n    this.width = this.constants_.CORNER_RADIUS;\n    this.height = this.constants_.CORNER_RADIUS / 2;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.RoundCorner, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.InRowSpacer = function (a, b) {\n    Blockly.blockRendering.InRowSpacer.superClass_.constructor.call(this, a);\n    this.type = this.type | Blockly.blockRendering.Types.SPACER | Blockly.blockRendering.Types.IN_ROW_SPACER;\n    this.width = b;\n    this.height = this.constants_.SPACER_DEFAULT_HEIGHT;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.InRowSpacer, Blockly.blockRendering.Measurable);\n\n  Blockly.blockRendering.Row = function (a) {\n    this.type = Blockly.blockRendering.Types.ROW;\n    this.elements = [];\n    this.xPos = this.yPos = this.widthWithConnectedBlocks = this.minWidth = this.minHeight = this.width = this.height = 0;\n    this.hasJaggedEdge = this.hasDummyInput = this.hasInlineInput = this.hasStatement = this.hasExternalInput = !1;\n    this.constants_ = a;\n    this.notchOffset = this.constants_.NOTCH_OFFSET_LEFT;\n    this.align = null;\n  };\n\n  Blockly.blockRendering.Row.prototype.measure = function () {\n    throw Error(\"Unexpected attempt to measure a base Row.\");\n  };\n\n  Blockly.blockRendering.Row.prototype.getLastInput = function () {\n    for (var a = this.elements.length - 1, b; b = this.elements[a]; a--) {\n      if (Blockly.blockRendering.Types.isInput(b)) return b;\n    }\n\n    return null;\n  };\n\n  Blockly.blockRendering.Row.prototype.startsWithElemSpacer = function () {\n    return !0;\n  };\n\n  Blockly.blockRendering.Row.prototype.endsWithElemSpacer = function () {\n    return !0;\n  };\n\n  Blockly.blockRendering.Row.prototype.getFirstSpacer = function () {\n    for (var a = 0, b; b = this.elements[a]; a++) {\n      if (Blockly.blockRendering.Types.isSpacer(b)) return b;\n    }\n\n    return null;\n  };\n\n  Blockly.blockRendering.Row.prototype.getLastSpacer = function () {\n    for (var a = this.elements.length - 1, b; b = this.elements[a]; a--) {\n      if (Blockly.blockRendering.Types.isSpacer(b)) return b;\n    }\n\n    return null;\n  };\n\n  Blockly.blockRendering.TopRow = function (a) {\n    Blockly.blockRendering.TopRow.superClass_.constructor.call(this, a);\n    this.type |= Blockly.blockRendering.Types.TOP_ROW;\n    this.ascenderHeight = this.capline = 0;\n    this.hasPreviousConnection = !1;\n    this.connection = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.TopRow, Blockly.blockRendering.Row);\n\n  Blockly.blockRendering.TopRow.prototype.hasLeftSquareCorner = function (a) {\n    var b = (a.hat ? \"cap\" === a.hat : this.constants_.ADD_START_HATS) && !a.outputConnection && !a.previousConnection,\n        c = a.getPreviousBlock();\n    return !!a.outputConnection || b || (c ? c.getNextBlock() == a : !1);\n  };\n\n  Blockly.blockRendering.TopRow.prototype.hasRightSquareCorner = function (a) {\n    return !0;\n  };\n\n  Blockly.blockRendering.TopRow.prototype.measure = function () {\n    for (var a = 0, b = 0, c = 0, d = 0, e; e = this.elements[d]; d++) {\n      b += e.width, Blockly.blockRendering.Types.isSpacer(e) || (Blockly.blockRendering.Types.isHat(e) ? c = Math.max(c, e.ascenderHeight) : a = Math.max(a, e.height));\n    }\n\n    this.width = Math.max(this.minWidth, b);\n    this.height = Math.max(this.minHeight, a) + c;\n    this.capline = this.ascenderHeight = c;\n    this.widthWithConnectedBlocks = this.width;\n  };\n\n  Blockly.blockRendering.TopRow.prototype.startsWithElemSpacer = function () {\n    return !1;\n  };\n\n  Blockly.blockRendering.TopRow.prototype.endsWithElemSpacer = function () {\n    return !1;\n  };\n\n  Blockly.blockRendering.BottomRow = function (a) {\n    Blockly.blockRendering.BottomRow.superClass_.constructor.call(this, a);\n    this.type |= Blockly.blockRendering.Types.BOTTOM_ROW;\n    this.hasNextConnection = !1;\n    this.connection = null;\n    this.baseline = this.descenderHeight = 0;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.BottomRow, Blockly.blockRendering.Row);\n\n  Blockly.blockRendering.BottomRow.prototype.hasLeftSquareCorner = function (a) {\n    return !!a.outputConnection || !!a.getNextBlock();\n  };\n\n  Blockly.blockRendering.BottomRow.prototype.hasRightSquareCorner = function (a) {\n    return !0;\n  };\n\n  Blockly.blockRendering.BottomRow.prototype.measure = function () {\n    for (var a = 0, b = 0, c = 0, d = 0, e; e = this.elements[d]; d++) {\n      b += e.width, Blockly.blockRendering.Types.isSpacer(e) || (Blockly.blockRendering.Types.isNextConnection(e) ? c = Math.max(c, e.height) : a = Math.max(a, e.height));\n    }\n\n    this.width = Math.max(this.minWidth, b);\n    this.height = Math.max(this.minHeight, a) + c;\n    this.descenderHeight = c;\n    this.widthWithConnectedBlocks = this.width;\n  };\n\n  Blockly.blockRendering.BottomRow.prototype.startsWithElemSpacer = function () {\n    return !1;\n  };\n\n  Blockly.blockRendering.BottomRow.prototype.endsWithElemSpacer = function () {\n    return !1;\n  };\n\n  Blockly.blockRendering.SpacerRow = function (a, b, c) {\n    Blockly.blockRendering.SpacerRow.superClass_.constructor.call(this, a);\n    this.type = this.type | Blockly.blockRendering.Types.SPACER | Blockly.blockRendering.Types.BETWEEN_ROW_SPACER;\n    this.width = c;\n    this.height = b;\n    this.followsStatement = !1;\n    this.widthWithConnectedBlocks = 0;\n    this.elements = [new Blockly.blockRendering.InRowSpacer(this.constants_, c)];\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.SpacerRow, Blockly.blockRendering.Row);\n\n  Blockly.blockRendering.SpacerRow.prototype.measure = function () {};\n\n  Blockly.blockRendering.InputRow = function (a) {\n    Blockly.blockRendering.InputRow.superClass_.constructor.call(this, a);\n    this.type |= Blockly.blockRendering.Types.INPUT_ROW;\n    this.connectedBlockWidths = 0;\n  };\n\n  Blockly.utils.object.inherits(Blockly.blockRendering.InputRow, Blockly.blockRendering.Row);\n\n  Blockly.blockRendering.InputRow.prototype.measure = function () {\n    this.width = this.minWidth;\n    this.height = this.minHeight;\n\n    for (var a = 0, b = 0, c; c = this.elements[b]; b++) {\n      this.width += c.width, Blockly.blockRendering.Types.isInput(c) && (Blockly.blockRendering.Types.isStatementInput(c) ? a += c.connectedBlockWidth : Blockly.blockRendering.Types.isExternalInput(c) && 0 != c.connectedBlockWidth && (a += c.connectedBlockWidth - c.connectionWidth)), Blockly.blockRendering.Types.isSpacer(c) || (this.height = Math.max(this.height, c.height));\n    }\n\n    this.connectedBlockWidths = a;\n    this.widthWithConnectedBlocks = this.width + a;\n  };\n\n  Blockly.blockRendering.InputRow.prototype.endsWithElemSpacer = function () {\n    return !this.hasExternalInput && !this.hasStatement;\n  };\n\n  Blockly.blockRendering.RenderInfo = function (a, b) {\n    this.block_ = b;\n    this.renderer_ = a;\n    this.constants_ = this.renderer_.getConstants();\n    this.outputConnection = b.outputConnection ? new Blockly.blockRendering.OutputConnection(this.constants_, b.outputConnection) : null;\n    this.isInline = b.getInputsInline() && !b.isCollapsed();\n    this.isCollapsed = b.isCollapsed();\n    this.isInsertionMarker = b.isInsertionMarker();\n    this.RTL = b.RTL;\n    this.statementEdge = this.width = this.widthWithChildren = this.height = 0;\n    this.rows = [];\n    this.inputRows = [];\n    this.hiddenIcons = [];\n    this.topRow = new Blockly.blockRendering.TopRow(this.constants_);\n    this.bottomRow = new Blockly.blockRendering.BottomRow(this.constants_);\n    this.startY = this.startX = 0;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.getRenderer = function () {\n    return this.renderer_;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.measure = function () {\n    this.createRows_();\n    this.addElemSpacing_();\n    this.addRowSpacing_();\n    this.computeBounds_();\n    this.alignRowElements_();\n    this.finalize_();\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.createRows_ = function () {\n    this.populateTopRow_();\n    this.rows.push(this.topRow);\n    var a = new Blockly.blockRendering.InputRow(this.constants_);\n    this.inputRows.push(a);\n    var b = this.block_.getIcons();\n    if (b.length) for (var c = 0, d; d = b[c]; c++) {\n      var e = new Blockly.blockRendering.Icon(this.constants_, d);\n      this.isCollapsed && d.collapseHidden ? this.hiddenIcons.push(e) : a.elements.push(e);\n    }\n    d = null;\n\n    for (c = 0; b = this.block_.inputList[c]; c++) {\n      if (b.isVisible()) {\n        this.shouldStartNewRow_(b, d) && (this.rows.push(a), a = new Blockly.blockRendering.InputRow(this.constants_), this.inputRows.push(a));\n\n        for (d = 0; e = b.fieldRow[d]; d++) {\n          a.elements.push(new Blockly.blockRendering.Field(this.constants_, e, b));\n        }\n\n        this.addInput_(b, a);\n        d = b;\n      }\n    }\n\n    this.isCollapsed && (a.hasJaggedEdge = !0, a.elements.push(new Blockly.blockRendering.JaggedEdge(this.constants_)));\n    (a.elements.length || a.hasDummyInput) && this.rows.push(a);\n    this.populateBottomRow_();\n    this.rows.push(this.bottomRow);\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.populateTopRow_ = function () {\n    var a = !!this.block_.previousConnection,\n        b = (this.block_.hat ? \"cap\" === this.block_.hat : this.constants_.ADD_START_HATS) && !this.outputConnection && !a;\n    this.topRow.hasLeftSquareCorner(this.block_) ? this.topRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_)) : this.topRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_));\n    b ? (a = new Blockly.blockRendering.Hat(this.constants_), this.topRow.elements.push(a), this.topRow.capline = a.ascenderHeight) : a && (this.topRow.hasPreviousConnection = !0, this.topRow.connection = new Blockly.blockRendering.PreviousConnection(this.constants_, this.block_.previousConnection), this.topRow.elements.push(this.topRow.connection));\n    this.block_.inputList.length && this.block_.inputList[0].type == Blockly.inputTypes.STATEMENT && !this.block_.isCollapsed() ? this.topRow.minHeight = this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT : this.topRow.minHeight = this.constants_.TOP_ROW_MIN_HEIGHT;\n    this.topRow.hasRightSquareCorner(this.block_) ? this.topRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_, \"right\")) : this.topRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_, \"right\"));\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.populateBottomRow_ = function () {\n    this.bottomRow.hasNextConnection = !!this.block_.nextConnection;\n    this.bottomRow.minHeight = this.block_.inputList.length && this.block_.inputList[this.block_.inputList.length - 1].type == Blockly.inputTypes.STATEMENT ? this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT : this.constants_.BOTTOM_ROW_MIN_HEIGHT;\n    this.bottomRow.hasLeftSquareCorner(this.block_) ? this.bottomRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_)) : this.bottomRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_));\n    this.bottomRow.hasNextConnection && (this.bottomRow.connection = new Blockly.blockRendering.NextConnection(this.constants_, this.block_.nextConnection), this.bottomRow.elements.push(this.bottomRow.connection));\n    this.bottomRow.hasRightSquareCorner(this.block_) ? this.bottomRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_, \"right\")) : this.bottomRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_, \"right\"));\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.addInput_ = function (a, b) {\n    this.isInline && a.type == Blockly.inputTypes.VALUE ? (b.elements.push(new Blockly.blockRendering.InlineInput(this.constants_, a)), b.hasInlineInput = !0) : a.type == Blockly.inputTypes.STATEMENT ? (b.elements.push(new Blockly.blockRendering.StatementInput(this.constants_, a)), b.hasStatement = !0) : a.type == Blockly.inputTypes.VALUE ? (b.elements.push(new Blockly.blockRendering.ExternalValueInput(this.constants_, a)), b.hasExternalInput = !0) : a.type == Blockly.inputTypes.DUMMY && (b.minHeight = Math.max(b.minHeight, a.getSourceBlock() && a.getSourceBlock().isShadow() ? this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT : this.constants_.DUMMY_INPUT_MIN_HEIGHT), b.hasDummyInput = !0);\n    null == b.align && (b.align = a.align);\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.shouldStartNewRow_ = function (a, b) {\n    return b ? a.type == Blockly.inputTypes.STATEMENT || b.type == Blockly.inputTypes.STATEMENT ? !0 : a.type == Blockly.inputTypes.VALUE || a.type == Blockly.inputTypes.DUMMY ? !this.isInline : !1 : !1;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.addElemSpacing_ = function () {\n    for (var a = 0, b; b = this.rows[a]; a++) {\n      var c = b.elements;\n      b.elements = [];\n      b.startsWithElemSpacer() && b.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, this.getInRowSpacing_(null, c[0])));\n\n      if (c.length) {\n        for (var d = 0; d < c.length - 1; d++) {\n          b.elements.push(c[d]);\n          var e = this.getInRowSpacing_(c[d], c[d + 1]);\n          b.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, e));\n        }\n\n        b.elements.push(c[c.length - 1]);\n        b.endsWithElemSpacer() && b.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, this.getInRowSpacing_(c[c.length - 1], null)));\n      }\n    }\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.getInRowSpacing_ = function (a, b) {\n    if (!a && b && Blockly.blockRendering.Types.isStatementInput(b)) return this.constants_.STATEMENT_INPUT_PADDING_LEFT;\n\n    if (a && Blockly.blockRendering.Types.isInput(a) && !b) {\n      if (Blockly.blockRendering.Types.isExternalInput(a)) return this.constants_.NO_PADDING;\n      if (Blockly.blockRendering.Types.isInlineInput(a)) return this.constants_.LARGE_PADDING;\n      if (Blockly.blockRendering.Types.isStatementInput(a)) return this.constants_.NO_PADDING;\n    }\n\n    return a && Blockly.blockRendering.Types.isLeftSquareCorner(a) && b && (Blockly.blockRendering.Types.isPreviousConnection(b) || Blockly.blockRendering.Types.isNextConnection(b)) ? b.notchOffset : a && Blockly.blockRendering.Types.isLeftRoundedCorner(a) && b && (Blockly.blockRendering.Types.isPreviousConnection(b) || Blockly.blockRendering.Types.isNextConnection(b)) ? b.notchOffset - this.constants_.CORNER_RADIUS : this.constants_.MEDIUM_PADDING;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.computeBounds_ = function () {\n    for (var a = 0, b = 0, c = 0, d = 0, e; e = this.rows[d]; d++) {\n      e.measure();\n      b = Math.max(b, e.width);\n\n      if (e.hasStatement) {\n        var f = e.getLastInput();\n        a = Math.max(a, e.width - f.width);\n      }\n\n      c = Math.max(c, e.widthWithConnectedBlocks);\n    }\n\n    this.statementEdge = a;\n    this.width = b;\n\n    for (d = 0; e = this.rows[d]; d++) {\n      e.hasStatement && (e.statementEdge = this.statementEdge);\n    }\n\n    this.widthWithChildren = Math.max(b, c);\n    this.outputConnection && (this.startX = this.outputConnection.width, this.width += this.outputConnection.width, this.widthWithChildren += this.outputConnection.width);\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.alignRowElements_ = function () {\n    for (var a = 0, b; b = this.rows[a]; a++) {\n      if (b.hasStatement) this.alignStatementRow_(b);else {\n        var c = b.width;\n        c = this.getDesiredRowWidth_(b) - c;\n        0 < c && this.addAlignmentPadding_(b, c);\n        Blockly.blockRendering.Types.isTopOrBottomRow(b) && (b.widthWithConnectedBlocks = b.width);\n      }\n    }\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.getDesiredRowWidth_ = function (a) {\n    return this.width - this.startX;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.addAlignmentPadding_ = function (a, b) {\n    var c = a.getFirstSpacer(),\n        d = a.getLastSpacer();\n    if (a.hasExternalInput || a.hasStatement) a.widthWithConnectedBlocks += b;\n    a.align == Blockly.constants.ALIGN.LEFT ? d.width += b : a.align == Blockly.constants.ALIGN.CENTRE ? (c.width += b / 2, d.width += b / 2) : a.align == Blockly.constants.ALIGN.RIGHT ? c.width += b : d.width += b;\n    a.width += b;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.alignStatementRow_ = function (a) {\n    var b = a.getLastInput(),\n        c = a.width - b.width,\n        d = this.statementEdge;\n    c = d - c;\n    0 < c && this.addAlignmentPadding_(a, c);\n    c = a.width;\n    d = this.getDesiredRowWidth_(a);\n    b.width += d - c;\n    b.height = Math.max(b.height, a.height);\n    a.width += d - c;\n    a.widthWithConnectedBlocks = Math.max(a.width, this.statementEdge + a.connectedBlockWidths);\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.addRowSpacing_ = function () {\n    var a = this.rows;\n    this.rows = [];\n\n    for (var b = 0; b < a.length; b++) {\n      this.rows.push(a[b]), b != a.length - 1 && this.rows.push(this.makeSpacerRow_(a[b], a[b + 1]));\n    }\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.makeSpacerRow_ = function (a, b) {\n    var c = this.getSpacerRowHeight_(a, b),\n        d = this.getSpacerRowWidth_(a, b);\n    c = new Blockly.blockRendering.SpacerRow(this.constants_, c, d);\n    a.hasStatement && (c.followsStatement = !0);\n    b.hasStatement && (c.precedesStatement = !0);\n    return c;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.getSpacerRowWidth_ = function (a, b) {\n    return this.width - this.startX;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.getSpacerRowHeight_ = function (a, b) {\n    return this.constants_.MEDIUM_PADDING;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.getElemCenterline_ = function (a, b) {\n    return Blockly.blockRendering.Types.isSpacer(b) ? a.yPos + b.height / 2 : Blockly.blockRendering.Types.isBottomRow(a) ? (a = a.yPos + a.height - a.descenderHeight, Blockly.blockRendering.Types.isNextConnection(b) ? a + b.height / 2 : a - b.height / 2) : Blockly.blockRendering.Types.isTopRow(a) ? Blockly.blockRendering.Types.isHat(b) ? a.capline - b.height / 2 : a.capline + b.height / 2 : a.yPos + a.height / 2;\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.recordElemPositions_ = function (a) {\n    for (var b = a.xPos, c = 0, d; d = a.elements[c]; c++) {\n      Blockly.blockRendering.Types.isSpacer(d) && (d.height = a.height), d.xPos = b, d.centerline = this.getElemCenterline_(a, d), b += d.width;\n    }\n  };\n\n  Blockly.blockRendering.RenderInfo.prototype.finalize_ = function () {\n    for (var a = 0, b = 0, c = 0, d; d = this.rows[c]; c++) {\n      d.yPos = b, d.xPos = this.startX, b += d.height, a = Math.max(a, d.widthWithConnectedBlocks), this.recordElemPositions_(d);\n    }\n\n    this.outputConnection && this.block_.nextConnection && this.block_.nextConnection.isConnected() && (a = Math.max(a, this.block_.nextConnection.targetBlock().getHeightWidth().width));\n    this.widthWithChildren = a + this.startX;\n    this.height = b;\n    this.startY = this.topRow.capline;\n    this.bottomRow.baseline = b - this.bottomRow.descenderHeight;\n  };\n\n  Blockly.blockRendering.Debug = function (a) {\n    this.debugElements_ = [];\n    this.svgRoot_ = null;\n    this.constants_ = a;\n  };\n\n  Blockly.blockRendering.Debug.config = {\n    rowSpacers: !0,\n    elemSpacers: !0,\n    rows: !0,\n    elems: !0,\n    connections: !0,\n    blockBounds: !0,\n    connectedBlockBounds: !0,\n    render: !0\n  };\n\n  Blockly.blockRendering.Debug.prototype.clearElems = function () {\n    for (var a = 0, b; b = this.debugElements_[a]; a++) {\n      Blockly.utils.dom.removeNode(b);\n    }\n\n    this.debugElements_ = [];\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawSpacerRow = function (a, b, c) {\n    if (Blockly.blockRendering.Debug.config.rowSpacers) {\n      var d = Math.abs(a.height),\n          e = 0 > a.height;\n      e && (b -= d);\n      this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n        \"class\": \"rowSpacerRect blockRenderDebug\",\n        x: c ? -(a.xPos + a.width) : a.xPos,\n        y: b,\n        width: a.width,\n        height: d,\n        stroke: e ? \"black\" : \"blue\",\n        fill: \"blue\",\n        \"fill-opacity\": \"0.5\",\n        \"stroke-width\": \"1px\"\n      }, this.svgRoot_));\n    }\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawSpacerElem = function (a, b, c) {\n    if (Blockly.blockRendering.Debug.config.elemSpacers) {\n      b = Math.abs(a.width);\n      var d = 0 > a.width,\n          e = d ? a.xPos - b : a.xPos;\n      c && (e = -(e + b));\n      this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n        \"class\": \"elemSpacerRect blockRenderDebug\",\n        x: e,\n        y: a.centerline - a.height / 2,\n        width: b,\n        height: a.height,\n        stroke: \"pink\",\n        fill: d ? \"black\" : \"pink\",\n        \"fill-opacity\": \"0.5\",\n        \"stroke-width\": \"1px\"\n      }, this.svgRoot_));\n    }\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawRenderedElem = function (a, b) {\n    if (Blockly.blockRendering.Debug.config.elems) {\n      var c = a.xPos;\n      b && (c = -(c + a.width));\n      b = a.centerline - a.height / 2;\n      this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n        \"class\": \"rowRenderingRect blockRenderDebug\",\n        x: c,\n        y: b,\n        width: a.width,\n        height: a.height,\n        stroke: \"black\",\n        fill: \"none\",\n        \"stroke-width\": \"1px\"\n      }, this.svgRoot_));\n      Blockly.blockRendering.Types.isField(a) && a.field instanceof Blockly.FieldLabel && this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n        \"class\": \"rowRenderingRect blockRenderDebug\",\n        x: c,\n        y: b + this.constants_.FIELD_TEXT_BASELINE,\n        width: a.width,\n        height: \"0.1px\",\n        stroke: \"red\",\n        fill: \"none\",\n        \"stroke-width\": \"0.5px\"\n      }, this.svgRoot_));\n    }\n\n    Blockly.blockRendering.Types.isInput(a) && Blockly.blockRendering.Debug.config.connections && this.drawConnection(a.connectionModel);\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawConnection = function (a) {\n    if (Blockly.blockRendering.Debug.config.connections) {\n      if (a.type == Blockly.connectionTypes.INPUT_VALUE) {\n        var b = 4;\n        var c = \"magenta\";\n        var d = \"none\";\n      } else a.type == Blockly.connectionTypes.OUTPUT_VALUE ? (b = 2, d = c = \"magenta\") : a.type == Blockly.connectionTypes.NEXT_STATEMENT ? (b = 4, c = \"goldenrod\", d = \"none\") : a.type == Blockly.connectionTypes.PREVIOUS_STATEMENT && (b = 2, d = c = \"goldenrod\");\n\n      this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CIRCLE, {\n        \"class\": \"blockRenderDebug\",\n        cx: a.offsetInBlock_.x,\n        cy: a.offsetInBlock_.y,\n        r: b,\n        fill: d,\n        stroke: c\n      }, this.svgRoot_));\n    }\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawRenderedRow = function (a, b, c) {\n    Blockly.blockRendering.Debug.config.rows && (this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"elemRenderingRect blockRenderDebug\",\n      x: c ? -(a.xPos + a.width) : a.xPos,\n      y: a.yPos,\n      width: a.width,\n      height: a.height,\n      stroke: \"red\",\n      fill: \"none\",\n      \"stroke-width\": \"1px\"\n    }, this.svgRoot_)), Blockly.blockRendering.Types.isTopOrBottomRow(a) || Blockly.blockRendering.Debug.config.connectedBlockBounds && this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"connectedBlockWidth blockRenderDebug\",\n      x: c ? -(a.xPos + a.widthWithConnectedBlocks) : a.xPos,\n      y: a.yPos,\n      width: a.widthWithConnectedBlocks,\n      height: a.height,\n      stroke: this.randomColour_,\n      fill: \"none\",\n      \"stroke-width\": \"1px\",\n      \"stroke-dasharray\": \"3,3\"\n    }, this.svgRoot_)));\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawRowWithElements = function (a, b, c) {\n    for (var d = 0, e = a.elements.length; d < e; d++) {\n      var f = a.elements[d];\n      f ? Blockly.blockRendering.Types.isSpacer(f) ? this.drawSpacerElem(f, a.height, c) : this.drawRenderedElem(f, c) : console.warn(\"A row has an undefined or null element.\", a, f);\n    }\n\n    this.drawRenderedRow(a, b, c);\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawBoundingBox = function (a) {\n    if (Blockly.blockRendering.Debug.config.blockBounds) {\n      var b = a.RTL ? -a.width : 0;\n      this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n        \"class\": \"blockBoundingBox blockRenderDebug\",\n        x: b,\n        y: 0,\n        width: a.width,\n        height: a.height,\n        stroke: \"black\",\n        fill: \"none\",\n        \"stroke-width\": \"1px\",\n        \"stroke-dasharray\": \"5,5\"\n      }, this.svgRoot_));\n      Blockly.blockRendering.Debug.config.connectedBlockBounds && (b = a.RTL ? -a.widthWithChildren : 0, this.debugElements_.push(Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n        \"class\": \"blockRenderDebug\",\n        x: b,\n        y: 0,\n        width: a.widthWithChildren,\n        height: a.height,\n        stroke: \"#DF57BC\",\n        fill: \"none\",\n        \"stroke-width\": \"1px\",\n        \"stroke-dasharray\": \"3,3\"\n      }, this.svgRoot_)));\n    }\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawDebug = function (a, b) {\n    this.clearElems();\n    this.svgRoot_ = a.getSvgRoot();\n    this.randomColour_ = \"#\" + Math.floor(16777215 * Math.random()).toString(16);\n\n    for (var c = 0, d = 0, e; e = b.rows[d]; d++) {\n      Blockly.blockRendering.Types.isBetweenRowSpacer(e) ? this.drawSpacerRow(e, c, b.RTL) : this.drawRowWithElements(e, c, b.RTL), c += e.height;\n    }\n\n    a.previousConnection && this.drawConnection(a.previousConnection);\n    a.nextConnection && this.drawConnection(a.nextConnection);\n    a.outputConnection && this.drawConnection(a.outputConnection);\n    b.rightSide && this.drawRenderedElem(b.rightSide, b.RTL);\n    this.drawBoundingBox(b);\n    this.drawRender(a.pathObject.svgPath);\n  };\n\n  Blockly.blockRendering.Debug.prototype.drawRender = function (a) {\n    Blockly.blockRendering.Debug.config.render && (a.setAttribute(\"filter\", \"url(#\" + this.constants_.debugFilterId + \")\"), setTimeout(function () {\n      a.setAttribute(\"filter\", \"\");\n    }, 100));\n  };\n\n  Blockly.blockRendering.Drawer = function (a, b) {\n    this.block_ = a;\n    this.info_ = b;\n    this.topLeft_ = a.getRelativeToSurfaceXY();\n    this.inlinePath_ = this.outlinePath_ = \"\";\n    this.constants_ = b.getRenderer().getConstants();\n  };\n\n  Blockly.blockRendering.Drawer.prototype.draw = function () {\n    this.hideHiddenIcons_();\n    this.drawOutline_();\n    this.drawInternals_();\n    this.block_.pathObject.setPath(this.outlinePath_ + \"\\n\" + this.inlinePath_);\n    this.info_.RTL && this.block_.pathObject.flipRTL();\n    Blockly.blockRendering.useDebugger && this.block_.renderingDebugger.drawDebug(this.block_, this.info_);\n    this.recordSizeOnBlock_();\n  };\n\n  Blockly.blockRendering.Drawer.prototype.recordSizeOnBlock_ = function () {\n    this.block_.height = this.info_.height;\n    this.block_.width = this.info_.widthWithChildren;\n  };\n\n  Blockly.blockRendering.Drawer.prototype.hideHiddenIcons_ = function () {\n    for (var a = 0, b; b = this.info_.hiddenIcons[a]; a++) {\n      b.icon.iconGroup_.setAttribute(\"display\", \"none\");\n    }\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawOutline_ = function () {\n    this.drawTop_();\n\n    for (var a = 1; a < this.info_.rows.length - 1; a++) {\n      var b = this.info_.rows[a];\n      b.hasJaggedEdge ? this.drawJaggedEdge_(b) : b.hasStatement ? this.drawStatementInput_(b) : b.hasExternalInput ? this.drawValueInput_(b) : this.drawRightSideRow_(b);\n    }\n\n    this.drawBottom_();\n    this.drawLeft_();\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawTop_ = function () {\n    var a = this.info_.topRow,\n        b = a.elements;\n    this.positionPreviousConnection_();\n    this.outlinePath_ += Blockly.utils.svgPaths.moveBy(a.xPos, this.info_.startY);\n\n    for (var c = 0, d; d = b[c]; c++) {\n      Blockly.blockRendering.Types.isLeftRoundedCorner(d) ? this.outlinePath_ += this.constants_.OUTSIDE_CORNERS.topLeft : Blockly.blockRendering.Types.isRightRoundedCorner(d) ? this.outlinePath_ += this.constants_.OUTSIDE_CORNERS.topRight : Blockly.blockRendering.Types.isPreviousConnection(d) ? this.outlinePath_ += d.shape.pathLeft : Blockly.blockRendering.Types.isHat(d) ? this.outlinePath_ += this.constants_.START_HAT.path : Blockly.blockRendering.Types.isSpacer(d) && (this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"h\", d.width));\n    }\n\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"v\", a.height);\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawJaggedEdge_ = function (a) {\n    this.outlinePath_ += this.constants_.JAGGED_TEETH.path + Blockly.utils.svgPaths.lineOnAxis(\"v\", a.height - this.constants_.JAGGED_TEETH.height);\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawValueInput_ = function (a) {\n    var b = a.getLastInput();\n    this.positionExternalValueConnection_(a);\n    var c = \"function\" == typeof b.shape.pathDown ? b.shape.pathDown(b.height) : b.shape.pathDown;\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", b.xPos + b.width) + c + Blockly.utils.svgPaths.lineOnAxis(\"v\", a.height - b.connectionHeight);\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawStatementInput_ = function (a) {\n    var b = a.getLastInput(),\n        c = b.xPos + b.notchOffset + b.shape.width;\n    b = b.shape.pathRight + Blockly.utils.svgPaths.lineOnAxis(\"h\", -(b.notchOffset - this.constants_.INSIDE_CORNERS.width)) + this.constants_.INSIDE_CORNERS.pathTop;\n    var d = a.height - 2 * this.constants_.INSIDE_CORNERS.height;\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", c) + b + Blockly.utils.svgPaths.lineOnAxis(\"v\", d) + this.constants_.INSIDE_CORNERS.pathBottom + Blockly.utils.svgPaths.lineOnAxis(\"H\", a.xPos + a.width);\n    this.positionStatementInputConnection_(a);\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawRightSideRow_ = function (a) {\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a.yPos + a.height);\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawBottom_ = function () {\n    var a = this.info_.bottomRow,\n        b = a.elements;\n    this.positionNextConnection_();\n\n    for (var c = 0, d = \"\", e = b.length - 1, f; f = b[e]; e--) {\n      Blockly.blockRendering.Types.isNextConnection(f) ? d += f.shape.pathRight : Blockly.blockRendering.Types.isLeftSquareCorner(f) ? d += Blockly.utils.svgPaths.lineOnAxis(\"H\", a.xPos) : Blockly.blockRendering.Types.isLeftRoundedCorner(f) ? d += this.constants_.OUTSIDE_CORNERS.bottomLeft : Blockly.blockRendering.Types.isRightRoundedCorner(f) ? (d += this.constants_.OUTSIDE_CORNERS.bottomRight, c = this.constants_.OUTSIDE_CORNERS.rightHeight) : Blockly.blockRendering.Types.isSpacer(f) && (d += Blockly.utils.svgPaths.lineOnAxis(\"h\", -1 * f.width));\n    }\n\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a.baseline - c);\n    this.outlinePath_ += d;\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawLeft_ = function () {\n    var a = this.info_.outputConnection;\n    this.positionOutputConnection_();\n\n    if (a) {\n      var b = a.connectionOffsetY + a.height;\n      a = \"function\" == typeof a.shape.pathUp ? a.shape.pathUp(a.height) : a.shape.pathUp;\n      this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", b) + a;\n    }\n\n    this.outlinePath_ += \"z\";\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawInternals_ = function () {\n    for (var a = 0, b; b = this.info_.rows[a]; a++) {\n      for (var c = 0, d; d = b.elements[c]; c++) {\n        Blockly.blockRendering.Types.isInlineInput(d) ? this.drawInlineInput_(d) : (Blockly.blockRendering.Types.isIcon(d) || Blockly.blockRendering.Types.isField(d)) && this.layoutField_(d);\n      }\n    }\n  };\n\n  Blockly.blockRendering.Drawer.prototype.layoutField_ = function (a) {\n    if (Blockly.blockRendering.Types.isField(a)) var b = a.field.getSvgRoot();else Blockly.blockRendering.Types.isIcon(a) && (b = a.icon.iconGroup_);\n    var c = a.centerline - a.height / 2,\n        d = a.xPos,\n        e = \"\";\n    this.info_.RTL && (d = -(d + a.width), a.flipRtl && (d += a.width, e = \"scale(-1 1)\"));\n    Blockly.blockRendering.Types.isIcon(a) ? (b.setAttribute(\"display\", \"block\"), b.setAttribute(\"transform\", \"translate(\" + d + \",\" + c + \")\"), a.icon.computeIconLocation()) : b.setAttribute(\"transform\", \"translate(\" + d + \",\" + c + \")\" + e);\n    this.info_.isInsertionMarker && b.setAttribute(\"display\", \"none\");\n  };\n\n  Blockly.blockRendering.Drawer.prototype.drawInlineInput_ = function (a) {\n    var b = a.width,\n        c = a.height,\n        d = a.connectionOffsetY,\n        e = a.connectionHeight + d;\n    this.inlinePath_ += Blockly.utils.svgPaths.moveTo(a.xPos + a.connectionWidth, a.centerline - c / 2) + Blockly.utils.svgPaths.lineOnAxis(\"v\", d) + a.shape.pathDown + Blockly.utils.svgPaths.lineOnAxis(\"v\", c - e) + Blockly.utils.svgPaths.lineOnAxis(\"h\", b - a.connectionWidth) + Blockly.utils.svgPaths.lineOnAxis(\"v\", -c) + \"z\";\n    this.positionInlineInputConnection_(a);\n  };\n\n  Blockly.blockRendering.Drawer.prototype.positionInlineInputConnection_ = function (a) {\n    var b = a.centerline - a.height / 2;\n\n    if (a.connectionModel) {\n      var c = a.xPos + a.connectionWidth + a.connectionOffsetX;\n      this.info_.RTL && (c *= -1);\n      a.connectionModel.setOffsetInBlock(c, b + a.connectionOffsetY);\n    }\n  };\n\n  Blockly.blockRendering.Drawer.prototype.positionStatementInputConnection_ = function (a) {\n    var b = a.getLastInput();\n\n    if (b.connectionModel) {\n      var c = a.xPos + a.statementEdge + b.notchOffset;\n      this.info_.RTL && (c *= -1);\n      b.connectionModel.setOffsetInBlock(c, a.yPos);\n    }\n  };\n\n  Blockly.blockRendering.Drawer.prototype.positionExternalValueConnection_ = function (a) {\n    var b = a.getLastInput();\n\n    if (b.connectionModel) {\n      var c = a.xPos + a.width;\n      this.info_.RTL && (c *= -1);\n      b.connectionModel.setOffsetInBlock(c, a.yPos);\n    }\n  };\n\n  Blockly.blockRendering.Drawer.prototype.positionPreviousConnection_ = function () {\n    var a = this.info_.topRow;\n\n    if (a.connection) {\n      var b = a.xPos + a.notchOffset;\n      a.connection.connectionModel.setOffsetInBlock(this.info_.RTL ? -b : b, 0);\n    }\n  };\n\n  Blockly.blockRendering.Drawer.prototype.positionNextConnection_ = function () {\n    var a = this.info_.bottomRow;\n\n    if (a.connection) {\n      var b = a.connection,\n          c = b.xPos;\n      b.connectionModel.setOffsetInBlock(this.info_.RTL ? -c : c, a.baseline);\n    }\n  };\n\n  Blockly.blockRendering.Drawer.prototype.positionOutputConnection_ = function () {\n    if (this.info_.outputConnection) {\n      var a = this.info_.startX + this.info_.outputConnection.connectionOffsetX;\n      this.block_.outputConnection.setOffsetInBlock(this.info_.RTL ? -a : a, this.info_.outputConnection.connectionOffsetY);\n    }\n  };\n\n  Blockly.Events.MarkerMove = function (a, b, c, d) {\n    var e = a ? a.workspace.id : void 0;\n    d && d.getType() == Blockly.ASTNode.types.WORKSPACE && (e = d.getLocation().id);\n    Blockly.Events.MarkerMove.superClass_.constructor.call(this, e);\n    this.blockId = a ? a.id : null;\n    this.oldNode = c;\n    this.newNode = d;\n    this.isCursor = b;\n  };\n\n  Blockly.utils.object.inherits(Blockly.Events.MarkerMove, Blockly.Events.UiBase);\n  Blockly.Events.MarkerMove.prototype.type = Blockly.Events.MARKER_MOVE;\n\n  Blockly.Events.MarkerMove.prototype.toJson = function () {\n    var a = Blockly.Events.MarkerMove.superClass_.toJson.call(this);\n    a.isCursor = this.isCursor;\n    a.blockId = this.blockId;\n    a.oldNode = this.oldNode;\n    a.newNode = this.newNode;\n    return a;\n  };\n\n  Blockly.Events.MarkerMove.prototype.fromJson = function (a) {\n    Blockly.Events.MarkerMove.superClass_.fromJson.call(this, a);\n    this.isCursor = a.isCursor;\n    this.blockId = a.blockId;\n    this.oldNode = a.oldNode;\n    this.newNode = a.newNode;\n  };\n\n  Blockly.registry.register(Blockly.registry.Type.EVENT, Blockly.Events.MARKER_MOVE, Blockly.Events.MarkerMove);\n\n  Blockly.blockRendering.MarkerSvg = function (a, b, c) {\n    this.workspace_ = a;\n    this.marker_ = c;\n    this.parent_ = null;\n    this.constants_ = b;\n    this.currentMarkerSvg = null;\n    a = this.isCursor() ? this.constants_.CURSOR_COLOUR : this.constants_.MARKER_COLOUR;\n    this.colour_ = c.colour || a;\n  };\n\n  Blockly.blockRendering.MarkerSvg.CURSOR_CLASS = \"blocklyCursor\";\n  Blockly.blockRendering.MarkerSvg.MARKER_CLASS = \"blocklyMarker\";\n  Blockly.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER = .75;\n\n  Blockly.blockRendering.MarkerSvg.prototype.getSvgRoot = function () {\n    return this.svgGroup_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.getMarker = function () {\n    return this.marker_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.isCursor = function () {\n    return \"cursor\" == this.marker_.type;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.createDom = function () {\n    var a = this.isCursor() ? Blockly.blockRendering.MarkerSvg.CURSOR_CLASS : Blockly.blockRendering.MarkerSvg.MARKER_CLASS;\n    this.svgGroup_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      \"class\": a\n    }, null);\n    this.createDomInternal_();\n    return this.svgGroup_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.setParent_ = function (a) {\n    this.isCursor() ? (this.parent_ && this.parent_.setCursorSvg(null), a.setCursorSvg(this.getSvgRoot())) : (this.parent_ && this.parent_.setMarkerSvg(null), a.setMarkerSvg(this.getSvgRoot()));\n    this.parent_ = a;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.draw = function (a, b) {\n    if (b) {\n      this.constants_ = this.workspace_.getRenderer().getConstants();\n      var c = this.isCursor() ? this.constants_.CURSOR_COLOUR : this.constants_.MARKER_COLOUR;\n      this.colour_ = this.marker_.colour || c;\n      this.applyColour_(b);\n      this.showAtLocation_(b);\n      this.fireMarkerEvent_(a, b);\n      a = this.currentMarkerSvg.childNodes[0];\n      void 0 !== a && a.beginElement && a.beginElement();\n    } else this.hide();\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showAtLocation_ = function (a) {\n    var b = a.getLocation().type;\n    a.getType() == Blockly.ASTNode.types.BLOCK ? this.showWithBlock_(a) : a.getType() == Blockly.ASTNode.types.OUTPUT ? this.showWithOutput_(a) : b == Blockly.connectionTypes.INPUT_VALUE ? this.showWithInput_(a) : b == Blockly.connectionTypes.NEXT_STATEMENT ? this.showWithNext_(a) : a.getType() == Blockly.ASTNode.types.PREVIOUS ? this.showWithPrevious_(a) : a.getType() == Blockly.ASTNode.types.FIELD ? this.showWithField_(a) : a.getType() == Blockly.ASTNode.types.WORKSPACE ? this.showWithCoordinates_(a) : a.getType() == Blockly.ASTNode.types.STACK && this.showWithStack_(a);\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_ = function (a) {\n    a = a.getSourceBlock();\n    var b = a.width,\n        c = a.height,\n        d = c * Blockly.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,\n        e = this.constants_.CURSOR_BLOCK_PADDING;\n\n    if (a.previousConnection) {\n      var f = this.constants_.shapeFor(a.previousConnection);\n      this.positionPrevious_(b, e, d, f);\n    } else a.outputConnection ? (f = this.constants_.shapeFor(a.outputConnection), this.positionOutput_(b, c, f)) : this.positionBlock_(b, e, d);\n\n    this.setParent_(a);\n    this.showCurrent_();\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithBlock_ = function (a) {\n    this.showWithBlockPrevOutput_(a);\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithPrevious_ = function (a) {\n    this.showWithBlockPrevOutput_(a);\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithOutput_ = function (a) {\n    this.showWithBlockPrevOutput_(a);\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithCoordinates_ = function (a) {\n    var b = a.getWsCoordinate();\n    a = b.x;\n    b = b.y;\n    this.workspace_.RTL && (a -= this.constants_.CURSOR_WS_WIDTH);\n    this.positionLine_(a, b, this.constants_.CURSOR_WS_WIDTH);\n    this.setParent_(this.workspace_);\n    this.showCurrent_();\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithField_ = function (a) {\n    a = a.getLocation();\n    var b = a.getSize().width,\n        c = a.getSize().height;\n    this.positionRect_(0, 0, b, c);\n    this.setParent_(a);\n    this.showCurrent_();\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithInput_ = function (a) {\n    a = a.getLocation();\n    var b = a.getSourceBlock();\n    this.positionInput_(a);\n    this.setParent_(b);\n    this.showCurrent_();\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithNext_ = function (a) {\n    var b = a.getLocation();\n    a = b.getSourceBlock();\n    var c = 0;\n    b = b.getOffsetInBlock().y;\n    var d = a.getHeightWidth().width;\n    this.workspace_.RTL && (c = -d);\n    this.positionLine_(c, b, d);\n    this.setParent_(a);\n    this.showCurrent_();\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showWithStack_ = function (a) {\n    a = a.getLocation();\n    var b = a.getHeightWidth(),\n        c = b.width + this.constants_.CURSOR_STACK_PADDING;\n    b = b.height + this.constants_.CURSOR_STACK_PADDING;\n    var d = -this.constants_.CURSOR_STACK_PADDING / 2,\n        e = -this.constants_.CURSOR_STACK_PADDING / 2,\n        f = d;\n    this.workspace_.RTL && (f = -(c + d));\n    this.positionRect_(f, e, c, b);\n    this.setParent_(a);\n    this.showCurrent_();\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.showCurrent_ = function () {\n    this.hide();\n    this.currentMarkerSvg.style.display = \"\";\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.positionBlock_ = function (a, b, c) {\n    a = Blockly.utils.svgPaths.moveBy(-b, c) + Blockly.utils.svgPaths.lineOnAxis(\"V\", -b) + Blockly.utils.svgPaths.lineOnAxis(\"H\", a + 2 * b) + Blockly.utils.svgPaths.lineOnAxis(\"V\", c);\n    this.markerBlock_.setAttribute(\"d\", a);\n    this.workspace_.RTL && this.flipRtl_(this.markerBlock_);\n    this.currentMarkerSvg = this.markerBlock_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.positionInput_ = function (a) {\n    var b = a.getOffsetInBlock().x,\n        c = a.getOffsetInBlock().y;\n    a = Blockly.utils.svgPaths.moveTo(0, 0) + this.constants_.shapeFor(a).pathDown;\n    this.markerInput_.setAttribute(\"d\", a);\n    this.markerInput_.setAttribute(\"transform\", \"translate(\" + b + \",\" + c + \")\" + (this.workspace_.RTL ? \" scale(-1 1)\" : \"\"));\n    this.currentMarkerSvg = this.markerInput_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.positionLine_ = function (a, b, c) {\n    this.markerSvgLine_.setAttribute(\"x\", a);\n    this.markerSvgLine_.setAttribute(\"y\", b);\n    this.markerSvgLine_.setAttribute(\"width\", c);\n    this.currentMarkerSvg = this.markerSvgLine_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.positionOutput_ = function (a, b, c) {\n    a = Blockly.utils.svgPaths.moveBy(a, 0) + Blockly.utils.svgPaths.lineOnAxis(\"h\", -(a - c.width)) + Blockly.utils.svgPaths.lineOnAxis(\"v\", this.constants_.TAB_OFFSET_FROM_TOP) + c.pathDown + Blockly.utils.svgPaths.lineOnAxis(\"V\", b) + Blockly.utils.svgPaths.lineOnAxis(\"H\", a);\n    this.markerBlock_.setAttribute(\"d\", a);\n    this.workspace_.RTL && this.flipRtl_(this.markerBlock_);\n    this.currentMarkerSvg = this.markerBlock_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.positionPrevious_ = function (a, b, c, d) {\n    a = Blockly.utils.svgPaths.moveBy(-b, c) + Blockly.utils.svgPaths.lineOnAxis(\"V\", -b) + Blockly.utils.svgPaths.lineOnAxis(\"H\", this.constants_.NOTCH_OFFSET_LEFT) + d.pathLeft + Blockly.utils.svgPaths.lineOnAxis(\"H\", a + 2 * b) + Blockly.utils.svgPaths.lineOnAxis(\"V\", c);\n    this.markerBlock_.setAttribute(\"d\", a);\n    this.workspace_.RTL && this.flipRtl_(this.markerBlock_);\n    this.currentMarkerSvg = this.markerBlock_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.positionRect_ = function (a, b, c, d) {\n    this.markerSvgRect_.setAttribute(\"x\", a);\n    this.markerSvgRect_.setAttribute(\"y\", b);\n    this.markerSvgRect_.setAttribute(\"width\", c);\n    this.markerSvgRect_.setAttribute(\"height\", d);\n    this.currentMarkerSvg = this.markerSvgRect_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.flipRtl_ = function (a) {\n    a.setAttribute(\"transform\", \"scale(-1 1)\");\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.hide = function () {\n    this.markerSvgLine_.style.display = \"none\";\n    this.markerSvgRect_.style.display = \"none\";\n    this.markerInput_.style.display = \"none\";\n    this.markerBlock_.style.display = \"none\";\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.fireMarkerEvent_ = function (a, b) {\n    var c = b.getSourceBlock();\n    a = new (Blockly.Events.get(Blockly.Events.MARKER_MOVE))(c, this.isCursor(), a, b);\n    Blockly.Events.fire(a);\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.getBlinkProperties_ = function () {\n    return {\n      attributeType: \"XML\",\n      attributeName: \"fill\",\n      dur: \"1s\",\n      values: this.colour_ + \";transparent;transparent;\",\n      repeatCount: \"indefinite\"\n    };\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.createDomInternal_ = function () {\n    this.markerSvg_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.G, {\n      width: this.constants_.CURSOR_WS_WIDTH,\n      height: this.constants_.WS_CURSOR_HEIGHT\n    }, this.svgGroup_);\n    this.markerSvgLine_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      width: this.constants_.CURSOR_WS_WIDTH,\n      height: this.constants_.WS_CURSOR_HEIGHT,\n      style: \"display: none\"\n    }, this.markerSvg_);\n    this.markerSvgRect_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.RECT, {\n      \"class\": \"blocklyVerticalMarker\",\n      rx: 10,\n      ry: 10,\n      style: \"display: none\"\n    }, this.markerSvg_);\n    this.markerInput_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      transform: \"\",\n      style: \"display: none\"\n    }, this.markerSvg_);\n    this.markerBlock_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      transform: \"\",\n      style: \"display: none\",\n      fill: \"none\",\n      \"stroke-width\": this.constants_.CURSOR_STROKE_WIDTH\n    }, this.markerSvg_);\n\n    if (this.isCursor()) {\n      var a = this.getBlinkProperties_();\n      Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.ANIMATE, a, this.markerSvgLine_);\n      Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.ANIMATE, a, this.markerInput_);\n      a.attributeName = \"stroke\";\n      Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.ANIMATE, a, this.markerBlock_);\n    }\n\n    return this.markerSvg_;\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.applyColour_ = function (a) {\n    this.markerSvgLine_.setAttribute(\"fill\", this.colour_);\n    this.markerSvgRect_.setAttribute(\"stroke\", this.colour_);\n    this.markerInput_.setAttribute(\"fill\", this.colour_);\n    this.markerBlock_.setAttribute(\"stroke\", this.colour_);\n    this.isCursor() && (a = this.colour_ + \";transparent;transparent;\", this.markerSvgLine_.firstChild.setAttribute(\"values\", a), this.markerInput_.firstChild.setAttribute(\"values\", a), this.markerBlock_.firstChild.setAttribute(\"values\", a));\n  };\n\n  Blockly.blockRendering.MarkerSvg.prototype.dispose = function () {\n    this.svgGroup_ && Blockly.utils.dom.removeNode(this.svgGroup_);\n  };\n\n  Blockly.blockRendering.PathObject = function (a, b, c) {\n    this.constants = c;\n    this.svgRoot = a;\n    this.svgPath = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyPath\"\n    }, this.svgRoot);\n    this.style = b;\n    this.markerSvg = this.cursorSvg = null;\n  };\n\n  Blockly.blockRendering.PathObject.prototype.setPath = function (a) {\n    this.svgPath.setAttribute(\"d\", a);\n  };\n\n  Blockly.blockRendering.PathObject.prototype.flipRTL = function () {\n    this.svgPath.setAttribute(\"transform\", \"scale(-1 1)\");\n  };\n\n  Blockly.blockRendering.PathObject.prototype.setCursorSvg = function (a) {\n    a ? (this.svgRoot.appendChild(a), this.cursorSvg = a) : this.cursorSvg = null;\n  };\n\n  Blockly.blockRendering.PathObject.prototype.setMarkerSvg = function (a) {\n    a ? (this.cursorSvg ? this.svgRoot.insertBefore(a, this.cursorSvg) : this.svgRoot.appendChild(a), this.markerSvg = a) : this.markerSvg = null;\n  };\n\n  Blockly.blockRendering.PathObject.prototype.applyColour = function (a) {\n    this.svgPath.setAttribute(\"stroke\", this.style.colourTertiary);\n    this.svgPath.setAttribute(\"fill\", this.style.colourPrimary);\n    this.updateShadow_(a.isShadow());\n    this.updateDisabled_(!a.isEnabled() || a.getInheritedDisabled());\n  };\n\n  Blockly.blockRendering.PathObject.prototype.setStyle = function (a) {\n    this.style = a;\n  };\n\n  Blockly.blockRendering.PathObject.prototype.setClass_ = function (a, b) {\n    b ? Blockly.utils.dom.addClass(this.svgRoot, a) : Blockly.utils.dom.removeClass(this.svgRoot, a);\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateHighlighted = function (a) {\n    a ? this.svgPath.setAttribute(\"filter\", \"url(#\" + this.constants.embossFilterId + \")\") : this.svgPath.setAttribute(\"filter\", \"none\");\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateShadow_ = function (a) {\n    a && (this.svgPath.setAttribute(\"stroke\", \"none\"), this.svgPath.setAttribute(\"fill\", this.style.colourSecondary));\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateDisabled_ = function (a) {\n    this.setClass_(\"blocklyDisabled\", a);\n    a && this.svgPath.setAttribute(\"fill\", \"url(#\" + this.constants.disabledPatternId + \")\");\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateSelected = function (a) {\n    this.setClass_(\"blocklySelected\", a);\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateDraggingDelete = function (a) {\n    this.setClass_(\"blocklyDraggingDelete\", a);\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateInsertionMarker = function (a) {\n    this.setClass_(\"blocklyInsertionMarker\", a);\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateMovable = function (a) {\n    this.setClass_(\"blocklyDraggable\", a);\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateReplacementFade = function (a) {\n    this.setClass_(\"blocklyReplaceable\", a);\n  };\n\n  Blockly.blockRendering.PathObject.prototype.updateShapeForInputHighlight = function (a, b) {};\n\n  Blockly.IRegistrable = function () {};\n\n  Blockly.blockRendering.Renderer = function (a) {\n    this.name = a;\n    this.overrides = this.constants_ = null;\n  };\n\n  Blockly.blockRendering.Renderer.prototype.getClassName = function () {\n    return this.name + \"-renderer\";\n  };\n\n  Blockly.blockRendering.Renderer.prototype.init = function (a, b) {\n    this.constants_ = this.makeConstants_();\n    b && (this.overrides = b, Blockly.utils.object.mixin(this.constants_, b));\n    this.constants_.setTheme(a);\n    this.constants_.init();\n  };\n\n  Blockly.blockRendering.Renderer.prototype.createDom = function (a, b) {\n    this.constants_.createDom(a, this.name + \"-\" + b.name, \".\" + this.getClassName() + \".\" + b.getClassName());\n  };\n\n  Blockly.blockRendering.Renderer.prototype.refreshDom = function (a, b) {\n    var c = this.getConstants();\n    c.dispose();\n    this.constants_ = this.makeConstants_();\n    this.overrides && Blockly.utils.object.mixin(this.constants_, this.overrides);\n    this.constants_.randomIdentifier = c.randomIdentifier;\n    this.constants_.setTheme(b);\n    this.constants_.init();\n    this.createDom(a, b);\n  };\n\n  Blockly.blockRendering.Renderer.prototype.dispose = function () {\n    this.constants_ && this.constants_.dispose();\n  };\n\n  Blockly.blockRendering.Renderer.prototype.makeConstants_ = function () {\n    return new Blockly.blockRendering.ConstantProvider();\n  };\n\n  Blockly.blockRendering.Renderer.prototype.makeRenderInfo_ = function (a) {\n    return new Blockly.blockRendering.RenderInfo(this, a);\n  };\n\n  Blockly.blockRendering.Renderer.prototype.makeDrawer_ = function (a, b) {\n    return new Blockly.blockRendering.Drawer(a, b);\n  };\n\n  Blockly.blockRendering.Renderer.prototype.makeDebugger_ = function () {\n    if (!Blockly.blockRendering.Debug) throw Error(\"Missing require for Blockly.blockRendering.Debug\");\n    return new Blockly.blockRendering.Debug(this.getConstants());\n  };\n\n  Blockly.blockRendering.Renderer.prototype.makeMarkerDrawer = function (a, b) {\n    return new Blockly.blockRendering.MarkerSvg(a, this.getConstants(), b);\n  };\n\n  Blockly.blockRendering.Renderer.prototype.makePathObject = function (a, b) {\n    return new Blockly.blockRendering.PathObject(a, b, this.constants_);\n  };\n\n  Blockly.blockRendering.Renderer.prototype.getConstants = function () {\n    return this.constants_;\n  };\n\n  Blockly.blockRendering.Renderer.prototype.shouldHighlightConnection = function (a) {\n    return !0;\n  };\n\n  Blockly.blockRendering.Renderer.prototype.orphanCanConnectAtEnd = function (a, b, c) {\n    c == Blockly.connectionTypes.OUTPUT_VALUE ? (c = b.outputConnection, a = Blockly.Connection.lastConnectionInRow(a, b)) : (c = b.previousConnection, a = a.lastConnectionInStack());\n    return a ? c.getConnectionChecker().canConnect(a, c, !1) : !1;\n  };\n\n  Blockly.blockRendering.Renderer.prototype.getConnectionPreviewMethod = function (a, b, c) {\n    return b.type == Blockly.connectionTypes.OUTPUT_VALUE || b.type == Blockly.connectionTypes.PREVIOUS_STATEMENT ? !a.isConnected() || this.orphanCanConnectAtEnd(c, a.targetBlock(), b.type) ? Blockly.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER : Blockly.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE : Blockly.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER;\n  };\n\n  Blockly.blockRendering.Renderer.prototype.render = function (a) {\n    Blockly.blockRendering.useDebugger && !a.renderingDebugger && (a.renderingDebugger = this.makeDebugger_());\n    var b = this.makeRenderInfo_(a);\n    b.measure();\n    this.makeDrawer_(a, b).draw();\n  };\n\n  Blockly.geras = {};\n\n  Blockly.geras.ConstantProvider = function () {\n    Blockly.geras.ConstantProvider.superClass_.constructor.call(this);\n    this.FIELD_TEXT_BASELINE_CENTER = !1;\n    this.DARK_PATH_OFFSET = 1;\n    this.MAX_BOTTOM_WIDTH = 30;\n    this.STATEMENT_BOTTOM_SPACER = -this.NOTCH_HEIGHT / 2;\n  };\n\n  Blockly.utils.object.inherits(Blockly.geras.ConstantProvider, Blockly.blockRendering.ConstantProvider);\n\n  Blockly.geras.ConstantProvider.prototype.getCSS_ = function (a) {\n    return Blockly.geras.ConstantProvider.superClass_.getCSS_.call(this, a).concat([a + \" .blocklyInsertionMarker>.blocklyPathLight,\", a + \" .blocklyInsertionMarker>.blocklyPathDark {\", \"fill-opacity: \" + this.INSERTION_MARKER_OPACITY + \";\", \"stroke: none;\", \"}\"]);\n  };\n\n  Blockly.geras.Highlighter = function (a) {\n    this.info_ = a;\n    this.inlineSteps_ = this.steps_ = \"\";\n    this.RTL_ = this.info_.RTL;\n    a = a.getRenderer();\n    this.constants_ = a.getConstants();\n    this.highlightConstants_ = a.getHighlightConstants();\n    this.highlightOffset_ = this.highlightConstants_.OFFSET;\n    this.outsideCornerPaths_ = this.highlightConstants_.OUTSIDE_CORNER;\n    this.insideCornerPaths_ = this.highlightConstants_.INSIDE_CORNER;\n    this.puzzleTabPaths_ = this.highlightConstants_.PUZZLE_TAB;\n    this.notchPaths_ = this.highlightConstants_.NOTCH;\n    this.startPaths_ = this.highlightConstants_.START_HAT;\n    this.jaggedTeethPaths_ = this.highlightConstants_.JAGGED_TEETH;\n  };\n\n  Blockly.geras.Highlighter.prototype.getPath = function () {\n    return this.steps_ + \"\\n\" + this.inlineSteps_;\n  };\n\n  Blockly.geras.Highlighter.prototype.drawTopCorner = function (a) {\n    this.steps_ += Blockly.utils.svgPaths.moveBy(a.xPos, this.info_.startY);\n\n    for (var b = 0, c; c = a.elements[b]; b++) {\n      Blockly.blockRendering.Types.isLeftSquareCorner(c) ? this.steps_ += this.highlightConstants_.START_POINT : Blockly.blockRendering.Types.isLeftRoundedCorner(c) ? this.steps_ += this.outsideCornerPaths_.topLeft(this.RTL_) : Blockly.blockRendering.Types.isPreviousConnection(c) ? this.steps_ += this.notchPaths_.pathLeft : Blockly.blockRendering.Types.isHat(c) ? this.steps_ += this.startPaths_.path(this.RTL_) : Blockly.blockRendering.Types.isSpacer(c) && 0 != c.width && (this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", c.xPos + c.width - this.highlightOffset_));\n    }\n\n    this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", a.xPos + a.width - this.highlightOffset_);\n  };\n\n  Blockly.geras.Highlighter.prototype.drawJaggedEdge_ = function (a) {\n    this.info_.RTL && (this.steps_ += this.jaggedTeethPaths_.pathLeft + Blockly.utils.svgPaths.lineOnAxis(\"v\", a.height - this.jaggedTeethPaths_.height - this.highlightOffset_));\n  };\n\n  Blockly.geras.Highlighter.prototype.drawValueInput = function (a) {\n    var b = a.getLastInput();\n\n    if (this.RTL_) {\n      var c = a.height - b.connectionHeight;\n      this.steps_ += Blockly.utils.svgPaths.moveTo(b.xPos + b.width - this.highlightOffset_, a.yPos) + this.puzzleTabPaths_.pathDown(this.RTL_) + Blockly.utils.svgPaths.lineOnAxis(\"v\", c);\n    } else this.steps_ += Blockly.utils.svgPaths.moveTo(b.xPos + b.width, a.yPos) + this.puzzleTabPaths_.pathDown(this.RTL_);\n  };\n\n  Blockly.geras.Highlighter.prototype.drawStatementInput = function (a) {\n    var b = a.getLastInput();\n\n    if (this.RTL_) {\n      var c = a.height - 2 * this.insideCornerPaths_.height;\n      this.steps_ += Blockly.utils.svgPaths.moveTo(b.xPos, a.yPos) + this.insideCornerPaths_.pathTop(this.RTL_) + Blockly.utils.svgPaths.lineOnAxis(\"v\", c) + this.insideCornerPaths_.pathBottom(this.RTL_) + Blockly.utils.svgPaths.lineTo(a.width - b.xPos - this.insideCornerPaths_.width, 0);\n    } else this.steps_ += Blockly.utils.svgPaths.moveTo(b.xPos, a.yPos + a.height) + this.insideCornerPaths_.pathBottom(this.RTL_) + Blockly.utils.svgPaths.lineTo(a.width - b.xPos - this.insideCornerPaths_.width, 0);\n  };\n\n  Blockly.geras.Highlighter.prototype.drawRightSideRow = function (a) {\n    var b = a.xPos + a.width - this.highlightOffset_;\n    a.followsStatement && (this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", b));\n    this.RTL_ && (this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", b), a.height > this.highlightOffset_ && (this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a.yPos + a.height - this.highlightOffset_)));\n  };\n\n  Blockly.geras.Highlighter.prototype.drawBottomRow = function (a) {\n    if (this.RTL_) this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a.baseline - this.highlightOffset_);else {\n      var b = this.info_.bottomRow.elements[0];\n      Blockly.blockRendering.Types.isLeftSquareCorner(b) ? this.steps_ += Blockly.utils.svgPaths.moveTo(a.xPos + this.highlightOffset_, a.baseline - this.highlightOffset_) : Blockly.blockRendering.Types.isLeftRoundedCorner(b) && (this.steps_ += Blockly.utils.svgPaths.moveTo(a.xPos, a.baseline), this.steps_ += this.outsideCornerPaths_.bottomLeft());\n    }\n  };\n\n  Blockly.geras.Highlighter.prototype.drawLeft = function () {\n    var a = this.info_.outputConnection;\n    a && (a = a.connectionOffsetY + a.height, this.RTL_ ? this.steps_ += Blockly.utils.svgPaths.moveTo(this.info_.startX, a) : (this.steps_ += Blockly.utils.svgPaths.moveTo(this.info_.startX + this.highlightOffset_, this.info_.bottomRow.baseline - this.highlightOffset_), this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a)), this.steps_ += this.puzzleTabPaths_.pathUp(this.RTL_));\n    this.RTL_ || (a = this.info_.topRow, Blockly.blockRendering.Types.isLeftRoundedCorner(a.elements[0]) ? this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", this.outsideCornerPaths_.height) : this.steps_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a.capline + this.highlightOffset_));\n  };\n\n  Blockly.geras.Highlighter.prototype.drawInlineInput = function (a) {\n    var b = this.highlightOffset_,\n        c = a.xPos + a.connectionWidth,\n        d = a.centerline - a.height / 2,\n        e = a.width - a.connectionWidth,\n        f = d + b;\n    this.RTL_ ? (d = a.connectionOffsetY - b, a = a.height - (a.connectionOffsetY + a.connectionHeight) + b, this.inlineSteps_ += Blockly.utils.svgPaths.moveTo(c - b, f) + Blockly.utils.svgPaths.lineOnAxis(\"v\", d) + this.puzzleTabPaths_.pathDown(this.RTL_) + Blockly.utils.svgPaths.lineOnAxis(\"v\", a) + Blockly.utils.svgPaths.lineOnAxis(\"h\", e)) : this.inlineSteps_ += Blockly.utils.svgPaths.moveTo(a.xPos + a.width + b, f) + Blockly.utils.svgPaths.lineOnAxis(\"v\", a.height) + Blockly.utils.svgPaths.lineOnAxis(\"h\", -e) + Blockly.utils.svgPaths.moveTo(c, d + a.connectionOffsetY) + this.puzzleTabPaths_.pathDown(this.RTL_);\n  };\n\n  Blockly.geras.InlineInput = function (a, b) {\n    Blockly.geras.InlineInput.superClass_.constructor.call(this, a, b);\n    this.connectedBlock && (this.width += this.constants_.DARK_PATH_OFFSET, this.height += this.constants_.DARK_PATH_OFFSET);\n  };\n\n  Blockly.utils.object.inherits(Blockly.geras.InlineInput, Blockly.blockRendering.InlineInput);\n\n  Blockly.geras.StatementInput = function (a, b) {\n    Blockly.geras.StatementInput.superClass_.constructor.call(this, a, b);\n    this.connectedBlock && (this.height += this.constants_.DARK_PATH_OFFSET);\n  };\n\n  Blockly.utils.object.inherits(Blockly.geras.StatementInput, Blockly.blockRendering.StatementInput);\n\n  Blockly.geras.RenderInfo = function (a, b) {\n    Blockly.geras.RenderInfo.superClass_.constructor.call(this, a, b);\n  };\n\n  Blockly.utils.object.inherits(Blockly.geras.RenderInfo, Blockly.blockRendering.RenderInfo);\n\n  Blockly.geras.RenderInfo.prototype.getRenderer = function () {\n    return this.renderer_;\n  };\n\n  Blockly.geras.RenderInfo.prototype.populateBottomRow_ = function () {\n    Blockly.geras.RenderInfo.superClass_.populateBottomRow_.call(this);\n    this.block_.inputList.length && this.block_.inputList[this.block_.inputList.length - 1].type == Blockly.inputTypes.STATEMENT || (this.bottomRow.minHeight = this.constants_.MEDIUM_PADDING - this.constants_.DARK_PATH_OFFSET);\n  };\n\n  Blockly.geras.RenderInfo.prototype.addInput_ = function (a, b) {\n    this.isInline && a.type == Blockly.inputTypes.VALUE ? (b.elements.push(new Blockly.geras.InlineInput(this.constants_, a)), b.hasInlineInput = !0) : a.type == Blockly.inputTypes.STATEMENT ? (b.elements.push(new Blockly.geras.StatementInput(this.constants_, a)), b.hasStatement = !0) : a.type == Blockly.inputTypes.VALUE ? (b.elements.push(new Blockly.blockRendering.ExternalValueInput(this.constants_, a)), b.hasExternalInput = !0) : a.type == Blockly.inputTypes.DUMMY && (b.minHeight = Math.max(b.minHeight, this.constants_.DUMMY_INPUT_MIN_HEIGHT), b.hasDummyInput = !0);\n    this.isInline || null != b.align || (b.align = a.align);\n  };\n\n  Blockly.geras.RenderInfo.prototype.addElemSpacing_ = function () {\n    for (var a = !1, b = 0, c; c = this.rows[b]; b++) {\n      c.hasExternalInput && (a = !0);\n    }\n\n    for (b = 0; c = this.rows[b]; b++) {\n      var d = c.elements;\n      c.elements = [];\n      c.startsWithElemSpacer() && c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, this.getInRowSpacing_(null, d[0])));\n\n      if (d.length) {\n        for (var e = 0; e < d.length - 1; e++) {\n          c.elements.push(d[e]);\n          var f = this.getInRowSpacing_(d[e], d[e + 1]);\n          c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, f));\n        }\n\n        c.elements.push(d[d.length - 1]);\n        c.endsWithElemSpacer() && (f = this.getInRowSpacing_(d[d.length - 1], null), a && c.hasDummyInput && (f += this.constants_.TAB_WIDTH), c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, f)));\n      }\n    }\n  };\n\n  Blockly.geras.RenderInfo.prototype.getInRowSpacing_ = function (a, b) {\n    if (!a) return b && Blockly.blockRendering.Types.isField(b) && b.isEditable ? this.constants_.MEDIUM_PADDING : b && Blockly.blockRendering.Types.isInlineInput(b) ? this.constants_.MEDIUM_LARGE_PADDING : b && Blockly.blockRendering.Types.isStatementInput(b) ? this.constants_.STATEMENT_INPUT_PADDING_LEFT : this.constants_.LARGE_PADDING;\n    if (!Blockly.blockRendering.Types.isInput(a) && (!b || Blockly.blockRendering.Types.isStatementInput(b))) return Blockly.blockRendering.Types.isField(a) && a.isEditable ? this.constants_.MEDIUM_PADDING : Blockly.blockRendering.Types.isIcon(a) ? 2 * this.constants_.LARGE_PADDING + 1 : Blockly.blockRendering.Types.isHat(a) ? this.constants_.NO_PADDING : Blockly.blockRendering.Types.isPreviousOrNextConnection(a) ? this.constants_.LARGE_PADDING : Blockly.blockRendering.Types.isLeftRoundedCorner(a) ? this.constants_.MIN_BLOCK_WIDTH : Blockly.blockRendering.Types.isJaggedEdge(a) ? this.constants_.NO_PADDING : this.constants_.LARGE_PADDING;\n\n    if (Blockly.blockRendering.Types.isInput(a) && !b) {\n      if (Blockly.blockRendering.Types.isExternalInput(a)) return this.constants_.NO_PADDING;\n      if (Blockly.blockRendering.Types.isInlineInput(a)) return this.constants_.LARGE_PADDING;\n      if (Blockly.blockRendering.Types.isStatementInput(a)) return this.constants_.NO_PADDING;\n    }\n\n    if (!Blockly.blockRendering.Types.isInput(a) && b && Blockly.blockRendering.Types.isInput(b)) {\n      if (Blockly.blockRendering.Types.isField(a) && a.isEditable) {\n        if (Blockly.blockRendering.Types.isInlineInput(b) || Blockly.blockRendering.Types.isExternalInput(b)) return this.constants_.SMALL_PADDING;\n      } else {\n        if (Blockly.blockRendering.Types.isInlineInput(b) || Blockly.blockRendering.Types.isExternalInput(b)) return this.constants_.MEDIUM_LARGE_PADDING;\n        if (Blockly.blockRendering.Types.isStatementInput(b)) return this.constants_.LARGE_PADDING;\n      }\n\n      return this.constants_.LARGE_PADDING - 1;\n    }\n\n    if (Blockly.blockRendering.Types.isIcon(a) && b && !Blockly.blockRendering.Types.isInput(b)) return this.constants_.LARGE_PADDING;\n    if (Blockly.blockRendering.Types.isInlineInput(a) && b && Blockly.blockRendering.Types.isField(b)) return b.isEditable ? this.constants_.MEDIUM_PADDING : this.constants_.LARGE_PADDING;\n\n    if (Blockly.blockRendering.Types.isLeftSquareCorner(a) && b) {\n      if (Blockly.blockRendering.Types.isHat(b)) return this.constants_.NO_PADDING;\n      if (Blockly.blockRendering.Types.isPreviousConnection(b)) return b.notchOffset;\n      if (Blockly.blockRendering.Types.isNextConnection(b)) return a = (this.RTL ? 1 : -1) * this.constants_.DARK_PATH_OFFSET / 2, b.notchOffset + a;\n    }\n\n    if (Blockly.blockRendering.Types.isLeftRoundedCorner(a) && b) {\n      if (Blockly.blockRendering.Types.isPreviousConnection(b)) return b.notchOffset - this.constants_.CORNER_RADIUS;\n      if (Blockly.blockRendering.Types.isNextConnection(b)) return a = (this.RTL ? 1 : -1) * this.constants_.DARK_PATH_OFFSET / 2, b.notchOffset - this.constants_.CORNER_RADIUS + a;\n    }\n\n    return Blockly.blockRendering.Types.isField(a) && b && Blockly.blockRendering.Types.isField(b) && a.isEditable == b.isEditable || b && Blockly.blockRendering.Types.isJaggedEdge(b) ? this.constants_.LARGE_PADDING : this.constants_.MEDIUM_PADDING;\n  };\n\n  Blockly.geras.RenderInfo.prototype.getSpacerRowHeight_ = function (a, b) {\n    return Blockly.blockRendering.Types.isTopRow(a) && Blockly.blockRendering.Types.isBottomRow(b) ? this.constants_.EMPTY_BLOCK_SPACER_HEIGHT : Blockly.blockRendering.Types.isTopRow(a) || Blockly.blockRendering.Types.isBottomRow(b) ? this.constants_.NO_PADDING : a.hasExternalInput && b.hasExternalInput ? this.constants_.LARGE_PADDING : !a.hasStatement && b.hasStatement ? this.constants_.BETWEEN_STATEMENT_PADDING_Y : a.hasStatement && b.hasStatement || !a.hasStatement && b.hasDummyInput || a.hasDummyInput ? this.constants_.LARGE_PADDING : this.constants_.MEDIUM_PADDING;\n  };\n\n  Blockly.geras.RenderInfo.prototype.getElemCenterline_ = function (a, b) {\n    if (Blockly.blockRendering.Types.isSpacer(b)) return a.yPos + b.height / 2;\n    if (Blockly.blockRendering.Types.isBottomRow(a)) return a = a.yPos + a.height - a.descenderHeight, Blockly.blockRendering.Types.isNextConnection(b) ? a + b.height / 2 : a - b.height / 2;\n    if (Blockly.blockRendering.Types.isTopRow(a)) return Blockly.blockRendering.Types.isHat(b) ? a.capline - b.height / 2 : a.capline + b.height / 2;\n    var c = a.yPos;\n    Blockly.blockRendering.Types.isField(b) || Blockly.blockRendering.Types.isIcon(b) ? (c += b.height / 2, (a.hasInlineInput || a.hasStatement) && b.height + this.constants_.TALL_INPUT_FIELD_OFFSET_Y <= a.height && (c += this.constants_.TALL_INPUT_FIELD_OFFSET_Y)) : c = Blockly.blockRendering.Types.isInlineInput(b) ? c + b.height / 2 : c + a.height / 2;\n    return c;\n  };\n\n  Blockly.geras.RenderInfo.prototype.alignRowElements_ = function () {\n    if (this.isInline) {\n      for (var a = 0, b = null, c = this.rows.length - 1, d; d = this.rows[c]; c--) {\n        d.nextRightEdge = a, Blockly.blockRendering.Types.isInputRow(d) && (d.hasStatement && this.alignStatementRow_(d), b && b.hasStatement && d.width < b.width ? d.nextRightEdge = b.width : a = d.width, b = d);\n      }\n\n      for (c = a = 0; d = this.rows[c]; c++) {\n        d.hasStatement ? a = this.getDesiredRowWidth_(d) : Blockly.blockRendering.Types.isSpacer(d) ? d.width = Math.max(a, d.nextRightEdge) : (a = Math.max(a, d.nextRightEdge) - d.width, 0 < a && this.addAlignmentPadding_(d, a), a = d.width);\n      }\n    } else Blockly.geras.RenderInfo.superClass_.alignRowElements_.call(this);\n  };\n\n  Blockly.geras.RenderInfo.prototype.getDesiredRowWidth_ = function (a) {\n    return this.isInline && a.hasStatement ? this.statementEdge + this.constants_.MAX_BOTTOM_WIDTH + this.startX : Blockly.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this, a);\n  };\n\n  Blockly.geras.RenderInfo.prototype.finalize_ = function () {\n    for (var a = 0, b = 0, c = 0, d; d = this.rows[c]; c++) {\n      d.yPos = b;\n      d.xPos = this.startX;\n      b += d.height;\n      a = Math.max(a, d.widthWithConnectedBlocks);\n      var e = b - this.topRow.ascenderHeight;\n      d == this.bottomRow && e < this.constants_.MIN_BLOCK_HEIGHT && (e = this.constants_.MIN_BLOCK_HEIGHT - e, this.bottomRow.height += e, b += e);\n      this.recordElemPositions_(d);\n    }\n\n    this.outputConnection && this.block_.nextConnection && this.block_.nextConnection.isConnected() && (a = Math.max(a, this.block_.nextConnection.targetBlock().getHeightWidth().width - this.constants_.DARK_PATH_OFFSET));\n    this.bottomRow.baseline = b - this.bottomRow.descenderHeight;\n    this.widthWithChildren = a + this.startX + this.constants_.DARK_PATH_OFFSET;\n    this.width += this.constants_.DARK_PATH_OFFSET;\n    this.height = b + this.constants_.DARK_PATH_OFFSET;\n    this.startY = this.topRow.capline;\n  };\n\n  Blockly.geras.Drawer = function (a, b) {\n    Blockly.geras.Drawer.superClass_.constructor.call(this, a, b);\n    this.highlighter_ = new Blockly.geras.Highlighter(b);\n  };\n\n  Blockly.utils.object.inherits(Blockly.geras.Drawer, Blockly.blockRendering.Drawer);\n\n  Blockly.geras.Drawer.prototype.draw = function () {\n    this.hideHiddenIcons_();\n    this.drawOutline_();\n    this.drawInternals_();\n    var a = this.block_.pathObject;\n    a.setPath(this.outlinePath_ + \"\\n\" + this.inlinePath_);\n    a.setHighlightPath(this.highlighter_.getPath());\n    this.info_.RTL && a.flipRTL();\n    Blockly.blockRendering.useDebugger && this.block_.renderingDebugger.drawDebug(this.block_, this.info_);\n    this.recordSizeOnBlock_();\n  };\n\n  Blockly.geras.Drawer.prototype.drawTop_ = function () {\n    this.highlighter_.drawTopCorner(this.info_.topRow);\n    this.highlighter_.drawRightSideRow(this.info_.topRow);\n    Blockly.geras.Drawer.superClass_.drawTop_.call(this);\n  };\n\n  Blockly.geras.Drawer.prototype.drawJaggedEdge_ = function (a) {\n    this.highlighter_.drawJaggedEdge_(a);\n    Blockly.geras.Drawer.superClass_.drawJaggedEdge_.call(this, a);\n  };\n\n  Blockly.geras.Drawer.prototype.drawValueInput_ = function (a) {\n    this.highlighter_.drawValueInput(a);\n    Blockly.geras.Drawer.superClass_.drawValueInput_.call(this, a);\n  };\n\n  Blockly.geras.Drawer.prototype.drawStatementInput_ = function (a) {\n    this.highlighter_.drawStatementInput(a);\n    Blockly.geras.Drawer.superClass_.drawStatementInput_.call(this, a);\n  };\n\n  Blockly.geras.Drawer.prototype.drawRightSideRow_ = function (a) {\n    this.highlighter_.drawRightSideRow(a);\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", a.xPos + a.width) + Blockly.utils.svgPaths.lineOnAxis(\"V\", a.yPos + a.height);\n  };\n\n  Blockly.geras.Drawer.prototype.drawBottom_ = function () {\n    this.highlighter_.drawBottomRow(this.info_.bottomRow);\n    Blockly.geras.Drawer.superClass_.drawBottom_.call(this);\n  };\n\n  Blockly.geras.Drawer.prototype.drawLeft_ = function () {\n    this.highlighter_.drawLeft();\n    Blockly.geras.Drawer.superClass_.drawLeft_.call(this);\n  };\n\n  Blockly.geras.Drawer.prototype.drawInlineInput_ = function (a) {\n    this.highlighter_.drawInlineInput(a);\n    Blockly.geras.Drawer.superClass_.drawInlineInput_.call(this, a);\n  };\n\n  Blockly.geras.Drawer.prototype.positionInlineInputConnection_ = function (a) {\n    var b = a.centerline - a.height / 2;\n\n    if (a.connectionModel) {\n      var c = a.xPos + a.connectionWidth + this.constants_.DARK_PATH_OFFSET;\n      this.info_.RTL && (c *= -1);\n      a.connectionModel.setOffsetInBlock(c, b + a.connectionOffsetY + this.constants_.DARK_PATH_OFFSET);\n    }\n  };\n\n  Blockly.geras.Drawer.prototype.positionStatementInputConnection_ = function (a) {\n    var b = a.getLastInput();\n\n    if (b.connectionModel) {\n      var c = a.xPos + a.statementEdge + b.notchOffset;\n      c = this.info_.RTL ? -1 * c : c + this.constants_.DARK_PATH_OFFSET;\n      b.connectionModel.setOffsetInBlock(c, a.yPos + this.constants_.DARK_PATH_OFFSET);\n    }\n  };\n\n  Blockly.geras.Drawer.prototype.positionExternalValueConnection_ = function (a) {\n    var b = a.getLastInput();\n\n    if (b.connectionModel) {\n      var c = a.xPos + a.width + this.constants_.DARK_PATH_OFFSET;\n      this.info_.RTL && (c *= -1);\n      b.connectionModel.setOffsetInBlock(c, a.yPos);\n    }\n  };\n\n  Blockly.geras.Drawer.prototype.positionNextConnection_ = function () {\n    var a = this.info_.bottomRow;\n\n    if (a.connection) {\n      var b = a.connection,\n          c = b.xPos;\n      b.connectionModel.setOffsetInBlock((this.info_.RTL ? -c : c) + this.constants_.DARK_PATH_OFFSET / 2, a.baseline + this.constants_.DARK_PATH_OFFSET);\n    }\n  };\n\n  Blockly.geras.HighlightConstantProvider = function (a) {\n    this.constantProvider = a;\n    this.OFFSET = .5;\n    this.START_POINT = Blockly.utils.svgPaths.moveBy(this.OFFSET, this.OFFSET);\n  };\n\n  Blockly.geras.HighlightConstantProvider.prototype.init = function () {\n    this.INSIDE_CORNER = this.makeInsideCorner();\n    this.OUTSIDE_CORNER = this.makeOutsideCorner();\n    this.PUZZLE_TAB = this.makePuzzleTab();\n    this.NOTCH = this.makeNotch();\n    this.JAGGED_TEETH = this.makeJaggedTeeth();\n    this.START_HAT = this.makeStartHat();\n  };\n\n  Blockly.geras.HighlightConstantProvider.prototype.makeInsideCorner = function () {\n    var a = this.constantProvider.CORNER_RADIUS,\n        b = this.OFFSET,\n        c = (1 - Math.SQRT1_2) * (a + b) - b,\n        d = Blockly.utils.svgPaths.moveBy(c, c) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,0\", a, Blockly.utils.svgPaths.point(-c - b, a - c)),\n        e = Blockly.utils.svgPaths.arc(\"a\", \"0 0,0\", a + b, Blockly.utils.svgPaths.point(a + b, a + b)),\n        f = Blockly.utils.svgPaths.moveBy(c, -c) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,0\", a + b, Blockly.utils.svgPaths.point(a - c, c + b));\n    return {\n      width: a + b,\n      height: a,\n      pathTop: function pathTop(g) {\n        return g ? d : \"\";\n      },\n      pathBottom: function pathBottom(g) {\n        return g ? e : f;\n      }\n    };\n  };\n\n  Blockly.geras.HighlightConstantProvider.prototype.makeOutsideCorner = function () {\n    var a = this.constantProvider.CORNER_RADIUS,\n        b = this.OFFSET,\n        c = (1 - Math.SQRT1_2) * (a - b) + b,\n        d = Blockly.utils.svgPaths.moveBy(c, c) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a - b, Blockly.utils.svgPaths.point(a - c, -c + b)),\n        e = Blockly.utils.svgPaths.moveBy(b, a) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a - b, Blockly.utils.svgPaths.point(a, -a + b)),\n        f = -c,\n        g = Blockly.utils.svgPaths.moveBy(c, f) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a - b, Blockly.utils.svgPaths.point(-c + b, -f - a));\n    return {\n      height: a,\n      topLeft: function topLeft(h) {\n        return h ? d : e;\n      },\n      bottomLeft: function bottomLeft() {\n        return g;\n      }\n    };\n  };\n\n  Blockly.geras.HighlightConstantProvider.prototype.makePuzzleTab = function () {\n    var a = this.constantProvider.TAB_WIDTH,\n        b = this.constantProvider.TAB_HEIGHT,\n        c = Blockly.utils.svgPaths.moveBy(-2, -b + 3.4) + Blockly.utils.svgPaths.lineTo(-.45 * a, -2.1),\n        d = Blockly.utils.svgPaths.lineOnAxis(\"v\", 2.5) + Blockly.utils.svgPaths.moveBy(.97 * -a, 2.5) + Blockly.utils.svgPaths.curve(\"q\", [Blockly.utils.svgPaths.point(.05 * -a, 10), Blockly.utils.svgPaths.point(.3 * a, 9.5)]) + Blockly.utils.svgPaths.moveBy(.67 * a, -1.9) + Blockly.utils.svgPaths.lineOnAxis(\"v\", 2.5),\n        e = Blockly.utils.svgPaths.lineOnAxis(\"v\", -1.5) + Blockly.utils.svgPaths.moveBy(-.92 * a, -.5) + Blockly.utils.svgPaths.curve(\"q\", [Blockly.utils.svgPaths.point(-.19 * a, -5.5), Blockly.utils.svgPaths.point(0, -11)]) + Blockly.utils.svgPaths.moveBy(.92 * a, 1),\n        f = Blockly.utils.svgPaths.moveBy(-5, b - .7) + Blockly.utils.svgPaths.lineTo(.46 * a, -2.1);\n    return {\n      width: a,\n      height: b,\n      pathUp: function pathUp(g) {\n        return g ? c : e;\n      },\n      pathDown: function pathDown(g) {\n        return g ? d : f;\n      }\n    };\n  };\n\n  Blockly.geras.HighlightConstantProvider.prototype.makeNotch = function () {\n    return {\n      pathLeft: Blockly.utils.svgPaths.lineOnAxis(\"h\", this.OFFSET) + this.constantProvider.NOTCH.pathLeft\n    };\n  };\n\n  Blockly.geras.HighlightConstantProvider.prototype.makeJaggedTeeth = function () {\n    return {\n      pathLeft: Blockly.utils.svgPaths.lineTo(5.1, 2.6) + Blockly.utils.svgPaths.moveBy(-10.2, 6.8) + Blockly.utils.svgPaths.lineTo(5.1, 2.6),\n      height: 12,\n      width: 10.2\n    };\n  };\n\n  Blockly.geras.HighlightConstantProvider.prototype.makeStartHat = function () {\n    var a = this.constantProvider.START_HAT.height,\n        b = Blockly.utils.svgPaths.moveBy(25, -8.7) + Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(29.7, -6.2), Blockly.utils.svgPaths.point(57.2, -.5), Blockly.utils.svgPaths.point(75, 8.7)]),\n        c = Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(17.8, -9.2), Blockly.utils.svgPaths.point(45.3, -14.9), Blockly.utils.svgPaths.point(75, -8.7)]) + Blockly.utils.svgPaths.moveTo(100.5, a + .5);\n    return {\n      path: function path(d) {\n        return d ? b : c;\n      }\n    };\n  };\n\n  Blockly.geras.PathObject = function (a, b, c) {\n    this.constants = c;\n    this.svgRoot = a;\n    this.svgPathDark = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyPathDark\",\n      transform: \"translate(1,1)\"\n    }, this.svgRoot);\n    this.svgPath = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyPath\"\n    }, this.svgRoot);\n    this.svgPathLight = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyPathLight\"\n    }, this.svgRoot);\n    this.colourDark = \"#000000\";\n    this.style = b;\n  };\n\n  Blockly.utils.object.inherits(Blockly.geras.PathObject, Blockly.blockRendering.PathObject);\n\n  Blockly.geras.PathObject.prototype.setPath = function (a) {\n    this.svgPath.setAttribute(\"d\", a);\n    this.svgPathDark.setAttribute(\"d\", a);\n  };\n\n  Blockly.geras.PathObject.prototype.setHighlightPath = function (a) {\n    this.svgPathLight.setAttribute(\"d\", a);\n  };\n\n  Blockly.geras.PathObject.prototype.flipRTL = function () {\n    this.svgPath.setAttribute(\"transform\", \"scale(-1 1)\");\n    this.svgPathLight.setAttribute(\"transform\", \"scale(-1 1)\");\n    this.svgPathDark.setAttribute(\"transform\", \"translate(1,1) scale(-1 1)\");\n  };\n\n  Blockly.geras.PathObject.prototype.applyColour = function (a) {\n    this.svgPathLight.style.display = \"\";\n    this.svgPathDark.style.display = \"\";\n    this.svgPathLight.setAttribute(\"stroke\", this.style.colourTertiary);\n    this.svgPathDark.setAttribute(\"fill\", this.colourDark);\n    Blockly.geras.PathObject.superClass_.applyColour.call(this, a);\n    this.svgPath.setAttribute(\"stroke\", \"none\");\n  };\n\n  Blockly.geras.PathObject.prototype.setStyle = function (a) {\n    this.style = a;\n    this.colourDark = Blockly.utils.colour.blend(\"#000\", this.style.colourPrimary, .2) || this.colourDark;\n  };\n\n  Blockly.geras.PathObject.prototype.updateHighlighted = function (a) {\n    a ? (this.svgPath.setAttribute(\"filter\", \"url(#\" + this.constants.embossFilterId + \")\"), this.svgPathLight.style.display = \"none\") : (this.svgPath.setAttribute(\"filter\", \"none\"), this.svgPathLight.style.display = \"inline\");\n  };\n\n  Blockly.geras.PathObject.prototype.updateShadow_ = function (a) {\n    a && (this.svgPathLight.style.display = \"none\", this.svgPathDark.setAttribute(\"fill\", this.style.colourSecondary), this.svgPath.setAttribute(\"stroke\", \"none\"), this.svgPath.setAttribute(\"fill\", this.style.colourSecondary));\n  };\n\n  Blockly.geras.PathObject.prototype.updateDisabled_ = function (a) {\n    Blockly.geras.PathObject.superClass_.updateDisabled_.call(this, a);\n    a && this.svgPath.setAttribute(\"stroke\", \"none\");\n  };\n\n  Blockly.geras.Renderer = function (a) {\n    Blockly.geras.Renderer.superClass_.constructor.call(this, a);\n    this.highlightConstants_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.geras.Renderer, Blockly.blockRendering.Renderer);\n\n  Blockly.geras.Renderer.prototype.init = function (a, b) {\n    Blockly.geras.Renderer.superClass_.init.call(this, a, b);\n    this.highlightConstants_ = this.makeHighlightConstants_();\n    this.highlightConstants_.init();\n  };\n\n  Blockly.geras.Renderer.prototype.refreshDom = function (a, b) {\n    Blockly.geras.Renderer.superClass_.refreshDom.call(this, a, b);\n    this.getHighlightConstants().init();\n  };\n\n  Blockly.geras.Renderer.prototype.makeConstants_ = function () {\n    return new Blockly.geras.ConstantProvider();\n  };\n\n  Blockly.geras.Renderer.prototype.makeRenderInfo_ = function (a) {\n    return new Blockly.geras.RenderInfo(this, a);\n  };\n\n  Blockly.geras.Renderer.prototype.makeDrawer_ = function (a, b) {\n    return new Blockly.geras.Drawer(a, b);\n  };\n\n  Blockly.geras.Renderer.prototype.makePathObject = function (a, b) {\n    return new Blockly.geras.PathObject(a, b, this.getConstants());\n  };\n\n  Blockly.geras.Renderer.prototype.makeHighlightConstants_ = function () {\n    return new Blockly.geras.HighlightConstantProvider(this.getConstants());\n  };\n\n  Blockly.geras.Renderer.prototype.getHighlightConstants = function () {\n    return this.highlightConstants_;\n  };\n\n  Blockly.blockRendering.register(\"geras\", Blockly.geras.Renderer);\n  Blockly.thrasos = {};\n\n  Blockly.thrasos.RenderInfo = function (a, b) {\n    Blockly.thrasos.RenderInfo.superClass_.constructor.call(this, a, b);\n  };\n\n  Blockly.utils.object.inherits(Blockly.thrasos.RenderInfo, Blockly.blockRendering.RenderInfo);\n\n  Blockly.thrasos.RenderInfo.prototype.getRenderer = function () {\n    return this.renderer_;\n  };\n\n  Blockly.thrasos.RenderInfo.prototype.addElemSpacing_ = function () {\n    for (var a = !1, b = 0, c; c = this.rows[b]; b++) {\n      c.hasExternalInput && (a = !0);\n    }\n\n    for (b = 0; c = this.rows[b]; b++) {\n      var d = c.elements;\n      c.elements = [];\n      c.startsWithElemSpacer() && c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, this.getInRowSpacing_(null, d[0])));\n\n      for (var e = 0; e < d.length - 1; e++) {\n        c.elements.push(d[e]);\n        var f = this.getInRowSpacing_(d[e], d[e + 1]);\n        c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, f));\n      }\n\n      c.elements.push(d[d.length - 1]);\n      c.endsWithElemSpacer() && (f = this.getInRowSpacing_(d[d.length - 1], null), a && c.hasDummyInput && (f += this.constants_.TAB_WIDTH), c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, f)));\n    }\n  };\n\n  Blockly.thrasos.RenderInfo.prototype.getInRowSpacing_ = function (a, b) {\n    if (!a) return b && Blockly.blockRendering.Types.isField(b) && b.isEditable ? this.constants_.MEDIUM_PADDING : b && Blockly.blockRendering.Types.isInlineInput(b) ? this.constants_.MEDIUM_LARGE_PADDING : b && Blockly.blockRendering.Types.isStatementInput(b) ? this.constants_.STATEMENT_INPUT_PADDING_LEFT : this.constants_.LARGE_PADDING;\n    if (!Blockly.blockRendering.Types.isInput(a) && !b) return Blockly.blockRendering.Types.isField(a) && a.isEditable ? this.constants_.MEDIUM_PADDING : Blockly.blockRendering.Types.isIcon(a) ? 2 * this.constants_.LARGE_PADDING + 1 : Blockly.blockRendering.Types.isHat(a) ? this.constants_.NO_PADDING : Blockly.blockRendering.Types.isPreviousOrNextConnection(a) ? this.constants_.LARGE_PADDING : Blockly.blockRendering.Types.isLeftRoundedCorner(a) ? this.constants_.MIN_BLOCK_WIDTH : Blockly.blockRendering.Types.isJaggedEdge(a) ? this.constants_.NO_PADDING : this.constants_.LARGE_PADDING;\n\n    if (Blockly.blockRendering.Types.isInput(a) && !b) {\n      if (Blockly.blockRendering.Types.isExternalInput(a)) return this.constants_.NO_PADDING;\n      if (Blockly.blockRendering.Types.isInlineInput(a)) return this.constants_.LARGE_PADDING;\n      if (Blockly.blockRendering.Types.isStatementInput(a)) return this.constants_.NO_PADDING;\n    }\n\n    if (!Blockly.blockRendering.Types.isInput(a) && b && Blockly.blockRendering.Types.isInput(b)) {\n      if (Blockly.blockRendering.Types.isField(a) && a.isEditable) {\n        if (Blockly.blockRendering.Types.isInlineInput(b) || Blockly.blockRendering.Types.isExternalInput(b)) return this.constants_.SMALL_PADDING;\n      } else {\n        if (Blockly.blockRendering.Types.isInlineInput(b) || Blockly.blockRendering.Types.isExternalInput(b)) return this.constants_.MEDIUM_LARGE_PADDING;\n        if (Blockly.blockRendering.Types.isStatementInput(b)) return this.constants_.LARGE_PADDING;\n      }\n\n      return this.constants_.LARGE_PADDING - 1;\n    }\n\n    if (Blockly.blockRendering.Types.isIcon(a) && b && !Blockly.blockRendering.Types.isInput(b)) return this.constants_.LARGE_PADDING;\n    if (Blockly.blockRendering.Types.isInlineInput(a) && b && Blockly.blockRendering.Types.isField(b)) return b.isEditable ? this.constants_.MEDIUM_PADDING : this.constants_.LARGE_PADDING;\n\n    if (Blockly.blockRendering.Types.isLeftSquareCorner(a) && b) {\n      if (Blockly.blockRendering.Types.isHat(b)) return this.constants_.NO_PADDING;\n      if (Blockly.blockRendering.Types.isPreviousConnection(b) || Blockly.blockRendering.Types.isNextConnection(b)) return b.notchOffset;\n    }\n\n    return Blockly.blockRendering.Types.isLeftRoundedCorner(a) && b ? b.notchOffset - this.constants_.CORNER_RADIUS : Blockly.blockRendering.Types.isField(a) && b && Blockly.blockRendering.Types.isField(b) && a.isEditable == b.isEditable || b && Blockly.blockRendering.Types.isJaggedEdge(b) ? this.constants_.LARGE_PADDING : this.constants_.MEDIUM_PADDING;\n  };\n\n  Blockly.thrasos.RenderInfo.prototype.getSpacerRowHeight_ = function (a, b) {\n    return Blockly.blockRendering.Types.isTopRow(a) && Blockly.blockRendering.Types.isBottomRow(b) ? this.constants_.EMPTY_BLOCK_SPACER_HEIGHT : Blockly.blockRendering.Types.isTopRow(a) || Blockly.blockRendering.Types.isBottomRow(b) ? this.constants_.NO_PADDING : a.hasExternalInput && b.hasExternalInput ? this.constants_.LARGE_PADDING : !a.hasStatement && b.hasStatement ? this.constants_.BETWEEN_STATEMENT_PADDING_Y : a.hasStatement && b.hasStatement || a.hasDummyInput || b.hasDummyInput ? this.constants_.LARGE_PADDING : this.constants_.MEDIUM_PADDING;\n  };\n\n  Blockly.thrasos.RenderInfo.prototype.getElemCenterline_ = function (a, b) {\n    if (Blockly.blockRendering.Types.isSpacer(b)) return a.yPos + b.height / 2;\n    if (Blockly.blockRendering.Types.isBottomRow(a)) return a = a.yPos + a.height - a.descenderHeight, Blockly.blockRendering.Types.isNextConnection(b) ? a + b.height / 2 : a - b.height / 2;\n    if (Blockly.blockRendering.Types.isTopRow(a)) return Blockly.blockRendering.Types.isHat(b) ? a.capline - b.height / 2 : a.capline + b.height / 2;\n    var c = a.yPos;\n    return c = Blockly.blockRendering.Types.isField(b) && a.hasStatement ? c + (this.constants_.TALL_INPUT_FIELD_OFFSET_Y + b.height / 2) : c + a.height / 2;\n  };\n\n  Blockly.thrasos.RenderInfo.prototype.finalize_ = function () {\n    for (var a = 0, b = 0, c = 0, d; d = this.rows[c]; c++) {\n      d.yPos = b;\n      d.xPos = this.startX;\n      b += d.height;\n      a = Math.max(a, d.widthWithConnectedBlocks);\n      var e = b - this.topRow.ascenderHeight;\n      d == this.bottomRow && e < this.constants_.MIN_BLOCK_HEIGHT && (e = this.constants_.MIN_BLOCK_HEIGHT - e, this.bottomRow.height += e, b += e);\n      this.recordElemPositions_(d);\n    }\n\n    this.outputConnection && this.block_.nextConnection && this.block_.nextConnection.isConnected() && (a = Math.max(a, this.block_.nextConnection.targetBlock().getHeightWidth().width));\n    this.bottomRow.baseline = b - this.bottomRow.descenderHeight;\n    this.widthWithChildren = a + this.startX;\n    this.height = b;\n    this.startY = this.topRow.capline;\n  };\n\n  Blockly.thrasos.Renderer = function (a) {\n    Blockly.thrasos.Renderer.superClass_.constructor.call(this, a);\n  };\n\n  Blockly.utils.object.inherits(Blockly.thrasos.Renderer, Blockly.blockRendering.Renderer);\n\n  Blockly.thrasos.Renderer.prototype.makeRenderInfo_ = function (a) {\n    return new Blockly.thrasos.RenderInfo(this, a);\n  };\n\n  Blockly.blockRendering.register(\"thrasos\", Blockly.thrasos.Renderer);\n  Blockly.zelos = {};\n\n  Blockly.zelos.ConstantProvider = function () {\n    Blockly.zelos.ConstantProvider.superClass_.constructor.call(this);\n    this.SMALL_PADDING = this.GRID_UNIT = 4;\n    this.MEDIUM_PADDING = 2 * this.GRID_UNIT;\n    this.MEDIUM_LARGE_PADDING = 3 * this.GRID_UNIT;\n    this.LARGE_PADDING = 4 * this.GRID_UNIT;\n    this.CORNER_RADIUS = 1 * this.GRID_UNIT;\n    this.NOTCH_WIDTH = 9 * this.GRID_UNIT;\n    this.NOTCH_HEIGHT = 2 * this.GRID_UNIT;\n    this.STATEMENT_INPUT_NOTCH_OFFSET = this.NOTCH_OFFSET_LEFT = 3 * this.GRID_UNIT;\n    this.MIN_BLOCK_WIDTH = 2 * this.GRID_UNIT;\n    this.MIN_BLOCK_HEIGHT = 12 * this.GRID_UNIT;\n    this.EMPTY_STATEMENT_INPUT_HEIGHT = 6 * this.GRID_UNIT;\n    this.TAB_OFFSET_FROM_TOP = 0;\n    this.TOP_ROW_MIN_HEIGHT = this.CORNER_RADIUS;\n    this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT = this.LARGE_PADDING;\n    this.BOTTOM_ROW_MIN_HEIGHT = this.CORNER_RADIUS;\n    this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT = 6 * this.GRID_UNIT;\n    this.STATEMENT_BOTTOM_SPACER = -this.NOTCH_HEIGHT;\n    this.STATEMENT_INPUT_SPACER_MIN_WIDTH = 40 * this.GRID_UNIT;\n    this.STATEMENT_INPUT_PADDING_LEFT = 4 * this.GRID_UNIT;\n    this.EMPTY_INLINE_INPUT_PADDING = 4 * this.GRID_UNIT;\n    this.EMPTY_INLINE_INPUT_HEIGHT = 8 * this.GRID_UNIT;\n    this.DUMMY_INPUT_MIN_HEIGHT = 8 * this.GRID_UNIT;\n    this.DUMMY_INPUT_SHADOW_MIN_HEIGHT = 6 * this.GRID_UNIT;\n    this.CURSOR_WS_WIDTH = 20 * this.GRID_UNIT;\n    this.CURSOR_COLOUR = \"#ffa200\";\n    this.CURSOR_RADIUS = 5;\n    this.JAGGED_TEETH_WIDTH = this.JAGGED_TEETH_HEIGHT = 0;\n    this.START_HAT_HEIGHT = 22;\n    this.START_HAT_WIDTH = 96;\n    this.SHAPES = {\n      HEXAGONAL: 1,\n      ROUND: 2,\n      SQUARE: 3,\n      PUZZLE: 4,\n      NOTCH: 5\n    };\n    this.SHAPE_IN_SHAPE_PADDING = {\n      1: {\n        0: 5 * this.GRID_UNIT,\n        1: 2 * this.GRID_UNIT,\n        2: 5 * this.GRID_UNIT,\n        3: 5 * this.GRID_UNIT\n      },\n      2: {\n        0: 3 * this.GRID_UNIT,\n        1: 3 * this.GRID_UNIT,\n        2: 1 * this.GRID_UNIT,\n        3: 2 * this.GRID_UNIT\n      },\n      3: {\n        0: 2 * this.GRID_UNIT,\n        1: 2 * this.GRID_UNIT,\n        2: 2 * this.GRID_UNIT,\n        3: 2 * this.GRID_UNIT\n      }\n    };\n    this.FULL_BLOCK_FIELDS = !0;\n    this.FIELD_TEXT_FONTSIZE = 3 * this.GRID_UNIT;\n    this.FIELD_TEXT_FONTWEIGHT = \"bold\";\n    this.FIELD_TEXT_FONTFAMILY = '\"Helvetica Neue\", \"Segoe UI\", Helvetica, sans-serif';\n    this.FIELD_BORDER_RECT_RADIUS = this.CORNER_RADIUS;\n    this.FIELD_BORDER_RECT_X_PADDING = 2 * this.GRID_UNIT;\n    this.FIELD_BORDER_RECT_Y_PADDING = 1.625 * this.GRID_UNIT;\n    this.FIELD_BORDER_RECT_HEIGHT = 8 * this.GRID_UNIT;\n    this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT = 8 * this.GRID_UNIT;\n    this.FIELD_DROPDOWN_SVG_ARROW = this.FIELD_DROPDOWN_COLOURED_DIV = this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW = !0;\n    this.FIELD_DROPDOWN_SVG_ARROW_PADDING = this.FIELD_BORDER_RECT_X_PADDING;\n    this.FIELD_COLOUR_FULL_BLOCK = this.FIELD_TEXTINPUT_BOX_SHADOW = !0;\n    this.FIELD_COLOUR_DEFAULT_WIDTH = 2 * this.GRID_UNIT;\n    this.FIELD_COLOUR_DEFAULT_HEIGHT = 4 * this.GRID_UNIT;\n    this.FIELD_CHECKBOX_X_OFFSET = 1 * this.GRID_UNIT;\n    this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH = 12 * this.GRID_UNIT;\n    this.SELECTED_GLOW_COLOUR = \"#fff200\";\n    this.SELECTED_GLOW_SIZE = .5;\n    this.REPLACEMENT_GLOW_COLOUR = \"#fff200\";\n    this.REPLACEMENT_GLOW_SIZE = 2;\n    this.selectedGlowFilterId = \"\";\n    this.selectedGlowFilter_ = null;\n    this.replacementGlowFilterId = \"\";\n    this.replacementGlowFilter_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.ConstantProvider, Blockly.blockRendering.ConstantProvider);\n\n  Blockly.zelos.ConstantProvider.prototype.setFontConstants_ = function (a) {\n    Blockly.zelos.ConstantProvider.superClass_.setFontConstants_.call(this, a);\n    this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT = this.FIELD_BORDER_RECT_HEIGHT = this.FIELD_TEXT_HEIGHT + 2 * this.FIELD_BORDER_RECT_Y_PADDING;\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.init = function () {\n    Blockly.zelos.ConstantProvider.superClass_.init.call(this);\n    this.HEXAGONAL = this.makeHexagonal();\n    this.ROUNDED = this.makeRounded();\n    this.SQUARED = this.makeSquared();\n    this.STATEMENT_INPUT_NOTCH_OFFSET = this.NOTCH_OFFSET_LEFT + this.INSIDE_CORNERS.rightWidth;\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.setDynamicProperties_ = function (a) {\n    Blockly.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this, a);\n    this.SELECTED_GLOW_COLOUR = a.getComponentStyle(\"selectedGlowColour\") || this.SELECTED_GLOW_COLOUR;\n    var b = Number(a.getComponentStyle(\"selectedGlowSize\"));\n    this.SELECTED_GLOW_SIZE = b && !isNaN(b) ? b : this.SELECTED_GLOW_SIZE;\n    this.REPLACEMENT_GLOW_COLOUR = a.getComponentStyle(\"replacementGlowColour\") || this.REPLACEMENT_GLOW_COLOUR;\n    this.REPLACEMENT_GLOW_SIZE = (a = Number(a.getComponentStyle(\"replacementGlowSize\"))) && !isNaN(a) ? a : this.REPLACEMENT_GLOW_SIZE;\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.dispose = function () {\n    Blockly.zelos.ConstantProvider.superClass_.dispose.call(this);\n    this.selectedGlowFilter_ && Blockly.utils.dom.removeNode(this.selectedGlowFilter_);\n    this.replacementGlowFilter_ && Blockly.utils.dom.removeNode(this.replacementGlowFilter_);\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.makeStartHat = function () {\n    var a = this.START_HAT_HEIGHT,\n        b = this.START_HAT_WIDTH,\n        c = Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(25, -a), Blockly.utils.svgPaths.point(71, -a), Blockly.utils.svgPaths.point(b, 0)]);\n    return {\n      height: a,\n      width: b,\n      path: c\n    };\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.makeHexagonal = function () {\n    function a(c, d, e) {\n      var f = c / 2;\n      f = f > b ? b : f;\n      e = e ? -1 : 1;\n      c = (d ? -1 : 1) * c / 2;\n      return Blockly.utils.svgPaths.lineTo(-e * f, c) + Blockly.utils.svgPaths.lineTo(e * f, c);\n    }\n\n    var b = this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;\n    return {\n      type: this.SHAPES.HEXAGONAL,\n      isDynamic: !0,\n      width: function width(c) {\n        c /= 2;\n        return c > b ? b : c;\n      },\n      height: function height(c) {\n        return c;\n      },\n      connectionOffsetY: function connectionOffsetY(c) {\n        return c / 2;\n      },\n      connectionOffsetX: function connectionOffsetX(c) {\n        return -c;\n      },\n      pathDown: function pathDown(c) {\n        return a(c, !1, !1);\n      },\n      pathUp: function pathUp(c) {\n        return a(c, !0, !1);\n      },\n      pathRightDown: function pathRightDown(c) {\n        return a(c, !1, !0);\n      },\n      pathRightUp: function pathRightUp(c) {\n        return a(c, !1, !0);\n      }\n    };\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.makeRounded = function () {\n    function a(d, e, f) {\n      var g = d > c ? d - c : 0;\n      d = (d > c ? c : d) / 2;\n      return Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", d, Blockly.utils.svgPaths.point((e ? -1 : 1) * d, (e ? -1 : 1) * d)) + Blockly.utils.svgPaths.lineOnAxis(\"v\", (f ? 1 : -1) * g) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", d, Blockly.utils.svgPaths.point((e ? 1 : -1) * d, (e ? -1 : 1) * d));\n    }\n\n    var b = this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,\n        c = 2 * b;\n    return {\n      type: this.SHAPES.ROUND,\n      isDynamic: !0,\n      width: function width(d) {\n        d /= 2;\n        return d > b ? b : d;\n      },\n      height: function height(d) {\n        return d;\n      },\n      connectionOffsetY: function connectionOffsetY(d) {\n        return d / 2;\n      },\n      connectionOffsetX: function connectionOffsetX(d) {\n        return -d;\n      },\n      pathDown: function pathDown(d) {\n        return a(d, !1, !1);\n      },\n      pathUp: function pathUp(d) {\n        return a(d, !0, !1);\n      },\n      pathRightDown: function pathRightDown(d) {\n        return a(d, !1, !0);\n      },\n      pathRightUp: function pathRightUp(d) {\n        return a(d, !1, !0);\n      }\n    };\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.makeSquared = function () {\n    function a(c, d, e) {\n      c -= 2 * b;\n      return Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", b, Blockly.utils.svgPaths.point((d ? -1 : 1) * b, (d ? -1 : 1) * b)) + Blockly.utils.svgPaths.lineOnAxis(\"v\", (e ? 1 : -1) * c) + Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", b, Blockly.utils.svgPaths.point((d ? 1 : -1) * b, (d ? -1 : 1) * b));\n    }\n\n    var b = this.CORNER_RADIUS;\n    return {\n      type: this.SHAPES.SQUARE,\n      isDynamic: !0,\n      width: function width(c) {\n        return b;\n      },\n      height: function height(c) {\n        return c;\n      },\n      connectionOffsetY: function connectionOffsetY(c) {\n        return c / 2;\n      },\n      connectionOffsetX: function connectionOffsetX(c) {\n        return -c;\n      },\n      pathDown: function pathDown(c) {\n        return a(c, !1, !1);\n      },\n      pathUp: function pathUp(c) {\n        return a(c, !0, !1);\n      },\n      pathRightDown: function pathRightDown(c) {\n        return a(c, !1, !0);\n      },\n      pathRightUp: function pathRightUp(c) {\n        return a(c, !1, !0);\n      }\n    };\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.shapeFor = function (a) {\n    var b = a.getCheck();\n    !b && a.targetConnection && (b = a.targetConnection.getCheck());\n\n    switch (a.type) {\n      case Blockly.connectionTypes.INPUT_VALUE:\n      case Blockly.connectionTypes.OUTPUT_VALUE:\n        a = a.getSourceBlock().getOutputShape();\n        if (null != a) switch (a) {\n          case this.SHAPES.HEXAGONAL:\n            return this.HEXAGONAL;\n\n          case this.SHAPES.ROUND:\n            return this.ROUNDED;\n\n          case this.SHAPES.SQUARE:\n            return this.SQUARED;\n        }\n        if (b && -1 != b.indexOf(\"Boolean\")) return this.HEXAGONAL;\n        if (b && -1 != b.indexOf(\"Number\")) return this.ROUNDED;\n        b && b.indexOf(\"String\");\n        return this.ROUNDED;\n\n      case Blockly.connectionTypes.PREVIOUS_STATEMENT:\n      case Blockly.connectionTypes.NEXT_STATEMENT:\n        return this.NOTCH;\n\n      default:\n        throw Error(\"Unknown type\");\n    }\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.makeNotch = function () {\n    function a(l) {\n      return Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(l * e / 2, 0), Blockly.utils.svgPaths.point(l * e * 3 / 4, g / 2), Blockly.utils.svgPaths.point(l * e, g)]) + Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(l * e, f)]) + Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(l * e / 4, g / 2), Blockly.utils.svgPaths.point(l * e / 2, g), Blockly.utils.svgPaths.point(l * e, g)]) + Blockly.utils.svgPaths.lineOnAxis(\"h\", l * d) + Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(l * e / 2, 0), Blockly.utils.svgPaths.point(l * e * 3 / 4, -(g / 2)), Blockly.utils.svgPaths.point(l * e, -g)]) + Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(l * e, -f)]) + Blockly.utils.svgPaths.curve(\"c\", [Blockly.utils.svgPaths.point(l * e / 4, -(g / 2)), Blockly.utils.svgPaths.point(l * e / 2, -g), Blockly.utils.svgPaths.point(l * e, -g)]);\n    }\n\n    var b = this.NOTCH_WIDTH,\n        c = this.NOTCH_HEIGHT,\n        d = b / 3,\n        e = d / 3,\n        f = c / 2,\n        g = f / 2,\n        h = a(1),\n        k = a(-1);\n    return {\n      type: this.SHAPES.NOTCH,\n      width: b,\n      height: c,\n      pathLeft: h,\n      pathRight: k\n    };\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.makeInsideCorners = function () {\n    var a = this.CORNER_RADIUS,\n        b = Blockly.utils.svgPaths.arc(\"a\", \"0 0,0\", a, Blockly.utils.svgPaths.point(-a, a)),\n        c = Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a, Blockly.utils.svgPaths.point(-a, a)),\n        d = Blockly.utils.svgPaths.arc(\"a\", \"0 0,0\", a, Blockly.utils.svgPaths.point(a, a)),\n        e = Blockly.utils.svgPaths.arc(\"a\", \"0 0,1\", a, Blockly.utils.svgPaths.point(a, a));\n    return {\n      width: a,\n      height: a,\n      pathTop: b,\n      pathBottom: d,\n      rightWidth: a,\n      rightHeight: a,\n      pathTopRight: c,\n      pathBottomRight: e\n    };\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.generateSecondaryColour_ = function (a) {\n    return Blockly.utils.colour.blend(\"#000\", a, .15) || a;\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.generateTertiaryColour_ = function (a) {\n    return Blockly.utils.colour.blend(\"#000\", a, .25) || a;\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.createDom = function (a, b, c) {\n    Blockly.zelos.ConstantProvider.superClass_.createDom.call(this, a, b, c);\n    a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.DEFS, {}, a);\n    b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FILTER, {\n      id: \"blocklySelectedGlowFilter\" + this.randomIdentifier,\n      height: \"160%\",\n      width: \"180%\",\n      y: \"-30%\",\n      x: \"-40%\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEGAUSSIANBLUR, {\n      \"in\": \"SourceGraphic\",\n      stdDeviation: this.SELECTED_GLOW_SIZE\n    }, b);\n    c = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPONENTTRANSFER, {\n      result: \"outBlur\"\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEFUNCA, {\n      type: \"table\",\n      tableValues: \"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"\n    }, c);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEFLOOD, {\n      \"flood-color\": this.SELECTED_GLOW_COLOUR,\n      \"flood-opacity\": 1,\n      result: \"outColor\"\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPOSITE, {\n      \"in\": \"outColor\",\n      in2: \"outBlur\",\n      operator: \"in\",\n      result: \"outGlow\"\n    }, b);\n    this.selectedGlowFilterId = b.id;\n    this.selectedGlowFilter_ = b;\n    a = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FILTER, {\n      id: \"blocklyReplacementGlowFilter\" + this.randomIdentifier,\n      height: \"160%\",\n      width: \"180%\",\n      y: \"-30%\",\n      x: \"-40%\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEGAUSSIANBLUR, {\n      \"in\": \"SourceGraphic\",\n      stdDeviation: this.REPLACEMENT_GLOW_SIZE\n    }, a);\n    b = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPONENTTRANSFER, {\n      result: \"outBlur\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEFUNCA, {\n      type: \"table\",\n      tableValues: \"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\"\n    }, b);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FEFLOOD, {\n      \"flood-color\": this.REPLACEMENT_GLOW_COLOUR,\n      \"flood-opacity\": 1,\n      result: \"outColor\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPOSITE, {\n      \"in\": \"outColor\",\n      in2: \"outBlur\",\n      operator: \"in\",\n      result: \"outGlow\"\n    }, a);\n    Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.FECOMPOSITE, {\n      \"in\": \"SourceGraphic\",\n      in2: \"outGlow\",\n      operator: \"over\"\n    }, a);\n    this.replacementGlowFilterId = a.id;\n    this.replacementGlowFilter_ = a;\n  };\n\n  Blockly.zelos.ConstantProvider.prototype.getCSS_ = function (a) {\n    return [a + \" .blocklyText,\", a + \" .blocklyFlyoutLabelText {\", \"font: \" + this.FIELD_TEXT_FONTWEIGHT + \" \" + this.FIELD_TEXT_FONTSIZE + \"pt \" + this.FIELD_TEXT_FONTFAMILY + \";\", \"}\", a + \" .blocklyText {\", \"fill: #fff;\", \"}\", a + \" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),\", a + \" .blocklyEditableText>rect:not(.blocklyDropdownRect) {\", \"fill: \" + this.FIELD_BORDER_RECT_COLOUR + \";\", \"}\", a + \" .blocklyNonEditableText>text,\", a + \" .blocklyEditableText>text,\", a + \" .blocklyNonEditableText>g>text,\", a + \" .blocklyEditableText>g>text {\", \"fill: #575E75;\", \"}\", a + \" .blocklyFlyoutLabelText {\", \"fill: #575E75;\", \"}\", a + \" .blocklyText.blocklyBubbleText {\", \"fill: #575E75;\", \"}\", a + \" .blocklyDraggable:not(.blocklyDisabled)\", \" .blocklyEditableText:not(.editing):hover>rect,\", a + \" .blocklyDraggable:not(.blocklyDisabled)\", \" .blocklyEditableText:not(.editing):hover>.blocklyPath {\", \"stroke: #fff;\", \"stroke-width: 2;\", \"}\", a + \" .blocklyHtmlInput {\", \"font-family: \" + this.FIELD_TEXT_FONTFAMILY + \";\", \"font-weight: \" + this.FIELD_TEXT_FONTWEIGHT + \";\", \"color: #575E75;\", \"}\", a + \" .blocklyDropdownText {\", \"fill: #fff !important;\", \"}\", a + \".blocklyWidgetDiv .goog-menuitem,\", a + \".blocklyDropDownDiv .goog-menuitem {\", \"font-family: \" + this.FIELD_TEXT_FONTFAMILY + \";\", \"}\", a + \".blocklyDropDownDiv .goog-menuitem-content {\", \"color: #fff;\", \"}\", a + \" .blocklyHighlightedConnectionPath {\", \"stroke: \" + this.SELECTED_GLOW_COLOUR + \";\", \"}\", a + \" .blocklyDisabled > .blocklyOutlinePath {\", \"fill: url(#blocklyDisabledPattern\" + this.randomIdentifier + \")\", \"}\", a + \" .blocklyInsertionMarker>.blocklyPath {\", \"fill-opacity: \" + this.INSERTION_MARKER_OPACITY + \";\", \"stroke: none;\", \"}\"];\n  };\n\n  Blockly.zelos.TopRow = function (a) {\n    Blockly.zelos.TopRow.superClass_.constructor.call(this, a);\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.TopRow, Blockly.blockRendering.TopRow);\n\n  Blockly.zelos.TopRow.prototype.endsWithElemSpacer = function () {\n    return !1;\n  };\n\n  Blockly.zelos.TopRow.prototype.hasLeftSquareCorner = function (a) {\n    var b = (a.hat ? \"cap\" === a.hat : this.constants_.ADD_START_HATS) && !a.outputConnection && !a.previousConnection;\n    return !!a.outputConnection || b;\n  };\n\n  Blockly.zelos.TopRow.prototype.hasRightSquareCorner = function (a) {\n    return !!a.outputConnection && !a.statementInputCount && !a.nextConnection;\n  };\n\n  Blockly.zelos.BottomRow = function (a) {\n    Blockly.zelos.BottomRow.superClass_.constructor.call(this, a);\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.BottomRow, Blockly.blockRendering.BottomRow);\n\n  Blockly.zelos.BottomRow.prototype.endsWithElemSpacer = function () {\n    return !1;\n  };\n\n  Blockly.zelos.BottomRow.prototype.hasLeftSquareCorner = function (a) {\n    return !!a.outputConnection;\n  };\n\n  Blockly.zelos.BottomRow.prototype.hasRightSquareCorner = function (a) {\n    return !!a.outputConnection && !a.statementInputCount && !a.nextConnection;\n  };\n\n  Blockly.zelos.RightConnectionShape = function (a) {\n    Blockly.zelos.RightConnectionShape.superClass_.constructor.call(this, a);\n    this.type |= Blockly.blockRendering.Types.getType(\"RIGHT_CONNECTION\");\n    this.width = this.height = 0;\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.RightConnectionShape, Blockly.blockRendering.Measurable);\n\n  Blockly.zelos.RenderInfo = function (a, b) {\n    Blockly.zelos.RenderInfo.superClass_.constructor.call(this, a, b);\n    this.topRow = new Blockly.zelos.TopRow(this.constants_);\n    this.bottomRow = new Blockly.zelos.BottomRow(this.constants_);\n    this.isInline = !0;\n    this.isMultiRow = !b.getInputsInline() || b.isCollapsed();\n    this.hasStatementInput = 0 < b.statementInputCount;\n    this.rightSide = this.outputConnection ? new Blockly.zelos.RightConnectionShape(this.constants_) : null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.RenderInfo, Blockly.blockRendering.RenderInfo);\n\n  Blockly.zelos.RenderInfo.prototype.getRenderer = function () {\n    return this.renderer_;\n  };\n\n  Blockly.zelos.RenderInfo.prototype.measure = function () {\n    this.createRows_();\n    this.addElemSpacing_();\n    this.addRowSpacing_();\n    this.adjustXPosition_();\n    this.computeBounds_();\n    this.alignRowElements_();\n    this.finalize_();\n  };\n\n  Blockly.zelos.RenderInfo.prototype.shouldStartNewRow_ = function (a, b) {\n    return b ? a.type == Blockly.inputTypes.STATEMENT || b.type == Blockly.inputTypes.STATEMENT ? !0 : a.type == Blockly.inputTypes.VALUE || a.type == Blockly.inputTypes.DUMMY ? !this.isInline || this.isMultiRow : !1 : !1;\n  };\n\n  Blockly.zelos.RenderInfo.prototype.getDesiredRowWidth_ = function (a) {\n    return a.hasStatement ? this.width - this.startX - (this.constants_.INSIDE_CORNERS.rightWidth || 0) : Blockly.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this, a);\n  };\n\n  Blockly.zelos.RenderInfo.prototype.getInRowSpacing_ = function (a, b) {\n    return a && b || !this.outputConnection || !this.outputConnection.isDynamicShape || this.hasStatementInput || this.bottomRow.hasNextConnection ? !a && b && Blockly.blockRendering.Types.isStatementInput(b) ? this.constants_.STATEMENT_INPUT_PADDING_LEFT : a && Blockly.blockRendering.Types.isLeftRoundedCorner(a) && b && (Blockly.blockRendering.Types.isPreviousConnection(b) || Blockly.blockRendering.Types.isNextConnection(b)) ? b.notchOffset - this.constants_.CORNER_RADIUS : a && Blockly.blockRendering.Types.isLeftSquareCorner(a) && b && Blockly.blockRendering.Types.isHat(b) ? this.constants_.NO_PADDING : this.constants_.MEDIUM_PADDING : this.constants_.NO_PADDING;\n  };\n\n  Blockly.zelos.RenderInfo.prototype.getSpacerRowHeight_ = function (a, b) {\n    if (Blockly.blockRendering.Types.isTopRow(a) && Blockly.blockRendering.Types.isBottomRow(b)) return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;\n    var c = Blockly.blockRendering.Types.isInputRow(a) && a.hasStatement,\n        d = Blockly.blockRendering.Types.isInputRow(b) && b.hasStatement;\n    return d || c ? (a = Math.max(this.constants_.NOTCH_HEIGHT, this.constants_.INSIDE_CORNERS.rightHeight || 0), d && c ? Math.max(a, this.constants_.DUMMY_INPUT_MIN_HEIGHT) : a) : Blockly.blockRendering.Types.isTopRow(a) ? a.hasPreviousConnection || this.outputConnection && !this.hasStatementInput ? this.constants_.NO_PADDING : Math.abs(this.constants_.NOTCH_HEIGHT - this.constants_.CORNER_RADIUS) : Blockly.blockRendering.Types.isBottomRow(b) ? this.outputConnection ? !b.hasNextConnection && this.hasStatementInput ? Math.abs(this.constants_.NOTCH_HEIGHT - this.constants_.CORNER_RADIUS) : this.constants_.NO_PADDING : Math.max(this.topRow.minHeight, Math.max(this.constants_.NOTCH_HEIGHT, this.constants_.CORNER_RADIUS)) - this.constants_.CORNER_RADIUS : this.constants_.MEDIUM_PADDING;\n  };\n\n  Blockly.zelos.RenderInfo.prototype.getSpacerRowWidth_ = function (a, b) {\n    var c = this.width - this.startX;\n    return Blockly.blockRendering.Types.isInputRow(a) && a.hasStatement || Blockly.blockRendering.Types.isInputRow(b) && b.hasStatement ? Math.max(c, this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH) : c;\n  };\n\n  Blockly.zelos.RenderInfo.prototype.getElemCenterline_ = function (a, b) {\n    if (a.hasStatement && !Blockly.blockRendering.Types.isSpacer(b) && !Blockly.blockRendering.Types.isStatementInput(b)) return a.yPos + this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT / 2;\n\n    if (Blockly.blockRendering.Types.isInlineInput(b)) {\n      var c = b.connectedBlock;\n      if (c && c.outputConnection && c.nextConnection) return a.yPos + c.height / 2;\n    }\n\n    return Blockly.zelos.RenderInfo.superClass_.getElemCenterline_.call(this, a, b);\n  };\n\n  Blockly.zelos.RenderInfo.prototype.addInput_ = function (a, b) {\n    a.type == Blockly.inputTypes.DUMMY && b.hasDummyInput && b.align == Blockly.constants.ALIGN.LEFT && a.align == Blockly.constants.ALIGN.RIGHT && (b.rightAlignedDummyInput = a);\n    Blockly.zelos.RenderInfo.superClass_.addInput_.call(this, a, b);\n  };\n\n  Blockly.zelos.RenderInfo.prototype.addAlignmentPadding_ = function (a, b) {\n    if (a.rightAlignedDummyInput) {\n      for (var c, d = 0, e; (e = a.elements[d]) && (Blockly.blockRendering.Types.isSpacer(e) && (c = e), !Blockly.blockRendering.Types.isField(e) || e.parentInput != a.rightAlignedDummyInput); d++) {\n        ;\n      }\n\n      if (c) {\n        c.width += b;\n        a.width += b;\n        return;\n      }\n    }\n\n    Blockly.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this, a, b);\n  };\n\n  Blockly.zelos.RenderInfo.prototype.adjustXPosition_ = function () {\n    for (var a = this.constants_.NOTCH_OFFSET_LEFT + this.constants_.NOTCH_WIDTH, b = a, c = 2; c < this.rows.length - 1; c += 2) {\n      var d = this.rows[c - 1],\n          e = this.rows[c],\n          f = this.rows[c + 1];\n      d = 2 == c ? !!this.topRow.hasPreviousConnection : !!d.followsStatement;\n      f = c + 2 >= this.rows.length - 1 ? !!this.bottomRow.hasNextConnection : !!f.precedesStatement;\n      if (Blockly.blockRendering.Types.isInputRow(e) && e.hasStatement) e.measure(), b = e.width - e.getLastInput().width + a;else if (d && (2 == c || f) && Blockly.blockRendering.Types.isInputRow(e) && !e.hasStatement) {\n        f = e.xPos;\n        d = null;\n\n        for (var g = 0, h; h = e.elements[g]; g++) {\n          Blockly.blockRendering.Types.isSpacer(h) && (d = h), !(d && (Blockly.blockRendering.Types.isField(h) || Blockly.blockRendering.Types.isInput(h)) && f < b) || Blockly.blockRendering.Types.isField(h) && (h.field instanceof Blockly.FieldLabel || h.field instanceof Blockly.FieldImage) || (d.width += b - f), f += h.width;\n        }\n      }\n    }\n  };\n\n  Blockly.zelos.RenderInfo.prototype.finalizeOutputConnection_ = function () {\n    if (this.outputConnection && this.outputConnection.isDynamicShape) {\n      for (var a = 0, b = 0, c; c = this.rows[b]; b++) {\n        c.yPos = a, a += c.height;\n      }\n\n      this.height = a;\n      b = this.bottomRow.hasNextConnection ? this.height - this.bottomRow.descenderHeight : this.height;\n      a = this.outputConnection.shape.height(b);\n      b = this.outputConnection.shape.width(b);\n      this.outputConnection.height = a;\n      this.outputConnection.width = b;\n      this.outputConnection.startX = b;\n      this.outputConnection.connectionOffsetY = this.outputConnection.shape.connectionOffsetY(a);\n      this.outputConnection.connectionOffsetX = this.outputConnection.shape.connectionOffsetX(b);\n      c = 0;\n      this.hasStatementInput || this.bottomRow.hasNextConnection || (c = b, this.rightSide.height = a, this.rightSide.width = c, this.rightSide.centerline = a / 2, this.rightSide.xPos = this.width + c);\n      this.startX = b;\n      this.width += b + c;\n      this.widthWithChildren += b + c;\n    }\n  };\n\n  Blockly.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_ = function () {\n    if (this.outputConnection && !this.hasStatementInput && !this.bottomRow.hasNextConnection) {\n      for (var a = 0, b = 0, c; c = this.rows[b]; b++) {\n        if (Blockly.blockRendering.Types.isInputRow(c)) {\n          a = c.elements[c.elements.length - 2];\n          var d = this.getNegativeSpacing_(c.elements[1]),\n              e = this.getNegativeSpacing_(a);\n          a = d + e;\n          var f = this.constants_.MIN_BLOCK_WIDTH + 2 * this.outputConnection.width;\n          this.width - a < f && (a = this.width - f, d = a / 2, e = a / 2);\n          c.elements.unshift(new Blockly.blockRendering.InRowSpacer(this.constants_, -d));\n          c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_, -e));\n        }\n      }\n\n      if (a) for (this.width -= a, this.widthWithChildren -= a, this.rightSide.xPos -= a, b = 0; c = this.rows[b]; b++) {\n        Blockly.blockRendering.Types.isTopOrBottomRow(c) && (c.elements[1].width -= a, c.elements[1].widthWithConnectedBlocks -= a), c.width -= a, c.widthWithConnectedBlocks -= a;\n      }\n    }\n  };\n\n  Blockly.zelos.RenderInfo.prototype.getNegativeSpacing_ = function (a) {\n    if (!a) return 0;\n    var b = this.outputConnection.width,\n        c = this.outputConnection.shape.type,\n        d = this.constants_;\n    if (this.isMultiRow && 1 < this.inputRows.length) switch (c) {\n      case d.SHAPES.ROUND:\n        return c = this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH, c = this.height / 2 > c ? c : this.height / 2, b - c * (1 - Math.sin(Math.acos((c - this.constants_.SMALL_PADDING) / c)));\n\n      default:\n        return 0;\n    }\n\n    if (Blockly.blockRendering.Types.isInlineInput(a)) {\n      var e = a.connectedBlock;\n      a = e ? e.pathObject.outputShapeType : a.shape.type;\n      return e && e.outputConnection && (e.statementInputCount || e.nextConnection) || c == d.SHAPES.HEXAGONAL && c != a ? 0 : b - this.constants_.SHAPE_IN_SHAPE_PADDING[c][a];\n    }\n\n    return Blockly.blockRendering.Types.isField(a) ? c == d.SHAPES.ROUND && a.field instanceof Blockly.FieldTextInput ? b - 2.75 * d.GRID_UNIT : b - this.constants_.SHAPE_IN_SHAPE_PADDING[c][0] : Blockly.blockRendering.Types.isIcon(a) ? this.constants_.SMALL_PADDING : 0;\n  };\n\n  Blockly.zelos.RenderInfo.prototype.finalizeVerticalAlignment_ = function () {\n    if (!this.outputConnection) for (var a = 2; a < this.rows.length - 1; a += 2) {\n      var b = this.rows[a - 1],\n          c = this.rows[a],\n          d = this.rows[a + 1],\n          e = 2 == a,\n          f = a + 2 >= this.rows.length - 1 ? !!this.bottomRow.hasNextConnection : !!d.precedesStatement;\n\n      if (e ? this.topRow.hasPreviousConnection : b.followsStatement) {\n        var g = 3 == c.elements.length && (c.elements[1].field instanceof Blockly.FieldLabel || c.elements[1].field instanceof Blockly.FieldImage);\n        if (!e && g) b.height -= this.constants_.SMALL_PADDING, d.height -= this.constants_.SMALL_PADDING, c.height -= this.constants_.MEDIUM_PADDING;else if (!e && !f) b.height += this.constants_.SMALL_PADDING;else if (f) {\n          e = !1;\n\n          for (f = 0; g = c.elements[f]; f++) {\n            if (Blockly.blockRendering.Types.isInlineInput(g) && g.connectedBlock && !g.connectedBlock.isShadow() && 40 <= g.connectedBlock.getHeightWidth().height) {\n              e = !0;\n              break;\n            }\n          }\n\n          e && (b.height -= this.constants_.SMALL_PADDING, d.height -= this.constants_.SMALL_PADDING);\n        }\n      }\n    }\n  };\n\n  Blockly.zelos.RenderInfo.prototype.finalize_ = function () {\n    this.finalizeOutputConnection_();\n    this.finalizeHorizontalAlignment_();\n    this.finalizeVerticalAlignment_();\n    Blockly.zelos.RenderInfo.superClass_.finalize_.call(this);\n    this.rightSide && (this.widthWithChildren += this.rightSide.width);\n  };\n\n  Blockly.zelos.Drawer = function (a, b) {\n    Blockly.zelos.Drawer.superClass_.constructor.call(this, a, b);\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.Drawer, Blockly.blockRendering.Drawer);\n\n  Blockly.zelos.Drawer.prototype.draw = function () {\n    var a = this.block_.pathObject;\n    a.beginDrawing();\n    this.hideHiddenIcons_();\n    this.drawOutline_();\n    this.drawInternals_();\n    a.setPath(this.outlinePath_ + \"\\n\" + this.inlinePath_);\n    this.info_.RTL && a.flipRTL();\n    Blockly.blockRendering.useDebugger && this.block_.renderingDebugger.drawDebug(this.block_, this.info_);\n    this.recordSizeOnBlock_();\n    this.info_.outputConnection && (a.outputShapeType = this.info_.outputConnection.shape.type);\n    a.endDrawing();\n  };\n\n  Blockly.zelos.Drawer.prototype.drawOutline_ = function () {\n    this.info_.outputConnection && this.info_.outputConnection.isDynamicShape && !this.info_.hasStatementInput && !this.info_.bottomRow.hasNextConnection ? (this.drawFlatTop_(), this.drawRightDynamicConnection_(), this.drawFlatBottom_(), this.drawLeftDynamicConnection_()) : Blockly.zelos.Drawer.superClass_.drawOutline_.call(this);\n  };\n\n  Blockly.zelos.Drawer.prototype.drawLeft_ = function () {\n    this.info_.outputConnection && this.info_.outputConnection.isDynamicShape ? this.drawLeftDynamicConnection_() : Blockly.zelos.Drawer.superClass_.drawLeft_.call(this);\n  };\n\n  Blockly.zelos.Drawer.prototype.drawRightSideRow_ = function (a) {\n    if (!(0 >= a.height)) if (a.precedesStatement || a.followsStatement) {\n      var b = this.constants_.INSIDE_CORNERS.rightHeight;\n      b = a.height - (a.precedesStatement ? b : 0);\n      this.outlinePath_ += (a.followsStatement ? this.constants_.INSIDE_CORNERS.pathBottomRight : \"\") + (0 < b ? Blockly.utils.svgPaths.lineOnAxis(\"V\", a.yPos + b) : \"\") + (a.precedesStatement ? this.constants_.INSIDE_CORNERS.pathTopRight : \"\");\n    } else this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a.yPos + a.height);\n  };\n\n  Blockly.zelos.Drawer.prototype.drawRightDynamicConnection_ = function () {\n    this.outlinePath_ += this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height);\n  };\n\n  Blockly.zelos.Drawer.prototype.drawLeftDynamicConnection_ = function () {\n    this.positionOutputConnection_();\n    this.outlinePath_ += this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height);\n    this.outlinePath_ += \"z\";\n  };\n\n  Blockly.zelos.Drawer.prototype.drawFlatTop_ = function () {\n    var a = this.info_.topRow;\n    this.positionPreviousConnection_();\n    this.outlinePath_ += Blockly.utils.svgPaths.moveBy(a.xPos, this.info_.startY);\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"h\", a.width);\n  };\n\n  Blockly.zelos.Drawer.prototype.drawFlatBottom_ = function () {\n    var a = this.info_.bottomRow;\n    this.positionNextConnection_();\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"V\", a.baseline);\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"h\", -a.width);\n  };\n\n  Blockly.zelos.Drawer.prototype.drawInlineInput_ = function (a) {\n    this.positionInlineInputConnection_(a);\n    var b = a.input.name;\n\n    if (!a.connectedBlock && !this.info_.isInsertionMarker) {\n      var c = a.width - 2 * a.connectionWidth;\n      a = Blockly.utils.svgPaths.moveTo(a.xPos + a.connectionWidth, a.centerline - a.height / 2) + Blockly.utils.svgPaths.lineOnAxis(\"h\", c) + a.shape.pathRightDown(a.height) + Blockly.utils.svgPaths.lineOnAxis(\"h\", -c) + a.shape.pathUp(a.height) + \"z\";\n      this.block_.pathObject.setOutlinePath(b, a);\n    }\n  };\n\n  Blockly.zelos.Drawer.prototype.drawStatementInput_ = function (a) {\n    var b = a.getLastInput(),\n        c = b.xPos + b.notchOffset + b.shape.width,\n        d = b.shape.pathRight + Blockly.utils.svgPaths.lineOnAxis(\"h\", -(b.notchOffset - this.constants_.INSIDE_CORNERS.width)) + this.constants_.INSIDE_CORNERS.pathTop,\n        e = a.height - 2 * this.constants_.INSIDE_CORNERS.height;\n    b = this.constants_.INSIDE_CORNERS.pathBottom + Blockly.utils.svgPaths.lineOnAxis(\"h\", b.notchOffset - this.constants_.INSIDE_CORNERS.width) + (b.connectedBottomNextConnection ? \"\" : b.shape.pathLeft);\n    this.outlinePath_ += Blockly.utils.svgPaths.lineOnAxis(\"H\", c) + d + Blockly.utils.svgPaths.lineOnAxis(\"v\", e) + b + Blockly.utils.svgPaths.lineOnAxis(\"H\", a.xPos + a.width);\n    this.positionStatementInputConnection_(a);\n  };\n\n  Blockly.zelos.MarkerSvg = function (a, b, c) {\n    Blockly.zelos.MarkerSvg.superClass_.constructor.call(this, a, b, c);\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.MarkerSvg, Blockly.blockRendering.MarkerSvg);\n\n  Blockly.zelos.MarkerSvg.prototype.showWithInputOutput_ = function (a) {\n    var b = a.getSourceBlock();\n    a = a.getLocation().getOffsetInBlock();\n    this.positionCircle_(a.x, a.y);\n    this.setParent_(b);\n    this.showCurrent_();\n  };\n\n  Blockly.zelos.MarkerSvg.prototype.showWithOutput_ = function (a) {\n    this.showWithInputOutput_(a);\n  };\n\n  Blockly.zelos.MarkerSvg.prototype.showWithInput_ = function (a) {\n    this.showWithInputOutput_(a);\n  };\n\n  Blockly.zelos.MarkerSvg.prototype.showWithBlock_ = function (a) {\n    a = a.getLocation();\n    var b = a.getHeightWidth();\n    this.positionRect_(0, 0, b.width, b.height);\n    this.setParent_(a);\n    this.showCurrent_();\n  };\n\n  Blockly.zelos.MarkerSvg.prototype.positionCircle_ = function (a, b) {\n    this.markerCircle_.setAttribute(\"cx\", a);\n    this.markerCircle_.setAttribute(\"cy\", b);\n    this.currentMarkerSvg = this.markerCircle_;\n  };\n\n  Blockly.zelos.MarkerSvg.prototype.hide = function () {\n    Blockly.zelos.MarkerSvg.superClass_.hide.call(this);\n    this.markerCircle_.style.display = \"none\";\n  };\n\n  Blockly.zelos.MarkerSvg.prototype.createDomInternal_ = function () {\n    Blockly.zelos.MarkerSvg.superClass_.createDomInternal_.call(this);\n    this.markerCircle_ = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.CIRCLE, {\n      r: this.constants_.CURSOR_RADIUS,\n      style: \"display: none\",\n      \"stroke-width\": this.constants_.CURSOR_STROKE_WIDTH\n    }, this.markerSvg_);\n\n    if (this.isCursor()) {\n      var a = this.getBlinkProperties_();\n      Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.ANIMATE, a, this.markerCircle_);\n    }\n\n    return this.markerSvg_;\n  };\n\n  Blockly.zelos.MarkerSvg.prototype.applyColour_ = function (a) {\n    Blockly.zelos.MarkerSvg.superClass_.applyColour_.call(this, a);\n    this.markerCircle_.setAttribute(\"fill\", this.colour_);\n    this.markerCircle_.setAttribute(\"stroke\", this.colour_);\n    this.isCursor() && this.markerCircle_.firstChild.setAttribute(\"values\", this.colour_ + \";transparent;transparent;\");\n  };\n\n  Blockly.zelos.PathObject = function (a, b, c) {\n    Blockly.zelos.PathObject.superClass_.constructor.call(this, a, b, c);\n    this.constants = c;\n    this.svgPathSelected_ = null;\n    this.outlines_ = {};\n    this.outputShapeType = this.remainingOutlines_ = null;\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.PathObject, Blockly.blockRendering.PathObject);\n\n  Blockly.zelos.PathObject.prototype.setPath = function (a) {\n    Blockly.zelos.PathObject.superClass_.setPath.call(this, a);\n    this.svgPathSelected_ && this.svgPathSelected_.setAttribute(\"d\", a);\n  };\n\n  Blockly.zelos.PathObject.prototype.applyColour = function (a) {\n    Blockly.zelos.PathObject.superClass_.applyColour.call(this, a);\n    a.isShadow() && a.getParent() && this.svgPath.setAttribute(\"stroke\", a.getParent().style.colourTertiary);\n    a = 0;\n\n    for (var b = Object.keys(this.outlines_), c; c = b[a]; a++) {\n      this.outlines_[c].setAttribute(\"fill\", this.style.colourTertiary);\n    }\n  };\n\n  Blockly.zelos.PathObject.prototype.flipRTL = function () {\n    Blockly.zelos.PathObject.superClass_.flipRTL.call(this);\n\n    for (var a = 0, b = Object.keys(this.outlines_), c; c = b[a]; a++) {\n      this.outlines_[c].setAttribute(\"transform\", \"scale(-1 1)\");\n    }\n  };\n\n  Blockly.zelos.PathObject.prototype.updateSelected = function (a) {\n    this.setClass_(\"blocklySelected\", a);\n    a ? this.svgPathSelected_ || (this.svgPathSelected_ = this.svgPath.cloneNode(!0), this.svgPathSelected_.setAttribute(\"fill\", \"none\"), this.svgPathSelected_.setAttribute(\"filter\", \"url(#\" + this.constants.selectedGlowFilterId + \")\"), this.svgRoot.appendChild(this.svgPathSelected_)) : this.svgPathSelected_ && (this.svgRoot.removeChild(this.svgPathSelected_), this.svgPathSelected_ = null);\n  };\n\n  Blockly.zelos.PathObject.prototype.updateReplacementFade = function (a) {\n    this.setClass_(\"blocklyReplaceable\", a);\n    a ? this.svgPath.setAttribute(\"filter\", \"url(#\" + this.constants.replacementGlowFilterId + \")\") : this.svgPath.removeAttribute(\"filter\");\n  };\n\n  Blockly.zelos.PathObject.prototype.updateShapeForInputHighlight = function (a, b) {\n    a = a.getParentInput().name;\n    (a = this.getOutlinePath_(a)) && (b ? a.setAttribute(\"filter\", \"url(#\" + this.constants.replacementGlowFilterId + \")\") : a.removeAttribute(\"filter\"));\n  };\n\n  Blockly.zelos.PathObject.prototype.beginDrawing = function () {\n    this.remainingOutlines_ = {};\n\n    for (var a = 0, b = Object.keys(this.outlines_), c; c = b[a]; a++) {\n      this.remainingOutlines_[c] = 1;\n    }\n  };\n\n  Blockly.zelos.PathObject.prototype.endDrawing = function () {\n    if (this.remainingOutlines_) for (var a = 0, b = Object.keys(this.remainingOutlines_), c; c = b[a]; a++) {\n      this.removeOutlinePath_(c);\n    }\n    this.remainingOutlines_ = null;\n  };\n\n  Blockly.zelos.PathObject.prototype.setOutlinePath = function (a, b) {\n    a = this.getOutlinePath_(a);\n    a.setAttribute(\"d\", b);\n    a.setAttribute(\"fill\", this.style.colourTertiary);\n  };\n\n  Blockly.zelos.PathObject.prototype.getOutlinePath_ = function (a) {\n    this.outlines_[a] || (this.outlines_[a] = Blockly.utils.dom.createSvgElement(Blockly.utils.Svg.PATH, {\n      \"class\": \"blocklyOutlinePath\",\n      d: \"\"\n    }, this.svgRoot));\n    this.remainingOutlines_ && delete this.remainingOutlines_[a];\n    return this.outlines_[a];\n  };\n\n  Blockly.zelos.PathObject.prototype.removeOutlinePath_ = function (a) {\n    this.outlines_[a].parentNode.removeChild(this.outlines_[a]);\n    delete this.outlines_[a];\n  };\n\n  Blockly.zelos.Renderer = function (a) {\n    Blockly.zelos.Renderer.superClass_.constructor.call(this, a);\n  };\n\n  Blockly.utils.object.inherits(Blockly.zelos.Renderer, Blockly.blockRendering.Renderer);\n\n  Blockly.zelos.Renderer.prototype.makeConstants_ = function () {\n    return new Blockly.zelos.ConstantProvider();\n  };\n\n  Blockly.zelos.Renderer.prototype.makeRenderInfo_ = function (a) {\n    return new Blockly.zelos.RenderInfo(this, a);\n  };\n\n  Blockly.zelos.Renderer.prototype.makeDrawer_ = function (a, b) {\n    return new Blockly.zelos.Drawer(a, b);\n  };\n\n  Blockly.zelos.Renderer.prototype.makeMarkerDrawer = function (a, b) {\n    return new Blockly.zelos.MarkerSvg(a, this.getConstants(), b);\n  };\n\n  Blockly.zelos.Renderer.prototype.makePathObject = function (a, b) {\n    return new Blockly.zelos.PathObject(a, b, this.getConstants());\n  };\n\n  Blockly.zelos.Renderer.prototype.shouldHighlightConnection = function (a) {\n    return a.type != Blockly.connectionTypes.INPUT_VALUE && a.type !== Blockly.connectionTypes.OUTPUT_VALUE;\n  };\n\n  Blockly.zelos.Renderer.prototype.getConnectionPreviewMethod = function (a, b, c) {\n    return b.type == Blockly.connectionTypes.OUTPUT_VALUE ? a.isConnected() ? Blockly.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE : Blockly.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE : Blockly.zelos.Renderer.superClass_.getConnectionPreviewMethod(a, b, c);\n  };\n\n  Blockly.blockRendering.register(\"zelos\", Blockly.zelos.Renderer);\n  Blockly.Themes.Dark = Blockly.Theme.defineTheme(\"dark\", {\n    base: Blockly.Themes.Classic,\n    componentStyles: {\n      workspaceBackgroundColour: \"#1e1e1e\",\n      toolboxBackgroundColour: \"blackBackground\",\n      toolboxForegroundColour: \"#fff\",\n      flyoutBackgroundColour: \"#252526\",\n      flyoutForegroundColour: \"#ccc\",\n      flyoutOpacity: 1,\n      scrollbarColour: \"#797979\",\n      insertionMarkerColour: \"#fff\",\n      insertionMarkerOpacity: .3,\n      scrollbarOpacity: .4,\n      cursorColour: \"#d0d0d0\",\n      blackBackground: \"#333\"\n    }\n  });\n  Blockly.Themes.Deuteranopia = {};\n  Blockly.Themes.Deuteranopia.defaultBlockStyles = {\n    colour_blocks: {\n      colourPrimary: \"#f2a72c\",\n      colourSecondary: \"#f1c172\",\n      colourTertiary: \"#da921c\"\n    },\n    list_blocks: {\n      colourPrimary: \"#7d65ab\",\n      colourSecondary: \"#a88be0\",\n      colourTertiary: \"#66518e\"\n    },\n    logic_blocks: {\n      colourPrimary: \"#9fd2f1\",\n      colourSecondary: \"#c0e0f4\",\n      colourTertiary: \"#74bae5\"\n    },\n    loop_blocks: {\n      colourPrimary: \"#795a07\",\n      colourSecondary: \"#ac8726\",\n      colourTertiary: \"#c4a03f\"\n    },\n    math_blocks: {\n      colourPrimary: \"#e6da39\",\n      colourSecondary: \"#f3ec8e\",\n      colourTertiary: \"#f2eeb7\"\n    },\n    procedure_blocks: {\n      colourPrimary: \"#590721\",\n      colourSecondary: \"#8c475d\",\n      colourTertiary: \"#885464\"\n    },\n    text_blocks: {\n      colourPrimary: \"#058863\",\n      colourSecondary: \"#5ecfaf\",\n      colourTertiary: \"#04684c\"\n    },\n    variable_blocks: {\n      colourPrimary: \"#47025a\",\n      colourSecondary: \"#820fa1\",\n      colourTertiary: \"#8e579d\"\n    },\n    variable_dynamic_blocks: {\n      colourPrimary: \"#47025a\",\n      colourSecondary: \"#820fa1\",\n      colourTertiary: \"#8e579d\"\n    }\n  };\n  Blockly.Themes.Deuteranopia.categoryStyles = {\n    colour_category: {\n      colour: \"#f2a72c\"\n    },\n    list_category: {\n      colour: \"#7d65ab\"\n    },\n    logic_category: {\n      colour: \"#9fd2f1\"\n    },\n    loop_category: {\n      colour: \"#795a07\"\n    },\n    math_category: {\n      colour: \"#e6da39\"\n    },\n    procedure_category: {\n      colour: \"#590721\"\n    },\n    text_category: {\n      colour: \"#058863\"\n    },\n    variable_category: {\n      colour: \"#47025a\"\n    },\n    variable_dynamic_category: {\n      colour: \"#47025a\"\n    }\n  };\n  Blockly.Themes.Deuteranopia = new Blockly.Theme(\"deuteranopia\", Blockly.Themes.Deuteranopia.defaultBlockStyles, Blockly.Themes.Deuteranopia.categoryStyles);\n  Blockly.Themes.HighContrast = {};\n  Blockly.Themes.HighContrast.defaultBlockStyles = {\n    colour_blocks: {\n      colourPrimary: \"#a52714\",\n      colourSecondary: \"#FB9B8C\",\n      colourTertiary: \"#FBE1DD\"\n    },\n    list_blocks: {\n      colourPrimary: \"#4a148c\",\n      colourSecondary: \"#AD7BE9\",\n      colourTertiary: \"#CDB6E9\"\n    },\n    logic_blocks: {\n      colourPrimary: \"#01579b\",\n      colourSecondary: \"#64C7FF\",\n      colourTertiary: \"#C5EAFF\"\n    },\n    loop_blocks: {\n      colourPrimary: \"#33691e\",\n      colourSecondary: \"#9AFF78\",\n      colourTertiary: \"#E1FFD7\"\n    },\n    math_blocks: {\n      colourPrimary: \"#1a237e\",\n      colourSecondary: \"#8A9EFF\",\n      colourTertiary: \"#DCE2FF\"\n    },\n    procedure_blocks: {\n      colourPrimary: \"#006064\",\n      colourSecondary: \"#77E6EE\",\n      colourTertiary: \"#CFECEE\"\n    },\n    text_blocks: {\n      colourPrimary: \"#004d40\",\n      colourSecondary: \"#5ae27c\",\n      colourTertiary: \"#D2FFDD\"\n    },\n    variable_blocks: {\n      colourPrimary: \"#880e4f\",\n      colourSecondary: \"#FF73BE\",\n      colourTertiary: \"#FFD4EB\"\n    },\n    variable_dynamic_blocks: {\n      colourPrimary: \"#880e4f\",\n      colourSecondary: \"#FF73BE\",\n      colourTertiary: \"#FFD4EB\"\n    },\n    hat_blocks: {\n      colourPrimary: \"#880e4f\",\n      colourSecondary: \"#FF73BE\",\n      colourTertiary: \"#FFD4EB\",\n      hat: \"cap\"\n    }\n  };\n  Blockly.Themes.HighContrast.categoryStyles = {\n    colour_category: {\n      colour: \"#a52714\"\n    },\n    list_category: {\n      colour: \"#4a148c\"\n    },\n    logic_category: {\n      colour: \"#01579b\"\n    },\n    loop_category: {\n      colour: \"#33691e\"\n    },\n    math_category: {\n      colour: \"#1a237e\"\n    },\n    procedure_category: {\n      colour: \"#006064\"\n    },\n    text_category: {\n      colour: \"#004d40\"\n    },\n    variable_category: {\n      colour: \"#880e4f\"\n    },\n    variable_dynamic_category: {\n      colour: \"#880e4f\"\n    }\n  };\n  Blockly.Themes.HighContrast = new Blockly.Theme(\"highcontrast\", Blockly.Themes.HighContrast.defaultBlockStyles, Blockly.Themes.HighContrast.categoryStyles);\n  Blockly.Themes.HighContrast.setComponentStyle(\"selectedGlowColour\", \"#000000\");\n  Blockly.Themes.HighContrast.setComponentStyle(\"selectedGlowSize\", 1);\n  Blockly.Themes.HighContrast.setComponentStyle(\"replacementGlowColour\", \"#000000\");\n  Blockly.Themes.HighContrast.setFontStyle({\n    family: null,\n    weight: null,\n    size: 16\n  });\n  Blockly.Themes.Tritanopia = {};\n  Blockly.Themes.Tritanopia.defaultBlockStyles = {\n    colour_blocks: {\n      colourPrimary: \"#05427f\",\n      colourSecondary: \"#2974c0\",\n      colourTertiary: \"#2d74bb\"\n    },\n    list_blocks: {\n      colourPrimary: \"#b69ce8\",\n      colourSecondary: \"#ccbaef\",\n      colourTertiary: \"#9176c5\"\n    },\n    logic_blocks: {\n      colourPrimary: \"#9fd2f1\",\n      colourSecondary: \"#c0e0f4\",\n      colourTertiary: \"#74bae5\"\n    },\n    loop_blocks: {\n      colourPrimary: \"#aa1846\",\n      colourSecondary: \"#d36185\",\n      colourTertiary: \"#7c1636\"\n    },\n    math_blocks: {\n      colourPrimary: \"#e6da39\",\n      colourSecondary: \"#f3ec8e\",\n      colourTertiary: \"#f2eeb7\"\n    },\n    procedure_blocks: {\n      colourPrimary: \"#590721\",\n      colourSecondary: \"#8c475d\",\n      colourTertiary: \"#885464\"\n    },\n    text_blocks: {\n      colourPrimary: \"#058863\",\n      colourSecondary: \"#5ecfaf\",\n      colourTertiary: \"#04684c\"\n    },\n    variable_blocks: {\n      colourPrimary: \"#4b2d84\",\n      colourSecondary: \"#816ea7\",\n      colourTertiary: \"#83759e\"\n    },\n    variable_dynamic_blocks: {\n      colourPrimary: \"#4b2d84\",\n      colourSecondary: \"#816ea7\",\n      colourTertiary: \"#83759e\"\n    }\n  };\n  Blockly.Themes.Tritanopia.categoryStyles = {\n    colour_category: {\n      colour: \"#05427f\"\n    },\n    list_category: {\n      colour: \"#b69ce8\"\n    },\n    logic_category: {\n      colour: \"#9fd2f1\"\n    },\n    loop_category: {\n      colour: \"#aa1846\"\n    },\n    math_category: {\n      colour: \"#e6da39\"\n    },\n    procedure_category: {\n      colour: \"#590721\"\n    },\n    text_category: {\n      colour: \"#058863\"\n    },\n    variable_category: {\n      colour: \"#4b2d84\"\n    },\n    variable_dynamic_category: {\n      colour: \"#4b2d84\"\n    }\n  };\n  Blockly.Themes.Tritanopia = new Blockly.Theme(\"tritanopia\", Blockly.Themes.Tritanopia.defaultBlockStyles, Blockly.Themes.Tritanopia.categoryStyles);\n  Blockly.requires = {};\n  return Blockly;\n});"],"sourceRoot":""}