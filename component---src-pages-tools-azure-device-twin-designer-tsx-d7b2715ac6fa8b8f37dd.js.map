{"version":3,"sources":["webpack:///./node_modules/@material-ui/icons/Add.js","webpack:///./src/components/ui/Snippet.tsx","webpack:///./src/components/ServiceSpecificationSelect.tsx","webpack:///./node_modules/@material-ui/icons/Launch.js","webpack:///./node_modules/@material-ui/icons/Delete.js","webpack:///./src/components/hooks/useWindowEvent.ts","webpack:///./src/components/makecode/useMakeCodeRenderer.ts","webpack:///./src/components/makecode/MakeCodeSimulator.tsx","webpack:///./src/components/makecode/MakeCodeSnippet.tsx","webpack:///./src/components/CodeBlock.tsx","webpack:///./src/pages/tools/azure-device-twin-designer.tsx","webpack:///./src/components/AddServiceIconButton.tsx","webpack:///./src/components/ui/PaperBox.tsx","webpack:///./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js","webpack:///./node_modules/@material-ui/icons/GetApp.js","webpack:///./node_modules/@material-ui/core/esm/TextField/TextField.js","webpack:///./node_modules/@material-ui/core/esm/Grid/Grid.js","webpack:///./node_modules/@material-ui/core/esm/ListItem/ListItem.js","webpack:///./jacdac-ts/src/azure-iot/dtdl.ts"],"names":["Snippet","props","value","mode","download","url","caption","v","className","useStyles","makeStyles","createStyles","root","minWidth","ServiceSpecificationSelect","label","serviceClass","setServiceClass","variant","fullWidth","error","useState","Math","random","labelId","classes","specs","serviceSpecifications","filter","spec","test","shortId","handleChange","event","parseInt","target","map","classIdentifier","name","useWindowEvent","type","listener","passive","deps","useEffect","window","undefined","addEventListener","removeEventListener","concat","parseMakeCodeSnippet","source","ghost","code","meta","dependencies","front","parts","replace","split","length","m","push","snippet","mkcds","makeCodeServices","info","src","indexOf","client","qName","default","repo","forEach","dep","unique","useMakeCodeRenderer","useContext","MakeCodeSnippetContext","rendererUrl","lang","iframeId","pendingRequests","useMemo","sendRequest","req","iframe","document","getElementById","dataset","ready","contentWindow","postMessage","render","console","log","f","createElement","id","style","position","left","bottom","width","height","body","appendChild","options","snippetMode","Promise","resolve","reject","handleMessage","ev","msg","data","Object","keys","k","r","theme","root2","paddingTop","top","border","MakeCodeSimulator","simUrl","JacdacContext","bus","frameRef","useRef","encodeURIComponent","join","origin","URL","subscribe","PACKET_SEND","PACKET_PROCESS","pkt","packetSent","channel","broadcast","toBuffer","sender","current","MakeCodeSnippet","renderedSource","JSON","parse","rendered","tabs","editor","setEditor","tab","setTab","handleTabChange","newValue","withPrefix","TraceSnippet","lazy","HighlightedCode","children","downloadName","downloadText","DarkModeContext","darkMode","language","DARK_THEME","LIGHT_THEME","valueUri","defaultProps","tokens","getLineProps","getTokenProps","float","line","index","lineProps","key","token","CodeBlock","trim","ComponentRow","component","onUpdate","twin","service","validateTwinComponent","nameError","serviceError","nameId","useId","handleComponentNameChange","escapeName","handleSetService","serviceSpecificationFromClassIdentifier","handleComponentDelete","components","splice","count","c","AzureDeviceTwinDesigner","useLocalStorage","displayName","setTwin","dtdl","contents","serviceSpecificationToComponent","DTDL_CONTEXT","dtdlSource","stringify","update","clone","handleDisplayNameChange","handleAddService","names","uniqueName","i","AddServiceIconButton","onAdd","serviceFilter","React","servicesAnchorEl","setServicesAnchorEl","servicesMenuId","services","srv","isInfrastructure","handleServiceAddClick","currentTarget","handleServiceAddClose","Boolean","toString","PaperBox","padding","elevation","bgcolor","others","useTheme","spacing","DTDL_REFERENCE_URL","DTDL_NAME","toDTMI","segments","version","seg","toLowerCase","toUnit","fields","field","unit","units","semantic","rad","m2","s","ms","us","K","C","F","g","mA","uA","A","mV","uV","V","enumDTDI","en","enumSchema","valueSchema","enumValues","members","enumValue","fieldType","isFloat","isSimpleType","shift","enums","objectSchema","schemas","arraySchema","schema","elementSchema","toSchema","supportsArray","startRepeats","repeatIndex","findIndex","nonRepeat","slice","repeats","packetToDTDL","types","const","rw","ro","kind","description","writable","escapeDisplayName","serviceSpecificationToDTDL","serviceSpecificationDTMI","notes","packets","derived","internal","e","extends","serviceSpecificationFromName","hasEvents","find","hasEnums","deviceSpecificationDTMI","dev","DTMIToRoute","dtmi","route","deviceSpecificationToDTDL","uniqueServices","uniqueMap","shortName","inlineServices"],"mappings":"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AK;AACjB,UAAU,4DAAW;AACrB,YAAY,8DAAa;AACzB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,WAAW;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,gDAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0GAAwB;;AAEtC,MAAM,KAAqC,EAAE,EAI1C;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qCAAqC,mDAAmB,CAAC,8CAAc;AACvE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC,mDAAmB,iBAAiB,0FAAQ;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,mDAAmB,CAAC,4DAAW,EAAE,0FAAQ;AAC/D,eAAe,4DAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,gCAAgC,mDAAmB,CAAC,2DAAU,EAAE,0FAAQ;AAC3E;AACA;AACA,GAAG,kDAAkD,mDAAmB,CAAC,wDAAM,EAAE,0FAAQ;AACzF;AACA;AACA;AACA;AACA;AACA,GAAG,qEAAqE,mDAAmB,CAAC,+DAAc,EAAE,0FAAQ;AACpH;AACA,GAAG;AACH,CAAC;AACD,MAAqC,GAAG,SAAM;AAC/B,oIAAU;AACzB;AACA,CAAC,YAAY,E;;;;;;;;ACnLb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0F;AAChC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE+B;AACP;AACsB;AACe;AAC7D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL,oEAAoE;AACpE;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,EAAE;;AAEL;AACA,IAAI,0FAAQ;AACZ,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;;AAGO;AACP,SAAS,0FAAQ;AACjB;AACA,YAAY;;AAEZ,yDAAyD,KAAK;AAC9D;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,oDAAoD,KAAK;AACzD;AACA;AACA;;AAEA,KAAK;;AAEL,4DAA4D,KAAK;AACjE;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG,IAAI;AACP;AACA,wBAAwB,gDAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0GAAwB;;AAEtC,kBAAkB,4DAAI;AACtB,sBAAsB,mDAAmB,YAAY,0FAAQ;AAC7D;AACA;AACA,GAAG;AACH,CAAC;AACD,MAAqC,GAAG,SAAM;AAC9C,iBAAiB,0EAAU;AAC3B;AACA,CAAC;;AAED,IAAI,KAAqC,EAAE,oBAe1C;;AAEc,mEAAU,E;;;;;;;;ACzRzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACgC;AAC3D;AACP;AAC4B;AACN;AACP;AACU;AACJ;AACC;AACR;AAC/B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL,0FAA0F,KAAK;AAC/F,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL,2EAA2E,KAAK;AAChF,gBAAgB;;AAEhB,oEAAoE,KAAK;AACzE;AACA;AACA;AACA,KAAK;;AAEL,2EAA2E,MAAM;AACjF;AACA;AACA;AACA,KAAK;;AAEL,mEAAmE,KAAK;AACxE;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,8DAA8D,KAAK;AACnE;AACA;AACA;AACA,wDAAwD,+CAAe,GAAG,qDAAqB;AAC/F;AACA;AACA;;AAEA,4BAA4B,gDAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;;AAE/D;AACA,uBAAuB,0GAAwB;AAC/C;AACA;AACA;AACA;AACA;AA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","file":"component---src-pages-tools-azure-device-twin-designer-tsx-d7b2715ac6fa8b8f37dd.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","import { IconButton, Typography } from \"@material-ui/core\"\nimport { Link } from \"gatsby-theme-material-ui\"\nimport React, { useContext } from \"react\"\nimport CodeBlock from \"../CodeBlock\"\n\nexport default function Snippet(props: {\n    value: string | (() => string),\n    mode?: string,\n    download?: string;\n    url?: string;\n    caption?: string | JSX.Element | JSX.Element[];\n}) {\n    const { value, mode, download, url, caption } = props\n    const v: string = typeof value === 'function' ? value() : value;\n    const className = mode && `language-${mode === \"sts\" ? \"ts\" : mode}`\n    return <>\n        <CodeBlock className={className} downloadName={download} downloadText={download && v} url={url}>{v}</CodeBlock>\n        {caption && <Typography variant=\"caption\">{caption}</Typography>}\n    </>\n}","import { createStyles, makeStyles, MenuItem, TextField, Theme } from \"@material-ui/core\";\nimport React, { ChangeEvent, useState } from \"react\";\nimport { serviceSpecifications } from \"../../jacdac-ts/src/jdom/spec\"\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        root: {\n            minWidth: \"18rem\",\n        }\n    }),\n);\n\nexport default function ServiceSpecificationSelect(props: {\n    label: string,\n    serviceClass: number;\n    setServiceClass: (serviceClass: number) => void;\n    variant?: \"outlined\" | \"filled\" | \"standard\";\n    fullWidth?: boolean;\n    error?: string;\n}) {\n    const { label, serviceClass, setServiceClass, variant, fullWidth, error } = props;\n    const [labelId] = useState('select-' + Math.random());\n    const classes = useStyles();\n    const specs = serviceSpecifications().filter(spec => !/^_/.test(spec.shortId))\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) =>\n        setServiceClass(parseInt(event.target.value));\n\n    return <TextField\n        id={labelId}\n        className={classes.root}\n        label={label}\n        error={!!error}\n        helperText={error}\n        value={serviceClass}\n        select\n        variant={variant}\n        fullWidth={fullWidth}\n        onChange={handleChange}>\n        <MenuItem key=\"none\" value=\"NaN\">No service selected</MenuItem>\n        {specs.map(spec => <MenuItem\n            key={spec.classIdentifier}\n            value={spec.classIdentifier}>{spec.name}</MenuItem>)}\n    </TextField>\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'Launch');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import { DependencyList, useEffect } from \"react\"\n\nexport default function useWindowEvent<K extends keyof WindowEventMap>(type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    passive = false,\n    deps: DependencyList) {\n    useEffect(() => {\n        if (typeof window === \"undefined\")\n            return undefined; // SSR\n\n        // initiate the event handler\n        window.addEventListener<K>(type, listener, passive)\n\n        // this will clean up the event every time the component is re-rendered\n        return () => {\n            window.removeEventListener<K>(type, listener)\n        }\n    }, [type, listener, passive].concat(deps || []))\n}","import { useMemo, useContext } from \"react\";\nimport { unique } from \"../../../jacdac-ts/src/jdom/utils\";\nimport { makeCodeServices } from \"../../../jacdac-ts/src/jdom/spec\"\nimport useWindowEvent from \"../hooks/useWindowEvent\"\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\n\nexport interface MakeCodeSnippetSource {\n    code: string;\n    ghost?: string;\n    meta: {\n        editor?: string;\n        snippet?: boolean;\n        dependencies: string[];\n    }\n}\n\nexport interface MakeCodeSnippetRendered {\n    uri?: string;\n    width?: number;\n    height?: number;\n    error?: string;\n}\n\n\n\nexport function parseMakeCodeSnippet(source: string): MakeCodeSnippetSource {\n    let ghost: string;\n    let code: string;\n    const meta: {\n        editor?: string;\n        snippet?: boolean;\n        dependencies: string[];\n    } = {\n        dependencies: []\n    }\n\n    if (/^---\\n/.test(source)) {\n        let front: string;\n        const parts = source.replace(/^---\\n/, '').split(/---\\n/gm)\n        switch (parts.length) {\n            case 1: front = ghost = undefined; code = source; break;\n            case 2: [front, code] = parts; break;\n            default: [front, ghost, code] = parts; break;\n        }\n\n        // parse front matter\n        front?.replace(/(.+):\\s*(.+)\\s*\\n/g, (m, name, value) => {\n            switch (name) {\n                case \"dep\": meta.dependencies.push(value); break;\n                case \"snippet\": meta.snippet = !!value; break;\n                default: meta[name] = value;\n            }\n            return \"\";\n        })\n    } else {\n        code = source;\n    }\n\n    // sniff services\n    const mkcds = makeCodeServices()\n    mkcds.filter(info => {\n        const src = (ghost || \"\") + \"\\n\" + (code || \"\");\n        return src.indexOf(info.client.qName) > -1\n            || (info.client.default && src.indexOf(info.client.default) > -1);\n    }).map(info => `${info.client.name.replace(/^pxt-/, '')}=github:${info.client.repo}`)\n        .forEach(dep => meta.dependencies.push(dep));\n\n    // add jacdac by default\n    if (!meta.dependencies.length)\n        meta.dependencies.push(\"jacdac=github:microsoft/pxt-jacdac\");\n\n    // ensure unique deps\n    meta.dependencies = unique(meta.dependencies);\n\n    return {\n        code,\n        ghost,\n        meta\n    }\n}\n\ninterface RenderBlocksRequestMessage {\n    type: \"renderblocks\",\n    id: string;\n    code: string;\n    ghost?: string;\n    options?: {\n        packageId?: string;\n        package?: string;\n        snippetMode?: boolean;\n        dependencies?: string[];\n    }\n}\n\ninterface RenderBlocksResponseMessage {\n    source: \"makecode\",\n    type: \"renderblocks\",\n    id: string;\n    uri?: string;\n    css?: string;\n    svg?: string;\n    width?: number;\n    height?: number;\n    error?: string;\n}\n\ninterface RenderBlocksRequentResponse {\n    req: RenderBlocksRequestMessage,\n    resolve: (resp: RenderBlocksResponseMessage) => void,\n    reject: (e: unknown) => void\n}\n\nexport function useMakeCodeRenderer() {\n    const { target, rendererUrl } = useContext(MakeCodeSnippetContext);\n    const lang = \"\"\n    const iframeId = \"makecoderenderer\" + target;\n    const pendingRequests = useMemo<{\n        [index: string]: RenderBlocksRequentResponse\n    }>(() => ({}), [target, lang]);\n\n    const sendRequest = (req: RenderBlocksRequestMessage) => {\n        const iframe = typeof document !== \"undefined\" && document.getElementById(iframeId) as HTMLIFrameElement;\n        if (iframe?.dataset.ready)\n            iframe?.contentWindow.postMessage(req, rendererUrl);\n    }\n\n    const render = (source: MakeCodeSnippetSource): Promise<MakeCodeSnippetRendered> => {\n        const { code, ghost, meta } = source;\n        const { dependencies, snippet } = meta;\n\n        // spin up iframe on demans\n        if (typeof document !== \"undefined\" && !document.getElementById(iframeId)) {\n            console.log(`mkcd: loading iframe`)\n            const f = document.createElement(\"iframe\");\n            f.id = iframeId;\n            f.style.position = \"absolute\";\n            f.style.left = \"0\";\n            f.style.bottom = \"0\";\n            f.style.width = \"1px\";\n            f.style.height = \"1px\";\n            f.src = `${rendererUrl}?render=1${lang ? `&lang=${lang}` : ''}`;\n            document.body.appendChild(f);\n        }\n\n        const req: RenderBlocksRequestMessage = {\n            type: \"renderblocks\",\n            id: \"r\" + Math.random(),\n            code,\n            ghost,\n            options: {\n                dependencies,\n                snippetMode: snippet\n            }\n        }\n        return new Promise<RenderBlocksResponseMessage>((resolve, reject) => {\n            pendingRequests[req.id] = { req, resolve, reject }\n            sendRequest(req);\n        })\n    }\n\n    // listen for messages\n    const handleMessage = (ev: MessageEvent) => {\n        const msg = ev.data;\n        if (msg.source != \"makecode\") return;\n        switch (msg.type) {\n            case \"renderready\": {\n                console.log(`mkcd: renderer ready, ${Object.keys(pendingRequests).length} pending`)\n                const iframe = typeof document !== \"undefined\" && document.getElementById(iframeId)\n                if (iframe) {\n                    console.log(`flushing messages`)\n                    iframe.dataset.ready = \"1\"\n                    Object.keys(pendingRequests)\n                        .forEach(k => sendRequest(pendingRequests[k].req));\n                }\n                break;\n            }\n            case \"renderblocks\": {\n                const id = msg.id; // this is the id you sent\n                const r = pendingRequests[id];\n                if (!r) return;\n                delete pendingRequests[id];\n                r.resolve(msg as RenderBlocksResponseMessage);\n                break;\n            }\n        }\n    }\n\n    useWindowEvent(\"message\", handleMessage, false, [])\n\n    return {\n        render\n    }\n}\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { PACKET_PROCESS, PACKET_SEND } from \"../../../jacdac-ts/src/jdom/constants\";\nimport { PacketMessage } from \"../../../jacdac-ts/src/jdom/iframebridgeclient\";\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\";\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\";\nimport useWindowEvent from \"../hooks/useWindowEvent\";\nimport PaperBox from \"../ui/PaperBox\";\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\nimport { MakeCodeSnippetSource } from \"./useMakeCodeRenderer\";\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        width: \"100%\",\n    },\n    root2: {\n        position: \"relative\",\n        paddingTop: \"86.75%\"\n    },\n    iframe: {\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n        border: \"none\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nexport default function MakeCodeSimulator(props: { snippet: MakeCodeSnippetSource }) {\n    const { simUrl } = useContext(MakeCodeSnippetContext);\n    const { snippet } = props;\n    const { code, ghost, meta } = snippet;\n    const { dependencies } = meta;\n    const { bus } = useContext<JacdacContextProps>(JacdacContext);\n    const frameRef = useRef<HTMLIFrameElement>();\n    const classes = useStyles();\n\n    const src = `${ghost || \"\"}\\n${code || \"\"}`;\n    const url = `${simUrl}#single=1&fullscren=1&nofooter=1&deps=${encodeURIComponent(dependencies.join(','))}&code=${encodeURIComponent(src)}`\n    const origin = new URL(url).origin;\n\n    useEffect(() => bus.subscribe([PACKET_SEND, PACKET_PROCESS], (pkt: Packet) => {\n        this.packetSent++;\n        const msg: PacketMessage = {\n            type: \"messagepacket\",\n            channel: \"jacdac\",\n            broadcast: true,\n            data: pkt.toBuffer(),\n            sender: pkt.sender\n        }\n        frameRef.current?.contentWindow?.postMessage(msg, origin);\n    }))\n\n    return <PaperBox>\n        <div className={classes.root}>\n            <div className={classes.root2}>\n                <iframe ref={frameRef} className={classes.iframe} src={url} aria-label=\"MakeCode rendering iframe to generate blocks images.\" />\n            </div>\n        </div>\n    </PaperBox>\n}","import React, { useState, useMemo, useContext } from \"react\";\nimport PaperBox from \"../ui/PaperBox\"\nimport { Tab, Tabs } from '@material-ui/core';\nimport CodeBlock from \"../CodeBlock\";\nimport TabPanel from '../ui/TabPanel';\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\nimport { parseMakeCodeSnippet } from \"./useMakeCodeRenderer\";\nimport MakeCodeSimulator from \"./MakeCodeSimulator\";\nimport { withPrefix } from \"gatsby\"\ninterface Rendered {\n    url: string;\n    width: number;\n    height: number;\n}\n\nexport default function MakeCodeSnippet(props: { renderedSource: string }) {\n    const { renderedSource } = props;\n    const { source, rendered } = JSON.parse(renderedSource) as { source: string; rendered: Rendered; }\n    const { height, width, url } = rendered || {};\n    const tabs = [\"blocks\", \"typescript\", \"sim\"]\n    const { editor, setEditor } = useContext(MakeCodeSnippetContext);\n    const [tab, setTab] = useState(tabs.indexOf(editor) || 0);\n    const handleTabChange = (event: React.ChangeEvent<unknown>, newValue: number) => {\n        if (newValue < tabs.length - 1)\n            setEditor(tabs[newValue]);\n        setTab(newValue);\n    };\n    const snippet = useMemo(() => parseMakeCodeSnippet(source), [source]);\n    const { code } = snippet;\n\n    return <PaperBox>\n        <Tabs value={tab} onChange={handleTabChange} aria-label=\"Select MakeCode editor\">\n            <Tab label={\"Blocks\"} />\n            <Tab label={\"JavaScript\"} />\n            <Tab label={\"Simulator\"} />\n        </Tabs>\n        <TabPanel value={tab} index={0}>\n            <img src={withPrefix(url)} alt={source} loading=\"lazy\" />\n        </TabPanel>\n        <TabPanel value={tab} index={1}>\n            <CodeBlock className=\"typescript\">{code}</CodeBlock>\n        </TabPanel>\n        <TabPanel value={tab} index={2}>\n            <MakeCodeSimulator snippet={snippet} />\n        </TabPanel>\n    </PaperBox>\n}\n","import React, { lazy, useContext } from 'react'\nimport Highlight, { defaultProps, Language, PrismTheme } from 'prism-react-renderer'\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LIGHT_THEME from 'prism-react-renderer/themes/github';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport DARK_THEME from 'prism-react-renderer/themes/vsDark';\nimport DarkModeContext from './ui/DarkModeContext';\nimport { IconButton, Link } from 'gatsby-theme-material-ui';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport GetAppIcon from '@material-ui/icons/GetApp';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport Tooltip from './ui/Tooltip';\nimport MakeCodeSnippet from './makecode/MakeCodeSnippet';\nimport Markdown from './ui/Markdown';\nimport { Alert } from '@material-ui/lab';\nimport Suspense from './ui/Suspense';\n\nconst TraceSnippet = lazy(() => import('./TraceSnippet'));\n\nfunction HighlightedCode(props: { children: string, className?: string, downloadName?: string; downloadText?: string; url?: string; }) {\n    const { children, className, downloadName, downloadText, url } = props;\n    const { darkMode } = useContext(DarkModeContext)\n    const language = className?.replace(/language-/, '') || \"\"\n    const theme = (darkMode === \"dark\" ? DARK_THEME : LIGHT_THEME) as PrismTheme;\n    const valueUri = !!downloadText && `data:application/json;charset=UTF-8,${encodeURIComponent(downloadText)}`\n\n    return (\n        <Highlight {...defaultProps}\n            code={children}\n            language={language as Language}\n            theme={theme}\n        >\n            {({ className, style, tokens, getLineProps, getTokenProps }) => (\n                <pre className={className} style={{ ...style }}>\n                    {!!url && <Link style={({ float: \"right\" })} href={url}><Tooltip title={`Open ${url}`}><IconButton><LaunchIcon /></IconButton></Tooltip></Link>}\n                    {!!downloadText && <Link style={({ float: \"right\" })} href={valueUri} download={downloadName || \"download\"}><Tooltip title=\"Download\"><IconButton><GetAppIcon /></IconButton></Tooltip></Link>}\n                    {tokens?.map((line, index) => {\n                        const lineProps = getLineProps({ line, key: index })\n                        return (\n                            <div key={index} {...lineProps}>\n                                {line.map((token, key) => (\n                                    <span key={key}{...getTokenProps({ token, key })} />\n                                ))}\n                            </div>\n                        )\n                    }\n                    )}\n                </pre>\n            )}\n        </Highlight>\n    )\n}\n\nexport default function CodeBlock(props: { children: string, className?: string, downloadName?: string; downloadText?: string; url?: string; }) {\n    const { children, className } = props;\n    const language = className?.replace(/language-/, '') || \"\"\n\n    switch (language) {\n        case \"trace\": return <Suspense><TraceSnippet source={children} /></Suspense>;\n        case \"blocks\": return <MakeCodeSnippet renderedSource={children} />;\n        case \"info\":\n        case \"error\":\n        case \"warning\":\n        case \"success\":\n            return <Alert severity={language}>\n                <Markdown source={children.trim()} />\n            </Alert>\n        default: return <HighlightedCode {...props} />\n    }\n}","import { Grid, TextField } from \"@material-ui/core\"\nimport React, { ChangeEvent, useMemo } from \"react\"\nimport { clone, uniqueName } from \"../../../jacdac-ts/src/jdom/utils\"\nimport useLocalStorage from \"../../components/useLocalStorage\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport AddServiceIconButton from \"../../components/AddServiceIconButton\"\nimport ServiceSpecificationSelect from \"../../components/ServiceSpecificationSelect\"\nimport {\n    DTDL_CONTEXT,\n    escapeName,\n    serviceSpecificationToComponent,\n} from \"../../../jacdac-ts/src/azure-iot/dtdl\"\nimport IconButtonWithTooltip from \"../../components/ui/IconButtonWithTooltip\"\nimport Snippet from \"../../components/ui/Snippet\"\nimport PaperBox from \"../../components/ui/PaperBox\"\nimport { useId } from \"react-use-id-hook\"\nimport { Link } from \"gatsby-theme-material-ui\"\n\ninterface DigitalTwinComponent {\n    name: string\n    service: jdspec.ServiceSpec\n}\n\ninterface DigitalTwinSpec {\n    displayName: string\n    components: DigitalTwinComponent[]\n}\n\nfunction ComponentRow(props: {\n    twin: DigitalTwinSpec\n    component: DigitalTwinComponent\n    onUpdate: () => void\n}) {\n    const { component, onUpdate, twin } = props\n    const { name, service } = component\n    const { nameError, serviceError } = useMemo(\n        () => validateTwinComponent(twin, component),\n        [twin, component]\n    )\n    const nameId = useId()\n    const handleComponentNameChange = (ev: ChangeEvent<HTMLInputElement>) => {\n        component.name = escapeName(ev.target.value)\n        onUpdate()\n    }\n    const handleSetService = (serviceClass: number) => {\n        component.service = serviceSpecificationFromClassIdentifier(\n            serviceClass\n        )\n        onUpdate()\n    }\n    const handleComponentDelete = () => {\n        twin.components.splice(twin.components.indexOf(component), 1)\n        onUpdate()\n    }\n    return <>\n        <h1>Azure Device Twin Designer</h1>\n        <p>\n\n            An <Link href=\"https://github.com/Azure/opendigitaltwins-dtdl/\">device twin</Link> is to be used in IoT solutions such as with Azure IoT Hubs,\n            Azure IoT Plug And Play.\n            The repository of <Link to=\"/dtmi/\">Azure IoT Plug And Play models</Link> for services can be used to resolve models.\n        </p>\n        <Grid item xs={12}>\n            <Grid container spacing={2}>\n                <Grid item xs={6}>\n                    <TextField\n                        id={nameId}\n                        fullWidth={true}\n                        error={!!nameError}\n                        variant=\"outlined\"\n                        label=\"name\"\n                        helperText={nameError}\n                        value={name}\n                        onChange={handleComponentNameChange}\n                    />\n                </Grid>\n                <Grid item>\n                    <ServiceSpecificationSelect\n                        variant=\"outlined\"\n                        label=\"service\"\n                        serviceClass={service.classIdentifier}\n                        setServiceClass={handleSetService}\n                        error={serviceError}\n                    />\n                </Grid>\n                <Grid item>\n                    <IconButtonWithTooltip\n                        title=\"Remove service\"\n                        onClick={handleComponentDelete}\n                    >\n                        <DeleteIcon />\n                    </IconButtonWithTooltip>\n                </Grid>\n            </Grid>\n        </Grid>\n    </>\n}\n\nfunction validateTwinComponent(\n    twin: DigitalTwinSpec,\n    component: DigitalTwinComponent\n) {\n    let serviceError: string = undefined\n    const nameError: string = undefined\n    const count = twin.components.filter(\n        c => c.service.classIdentifier === component.service.classIdentifier\n    ).length\n    if (count > 1) serviceError = `Multiple same service not supported.`\n    return { serviceError, nameError }\n}\n\nexport default function AzureDeviceTwinDesigner() {\n    const variant = \"outlined\"\n    const [twin, setTwin] = useLocalStorage<DigitalTwinSpec>(\n        \"jacdac:digitaltwin;1\",\n        {\n            displayName: \"mydesigner\",\n            components: [],\n        } as DigitalTwinSpec\n    )\n\n    const dtdl = {\n        \"@type\": \"Interface\",\n        \"@id\": `dtmi:jacdac:devices:${escapeName(twin.displayName)},1`,\n        displayName: twin.displayName,\n        contents: twin.components.map(c =>\n            serviceSpecificationToComponent(c.service, c.name)\n        ),\n        \"@context\": DTDL_CONTEXT,\n    }\n    const dtdlSource = JSON.stringify(dtdl, null, 2)\n\n    const update = () => {\n        setTwin(clone(twin))\n    }\n    const handleDisplayNameChange = (ev: ChangeEvent<HTMLInputElement>) => {\n        twin.displayName = ev.target.value\n        update()\n    }\n    const handleAddService = (service: jdspec.ServiceSpec) => {\n        const names = twin.components.map(c => c.name)\n        twin.components.push({\n            name: uniqueName(names, service.shortId),\n            service,\n        })\n        update()\n    }\n\n    return (\n        <Grid container direction=\"row\" spacing={2}>\n            <Grid item xs={12}>\n                <TextField\n                    required\n                    fullWidth={true}\n                    label=\"Display name\"\n                    placeholder=\"My device\"\n                    value={twin.displayName || \"\"}\n                    onChange={handleDisplayNameChange}\n                    variant={variant}\n                />\n            </Grid>\n            {twin.components.map((c, i) => (\n                <ComponentRow\n                    key={i}\n                    twin={twin}\n                    component={c}\n                    onUpdate={update}\n                />\n            ))}\n            <Grid item xs={12}>\n                <AddServiceIconButton onAdd={handleAddService} />\n            </Grid>\n            <Grid item xs={12}>\n                <PaperBox>\n                    <Snippet value={dtdlSource} mode=\"json\" download=\"model\" />\n                </PaperBox>\n            </Grid>\n        </Grid>\n    )\n}\n","import React, { useMemo } from 'react';\nimport { Menu, MenuItem, Typography } from '@material-ui/core';\nimport { isInfrastructure, serviceSpecificationFromClassIdentifier, serviceSpecifications } from '../../jacdac-ts/src/jdom/spec';\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport AddIcon from '@material-ui/icons/Add';\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport IconButtonWithTooltip from \"./ui/IconButtonWithTooltip\"\nimport { useId } from \"react-use-id-hook\"\n\nexport default function AddServiceIconButton(props: {\n    onAdd: (service: jdspec.ServiceSpec) => void,\n    serviceFilter?: (service: jdspec.ServiceSpec) => boolean,\n    error?: string,\n    children?: JSX.Element | JSX.Element[]\n}) {\n    const { error, onAdd, children, serviceFilter } = props;\n    const [servicesAnchorEl, setServicesAnchorEl] = React.useState<null | HTMLElement>(null);\n    const servicesMenuId = useId();\n    const services = useMemo(() => serviceSpecifications()\n        .filter(srv => !isInfrastructure(srv))\n        .filter(srv => !serviceFilter || serviceFilter(srv))\n        , [serviceFilter])\n\n    const handleServiceAddClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        setServicesAnchorEl(event.currentTarget);\n    };\n    const handleServiceAddClose = (id: number) => () => {\n        setServicesAnchorEl(null);\n        if (id !== undefined) {\n            const srv = serviceSpecificationFromClassIdentifier(id);\n            onAdd(srv);\n        }\n    };\n\n    return <>\n        <IconButtonWithTooltip title=\"Add a service\" aria-controls={servicesMenuId} aria-haspopup=\"true\" onClick={handleServiceAddClick}>\n            {children || <AddIcon />}\n        </IconButtonWithTooltip>\n        <Menu\n            id={servicesMenuId}\n            anchorEl={servicesAnchorEl}\n            keepMounted\n            open={Boolean(servicesAnchorEl)}\n            onClose={handleServiceAddClose(undefined)}\n        >\n            {services.map(srv => <MenuItem key={srv.classIdentifier} value={srv.classIdentifier.toString(16)}\n                onClick={handleServiceAddClose(srv.classIdentifier)}>\n                {srv.name}\n            </MenuItem>)}\n        </Menu>\n        <Typography variant=\"caption\" color={error ? \"error\" : \"inherit\"} component=\"div\">\n            {error || \"Select one or more services.\"}\n        </Typography></>\n}","import { Box, BoxProps, Paper, PaperProps, useTheme } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function PaperBox(props: { padding?: number; elevation?: number; bgcolor?: string } & BoxProps) {\n    const { children, padding, elevation, bgcolor, ...others } = props;\n    const theme = useTheme();\n\n    return <Box {...others} bgcolor={bgcolor} mb={theme.spacing(0.25)}>\n        <Paper square elevation={elevation}>\n            {padding !== 0 && <Box p={theme.spacing(padding || 0.25)}>\n                {children}\n            </Box>}\n            {padding === 0 && children}\n        </Paper>\n    </Box>\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListItem from '../ListItem';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body1, _defineProperty({\n      minHeight: 48,\n      paddingTop: 6,\n      paddingBottom: 6,\n      boxSizing: 'border-box',\n      width: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    })),\n    // TODO v5: remove\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: {},\n\n    /* Styles applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the root element if dense. */\n    dense: _extends({}, theme.typography.body2, {\n      minHeight: 'auto'\n    })\n  };\n};\nvar MenuItem = /*#__PURE__*/React.forwardRef(function MenuItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      ListItemClasses = props.ListItemClasses,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'menuitem' : _props$role,\n      selected = props.selected,\n      tabIndexProp = props.tabIndex,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"ListItemClasses\", \"role\", \"selected\", \"tabIndex\"]);\n\n  var tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return /*#__PURE__*/React.createElement(ListItem, _extends({\n    button: true,\n    role: role,\n    tabIndex: tabIndex,\n    component: component,\n    selected: selected,\n    disableGutters: disableGutters,\n    classes: _extends({\n      dense: classes.dense\n    }, ListItemClasses),\n    className: clsx(classes.root, className, selected && classes.selected, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiMenuItem'\n})(MenuItem);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"\n}), 'GetApp');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport Input from '../Input';\nimport FilledInput from '../FilledInput';\nimport OutlinedInput from '../OutlinedInput';\nimport InputLabel from '../InputLabel';\nimport FormControl from '../FormControl';\nimport FormHelperText from '../FormHelperText';\nimport Select from '../Select';\nimport withStyles from '../styles/withStyles';\nvar variantComponent = {\n  standard: Input,\n  filled: FilledInput,\n  outlined: OutlinedInput\n};\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {}\n};\n/**\n * The `TextField` is a convenience wrapper for the most common cases (80%).\n * It cannot be all things to all people, otherwise the API would grow out of control.\n *\n * ## Advanced Configuration\n *\n * It's important to understand that the text field is a simple abstraction\n * on top of the following components:\n *\n * - [FormControl](/api/form-control/)\n * - [InputLabel](/api/input-label/)\n * - [FilledInput](/api/filled-input/)\n * - [OutlinedInput](/api/outlined-input/)\n * - [Input](/api/input/)\n * - [FormHelperText](/api/form-helper-text/)\n *\n * If you wish to alter the props applied to the `input` element, you can do so as follows:\n *\n * ```jsx\n * const inputProps = {\n *   step: 300,\n * };\n *\n * return <TextField id=\"time\" type=\"time\" inputProps={inputProps} />;\n * ```\n *\n * For advanced cases, please look at the source of TextField by clicking on the\n * \"Edit this page\" button above. Consider either:\n *\n * - using the upper case props for passing values directly to the components\n * - using the underlying components directly as shown in the demos\n */\n\nvar TextField = /*#__PURE__*/React.forwardRef(function TextField(props, ref) {\n  var autoComplete = props.autoComplete,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? false : _props$autoFocus,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      defaultValue = props.defaultValue,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$error = props.error,\n      error = _props$error === void 0 ? false : _props$error,\n      FormHelperTextProps = props.FormHelperTextProps,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      helperText = props.helperText,\n      hiddenLabel = props.hiddenLabel,\n      id = props.id,\n      InputLabelProps = props.InputLabelProps,\n      inputProps = props.inputProps,\n      InputProps = props.InputProps,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$multiline = props.multiline,\n      multiline = _props$multiline === void 0 ? false : _props$multiline,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      placeholder = props.placeholder,\n      _props$required = props.required,\n      required = _props$required === void 0 ? false : _props$required,\n      rows = props.rows,\n      rowsMax = props.rowsMax,\n      _props$select = props.select,\n      select = _props$select === void 0 ? false : _props$select,\n      SelectProps = props.SelectProps,\n      type = props.type,\n      value = props.value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"autoComplete\", \"autoFocus\", \"children\", \"classes\", \"className\", \"color\", \"defaultValue\", \"disabled\", \"error\", \"FormHelperTextProps\", \"fullWidth\", \"helperText\", \"hiddenLabel\", \"id\", \"InputLabelProps\", \"inputProps\", \"InputProps\", \"inputRef\", \"label\", \"multiline\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"placeholder\", \"required\", \"rows\", \"rowsMax\", \"select\", \"SelectProps\", \"type\", \"value\", \"variant\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (select && !children) {\n      console.error('Material-UI: `children` must be passed when using the `TextField` component with `select`.');\n    }\n  }\n\n  var InputMore = {};\n\n  if (variant === 'outlined') {\n    if (InputLabelProps && typeof InputLabelProps.shrink !== 'undefined') {\n      InputMore.notched = InputLabelProps.shrink;\n    }\n\n    if (label) {\n      var _InputLabelProps$requ;\n\n      var displayRequired = (_InputLabelProps$requ = InputLabelProps === null || InputLabelProps === void 0 ? void 0 : InputLabelProps.required) !== null && _InputLabelProps$requ !== void 0 ? _InputLabelProps$requ : required;\n      InputMore.label = /*#__PURE__*/React.createElement(React.Fragment, null, label, displayRequired && \"\\xA0*\");\n    }\n  }\n\n  if (select) {\n    // unset defaults from textbox inputs\n    if (!SelectProps || !SelectProps.native) {\n      InputMore.id = undefined;\n    }\n\n    InputMore['aria-describedby'] = undefined;\n  }\n\n  var helperTextId = helperText && id ? \"\".concat(id, \"-helper-text\") : undefined;\n  var inputLabelId = label && id ? \"\".concat(id, \"-label\") : undefined;\n  var InputComponent = variantComponent[variant];\n  var InputElement = /*#__PURE__*/React.createElement(InputComponent, _extends({\n    \"aria-describedby\": helperTextId,\n    autoComplete: autoComplete,\n    autoFocus: autoFocus,\n    defaultValue: defaultValue,\n    fullWidth: fullWidth,\n    multiline: multiline,\n    name: name,\n    rows: rows,\n    rowsMax: rowsMax,\n    type: type,\n    value: value,\n    id: id,\n    inputRef: inputRef,\n    onBlur: onBlur,\n    onChange: onChange,\n    onFocus: onFocus,\n    placeholder: placeholder,\n    inputProps: inputProps\n  }, InputMore, InputProps));\n  return /*#__PURE__*/React.createElement(FormControl, _extends({\n    className: clsx(classes.root, className),\n    disabled: disabled,\n    error: error,\n    fullWidth: fullWidth,\n    hiddenLabel: hiddenLabel,\n    ref: ref,\n    required: required,\n    color: color,\n    variant: variant\n  }, other), label && /*#__PURE__*/React.createElement(InputLabel, _extends({\n    htmlFor: id,\n    id: inputLabelId\n  }, InputLabelProps), label), select ? /*#__PURE__*/React.createElement(Select, _extends({\n    \"aria-describedby\": helperTextId,\n    id: id,\n    labelId: inputLabelId,\n    value: value,\n    input: InputElement\n  }, SelectProps), children) : InputElement, helperText && /*#__PURE__*/React.createElement(FormHelperText, _extends({\n    id: helperTextId\n  }, FormHelperTextProps), helperText));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTextField'\n})(TextField);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // A grid component using the following libs as inspiration.\n//\n// For the implementation:\n// - https://getbootstrap.com/docs/4.3/layout/grid/\n// - https://github.com/kristoferjoseph/flexboxgrid/blob/master/src/css/flexboxgrid.css\n// - https://github.com/roylee0704/react-flexbox-grid\n// - https://material.angularjs.org/latest/layout/introduction\n//\n// Follow this flexbox Guide to better understand the underlying model:\n// - https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport requirePropFactory from '../utils/requirePropFactory';\nvar SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar GRID_SIZES = ['auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nfunction generateGrid(globalStyles, theme, breakpoint) {\n  var styles = {};\n  GRID_SIZES.forEach(function (size) {\n    var key = \"grid-\".concat(breakpoint, \"-\").concat(size);\n\n    if (size === true) {\n      // For the auto layouting\n      styles[key] = {\n        flexBasis: 0,\n        flexGrow: 1,\n        maxWidth: '100%'\n      };\n      return;\n    }\n\n    if (size === 'auto') {\n      styles[key] = {\n        flexBasis: 'auto',\n        flexGrow: 0,\n        maxWidth: 'none'\n      };\n      return;\n    } // Keep 7 significant numbers.\n\n\n    var width = \"\".concat(Math.round(size / 12 * 10e7) / 10e5, \"%\"); // Close to the bootstrap implementation:\n    // https://github.com/twbs/bootstrap/blob/8fccaa2439e97ec72a4b7dc42ccc1f649790adb0/scss/mixins/_grid.scss#L41\n\n    styles[key] = {\n      flexBasis: width,\n      flexGrow: 0,\n      maxWidth: width\n    };\n  }); // No need for a media query for the first size.\n\n  if (breakpoint === 'xs') {\n    _extends(globalStyles, styles);\n  } else {\n    globalStyles[theme.breakpoints.up(breakpoint)] = styles;\n  }\n}\n\nfunction getOffset(val) {\n  var div = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var parse = parseFloat(val);\n  return \"\".concat(parse / div).concat(String(val).replace(String(parse), '') || 'px');\n}\n\nfunction generateGutter(theme, breakpoint) {\n  var styles = {};\n  SPACINGS.forEach(function (spacing) {\n    var themeSpacing = theme.spacing(spacing);\n\n    if (themeSpacing === 0) {\n      return;\n    }\n\n    styles[\"spacing-\".concat(breakpoint, \"-\").concat(spacing)] = {\n      margin: \"-\".concat(getOffset(themeSpacing, 2)),\n      width: \"calc(100% + \".concat(getOffset(themeSpacing), \")\"),\n      '& > $item': {\n        padding: getOffset(themeSpacing, 2)\n      }\n    };\n  });\n  return styles;\n} // Default CSS values\n// flex: '0 1 auto',\n// flexDirection: 'row',\n// alignItems: 'flex-start',\n// flexWrap: 'nowrap',\n// justifyContent: 'flex-start',\n\n\nexport var styles = function styles(theme) {\n  return _extends({\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `container={true}`. */\n    container: {\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexWrap: 'wrap',\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `item={true}`. */\n    item: {\n      boxSizing: 'border-box',\n      margin: '0' // For instance, it's useful when used with a `figure` element.\n\n    },\n\n    /* Styles applied to the root element if `zeroMinWidth={true}`. */\n    zeroMinWidth: {\n      minWidth: 0\n    },\n\n    /* Styles applied to the root element if `direction=\"column\"`. */\n    'direction-xs-column': {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the root element if `direction=\"column-reverse\"`. */\n    'direction-xs-column-reverse': {\n      flexDirection: 'column-reverse'\n    },\n\n    /* Styles applied to the root element if `direction=\"row-reverse\"`. */\n    'direction-xs-row-reverse': {\n      flexDirection: 'row-reverse'\n    },\n\n    /* Styles applied to the root element if `wrap=\"nowrap\"`. */\n    'wrap-xs-nowrap': {\n      flexWrap: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `wrap=\"reverse\"`. */\n    'wrap-xs-wrap-reverse': {\n      flexWrap: 'wrap-reverse'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"center\"`. */\n    'align-items-xs-center': {\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-start\"`. */\n    'align-items-xs-flex-start': {\n      alignItems: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-end\"`. */\n    'align-items-xs-flex-end': {\n      alignItems: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"baseline\"`. */\n    'align-items-xs-baseline': {\n      alignItems: 'baseline'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"center\"`. */\n    'align-content-xs-center': {\n      alignContent: 'center'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-start\"`. */\n    'align-content-xs-flex-start': {\n      alignContent: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-end\"`. */\n    'align-content-xs-flex-end': {\n      alignContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-between\"`. */\n    'align-content-xs-space-between': {\n      alignContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-around\"`. */\n    'align-content-xs-space-around': {\n      alignContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"center\"`. */\n    'justify-xs-center': {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the root element if `justify=\"flex-end\"`. */\n    'justify-xs-flex-end': {\n      justifyContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-between\"`. */\n    'justify-xs-space-between': {\n      justifyContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-around\"`. */\n    'justify-xs-space-around': {\n      justifyContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-evenly\"`. */\n    'justify-xs-space-evenly': {\n      justifyContent: 'space-evenly'\n    }\n  }, generateGutter(theme, 'xs'), theme.breakpoints.keys.reduce(function (accumulator, key) {\n    // Use side effect over immutability for better performance.\n    generateGrid(accumulator, theme, key);\n    return accumulator;\n  }, {}));\n};\nvar Grid = /*#__PURE__*/React.forwardRef(function Grid(props, ref) {\n  var _props$alignContent = props.alignContent,\n      alignContent = _props$alignContent === void 0 ? 'stretch' : _props$alignContent,\n      _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'stretch' : _props$alignItems,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$container = props.container,\n      container = _props$container === void 0 ? false : _props$container,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'row' : _props$direction,\n      _props$item = props.item,\n      item = _props$item === void 0 ? false : _props$item,\n      _props$justify = props.justify,\n      justify = _props$justify === void 0 ? 'flex-start' : _props$justify,\n      _props$lg = props.lg,\n      lg = _props$lg === void 0 ? false : _props$lg,\n      _props$md = props.md,\n      md = _props$md === void 0 ? false : _props$md,\n      _props$sm = props.sm,\n      sm = _props$sm === void 0 ? false : _props$sm,\n      _props$spacing = props.spacing,\n      spacing = _props$spacing === void 0 ? 0 : _props$spacing,\n      _props$wrap = props.wrap,\n      wrap = _props$wrap === void 0 ? 'wrap' : _props$wrap,\n      _props$xl = props.xl,\n      xl = _props$xl === void 0 ? false : _props$xl,\n      _props$xs = props.xs,\n      xs = _props$xs === void 0 ? false : _props$xs,\n      _props$zeroMinWidth = props.zeroMinWidth,\n      zeroMinWidth = _props$zeroMinWidth === void 0 ? false : _props$zeroMinWidth,\n      other = _objectWithoutProperties(props, [\"alignContent\", \"alignItems\", \"classes\", \"className\", \"component\", \"container\", \"direction\", \"item\", \"justify\", \"lg\", \"md\", \"sm\", \"spacing\", \"wrap\", \"xl\", \"xs\", \"zeroMinWidth\"]);\n\n  var className = clsx(classes.root, classNameProp, container && [classes.container, spacing !== 0 && classes[\"spacing-xs-\".concat(String(spacing))]], item && classes.item, zeroMinWidth && classes.zeroMinWidth, direction !== 'row' && classes[\"direction-xs-\".concat(String(direction))], wrap !== 'wrap' && classes[\"wrap-xs-\".concat(String(wrap))], alignItems !== 'stretch' && classes[\"align-items-xs-\".concat(String(alignItems))], alignContent !== 'stretch' && classes[\"align-content-xs-\".concat(String(alignContent))], justify !== 'flex-start' && classes[\"justify-xs-\".concat(String(justify))], xs !== false && classes[\"grid-xs-\".concat(String(xs))], sm !== false && classes[\"grid-sm-\".concat(String(sm))], md !== false && classes[\"grid-md-\".concat(String(md))], lg !== false && classes[\"grid-lg-\".concat(String(lg))], xl !== false && classes[\"grid-xl-\".concat(String(xl))]);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: className,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nvar StyledGrid = withStyles(styles, {\n  name: 'MuiGrid'\n})(Grid);\n\nif (process.env.NODE_ENV !== 'production') {\n  var requireProp = requirePropFactory('Grid');\n  StyledGrid.propTypes = _extends({}, StyledGrid.propTypes, {\n    alignContent: requireProp('container'),\n    alignItems: requireProp('container'),\n    direction: requireProp('container'),\n    justify: requireProp('container'),\n    lg: requireProp('item'),\n    md: requireProp('item'),\n    sm: requireProp('item'),\n    spacing: requireProp('container'),\n    wrap: requireProp('container'),\n    xs: requireProp('item'),\n    zeroMinWidth: requireProp('item')\n  });\n}\n\nexport default StyledGrid;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport * as ReactDOM from 'react-dom';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the (normally root) `component` element. May be wrapped by a `container`. */\n    root: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      position: 'relative',\n      textDecoration: 'none',\n      width: '100%',\n      boxSizing: 'border-box',\n      textAlign: 'left',\n      paddingTop: 8,\n      paddingBottom: 8,\n      '&$focusVisible': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$selected, &$selected:hover': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the `container` element if `children` includes `ListItemSecondaryAction`. */\n    container: {\n      position: 'relative'\n    },\n\n    /* Pseudo-class applied to the `component`'s `focusVisibleClassName` prop if `button={true}`. */\n    focusVisible: {},\n\n    /* Styles applied to the `component` element if dense. */\n    dense: {\n      paddingTop: 4,\n      paddingBottom: 4\n    },\n\n    /* Styles applied to the `component` element if `alignItems=\"flex-start\"`. */\n    alignItemsFlexStart: {\n      alignItems: 'flex-start'\n    },\n\n    /* Pseudo-class applied to the inner `component` element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the inner `component` element if `divider={true}`. */\n    divider: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider),\n      backgroundClip: 'padding-box'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the inner `component` element if `button={true}`. */\n    button: {\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: theme.palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the `component` element if `children` includes `ListItemSecondaryAction`. */\n    secondaryAction: {\n      // Add some space to avoid collision as `ListItemSecondaryAction`\n      // is absolutely positioned.\n      paddingRight: 48\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {}\n  };\n};\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nvar ListItem = /*#__PURE__*/React.forwardRef(function ListItem(props, ref) {\n  var _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'center' : _props$alignItems,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? false : _props$autoFocus,\n      _props$button = props.button,\n      button = _props$button === void 0 ? false : _props$button,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      componentProp = props.component,\n      _props$ContainerCompo = props.ContainerComponent,\n      ContainerComponent = _props$ContainerCompo === void 0 ? 'li' : _props$ContainerCompo,\n      _props$ContainerProps = props.ContainerProps;\n  _props$ContainerProps = _props$ContainerProps === void 0 ? {} : _props$ContainerProps;\n\n  var ContainerClassName = _props$ContainerProps.className,\n      ContainerProps = _objectWithoutProperties(_props$ContainerProps, [\"className\"]),\n      _props$dense = props.dense,\n      dense = _props$dense === void 0 ? false : _props$dense,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$divider = props.divider,\n      divider = _props$divider === void 0 ? false : _props$divider,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$selected = props.selected,\n      selected = _props$selected === void 0 ? false : _props$selected,\n      other = _objectWithoutProperties(props, [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"classes\", \"className\", \"component\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"divider\", \"focusVisibleClassName\", \"selected\"]);\n\n  var context = React.useContext(ListContext);\n  var childContext = {\n    dense: dense || context.dense || false,\n    alignItems: alignItems\n  };\n  var listItemRef = React.useRef(null);\n  useEnhancedEffect(function () {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('Material-UI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  var children = React.Children.toArray(childrenProp);\n  var hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    listItemRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(handleOwnRef, ref);\n\n  var componentProps = _extends({\n    className: clsx(classes.root, className, childContext.dense && classes.dense, !disableGutters && classes.gutters, divider && classes.divider, disabled && classes.disabled, button && classes.button, alignItems !== \"center\" && classes.alignItemsFlexStart, hasSecondaryAction && classes.secondaryAction, selected && classes.selected),\n    disabled: disabled\n  }, other);\n\n  var Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(classes.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  }\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(ListContext.Provider, {\n      value: childContext\n    }, /*#__PURE__*/React.createElement(ContainerComponent, _extends({\n      className: clsx(classes.container, ContainerClassName),\n      ref: handleRef\n    }, ContainerProps), /*#__PURE__*/React.createElement(Component, componentProps, children), children.pop()));\n  }\n\n  return /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    ref: handleRef\n  }, componentProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItem'\n})(ListItem);","/* eslint-disable @typescript-eslint/no-explicit-any */\n/***\n * Jacdac service/device specification to DTDL\n *\n *  DTDL specification: https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md.\n */\n\nimport {\n    serviceSpecificationFromClassIdentifier,\n    serviceSpecificationFromName,\n} from \"../jdom/spec\"\nimport { uniqueMap } from \"../jdom/utils\"\n\nexport const DTDL_REFERENCE_URL =\n    \"https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md\"\nexport const DTDL_NAME = \"Digital Twins Definition Language\"\nexport const DTDL_CONTEXT = \"dtmi:dtdl:context;2\"\n\n// https://github.com/Azure/digital-twin-model-identifier\n// ^dtmi:(?:_+[A-Za-z0-9]|[A-Za-z])(?:[A-Za-z0-9_]*[A-Za-z0-9])?(?::(?:_+[A-Za-z0-9]|[A-Za-z])(?:[A-Za-z0-9_]*[A-Za-z0-9])?)*;[1-9][0-9]{0,8}$\nfunction toDTMI(segments: (string | number)[], version?: number) {\n    return `dtmi:jacdac:${[...segments]\n        .map(seg =>\n            seg === undefined\n                ? \"???\"\n                : typeof seg === \"string\"\n                ? seg\n                : `x${seg.toString(16)}`\n        )\n        .map(seg => seg.replace(/(-|_)/g, \"\"))\n        .join(\":\")};${version !== undefined ? version : 1}`.toLowerCase()\n}\n\nfunction toUnit(pkt: jdspec.PacketInfo) {\n    if (pkt.fields.length !== 1) return undefined\n    const field = pkt.fields[0]\n    if (!field.unit) return undefined\n\n    /**\n     *     type Unit = \"m\" | \"kg\" | \"g\" | \"s\" | \"A\" | \"K\" | \"cd\" | \"mol\" | \"Hz\" | \"rad\" | \"sr\" | \"N\" | \"Pa\" | \"J\" | \"W\" | \"C\" | \"V\" | \"F\" | \"Ohm\"\n        | \"S\" | \"Wb\" | \"T\" | \"H\" | \"Cel\" | \"lm\" | \"lx\" | \"Bq\" | \"Gy\" | \"Sv\" | \"kat\" | \"m2\" | \"m3\" | \"l\" | \"m/s\" | \"m/s2\" | \"m3/s\" | \"l/s\"\n        | \"W/m2\" | \"cd/m2\" | \"bit\" | \"bit/s\" | \"lat\" | \"lon\" | \"pH\" | \"dB\" | \"dBW\" | \"Bspl\" | \"count\" | \"/\" | \"%RH\" | \"%EL\" | \"EL\"\n        | \"1/s\" | \"1/min\" | \"beat/min\" | \"beats\" | \"S/m\" | \"B\" | \"VA\" | \"VAs\" | \"var\" | \"vars\" | \"J/m\" | \"kg/m3\" | \"deg\";\n\n    type SecondaryUnit = \"ms\" | \"min\" | \"h\" | \"MHz\" | \"kW\" | \"kVA\" | \"kvar\" | \"Ah\" | \"Wh\" | \"kWh\"\n        | \"varh\" | \"kvarh\" | \"kVAh\" | \"Wh/km\" | \"KiB\" | \"GB\" | \"Mbit/s\" | \"B/s\" | \"MB/s\" | \"mV\" | \"mA\" | \"dBm\" | \"ug/m3\"\n        | \"mm/h\" | \"m/h\" | \"ppm\" | \"/100\" | \"/1000\" | \"hPa\" | \"mm\" | \"cm\" | \"km\" | \"km/h\";\n     */\n    const units: jdspec.SMap<{ semantic: string; unit: string }> = {\n        \"m/s2\": {\n            semantic: \"Acceleration\",\n            unit: \"metrePerSecondSquared\",\n        },\n        rad: {\n            semantic: \"Angle\",\n            unit: \"radian\",\n        },\n        \"rad/s\": {\n            semantic: \"AngularVelocity\",\n            unit: \"radianPerSecond\",\n        },\n        \"rad/s2\": {\n            semantic: \"AngularAcceleration\",\n            unit: \"radianPerSecondSquared\",\n        },\n        m: {\n            semantic: \"Length\",\n            unit: \"metre\",\n        },\n        m2: {\n            semantic: \"Area\",\n            unit: \"squareMetre\",\n        },\n        s: {\n            semantic: \"TimeSpan\",\n            unit: \"second\",\n        },\n        ms: {\n            semantic: \"TimeSpan\",\n            unit: \"millisecond\",\n        },\n        us: {\n            semantic: \"TimeSpan\",\n            unit: \"microsecond\",\n        },\n        K: {\n            semantic: \"Temperature\",\n            unit: \"kelvin\",\n        },\n        C: {\n            semantic: \"Temperature\",\n            unit: \"degreeCelsius\",\n        },\n        F: {\n            semantic: \"Temperature\",\n            unit: \"degreeFahrenheit\",\n        },\n        g: {\n            semantic: \"Acceleration\",\n            unit: \"gForce\",\n        },\n        mA: {\n            semantic: \"Current\",\n            unit: \"milliampere\",\n        },\n        uA: {\n            semantic: \"Current\",\n            unit: \"microampere\",\n        },\n        A: {\n            semantic: \"Current\",\n            unit: \"ampere\",\n        },\n        mV: {\n            semantic: \"Voltage\",\n            unit: \"millivolt\",\n        },\n        uV: {\n            semantic: \"Voltage\",\n            unit: \"microvolt\",\n        },\n        V: {\n            semantic: \"Voltage\",\n            unit: \"volt\",\n        },\n    }\n    const unit = units[field.unit]\n    if (unit) return unit\n\n    // ignoring some known units\n    if ([\"#\", \"/\"].indexOf(field.unit) > -1) return undefined\n\n    //console.warn(`unsupported unit ${field.unit}`)\n    return undefined\n}\n\n// https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md#primitive-schemas\n\nfunction enumDTDI(srv: jdspec.ServiceSpec, en: jdspec.EnumInfo): string {\n    return toDTMI([srv.classIdentifier, en.name])\n}\n\nfunction enumSchema(srv: jdspec.ServiceSpec, en: jdspec.EnumInfo): DTDLSchema {\n    const dtdl = {\n        \"@type\": \"Enum\",\n        \"@id\": enumDTDI(srv, en),\n        valueSchema: \"integer\",\n        enumValues: Object.keys(en.members).map(k => ({\n            name: escapeName(k),\n            displayName: k,\n            enumValue: en.members[k],\n        })),\n    }\n    return dtdl\n}\n\nfunction fieldType(\n    srv: jdspec.ServiceSpec,\n    pkt: jdspec.PacketInfo,\n    field: jdspec.PacketMember\n) {\n    let type: string\n    if (field.type == \"bool\") type = \"boolean\"\n    else if (field.isFloat) type = \"float\"\n    else if (field.isSimpleType) {\n        if (/^(u|i)/.test(field.type)) type = \"integer\"\n        else if (field.type === \"B\")\n            // base64 encoded binary data\n            type = \"string\"\n    } else if (field.type === \"string\" || field.type == \"string0\")\n        type = \"string\"\n    else if (field.shift && /^(u|i)/.test(field.type)) type = \"float\"\n    // decimal type\n    else {\n        const en = srv.enums[field.type]\n        if (en) type = enumDTDI(srv, en)\n    }\n\n    //if (!type)\n    //    console.warn(`unknown field type ${field.type}`, field)\n\n    return {\n        name: field.name == \"_\" ? pkt.name : field.name,\n        type: type,\n    }\n}\n\n// warps fields into an object\nfunction objectSchema(schemas: DTDLSchema[]): DTDLSchema {\n    return {\n        \"@type\": \"Object\",\n        fields: schemas,\n    }\n}\n\n// wraps a schema into an array\nfunction arraySchema(schema: string | DTDLSchema): DTDLSchema {\n    return {\n        \"@type\": \"Array\",\n        elementSchema: schema,\n    }\n}\n\n// converts JADAC pkt data layout into a DTDL schema\nfunction toSchema(\n    srv: jdspec.ServiceSpec,\n    pkt: jdspec.PacketInfo,\n    supportsArray?: boolean\n): string | DTDLSchema {\n    const fields = pkt.fields.map(field => fieldType(srv, pkt, field))\n    if (!fields.length) return undefined\n\n    // a single data entry\n    if (fields.length === 1 && !pkt.fields[0].startRepeats)\n        return fields[0].type\n\n    // map fields into schema\n    const schemas: DTDLSchema[] = fields.map(field => ({\n        name: field.name,\n        schema: field.type,\n    }))\n\n    // is there an array?\n    const repeatIndex = pkt.fields.findIndex(field => field.startRepeats)\n\n    if (repeatIndex < 0) {\n        // no array\n        // wrap schemas into an object\n        return objectSchema(schemas)\n    }\n\n    // check if arrays are supported\n    if (!supportsArray) {\n        //console.warn(`arrays not supported in ${srv.shortName}.${pkt.name}`)\n        return undefined\n    }\n\n    if (repeatIndex == 0) {\n        // the whole structure is an array\n        return arraySchema(objectSchema(schemas))\n    } else {\n        // split fields into prelude and array data\n        const nonRepeat = schemas.slice(0, repeatIndex)\n        const repeats = schemas.slice(repeatIndex)\n        return objectSchema([\n            ...nonRepeat,\n            {\n                name: \"repeat\",\n                schema: arraySchema(\n                    repeats.length > 1 ? objectSchema(repeats) : repeats[0]\n                ),\n            },\n        ])\n    }\n}\n\nfunction packetToDTDL(\n    srv: jdspec.ServiceSpec,\n    pkt: jdspec.PacketInfo\n): DTDLContent {\n    const types: jdspec.SMap<string> = {\n        const: \"Property\",\n        rw: \"Property\",\n        ro: \"Telemetry\",\n        event: \"Telemetry\",\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const dtdl: any = {\n        \"@type\": types[pkt.kind] || `Unsupported${pkt.kind}`,\n        name: pkt.name,\n        \"@id\": toDTMI([srv.classIdentifier, pkt.kind, pkt.name]),\n        description: pkt.description,\n    }\n    switch (pkt.kind) {\n        case \"report\":\n        case \"command\":\n            // https://docs.microsoft.com/en-us/azure/digital-twins/concepts-models#azure-digital-twins-dtdl-implementation-specifics\n            return undefined\n        case \"const\":\n        case \"rw\":\n        case \"ro\":\n        case \"event\": {\n            const unit = toUnit(pkt)\n            if (unit) {\n                dtdl.unit = unit.unit\n            }\n            dtdl.schema = toSchema(srv, pkt, false)\n            if (pkt.kind === \"rw\") dtdl.writable = true\n            if (!dtdl.schema && pkt.kind === \"event\") {\n                // keep a count of the events\n                dtdl[\"@type\"] = [dtdl[\"@type\"], \"Event\"]\n                dtdl.schema = toDTMI([srv.classIdentifier, \"event\"])\n            } else if (unit && unit.semantic)\n                dtdl[\"@type\"] = [dtdl[\"@type\"], unit.semantic]\n            break\n        }\n        default:\n            //console.log(`unknown packet kind ${pkt.kind}`)\n            break\n    }\n\n    if (!dtdl.schema) {\n        //console.log(`unknown schema for ${srv.name}.${pkt.name}`);\n        return undefined\n    }\n\n    return dtdl\n}\n\ninterface DTDLNode {\n    \"@type\"?: string\n    \"@id\"?: string\n    // 1-64 characters\n    // ^[a-zA-Z](?:[a-zA-Z0-9_]*[a-zA-Z0-9])?$\n    name?: string\n    displayName?: string\n    description?: string\n}\n\ninterface DTDLSchema extends DTDLNode {\n    fields?: DTDLSchema[]\n    schema?: string | DTDLSchema\n    elementSchema?: string | DTDLSchema\n}\n\ninterface DTDLContent extends DTDLNode {\n    \"@type\": \"Property\" | \"Command\" | \"Component\" | \"Interface\"\n    unit?: string\n    schema?: string | DTDLSchema\n}\n\ninterface DTDLInterface extends DTDLContent {\n    contents: DTDLContent[]\n    extends?: string | string[]\n    schemas?: (DTDLSchema | DTDLInterface)[]\n    \"@context\"?: string\n}\n\nexport function escapeName(name: string) {\n    name = name.trim().replace(/[^a-zA-Z0-9_]/g, \"_\")\n    if (!/^[a-zA-Z]/.test(name)) name = \"a\" + name\n    name = name[0].toLowerCase() + name.slice(1)\n    return name.slice(0, 64)\n}\n\nfunction escapeDisplayName(name: string) {\n    return name.slice(0, 64)\n}\n\nexport function serviceSpecificationToDTDL(\n    srv: jdspec.ServiceSpec\n): DTDLInterface {\n    const dtdl: DTDLInterface = {\n        \"@type\": \"Interface\",\n        \"@id\": serviceSpecificationDTMI(srv),\n        displayName: escapeDisplayName(srv.name),\n        description: srv.notes[\"short\"],\n        contents: srv.packets\n            .filter(pkt => !pkt.derived && !pkt.internal)\n            .map(pkt => {\n                try {\n                    return packetToDTDL(srv, pkt)\n                } catch (e) {\n                    console.log(`failed to generate DTDL for ${srv.name}`, e)\n                    return undefined\n                }\n            })\n            .filter(c => !!c),\n    }\n    if (srv.extends.length)\n        dtdl.extends = srv.extends.map(id =>\n            serviceSpecificationDTMI(serviceSpecificationFromName(id))\n        )\n\n    const hasEvents = srv.packets.find(pkt => pkt.kind === \"event\")\n    const hasEnums = Object.keys(srv.enums).length\n    if (hasEvents || hasEnums) {\n        dtdl.schemas = []\n        if (hasEvents)\n            dtdl.schemas.push({\n                \"@id\": toDTMI([srv.classIdentifier, \"event\"]),\n                \"@type\": \"Object\",\n                fields: [\n                    {\n                        name: \"count\",\n                        schema: \"integer\",\n                    },\n                ],\n            })\n        if (hasEnums)\n            dtdl.schemas = dtdl.schemas.concat(\n                Object.keys(srv.enums).map(en => enumSchema(srv, srv.enums[en]))\n            )\n    }\n    dtdl[\"@context\"] = DTDL_CONTEXT\n    return dtdl\n}\n\nexport function serviceSpecificationToComponent(\n    srv: jdspec.ServiceSpec,\n    name: string\n): any {\n    const dtdl = {\n        \"@type\": \"Component\",\n        name: name,\n        displayName: escapeDisplayName(srv.name),\n        schema: serviceSpecificationDTMI(srv),\n    }\n    return dtdl\n}\n\nexport interface DTDLGenerationOptions {\n    inlineServices?: boolean // generate all services\n}\n\nexport function serviceSpecificationDTMI(srv: jdspec.ServiceSpec) {\n    return toDTMI([\"services\", srv.classIdentifier])\n}\n\nexport function deviceSpecificationDTMI(dev: jdspec.DeviceSpec) {\n    return toDTMI([\"devices\", dev.id.replace(/-/g, \":\")])\n}\n\nexport function DTMIToRoute(dtmi: string) {\n    const route =\n        dtmi.toLowerCase().replace(/;/, \"-\").replace(/:/g, \"/\") + \".json\"\n    return route\n}\n\nexport function deviceSpecificationToDTDL(\n    dev: jdspec.DeviceSpec,\n    options?: DTDLGenerationOptions\n): any {\n    const services = dev.services.map(srv =>\n        serviceSpecificationFromClassIdentifier(srv)\n    )\n    const uniqueServices = uniqueMap(\n        services,\n        srv => srv.classIdentifier.toString(),\n        srv => srv\n    )\n    const schemas = uniqueServices.map(srv => serviceSpecificationToDTDL(srv))\n\n    // allocate names\n    const names: string[] = []\n    services.forEach((srv) => {\n        const name = escapeName(srv.shortId || srv.shortName)\n        if (names.indexOf(name) < 0) names.push(name)\n        else {\n            let count = 2\n            while (names.indexOf(name + count) > -1) count++\n            names.push(name + count)\n        }\n    })\n\n    const dtdl: DTDLInterface = {\n        \"@type\": \"Interface\",\n        \"@id\": deviceSpecificationDTMI(dev),\n        displayName: escapeDisplayName(dev.name),\n        description: dev.description,\n        contents: services.map((srv, i) =>\n            serviceSpecificationToComponent(srv, names[i])\n        ),\n        \"@context\": DTDL_CONTEXT,\n    }\n    if (options?.inlineServices) return [dtdl, ...schemas]\n    else return dtdl\n}\n"],"sourceRoot":""}