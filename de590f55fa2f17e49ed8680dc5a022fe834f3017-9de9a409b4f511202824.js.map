{"version":3,"sources":["webpack:///./src/components/ui/AutoGrid.tsx","webpack:///./src/components/ServiceRegisters.tsx","webpack:///./src/components/EventInput.tsx","webpack:///./src/components/ServiceEvents.tsx","webpack:///./jacdac-ts/src/jdom/command.ts","webpack:///./src/components/CommandInput.tsx","webpack:///./src/components/DecodedPacketItem.tsx","webpack:///./src/components/ServiceCard.tsx","webpack:///./src/components/DeviceList.tsx","webpack:///./src/components/PacketMembersChip.tsx","webpack:///./src/components/PacketSpecification.tsx","webpack:///./src/components/ui/CardMediaWithSkeleton.tsx","webpack:///./src/components/DeviceCardMedia.tsx","webpack:///./src/components/DeviceCardHeader.tsx","webpack:///./node_modules/@material-ui/core/esm/CardMedia/CardMedia.js","webpack:///./src/components/KindChip.tsx","webpack:///./src/components/alert/DeviceLostAlert.tsx","webpack:///./src/components/useGridBreakpoints.ts","webpack:///./src/jacdac/useEventCount.ts","webpack:///./src/components/IDChip.tsx","webpack:///./src/components/ServiceSpecificationStatusAlert.tsx","webpack:///./node_modules/@material-ui/core/esm/CardActions/CardActions.js","webpack:///./node_modules/@material-ui/icons/Category.js","webpack:///./src/components/ServiceButton.tsx","webpack:///./src/components/DeviceCard.tsx"],"names":["AutoGrid","props","children","spacing","Array","isArray","map","child","i","key","ServiceRegisters","service","registerIdentifiers","filter","showRegisterName","hideMissingValues","showTrends","specification","useChange","spec","registers","useMemo","packets","ids","pkt","isRegister","identifier","r","id","register","reg","code","SystemReg","Reading","EventInput","event","showName","showDeviceName","count","useEventCount","device","name","ServiceEvents","eventIdentifiers","showEventName","events","isEvent","undefined","indexOf","packArguments","info","args","repeatIdx","numReps","argIdx","dst","buf","Uint8Array","fields","length","arg0","fld","startRepeats","arg1","type","arg","stringToUint8Array","toUTF8","intVal","scaleFloatToInt","storage","Error","fmt","numberFormatFromStorageType","setNumber","clampToStorage","sizeOfNumberFormat","size","Math","abs","argCut","slice","set","JD_SERIAL_MAX_PAYLOAD_SIZE","cmd","CMD_SET_REG","Packet","from","kind","isCommand","CommandInput","command","setReports","useContext","JacdacContext","bus","requiredArgLength","hasPipeReport","missingArguments","disabled","reportSpec","hasReport","find","p","isReportOf","handleClick","onlyHeader","sendCmdAwaitResponseAsync","reportPacket","decoded","inp","InPipeReader","openCommand","sendPacketAsync","console","log","printPacket","readAll","output","reports","ot","data","unmount","serviceName","serviceClass","replace","DecodedPacketItem","specifications","d","values","value","useStyles","makeStyles","root","minWidth","bullet","display","margin","transform","title","fontSize","pos","marginBottom","ServiceCard","linkToService","showServiceName","showMemberName","commandIdentifier","useState","commandArgs","setCommandArgs","classes","hasCommandIdentifier","hasRegisterIdentifiers","hasEventIdentifiers","shortId","report","ri","theme","createStyles","DeviceList","showFirmware","showTemperature","showServiceButtons","devices","n","services","hasServiceClass","gridBreakpoints","useGridBreakpoints","PacketMembersChip","members","className","label","packFormat","textDecoration","field","verticalAlign","chip","MemberType","member","helperText","prettyMemberUnit","MembersType","repeatIndex","findIndex","m","beforeRepeat","afterRepeat","PacketSpecification","packetInfo","reportInfo","pipeReportInfo","showDevices","setArgs","toString","isCmd","optional","derived","description","media","height","paddingTop","CardMediaWithSkeleton","image","src","others","hasImage","DeviceCardMedia","useDeviceSpecification","imageUrl","useDeviceImage","DeviceFirmwareVersionChip","firmwareVersionRegister","ControlReg","FirmwareVersion","firmwareVersion","useRegisterStringValue","DeviceTemperatureChip","tempRegister","McuTemperature","temperature","useRegisterIntValue","DeviceCardHeader","showMedia","showDeviceId","showAvatar","identifierToUrlPath","deviceId","s","join","KindChip","PacketsContext","setFilter","AppContext","setDrawerType","icon","KindIcon","chipFilter","filtered","trim","DrawerType","Packets","kindName","DeviceLostAlert","lost","useEventRaised","LOST","FOUND","dev","itemCount","drawerType","xs","sm","md","lg","xl","None","setCount","useEffect","subscribe","CHANGE","IDChip","packetFilter","setPacketFilter","handleFilterClick","StatusAlert","status","ServiceSpecificationStatusAlert","React","memo","ServiceButton","onClick","navigateToService","navigate","DeviceDescription","DeviceCard","action","content","showDescription","showServices","SRV_CTRL","SRV_LOGGER"],"mappings":"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","file":"de590f55fa2f17e49ed8680dc5a022fe834f3017-9de9a409b4f511202824.js","sourcesContent":["import { Grid, GridSpacing } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function AutoGrid(props: { children: JSX.Element | JSX.Element[], spacing?: GridSpacing }) {\n    const { children, spacing } = props;\n    if (children && Array.isArray(children))\n        return <Grid container spacing={spacing}>\n            {(children as JSX.Element[]).map((child, i) => <Grid item xs={12} key={child.key || i}>\n                {child}\n            </Grid>)}\n        </Grid>\n    else\n        return children as JSX.Element;\n}","import React, { useMemo } from \"react\";\nimport { JDService } from \"../../jacdac-ts/src/jdom/service\";\nimport { isRegister } from \"../../jacdac-ts/src/jdom/spec\";\nimport RegisterInput from \"./RegisterInput\";\nimport useChange from '../jacdac/useChange';\nimport AutoGrid from \"./ui/AutoGrid\";\nimport { JDRegister } from \"../../jacdac-ts/src/jdom/register\";\nimport { SystemReg } from \"../../jacdac-ts/src/jdom/constants\";\n\nexport default function ServiceRegisters(props: {\n    service: JDService,\n    registerIdentifiers?: number[],\n    filter?: (register: JDRegister) => boolean,\n    showRegisterName?: boolean,\n    hideMissingValues?: boolean,\n    showTrends?: boolean\n}) {\n    const { service, registerIdentifiers, filter, showRegisterName, hideMissingValues, showTrends } = props;\n    const specification = useChange(service, spec => spec.specification);\n    const registers = useMemo(() => {\n        const packets = specification?.packets;\n        const ids = registerIdentifiers\n            || packets\n                ?.filter(pkt => isRegister(pkt))\n                ?.map(pkt => pkt.identifier);\n        let r = ids?.map(id => service.register(id))\n            ?.filter(reg => !!reg) || [];\n        if (filter)\n            r = r.filter(filter);\n        return r;\n    }, [specification, registerIdentifiers, filter])\n\n    return <AutoGrid spacing={1}>\n        {registers.map(register => <RegisterInput key={register.id}\n            register={register}\n            showRegisterName={showRegisterName}\n            hideMissingValues={hideMissingValues}\n            showTrend={showTrends && register.code === SystemReg.Reading}\n        />)}\n    </AutoGrid>\n}","import React from \"react\";\nimport { JDEvent } from \"../../jacdac-ts/src/jdom/event\";\nimport { Typography, Badge } from \"@material-ui/core\";\nimport KindIcon from \"./KindIcon\";\nimport useEventCount from \"../jacdac/useEventCount\";\nimport DeviceName from \"./DeviceName\";\n\nexport default function EventInput(props: { event: JDEvent, showDeviceName?: boolean, showName?: boolean }) {\n    const { event, showName, showDeviceName } = props;\n    const count = useEventCount(event)\n    const spec = event.specification\n\n    return <>\n        {showDeviceName && <Typography>\n            <DeviceName device={event.service.device} />/\n        </Typography>}\n        {showName && spec && <Typography gutterBottom>\n            {spec.name}\n        </Typography>}\n        <Badge badgeContent={count} color=\"primary\">\n            <KindIcon kind={\"event\"} />\n        </Badge>\n    </>\n}","import React, { } from \"react\";\nimport { JDService } from \"../../jacdac-ts/src/jdom/service\";\nimport { isEvent } from \"../../jacdac-ts/src/jdom/spec\";\nimport EventInput from \"./EventInput\";\nimport AutoGrid from \"./ui/AutoGrid\";\n\nexport default function ServiceEvents(props: {\n    service: JDService,\n    eventIdentifiers?: number[],\n    showEventName?: boolean\n}) {\n    const { service, eventIdentifiers, showEventName } = props;\n    const spec = service.specification;\n    const packets = spec.packets;\n    let events = packets.filter(isEvent);\n    if (eventIdentifiers !== undefined)\n        events = events.filter(event => eventIdentifiers.indexOf(event.identifier) > -1)\n\n    return <AutoGrid spacing={1}>\n        {events.map(event => <EventInput key={`event${event.identifier}`} event={service.event(event.identifier)} showName={showEventName} />)}\n    </AutoGrid>\n}","import { setNumber, sizeOfNumberFormat } from \"./buffer\"\nimport { CMD_SET_REG, JD_SERIAL_MAX_PAYLOAD_SIZE } from \"./constants\"\nimport Packet from \"./packet\"\nimport {\n    clampToStorage,\n    isRegister,\n    numberFormatFromStorageType,\n    scaleFloatToInt,\n} from \"./spec\"\nimport { stringToUint8Array, toUTF8 } from \"./utils\"\n\nexport type ArgType = number | boolean | string | Uint8Array\nexport function packArguments(info: jdspec.PacketInfo, args: ArgType[]) {\n    let repeatIdx = -1\n    let numReps = 0\n    let argIdx = 0\n    let dst = 0\n\n    const buf = new Uint8Array(256)\n\n    for (let i = 0; i < info.fields.length; ++argIdx, ++i) {\n        if (argIdx >= args.length && numReps > 0) break\n        const arg0 = argIdx < args.length ? args[argIdx] : 0\n        const fld = info.fields[i]\n\n        if (repeatIdx == -1 && fld.startRepeats) repeatIdx = i\n\n        const arg1 =\n            fld.type == \"string0\" && typeof arg0 == \"string\"\n                ? arg0 + \"\\u0000\"\n                : arg0\n\n        const arg =\n            typeof arg1 == \"boolean\"\n                ? arg1\n                    ? 1\n                    : 0\n                : typeof arg1 == \"string\"\n                ? stringToUint8Array(toUTF8(arg1))\n                : arg1\n\n        if (typeof arg == \"number\") {\n            const intVal = scaleFloatToInt(arg, fld)\n            if (fld.storage == 0)\n                throw new Error(`expecting ${fld.type} got number`)\n\n            const fmt = numberFormatFromStorageType(fld.storage)\n            setNumber(buf, fmt, dst, clampToStorage(intVal, fld.storage))\n            dst += sizeOfNumberFormat(fmt)\n        } else {\n            let size = Math.abs(fld.storage)\n            if (typeof arg1 == \"string\") {\n                if (size == 0) size = arg.length\n                const argCut = arg.slice(0, size)\n                buf.set(argCut, dst)\n                dst += size\n            } else if (size == 0 || size == arg.length) {\n                buf.set(arg, dst)\n                dst += arg.length\n            } else {\n                throw new Error(\n                    `expecting ${Math.abs(fld.storage)} bytes; got ${\n                        arg.length\n                    }`\n                )\n            }\n        }\n\n        if (dst >= JD_SERIAL_MAX_PAYLOAD_SIZE)\n            throw new Error(\n                `jacdac packet length too large, ${dst} > ${JD_SERIAL_MAX_PAYLOAD_SIZE} bytes`\n            )\n\n        if (repeatIdx != -1 && i + 1 >= info.fields.length) {\n            i = repeatIdx - 1\n            numReps++\n        }\n    }\n\n    const cmd = isRegister(info)\n        ? info.identifier | CMD_SET_REG\n        : info.identifier\n    const pkt = Packet.from(cmd, buf.slice(0, dst))\n    if (info.kind != \"report\") pkt.isCommand = true\n    return pkt\n}\n","import React, { useContext } from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { InPipeReader } from \"../../jacdac-ts/src/jdom/pipes\";\nimport { JDService } from \"../../jacdac-ts/src/jdom/service\";\nimport DeviceName from \"./DeviceName\";\nimport { hasPipeReport, isReportOf } from \"../../jacdac-ts/src/jdom/spec\"\nimport { packArguments } from \"../../jacdac-ts/src/jdom/command\"\nimport { DecodedPacket, printPacket, serviceName } from \"../../jacdac-ts/src/jdom/pretty\"\nimport Packet from \"../../jacdac-ts/src/jdom/packet\";\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\";\nimport CmdButton from \"./CmdButton\";\nimport { PackedValues } from \"../../jacdac-ts/src/jdom/pack\";\n\nexport default function CommandInput(props: {\n    service: JDService,\n    command: jdspec.PacketInfo,\n    showDeviceName?: boolean,\n    args?: PackedValues,\n    setReports?: (reports: DecodedPacket[]) => void\n}) {\n    const { service, command, showDeviceName, args, setReports } = props;\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n\n    const { specification } = service;\n    const requiredArgLength = command.fields.length - (hasPipeReport(command) ? 1 : 0);\n    const missingArguments = (args?.length || 0) !== requiredArgLength;\n    const disabled = missingArguments;\n    const reportSpec = command.hasReport && specification.packets.find(p => isReportOf(command, p))\n    const handleClick = async () => {\n        const pkt = !args?.length ? Packet.onlyHeader(command.identifier)\n            : packArguments(command, args)\n        if (setReports && reportSpec) {\n            const reportPacket = await service.sendCmdAwaitResponseAsync(pkt)\n            const decoded = reportPacket?.decoded\n            setReports([decoded])\n        } else if (setReports && hasPipeReport(command)) {\n            let inp: InPipeReader;\n            try {\n                inp = new InPipeReader(bus);\n                const cmd = inp.openCommand(command.identifier);\n                await service.sendPacketAsync(cmd, true)\n                console.log(printPacket(cmd)) // keep this call, it sets up pretty to understand packages\n                const { output } = await inp.readAll()\n                const reports = output.filter(ot => !!ot.data?.length).map(ot => ot?.decoded);\n                setReports(reports)\n            }\n            finally {\n                inp?.unmount();\n            }\n        }\n        else\n            await service.sendPacketAsync(pkt, true)\n    }\n\n    return <CmdButton\n        trackName={`command.input`}\n        trackProperties={({\n            service: serviceName(service.serviceClass),\n            serviceClass: service.serviceClass\n        })}\n        variant=\"contained\"\n        disabled={disabled}\n        onClick={handleClick}>\n        {showDeviceName && <Typography>\n            <DeviceName device={service.device} />/\n        </Typography>}\n        {command.name.replace(/_/g, ' ')}\n    </CmdButton>\n}","import React, { useMemo } from \"react\"\nimport { DecodedPacket } from \"../../jacdac-ts/src/jdom/pretty\";\nimport MembersInput from \"./fields/MembersInput\";\n\nexport default function DecodedPacketItem(props: { pkt: DecodedPacket }) {\n    const { pkt } = props;\n    const { decoded, service } = pkt;\n    const specifications = useMemo(() => decoded.map(d => d.info), [decoded]);\n    const values = useMemo(() => decoded.map(d => d.value), [decoded]);\n    return <MembersInput\n        serviceSpecification={service}\n        specifications={specifications}\n        values={values}\n    />;\n}","import React, { useState } from 'react';\nimport { JDService } from \"../../jacdac-ts/src/jdom/service\";\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles } from '@material-ui/core/styles';\n// tslint:disable-next-line: no-submodule-imports\nimport Card from '@material-ui/core/Card';\n// tslint:disable-next-line: no-submodule-imports\nimport CardContent from '@material-ui/core/CardContent';\n// tslint:disable-next-line: no-submodule-imports\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from 'gatsby-theme-material-ui';\nimport ServiceRegisters from './ServiceRegisters';\nimport ServiceEvents from './ServiceEvents';\nimport { isCommand } from '../../jacdac-ts/src/jdom/spec';\nimport { CardActions, List, ListItem } from '@material-ui/core';\nimport DeviceCardHeader from './DeviceCardHeader';\nimport { DeviceLostAlert } from './alert/DeviceLostAlert';\nimport CommandInput from './CommandInput';\nimport { DecodedPacket } from '../../jacdac-ts/src/jdom/pretty';\nimport DecodedPacketItem from './DecodedPacketItem';\nimport ServiceSpecificationStatusAlert from './ServiceSpecificationStatusAlert'\nimport MembersInput from './fields/MembersInput';\n\nconst useStyles = makeStyles({\n    root: {\n        minWidth: 275,\n    },\n    bullet: {\n        display: 'inline-block',\n        margin: '0 2px',\n        transform: 'scale(0.8)',\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n});\n\nexport default function ServiceCard(props: {\n    service: JDService,\n    linkToService?: boolean,\n    showServiceName?: boolean,\n    showMemberName?: boolean,\n    registerIdentifiers?: number[],\n    eventIdentifiers?: number[],\n    commandIdentifier?: number\n}) {\n    const { service, linkToService, registerIdentifiers,\n        showServiceName, showMemberName, eventIdentifiers,\n        commandIdentifier } = props;\n    const { specification } = service;\n    const [reports, setReports] = useState<DecodedPacket[]>(undefined);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const [commandArgs, setCommandArgs] = useState<any[]>([]);\n    const classes = useStyles();\n    const hasCommandIdentifier = commandIdentifier !== undefined;\n    const hasRegisterIdentifiers = !!registerIdentifiers?.length;\n    const hasEventIdentifiers = !!eventIdentifiers?.length;\n    const command = commandIdentifier !== undefined\n        && specification?.packets.find(pkt => isCommand(pkt) && pkt.identifier === commandIdentifier)\n\n    return (\n        <Card className={classes.root}>\n            <DeviceCardHeader device={service.device} showAvatar={true} />\n            <CardContent>\n                {showServiceName && <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                    <Link to={linkToService && service.specification ? `/services/${service.specification.shortId}/` : \"/clients/web/jdom/service\"}>{service.name}</Link>\n                </Typography>}\n                <Typography variant=\"body2\" component=\"div\">\n                    {hasRegisterIdentifiers && <ServiceRegisters key={'reg' + service.id} service={service} showRegisterName={showMemberName} registerIdentifiers={registerIdentifiers} />}\n                    {hasEventIdentifiers && <ServiceEvents key={'ev' + service.id} service={service} showEventName={showMemberName} eventIdentifiers={eventIdentifiers} />}\n                    {command && <MembersInput\n                        serviceSpecification={specification}\n                        serviceMemberSpecification={command}\n                        specifications={command.fields}\n                        values={commandArgs}\n                        setValues={setCommandArgs}\n                        showDataType={true} />}\n                    {!!reports?.length && <List key={\"reports\"} dense>\n                        {reports?.map((report, ri) => <ListItem key={`report${ri}`} ><DecodedPacketItem pkt={report} /></ListItem>)}\n                    </List>}\n                </Typography>\n                {!hasCommandIdentifier && !hasRegisterIdentifiers && !hasEventIdentifiers && <ServiceSpecificationStatusAlert specification={specification} />}\n                <DeviceLostAlert device={service?.device} />\n            </CardContent>\n            <CardActions>\n                {command && <CommandInput\n                    service={service}\n                    command={command}\n                    args={commandArgs}\n                    setReports={setReports} />}\n            </CardActions>\n        </Card>\n    );\n}\n","import React, { useContext } from 'react';\nimport { Grid, makeStyles, Theme, createStyles } from '@material-ui/core';\nimport DeviceCard from './DeviceCard';\nimport ServiceCard from './ServiceCard';\nimport useChange from '../jacdac/useChange';\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\";\nimport useGridBreakpoints from './useGridBreakpoints';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        marginBottom: theme.spacing(1)\n    },\n}))\n\nexport default function DeviceList(props: {\n    serviceClass?: number,\n    linkToService?: boolean,\n    registerIdentifiers?: number[],\n    eventIdentifiers?: number[],\n    commandIdentifier?: number,\n    showServiceName?: boolean,\n    showMemberName?: boolean,\n    showTemperature?: boolean,\n    showFirmware?: boolean,\n    showServiceButtons?: boolean\n}) {\n    const { serviceClass, linkToService, registerIdentifiers,\n        showServiceName, showMemberName, showFirmware, showTemperature,\n        showServiceButtons,\n        eventIdentifiers, commandIdentifier } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const devices = useChange(bus, n => n.devices({ serviceClass }))\n    const services = useChange(bus, n => n.services({ serviceClass }))\n    const classes = useStyles()\n    const hasServiceClass = serviceClass !== undefined\n    const gridBreakpoints = useGridBreakpoints(devices?.length)\n\n    return (\n        <Grid\n            container\n            spacing={2}\n            className={classes.root}\n        >\n            {!hasServiceClass && devices.map(device => <Grid key={device.id} item {...gridBreakpoints}>\n                <DeviceCard\n                    device={device}\n                    showDescription={true}\n                    showTemperature={showTemperature}\n                    showFirmware={showFirmware}\n                    showServices={showServiceButtons}\n                />\n            </Grid>)}\n            {hasServiceClass && services.map(service => {\n                return <Grid key={service.id} item {...gridBreakpoints}>\n                    <ServiceCard service={service}\n                        linkToService={linkToService}\n                        showServiceName={showServiceName}\n                        showMemberName={showMemberName}\n                        registerIdentifiers={registerIdentifiers}\n                        eventIdentifiers={eventIdentifiers}\n                        commandIdentifier={commandIdentifier}\n                    />\n                </Grid>\n            })}\n        </Grid>\n    )\n}\n","import React from \"react\";\n// tslint:disable-next-line: no-submodule-imports\nimport Chip from '@material-ui/core/Chip';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport CategoryIcon from '@material-ui/icons/Category';\nimport Tooltip from \"./ui/Tooltip\";\n\nexport default function PacketMembersChip(props: { spec: jdspec.PacketInfo, members: jdspec.PacketMember[], className?: string }) {\n    const { members, className, spec } = props;\n    if (!members?.length)\n        return null\n\n    const label = spec?.packFormat;\n    const title = \"pack format\";\n    return <Tooltip title={title}>\n        <Chip style={({ textDecoration: \"none\" })} href=\"/reference/pack-format/\" component=\"a\"\n            clickable className={className} size=\"small\" icon={<CategoryIcon />} label={label} />\n    </Tooltip>\n}\n","import { isRegister, isEvent, isCommand, tryParseMemberValue, serviceSpecificationFromClassIdentifier } from \"../../jacdac-ts/src/jdom/spec\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"./ui/Alert\";\nimport React, { useState } from \"react\";\n// tslint:disable-next-line: no-submodule-imports\nimport Chip from '@material-ui/core/Chip';\nimport DeviceList from \"./DeviceList\";\nimport { makeStyles, createStyles, TextField } from \"@material-ui/core\";\nimport IDChip from \"./IDChip\";\nimport KindChip from \"./KindChip\";\nimport PacketMembersChip from \"./PacketMembersChip\";\nimport Markdown from \"./ui/Markdown\";\nimport { prettyMemberUnit, prettyUnit } from \"../../jacdac-ts/src/jdom/pretty\";\nimport { isSet } from \"../../jacdac-ts/src/jdom/utils\";\n\nconst useStyles = makeStyles((theme) => createStyles({\n    root: {\n        marginBottom: theme.spacing(1)\n    },\n    field: {\n        \"& > div\": { verticalAlign: \"middle\" }\n    },\n    chip: {\n        margin: theme.spacing(0.5),\n    },\n}),\n);\n\nfunction MemberType(props: { member: jdspec.PacketMember }) {\n    const { member } = props;\n    const classes = useStyles();\n    const helperText = prettyMemberUnit(member, true);\n\n    return <>\n        <li className={classes.field}>\n            {member.name !== \"_\" && `${member.name}: `}<code>{helperText}</code>\n        </li>\n    </>\n}\n\nfunction MembersType(props: { members: jdspec.PacketMember[], title?: string }) {\n    const { members, title } = props;\n\n    let repeatIndex = members.findIndex(m => !!m.startRepeats);\n    if (repeatIndex < 0) repeatIndex = members.length;\n    const beforeRepeat = members.slice(0, repeatIndex)\n    const afterRepeat = members.slice(repeatIndex)\n\n    return <>\n        {!!title && <h4>{title}</h4>}\n        {!!beforeRepeat.length && <ul>\n            {beforeRepeat\n                .map((member, i) => <MemberType key={`member${member.name}`} member={member} />)}\n        </ul>}\n        {!!afterRepeat.length && <>\n            <h5>starts repeating</h5>\n            <ul>\n                {afterRepeat\n                    .map((member, i) => <MemberType key={`member${member.name}`} member={member} />)}\n            </ul>\n        </>}\n    </>\n}\n\nexport default function PacketSpecification(props: {\n    serviceClass: number,\n    packetInfo: jdspec.PacketInfo,\n    reportInfo?: jdspec.PacketInfo,\n    pipeReportInfo?: jdspec.PacketInfo,\n    showDevices?: boolean\n}) {\n    const { serviceClass, packetInfo, reportInfo, pipeReportInfo, showDevices } = props;\n    const [args, setArgs] = useState<any[]>([])\n    const classes = useStyles();\n    if (!packetInfo)\n        return <Alert severity=\"error\">{`Unknown member ${serviceClass.toString(16)}:${packetInfo.identifier}`}</Alert>\n    const { fields } = packetInfo;\n    const isCmd = isCommand(packetInfo)\n\n    return <div className={classes.root}>\n        <h3 id={`${packetInfo.kind}:${packetInfo.identifier}`}>{packetInfo.name}\n            <PacketMembersChip spec={packetInfo} className={classes.chip} members={packetInfo.fields} />\n            {packetInfo.identifier !== undefined && <IDChip className={classes.chip} id={packetInfo.identifier} filter={`pkt:0x${packetInfo.identifier.toString(16)}`} />}\n            <KindChip className={classes.chip} kind={packetInfo.kind} />\n            {packetInfo.optional && <Chip className={classes.chip} size=\"small\" label=\"optional\" />}\n            {packetInfo.derived && <Chip className={classes.chip} size=\"small\" label=\"derived\" />}\n        </h3>\n        <Markdown source={packetInfo.description} />\n        {!!fields.length && <MembersType members={fields} title={isCmd && \"Arguments\"} />}\n        {!!reportInfo && <MembersType members={reportInfo.fields} title=\"Report\" />}\n        {!!pipeReportInfo && <MembersType members={pipeReportInfo.fields} title=\"Pipe report\" />}\n        {showDevices && isCommand(packetInfo) && <DeviceList serviceClass={serviceClass} commandIdentifier={packetInfo.identifier} />}\n        {showDevices && isRegister(packetInfo) && <DeviceList serviceClass={serviceClass} registerIdentifiers={[packetInfo.identifier]} />}\n        {showDevices && isEvent(packetInfo) && <DeviceList serviceClass={serviceClass} eventIdentifiers={[packetInfo.identifier]} />}\n    </div>\n}","import { CardMedia, CardMediaProps, createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    media: {\n        height: 0,\n        paddingTop: '75%', // 4:3\n    }\n}));\n\n/*\n        [theme.breakpoints.down('lg')]: {\n            paddingTop: '56.72%', // 16:9\n        },\n        [theme.breakpoints.down('xs')]: {\n            paddingTop: '18%',\n        },\n        [theme.breakpoints.down('md')]: { // 6:3\n            paddingTop: '50%',\n        }\n*/\n\nexport default function CardMediaWithSkeleton(props: CardMediaProps) {\n    const { image, src, className, ...others } = props;\n    const classes = useStyles();\n    const hasImage = !!image || !!src;\n    return hasImage ?\n        <CardMedia className={className || classes.media} {...others} image={image} src={src} />\n        : <></>;\n}","import React from \"react\";\nimport { JDDevice } from \"../../jacdac-ts/src/jdom/device\";\nimport useDeviceSpecification from \"../jacdac/useDeviceSpecification\";\nimport useDeviceImage from \"./devices/useDeviceImage\";\nimport CardMediaWithSkeleton from \"./ui/CardMediaWithSkeleton\";\n\nexport default function DeviceCardMedia(props: { device: JDDevice }) {\n    const { device } = props;\n    const specification = useDeviceSpecification(device)\n    const imageUrl = useDeviceImage(specification)\n\n    return <CardMediaWithSkeleton\n        image={imageUrl}\n        title={specification?.name}\n    />\n}","import { ControlReg, SRV_CTRL } from \"../../jacdac-ts/src/jdom/constants\";\nimport { CardHeader, Chip, Typography } from \"@material-ui/core\";\n// tslint:disable-next-line: no-submodule-imports\nimport { Link } from 'gatsby-theme-material-ui';\nimport { JDDevice } from \"../../jacdac-ts/src/jdom/device\";\nimport React from \"react\";\nimport { useRegisterIntValue, useRegisterStringValue } from \"../jacdac/useRegisterValue\";\nimport DeviceActions from \"./DeviceActions\";\nimport DeviceName from \"./DeviceName\";\nimport DeviceCardMedia from \"./DeviceCardMedia\"\nimport useDeviceSpecification from \"../jacdac/useDeviceSpecification\";\nimport { identifierToUrlPath } from \"../../jacdac-ts/src/jdom/spec\";\nimport DeviceAvatar from \"./devices/DeviceAvatar\";\n\nfunction DeviceFirmwareVersionChip(props: { device: JDDevice }) {\n    const { device } = props;\n    const firmwareVersionRegister = device?.service(0)?.register(ControlReg.FirmwareVersion)\n    const firmwareVersion = useRegisterStringValue(firmwareVersionRegister);\n\n    return (firmwareVersion && <Chip size=\"small\" label={firmwareVersion} />) || <></>\n}\n\nfunction DeviceTemperatureChip(props: { device: JDDevice }) {\n    const { device } = props;\n    const tempRegister = device?.service(0)?.register(ControlReg.McuTemperature)\n    const temperature = useRegisterIntValue(tempRegister);\n    return (temperature !== undefined && <Chip size=\"small\" label={`${temperature}°`} />) || <></>\n}\n\nexport default function DeviceCardHeader(props: {\n    device: JDDevice,\n    showAvatar?: boolean,\n    showDeviceId?: boolean,\n    showFirmware?: boolean,\n    showTemperature?: boolean,\n    showMedia?: boolean\n}) {\n    const { device, showFirmware, showTemperature, showMedia, showDeviceId, showAvatar } = props;\n    const specification = useDeviceSpecification(device);\n\n    return <>\n        {showMedia && <DeviceCardMedia device={device} />}\n        <CardHeader\n            avatar={showAvatar && <DeviceAvatar device={device} />}\n            action={<DeviceActions device={device} showReset={true} />}\n            title={<Link color=\"textPrimary\" to={`/devices/${identifierToUrlPath(specification?.id) || \"\"}`}>\n                <DeviceName device={device} />\n            </Link>}\n            subheader={<>\n                <Typography variant=\"caption\" gutterBottom>\n                    {[specification?.name, showDeviceId && device.deviceId].filter(s => !!s).join(', ')}\n                </Typography>\n                {showFirmware && <DeviceFirmwareVersionChip device={device} />}\n                {showTemperature && <DeviceTemperatureChip device={device} />}\n            </>}\n        />\n    </>\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { chainPropTypes } from '@material-ui/utils';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'block',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center'\n  },\n\n  /* Styles applied to the root element if `component=\"video, audio, picture, iframe, or img\"`. */\n  media: {\n    width: '100%'\n  },\n\n  /* Styles applied to the root element if `component=\"picture or img\"`. */\n  img: {\n    // ⚠️ object-fit is not supported by IE 11.\n    objectFit: 'cover'\n  }\n};\nvar MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nvar CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      image = props.image,\n      src = props.src,\n      style = props.style,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"image\", \"src\", \"style\"]);\n\n  var isMediaComponent = MEDIA_COMPONENTS.indexOf(Component) !== -1;\n  var composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: \"url(\\\"\".concat(image, \"\\\")\")\n  }, style) : style;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, isMediaComponent && classes.media, \"picture img\".indexOf(Component) !== -1 && classes.img),\n    ref: ref,\n    style: composedStyle,\n    src: isMediaComponent ? image || src : undefined\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardMedia'\n})(CardMedia);","import React, { useContext } from \"react\"\nimport { Chip } from \"@material-ui/core\";\nimport KindIcon, { kindName } from \"./KindIcon\";\nimport PacketsContext from \"./PacketsContext\"\nimport AppContext, { DrawerType } from \"./AppContext\"\nimport Tooltip from \"./ui/Tooltip\";\n\nexport default function KindChip(props: { kind: string, className?: string }) {\n    const { kind, className } = props;\n    const { filter, setFilter } = useContext(PacketsContext);\n    const { setDrawerType } = useContext(AppContext)\n    const icon = KindIcon({ kind })\n    const chipFilter = `kind:${kind}`\n    const filtered = filter && filter.indexOf(chipFilter) > -1\n    const handleClick = () => {\n        if (filtered)\n            setFilter(filter?.replace(chipFilter, '')?.trim())\n        else\n            setFilter(filter?.trim() + ' ' + chipFilter)\n        setDrawerType(DrawerType.Packets)\n    }\n    return <Tooltip title={filtered ? `remove filter ${chipFilter}` : `add filter ${chipFilter}`}>\n        <span>\n            <Chip onClick={handleClick} className={className} size=\"small\" label={kindName(kind)} icon={icon} />\n        </span>\n    </Tooltip>\n\n}","import React from \"react\";\nimport { LOST, FOUND } from \"../../../jacdac-ts/src/jdom/constants\";\nimport { JDDevice } from \"../../../jacdac-ts/src/jdom/device\";\nimport useEventRaised from \"../../jacdac/useEventRaised\";\nimport Alert from \"../ui/Alert\";\n\nexport function DeviceLostAlert(props: { device: JDDevice }) {\n    const { device } = props;\n    const lost = useEventRaised([LOST, FOUND], device, dev => !!dev?.lost)\n    return <>\n        {lost && <Alert severity=\"info\">Device lost...</Alert>}\n    </>\n}","import { GridSize } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport AppContext, { DrawerType } from \"./AppContext\"\n\nexport interface GridBreakpoints {\n    xs?: GridSize,\n    md?: GridSize,\n    sm?: GridSize,\n    lg?: GridSize,\n    xl?: GridSize\n}\n\nexport default function useGridBreakpoints(itemCount?: number): GridBreakpoints {\n    const { drawerType } = useContext(AppContext)\n\n    if (itemCount !== undefined) {\n        switch (itemCount) {\n            case 1:\n            case 2: return { xs: 12, sm: 6, md: 6, lg: 6, xl: 6 }\n            case 3: return { xs: 12, sm: 6, md: 6, lg: 4, xl: 4 }\n        }\n    }\n\n    if (drawerType != DrawerType.None)\n        return { xs: 12, md: 6, sm: 6, lg: 6, xl: 4 }\n    else return {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 4,\n        xl: 3\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport { JDEvent } from \"../../jacdac-ts/src/jdom/event\"\nimport { CHANGE } from \"../../jacdac-ts/src/jdom/constants\"\n\nexport default function useEventCount(event: JDEvent) {\n    const [count, setCount] = useState(event.count)\n    useEffect(() => event.subscribe(CHANGE, () => {\n        setCount(event.count)\n    }), [event])\n\n    return count;\n}","import React, { useContext } from \"react\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport FingerprintIcon from '@material-ui/icons/Fingerprint';\nimport { Chip, IconButton } from '@material-ui/core';\nimport PacketsContext from \"./PacketsContext\";\nimport AppContext, { DrawerType } from \"./AppContext\";\nimport Tooltip from \"./ui/Tooltip\";\n\nexport default function IDChip(props: { id: number | string, className?: string, filter?: string }) {\n    const { id, className, filter } = props\n    const { filter: packetFilter, setFilter: setPacketFilter } = useContext(PacketsContext);\n    const { setDrawerType } = useContext(AppContext)\n\n    const ids = typeof id === \"string\" ? id : `0x${id !== undefined ? (id as number).toString(16) : \"???\"}`\n    const filtered = packetFilter && packetFilter.indexOf(filter) > -1\n    const handleFilterClick = () => {\n        if (filtered)\n            setPacketFilter(packetFilter?.replace(filter, '')?.trim())\n        else\n            setPacketFilter(packetFilter?.trim() + ' ' + filter)\n        setDrawerType(DrawerType.Packets)\n    }\n    const icon = <FingerprintIcon />;\n    const title = filtered ? `remove filter ${filter}` : `add filter ${filter}`;\n    if (filter)\n        return <Tooltip title={filtered ? `remove filter ${filter}` : `add filter ${filter}`}>\n            <span>\n                <Chip className={className} size=\"small\" icon={\n                    <IconButton aria-label={title} onClick={handleFilterClick}>\n                        {icon}\n                    </IconButton>\n                } label={ids} />\n            </span>\n        </Tooltip>\n    else\n        return <Chip aria-label={title} className={className} size=\"small\" icon={icon} title={`identifier ${ids}`} label={ids} />;\n}","import React from \"react\";\nimport Alert from \"./ui/Alert\";\n\nexport function StatusAlert(props: { specification: jdspec.ServiceSpec }) {\n    const { specification } = props;\n\n    switch (specification?.status) {\n        case \"deprecated\": return <Alert severity=\"warning\">Deprecated</Alert>\n        case \"experimental\": return <Alert severity=\"info\">Experimental</Alert>\n        default: return null;\n    }\n}\n\nconst ServiceSpecificationStatusAlert = React.memo(StatusAlert);\n\nexport default ServiceSpecificationStatusAlert;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar CardActions = /*#__PURE__*/React.forwardRef(function CardActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActions'\n})(CardActions);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2l-5.5 9h11z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"17.5\",\n  cy: \"17.5\",\n  r: \"4.5\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 13.5h8v8H3z\"\n})), 'Category');\n\nexports.default = _default;","import { ButtonProps } from \"@material-ui/core\";\nimport { Button } from \"gatsby-theme-material-ui\";\nimport React from 'react';\nimport { JDService } from \"../../jacdac-ts/src/jdom/service\";\n\nexport default function ServiceButton(props: { service: JDService, onClick?: () => void } & ButtonProps) {\n    const { service, onClick, ...others } = props;\n    return <Button\n        {...others}\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={onClick}>\n        {service.name}\n    </Button>\n}\n","import React from 'react';\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles } from '@material-ui/core/styles';\n// tslint:disable-next-line: no-submodule-imports\nimport Card from '@material-ui/core/Card';\n// tslint:disable-next-line: no-submodule-imports\nimport CardContent from '@material-ui/core/CardContent';\nimport { JDDevice } from '../../jacdac-ts/src/jdom/device';\nimport { SRV_CTRL, SRV_LOGGER, ControlReg } from '../../jacdac-ts/src/jdom/constants';\nimport ServiceButton from './ServiceButton';\nimport useChange from '../jacdac/useChange';\nimport { navigate } from \"gatsby\";\nimport { JDService } from '../../jacdac-ts/src/jdom/service';\nimport { CardActions, createStyles } from '@material-ui/core';\nimport DeviceCardHeader from './DeviceCardHeader';\nimport { useRegisterStringValue } from '../jacdac/useRegisterValue';\nimport { DeviceLostAlert } from './alert/DeviceLostAlert';\n\nconst useStyles = makeStyles(() => createStyles({\n    root: {\n    },\n    bullet: {\n        display: 'inline-block',\n        margin: '0 2px',\n        transform: 'scale(0.8)',\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n}));\n\nfunction navigateToService(service: JDService) {\n    const spec = service.specification;\n    if (spec)\n        navigate(`/services/${spec.shortId}/`) // todo spec\n}\n\nfunction DeviceDescription(props: { device: JDDevice }) {\n    const { device } = props;\n    const register = device?.service(0)?.register(ControlReg.DeviceDescription)\n    const description = useRegisterStringValue(register)\n    return <span>{description || \"\"}</span>\n}\n\nexport default function DeviceCard(props: {\n    device: JDDevice,\n    children?: any,\n    action?: JSX.Element | JSX.Element[],\n    content?: JSX.Element | JSX.Element[],\n    showDeviceId?: boolean,\n    showServices?: boolean,\n    showTemperature?: boolean,\n    showFirmware?: boolean,\n    showDescription?: boolean\n}) {\n    const { device, children, action, content,\n        showDeviceId,\n        showDescription, showTemperature, showFirmware, showServices } = props;\n    const classes = useStyles();\n    const services = useChange(device, () => device.services()\n        .filter(service => service.serviceClass != SRV_CTRL && service.serviceClass != SRV_LOGGER));\n\n    return (\n        <Card className={classes.root}>\n            <DeviceCardHeader device={device}\n                showDeviceId={showDeviceId}\n                showTemperature={showTemperature}\n                showFirmware={showFirmware}\n                showMedia={true} />\n            {(showDescription || content) &&\n                <CardContent>\n                    {<DeviceLostAlert device={device} />}\n                    {showDescription && <DeviceDescription device={device} />}\n                    {content}\n                </CardContent>}\n            <CardActions>\n                {action}\n                {showServices && services?.map(service => <ServiceButton key={service.id} service={service} onClick={() => navigateToService(service)} />)}\n            </CardActions>\n            {children}\n        </Card>\n    );\n}\n"],"sourceRoot":""}