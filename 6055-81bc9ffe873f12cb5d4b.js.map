{"version":3,"file":"6055-81bc9ffe873f12cb5d4b.js","mappings":";;;;;;;;;;;;AAAA;AACA;AAEe,SAASG,iBAAT,CAA2BC,KAA3B,EAGZ;AACC,MAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAoBF,KAA1B;AACA,MAAM;AAAEG,IAAAA,EAAE,GAAG,EAAP;AAAWC,IAAAA,IAAI,GAAG;AAAlB,MAAyBF,MAA/B;AAEA,MAAMG,KAAK,GAAGR,kDAAW,CAAC,MAAM;AAC5B;AACA,QAAMS,CAAC,GAAGH,EAAE,CAACI,OAAH,CAAW,MAAX,CAAV;AACA,QAAMC,OAAO,GAAGL,EAAE,CAACM,KAAH,CAAS,CAAT,EAAYH,CAAZ,CAAhB;AACA,QAAMI,IAAI,GAAGP,EAAE,CAACM,KAAH,CAASH,CAAC,GAAG,CAAb,EAAgBK,IAAhB,EAAb;AAEA,QAAMC,OAAO,gGAGnBJ,OAHmB,6iBAkBnBE,IAlBmB,OAAb;AAoBA,QAAMG,SAAS,kDAGFZ,KAAK,IAAI,MAHP,yGAQrBG,IARqB,odAAf;AA2BA,WAAO;AACH,sBAAgB;AACZU,QAAAA,OAAO,EAAE;AACLC,UAAAA,YAAY,EAAE;AACV,yBAAa,QADH;AAEVC,YAAAA,SAAS,EAAE;AAFD;AADT;AADG,OADb;AASH,kBAAY;AACRF,QAAAA,OAAO,EAAEF;AADD,OATT;AAYH,oBAAc;AACVE,QAAAA,OAAO,EAAED;AADC;AAZX,KAAP;AAgBH,GArEwB,EAqEtB,CAACZ,KAAD,EAAQC,MAAR,EAAgBC,EAAhB,EAAoBC,IAApB,CArEsB,CAAzB;AAuEA,sBAAO,iDAAC,mEAAD;AAAmB,SAAK,EAAEC;AAA1B,IAAP;AACH","sources":["webpack://jacdac-docs/./src/components/ui/VanillaCodeButton.tsx"],"sourcesContent":["import React, { useCallback } from \"react\"\nimport CodeSandboxButton from \"./CodeSandboxButton\"\n\nexport default function VanillaCodeButton(props: {\n    title?: string\n    source: { js?: string; html?: string }\n}) {\n    const { title, source } = props\n    const { js = \"\", html = \"\" } = source\n\n    const files = useCallback(() => {\n        // find imports\n        const i = js.indexOf(\"\\n\\n\")\n        const imports = js.slice(0, i)\n        const code = js.slice(i + 2).trim()\n\n        const indexJs = `\nimport \"milligram\";\nimport { createWebBus, CONNECTION_STATE } from \"jacdac-ts\";\n${imports}\nconst connectEl = document.getElementById(\"connectbtn\");\nconst logEl = document.getElementById(\"log\")\nconst log = (msg) => {\n    console.log(msg)\n    logEl.innerText += msg + \"\\\\n\"\n}\n// create WebUSB bus\nconst bus = createWebBus();\n// track connection state and update button\nbus.on(CONNECTION_STATE, () => { connectEl.innerText = bus.connected ? \"connected ðŸŽ‰\" : \"connect\" })\n// connect must be triggered by a user interaction\nconnectEl.onclick = async () =>\n  bus.connected ? bus.disconnect() : bus.connect();\n\n${code}\n`\n        const indexHtml = `\n<html>\n    <body>\n        <h1>Jacdac ${title || \"demo\"}</h1>\n        <div>\n        <button id=\"connectbtn\">connect</button>\n        </div>    \n\n${html}\n        <pre id=\"log\"></pre>\n\n    <footer>\n        <small>\n        Need to learn more about Jacdac?\n        <a target=\"_blank\" href=\"https://aka.ms/jacdac\">Read the docs</a>\n        or\n        <a\n            target=\"_blank\"\n            href=\"https://github.com/microsoft/jacdac/discussions\"\n            >start a discussion</a\n        >.\n        </small>\n    </footer>\n    <script src=\"./index.js\" />\n    </body>\n</html>    \n        `\n        return {\n            \"package.json\": {\n                content: {\n                    dependencies: {\n                        \"jacdac-ts\": \"latest\",\n                        milligram: \"latest\",\n                    },\n                },\n            },\n            \"index.js\": {\n                content: indexJs,\n            },\n            \"index.html\": {\n                content: indexHtml,\n            },\n        }\n    }, [title, source, js, html])\n\n    return <CodeSandboxButton files={files} />\n}\n"],"names":["React","useCallback","CodeSandboxButton","VanillaCodeButton","props","title","source","js","html","files","i","indexOf","imports","slice","code","trim","indexJs","indexHtml","content","dependencies","milligram"],"sourceRoot":""}