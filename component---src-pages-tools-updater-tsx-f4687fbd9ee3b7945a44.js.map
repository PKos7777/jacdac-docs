{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/core/esm/CardMedia/CardMedia.js","webpack://jacdac-docs/./node_modules/@material-ui/core/esm/internal/SwitchBase.js","webpack://jacdac-docs/./node_modules/@material-ui/core/esm/Switch/Switch.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/DeleteForever.js","webpack://jacdac-docs/./src/components/ServiceButton.tsx","webpack://jacdac-docs/./src/components/DeviceCard.tsx","webpack://jacdac-docs/./src/components/ui/CardMediaWithSkeleton.tsx","webpack://jacdac-docs/./src/components/DeviceCardMedia.tsx","webpack://jacdac-docs/./src/components/DeviceCardHeader.tsx","webpack://jacdac-docs/./src/components/alert/ConnectAlert.tsx","webpack://jacdac-docs/./src/components/alert/DeviceLostAlert.tsx","webpack://jacdac-docs/./src/components/ui/CircularProgressWithLabel.tsx","webpack://jacdac-docs/./src/jacdac/useEventRaised.ts","webpack://jacdac-docs/./src/components/firmware/useFirmwareRepos.ts","webpack://jacdac-docs/./src/components/firmware/LocalFileFirmwareCard.tsx","webpack://jacdac-docs/./src/components/firmware/FirmwareCardGrid.tsx","webpack://jacdac-docs/./src/components/firmware/FlashDeviceButton.tsx","webpack://jacdac-docs/./src/components/UpdateDeviceList.tsx","webpack://jacdac-docs/./src/components/firmware/SafeBootAlert.tsx","webpack://jacdac-docs/./src/components/firmware/ManualFirmwareAlert.tsx","webpack://jacdac-docs/./src/components/tools/Flash.tsx","webpack://jacdac-docs/./src/pages/tools/updater.tsx"],"names":["ServiceButton","props","service","onClick","others","name","useStyles","makeStyles","createStyles","root","bullet","display","margin","transform","title","fontSize","pos","marginBottom","navigateToService","spec","specification","navigate","shortId","DeviceDescription","device","register","ControlReg","useRegisterUnpackedValue","description","DeviceCard","children","action","content","showDeviceId","showDescription","showTemperature","showFirmware","showServices","classes","services","useChange","filter","serviceClass","SRV_CTRL","SRV_LOGGER","map","id","theme","media","height","paddingTop","CardMediaWithSkeleton","image","src","className","hasImage","DeviceCardMedia","useDeviceSpecification","imageUrl","useDeviceImage","DeviceFirmwareVersionChip","firmwareVersionRegister","firmwareVersion","DeviceTemperatureChip","tempRegister","temperature","undefined","DeviceCardHeader","showMedia","showAvatar","showSettings","identifierToUrlPath","deviceId","s","join","button","marginLeft","spacing","NoSsrConnectAlert","useContext","JacdacContext","bus","transports","devices","b","ignoreSelf","serviceSpecificationFromClassIdentifier","length","transport","type","ConnectAlert","DeviceLostAlert","lost","useEventRaised","LOST","FOUND","dev","CircularProgressWithLabel","Math","round","value","eventName","node","query","useState","version","setVersion","useEffect","subscribe","useFirmwareRepos","showAllRepos","repos","setRepos","DEVICE_CHANGE","announced","bootloaders","hasService","SRV_BOOTLOADER","registers","reg","useEffectAsync","mounted","deviceSpecifications","repo","firmwares","refresh","firmwareIdentifier","intValue","indexOf","push","bootloader","boot","bl_announce","Packet","BootloaderCmd","sendCmdAwaitResponseAsync","resp","jdunpack","console","warn","fw","deviceSpecificationFromFirmwareIdentifier","urepos","unique","ImportButton","lazy","LOCAL_FILE_SLUG","LocalFileFirmwareCard","slug","downloading","setDownloading","error","setError","useFirmwareBlob","setFirmwareFile","firmwareBlobs","disabled","handleFiles","files","file","handleClear","blob","toString","FirmwareCardGrid","gridBreakpoints","useGridBreakpoints","safeBoot","firmwareRepos","firmwareRepo","FlashDeviceButton","ignoreFirmwareCheck","AppContext","progress","setProgress","firmwareInfo","d","update","updateApplicable","flashing","missing","useMounted","handleFlashing","updateCandidates","flashFirmwareBlob","prog","UpdateDeviceCard","blobs","useFirmwareBlobs","find","UpdateDeviceList","scanning","useRef","useDevices","ignoreSimulators","isFlashing","some","scan","current","log","scanFirmwares","FIRMWARE_BLOBS_CHANGE","SafeBootAlert","DbContext","db","useSnackbar","enqueueSnackbar","setSafeBoot","handleRecovery","v","clear","variant","fwid","store","ManualFirmware","stores","setDeviceId","firmwareId","setFirmwareId","setStore","handleDeviceChange","ev","target","handleStoreChange","handleFirmwareChange","describe","ManualFirmwareAlert","enabled","setEnabled","handleToggle","Flash","tab","setTab","handleTabChange","event","newValue","a11yProps","Page"],"mappings":";;;;;;;;;;;;AAA0D;AACgC;AAC3D;AACP;AACsB;AACM;AAC7C;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,6CAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,oGAAwB;;AAEtC;AACA,mDAAmD,oFAAQ;AAC3D;AACA,GAAG;AACH,sBAAsB,gDAAmB,YAAY,oFAAQ;AAC7D,eAAe,sDAAI;AACnB;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,MAAqC,GAAG,CAAM;AAC9C,yDAAe,oEAAU;AACzB;AACA,CAAC,YAAY,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpD6C;AACY;AACoB;AAC3D;AACP;AACqB;AACM;AACQ;AACb;AACP;AAChC;AACP;AACA;AACA,GAAG;AACH,aAAa;AACb,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA8B,gBAAgB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0CAAwB;;AAEtC,uBAAuB,gCAAa;AACpC;AACA;AACA;AACA;AACA,GAAG;AACH,wBAAwB,gCAAc;AACtC;AACA;;AAEA,uBAAuB,iCAAc;;AAErC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,mBAAmB,CAAC,yBAAU,EAAE,8BAAQ;AAC9D;AACA,eAAe,yBAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,uBAAuB,mBAAmB,UAAU,8BAAQ;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,EAAE;AACH;;AAEA,MAAqC,GAAG,CAAM;AAC9C,wDAAe,6BAAU;AACzB;AACA,CAAC,aAAa,E;;AC1I4C;AACgC;;AAE3D;AACP;AACqB;AACC;AACI;AACL;AACG;AACzC,IAAI,aAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,2BAA2B,iCAAI;AAC/B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,2BAA2B,iCAAI;AAC/B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe;;AAEf;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0CAAwB;;AAEtC,0BAA0B,mBAAmB;AAC7C;AACA,GAAG;AACH,sBAAsB,mBAAmB;AACzC,eAAe,yBAAI;AACnB;AACA;AACA,KAAK,kDAAkD,6BAAU;AACjE,GAAG,eAAe,mBAAmB,CAAC,mBAAU,EAAE,8BAAQ;AAC1D;AACA;AACA;AACA;AACA,YAAY,yBAAI,4CAA4C,6BAAU;AACtE;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG,wBAAwB,mBAAmB;AAC9C;AACA,GAAG;AACH,CAAC;AACD,MAAqC,GAAG,CAAM;AAC9C,kDAAe,6BAAU,CAAC,aAAM;AAChC;AACA,CAAC,SAAS,E;;;;;;;;;ACvMG;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBf;AACA;AAGe,SAASA,aAAT,CACXC,KADW,EAEb;AAAA,MACUC,OADV,GAC0CD,KAD1C,CACUC,OADV;AAAA,MACmBC,OADnB,GAC0CF,KAD1C,CACmBE,OADnB;AAAA,MAC+BC,MAD/B,mDAC0CH,KAD1C;;AAEE,sBACI,oBAAC,+BAAD,oBACQG,MADR;AAEI,WAAO,EAAC,WAFZ;AAGI,SAAK,EAAC,SAHV;AAII,WAAO,EAAED;AAJb,MAMKD,OAAO,CAACG,IANb,CADJ;AAUH,C;;;;;;;;;;;;;;;;CClBD;;CAEA;;CAEA;;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,IAAMC,SAAS,GAAGC,6BAAU,CAAC;AAAA,SAAMC,+BAAY,CAAC;AAC5CC,QAAI,EAAE,EADsC;AAG5CC,UAAM,EAAE;AACJC,aAAO,EAAE,cADL;AAEJC,YAAM,EAAE,OAFJ;AAGJC,eAAS,EAAE;AAHP,KAHoC;AAQ5CC,SAAK,EAAE;AACHC,cAAQ,EAAE;AADP,KARqC;AAW5CC,OAAG,EAAE;AACDC,kBAAY,EAAE;AADb;AAXuC,GAAD,CAAlB;AAAA,CAAD,CAA5B;;AAgBA,SAASC,iBAAT,CAA2BhB,OAA3B,EAA+C;AAC3C,MAAMiB,IAAI,GAAGjB,OAAO,CAACkB,aAArB;AACA,MAAID,IAAJ,EACIE,iCAAQ,gBAAcF,IAAI,CAACG,OAAnB,OAAR,CAHuC,CAGA;AAC9C;;AAED,SAASC,iBAAT,CAA2BtB,KAA3B,EAAwD;AAAA;;AAAA,MAC5CuB,MAD4C,GACjCvB,KADiC,CAC5CuB,MAD4C;AAEpD,MAAMC,QAAQ,GAAGD,MAAH,aAAGA,MAAH,0CAAGA,MAAM,CAAEtB,OAAR,CAAgB,CAAhB,CAAH,oDAAG,gBAAoBuB,QAApB,CAA6BC,iEAA7B,CAAjB;;AAFoD,8BAG9BC,qDAAwB,CAAWF,QAAX,CAHM;AAAA,MAG7CG,WAH6C;;AAIpD,sBAAO,kCAAOA,WAAW,IAAI,EAAtB,CAAP;AACH;;AAEc,SAASC,UAAT,CAAoB5B,KAApB,EAUZ;AAAA,MACSuB,MADT,GAGsEvB,KAHtE,CACSuB,MADT;AAAA,MACiBM,QADjB,GAGsE7B,KAHtE,CACiB6B,QADjB;AAAA,MAC2BC,MAD3B,GAGsE9B,KAHtE,CAC2B8B,MAD3B;AAAA,MACmCC,OADnC,GAGsE/B,KAHtE,CACmC+B,OADnC;AAAA,MAEKC,YAFL,GAGsEhC,KAHtE,CAEKgC,YAFL;AAAA,MAGKC,eAHL,GAGsEjC,KAHtE,CAGKiC,eAHL;AAAA,MAGsBC,eAHtB,GAGsElC,KAHtE,CAGsBkC,eAHtB;AAAA,MAGuCC,YAHvC,GAGsEnC,KAHtE,CAGuCmC,YAHvC;AAAA,MAGqDC,YAHrD,GAGsEpC,KAHtE,CAGqDoC,YAHrD;AAIC,MAAMC,OAAO,GAAGhC,SAAS,EAAzB;AACA,MAAMiC,QAAQ,GAAGC,4BAAS,CAAChB,MAAD,EAAS;AAAA,WAAMA,MAAM,CAACe,QAAP,GACpCE,MADoC,CAC7B,UAAAvC,OAAO;AAAA,aAAIA,OAAO,CAACwC,YAAR,IAAwBC,2BAAxB,IAAoCzC,OAAO,CAACwC,YAAR,IAAwBE,6BAAhE;AAAA,KADsB,CAAN;AAAA,GAAT,CAA1B;AAGA,sBACI,oBAAC,mBAAD;AAAM,aAAS,EAAEN,OAAO,CAAC7B;AAAzB,kBACI,oBAAC,+BAAD;AAAkB,UAAM,EAAEe,MAA1B;AACI,gBAAY,EAAES,YADlB;AAEI,mBAAe,EAAEE,eAFrB;AAGI,gBAAY,EAAEC,YAHlB;AAII,aAAS,EAAE;AAJf,IADJ,EAMK,CAACF,eAAe,IAAIF,OAApB,kBACG,oBAAC,0BAAD,qBACK,oBAAC,sCAAD;AAAiB,UAAM,EAAER;AAAzB,IADL,EAEKU,eAAe,iBAAI,oBAAC,iBAAD;AAAmB,UAAM,EAAEV;AAA3B,IAFxB,EAGKQ,OAHL,CAPR,eAYI,oBAAC,0BAAD,QACKD,MADL,EAEKM,YAAY,KAAIE,QAAJ,aAAIA,QAAJ,uBAAIA,QAAQ,CAAEM,GAAV,CAAc,UAAA3C,OAAO;AAAA,wBAAI,oBAAC,aAAD;AAAe,SAAG,EAAEA,OAAO,CAAC4C,EAA5B;AAAgC,aAAO,EAAE5C,OAAzC;AAAkD,aAAO,EAAE;AAAA,eAAMgB,iBAAiB,CAAChB,OAAD,CAAvB;AAAA;AAA3D,MAAJ;AAAA,GAArB,CAAJ,CAFjB,CAZJ,EAgBK4B,QAhBL,CADJ;AAoBH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFD;AACA;AAEA,IAAMxB,SAAS,GAAGC,6BAAU,CAAC,UAACwC,KAAD;AAAA,SAAkBvC,+BAAY,CAAC;AACxDwC,SAAK,EAAE;AACHC,YAAM,EAAE,CADL;AAEHC,gBAAU,EAAE,KAFT,CAEgB;;AAFhB;AADiD,GAAD,CAA9B;AAAA,CAAD,CAA5B;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAASC,qBAAT,CAA+BlD,KAA/B,EAAsD;AAAA,MACzDmD,KADyD,GACpBnD,KADoB,CACzDmD,KADyD;AAAA,MAClDC,GADkD,GACpBpD,KADoB,CAClDoD,GADkD;AAAA,MAC7CC,SAD6C,GACpBrD,KADoB,CAC7CqD,SAD6C;AAAA,MAC/BlD,MAD+B,mDACpBH,KADoB;;AAEjE,MAAMqC,OAAO,GAAGhC,SAAS,EAAzB;AACA,MAAMiD,QAAQ,GAAG,CAAC,CAACH,KAAF,IAAW,CAAC,CAACC,GAA9B;AACA,SAAOE,QAAQ,gBACX,oBAAC,wBAAD;AAAW,aAAS,EAAED,SAAS,IAAIhB,OAAO,CAACU;AAA3C,KAAsD5C,MAAtD;AAA8D,SAAK,EAAEgD,KAArE;AAA4E,OAAG,EAAEC;AAAjF,KADW,gBAET,yCAFN;AAGH,C;;AC7BD;AAEA;AACA;AACA;AAEe,SAASG,eAAT,CAAyBvD,KAAzB,EAAsD;AAAA,MACzDuB,MADyD,GAC9CvB,KAD8C,CACzDuB,MADyD;AAEjE,MAAMJ,aAAa,GAAGqC,yCAAsB,CAACjC,MAAD,CAA5C;AACA,MAAMkC,QAAQ,GAAGC,iCAAc,CAACvC,aAAD,CAA/B;AAEA,sBAAO,oBAAC,qBAAD;AACH,SAAK,EAAEsC,QADJ;AAEH,SAAK,EAAEtC,aAAF,aAAEA,aAAF,uBAAEA,aAAa,CAAEf;AAFnB,IAAP;AAIH,C;;;;;;ACfD;CAEA;;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASuD,yBAAT,CAAmC3D,KAAnC,EAAgE;AAAA;;AAAA,MACpDuB,MADoD,GACzCvB,KADyC,CACpDuB,MADoD;AAE5D,MAAMqC,uBAAuB,GAAGrC,MAAH,aAAGA,MAAH,0CAAGA,MAAM,CAChCtB,OAD0B,CAClB,CADkB,CAAH,oDAAG,gBAE1BuB,QAF0B,CAEjBC,6DAFiB,CAAhC;;AAF4D,8BAKlCC,qDAAwB,CAC9CkC,uBAD8C,CALU;AAAA,MAKrDC,eALqD;;AAS5D,SACKA,eAAe,iBAAI,oBAAC,mBAAD;AAAM,QAAI,EAAC,OAAX;AAAmB,SAAK,EAAEA;AAA1B,IAApB,iBACI,yCAFR;AAKH;;AAED,SAASC,qBAAT,CAA+B9D,KAA/B,EAA4D;AAAA;;AAAA,MAChDuB,MADgD,GACrCvB,KADqC,CAChDuB,MADgD;AAExD,MAAMwC,YAAY,GAAGxC,MAAH,aAAGA,MAAH,2CAAGA,MAAM,CAAEtB,OAAR,CAAgB,CAAhB,CAAH,qDAAG,iBAAoBuB,QAApB,CAA6BC,2DAA7B,CAArB;;AAFwD,+BAGlCC,qDAAwB,CAAWqC,YAAX,CAHU;AAAA,MAGjDC,WAHiD;;AAIxD,SACKA,WAAW,KAAKC,SAAhB,iBACG,oBAAC,mBAAD;AAAM,QAAI,EAAC,OAAX;AAAmB,SAAK,EAAKD,WAAL;AAAxB,IADJ,iBAEM,yCAHV;AAKH;;AAEc,SAASE,gBAAT,CAA0BlE,KAA1B,EAQZ;AAAA,MAEKuB,MAFL,GASKvB,KATL,CAEKuB,MAFL;AAAA,MAGKY,YAHL,GASKnC,KATL,CAGKmC,YAHL;AAAA,MAIKD,eAJL,GASKlC,KATL,CAIKkC,eAJL;AAAA,MAKKiC,SALL,GASKnE,KATL,CAKKmE,SALL;AAAA,MAMKnC,YANL,GASKhC,KATL,CAMKgC,YANL;AAAA,MAOKoC,UAPL,GASKpE,KATL,CAOKoE,UAPL;AAAA,MAQKC,YARL,GASKrE,KATL,CAQKqE,YARL;AAUC,MAAMlD,aAAa,GAAGqC,yCAAsB,CAACjC,MAAD,CAA5C;AAEA,sBACI,0CACK4C,SAAS,iBAAI,oBAAC,eAAD;AAAiB,UAAM,EAAE5C;AAAzB,IADlB,eAEI,oBAAC,yBAAD;AACI,UAAM,EAAE6C,UAAU,iBAAI,oBAAC,2BAAD;AAAc,YAAM,EAAE7C;AAAtB,MAD1B;AAEI,UAAM,eAAE,oBAAC,4BAAD;AAAe,YAAM,EAAEA,MAAvB;AAA+B,eAAS,EAAE,IAA1C;AAAgD,kBAAY,EAAE8C;AAA9D,MAFZ;AAGI,SAAK,eACD,oBAAC,6BAAD;AACI,WAAK,EAAC,aADV;AAEI,QAAE,iBACEC,oCAAmB,CAACnD,aAAD,aAACA,aAAD,uBAACA,aAAa,CAAE0B,EAAhB,CAAnB,IAA0C,EAD5C;AAFN,oBAMI,oBAAC,yBAAD;AAAY,YAAM,EAAEtB;AAApB,MANJ,CAJR;AAaI,aAAS,eACL,uDACI,oBAAC,yBAAD;AAAY,aAAO,EAAC,SAApB;AAA8B,kBAAY;AAA1C,OACK,CACGJ,aADH,aACGA,aADH,uBACGA,aAAa,CAAEf,IADlB,EAEG4B,YAAY,IAAIT,MAAM,CAACgD,QAF1B,EAII/B,MAJJ,CAIW,UAAAgC,CAAC;AAAA,aAAI,CAAC,CAACA,CAAN;AAAA,KAJZ,EAKIC,IALJ,CAKS,IALT,CADL,CADJ,EASKtC,YAAY,iBACT,oBAAC,yBAAD;AAA2B,YAAM,EAAEZ;AAAnC,MAVR,EAYKW,eAAe,iBACZ,oBAAC,qBAAD;AAAuB,YAAM,EAAEX;AAA/B,MAbR;AAdR,IAFJ,CADJ;AAqCH,C;;;;;;;;;;;;;;;;;;;;;AClGD;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMlB,SAAS,GAAGC,mEAAU,CAAC,UAAAwC,KAAK;AAAA,SAC9BvC,mEAAY,CAAC;AACTmE,UAAM,EAAE;AACJC,gBAAU,EAAE7B,KAAK,CAAC8B,OAAN,CAAc,CAAd;AADR;AADC,GAAD,CADkB;AAAA,CAAN,CAA5B;;AAQA,SAASC,iBAAT,CAA2B7E,KAA3B,EAA6D;AACzD,MAAMqC,OAAO,GAAGhC,SAAS,EAAzB;AADyD,MAEjDoC,YAFiD,GAEhCzC,KAFgC,CAEjDyC,YAFiD;;AAAA,oBAGzCqC,iDAAU,CAAqBC,6DAArB,CAH+B;AAAA,MAGjDC,GAHiD,eAGjDA,GAHiD;;AAAA,MAIjDC,UAJiD,GAIlCD,GAJkC,CAIjDC,UAJiD;AAKzD,MAAMC,OAAO,GAAG3C,mEAAS,CAACyC,GAAD,EAAM,UAAAG,CAAC;AAAA,WAAIA,CAAC,CAACD,OAAF,CAAU;AAAEzC,kBAAY,EAAZA,YAAF;AAAgB2C,gBAAU,EAAE;AAA5B,KAAV,CAAJ;AAAA,GAAP,CAAzB;AACA,MAAMlE,IAAI,GAAGmE,2GAAuC,CAAC5C,YAAD,CAApD,CANyD,CAQzD;;AACA,MAAI,CAACwC,UAAU,CAACK,MAAZ,IAAsBJ,OAAtB,aAAsBA,OAAtB,eAAsBA,OAAO,CAAEI,MAAnC,EAA2C,OAAO,IAAP;AAE3C,sBACI,iDAAC,+DAAD;AAAK,gBAAY,EAAC;AAAlB,kBACI,iDAAC,uDAAD;AAAO,YAAQ,EAAC,MAAhB;AAAuB,aAAS,EAAE;AAAlC,KACK,CAACpE,IAAD,iBAAS,8FADd,EAEKA,IAAI,iBAAI,qFAAyBA,IAAI,CAACd,IAA9B,aAFb,EAGK6E,UAAU,CAACrC,GAAX,CAAe,UAAA2C,SAAS;AAAA,wBACrB,iDAAC,mEAAD;AACI,SAAG,EAAEA,SAAS,CAACC,IADnB;AAEI,eAAS,EAAED,SAFf;AAGI,eAAS,EAAElD,OAAO,CAACqC,MAHvB;AAII,UAAI,EAAE,IAJV;AAKI,iBAAW,EAAE;AALjB,MADqB;AAAA,GAAxB,CAHL,CADJ,CADJ;AAiBH;;AAEc,SAASe,YAAT,CAAsBzF,KAAtB,EAAwD;AACnE,sBACI,iDAAC,+DAAD,qBACI,iDAAC,iBAAD,EAAuBA,KAAvB,CADJ,CADJ;AAKH,C;;;;;;;;;;;;;;;ACvDD;AACA;AAEA;AACA;AAEO,SAAS0F,eAAT,CAAyB1F,KAAzB,EAAsD;AAAA,MACjDuB,MADiD,GACtCvB,KADsC,CACjDuB,MADiD;AAEzD,MAAMoE,IAAI,GAAGC,wEAAc,CAAC,CAACC,0EAAD,EAAOC,2EAAP,CAAD,EAAgBvE,MAAhB,EAAwB,UAAAwE,GAAG;AAAA,WAAI,CAAC,EAACA,GAAD,aAACA,GAAD,eAACA,GAAG,CAAEJ,IAAN,CAAL;AAAA,GAA3B,CAA3B;AACA,sBAAO,oGACFA,IAAI,iBAAI,iDAAC,uDAAD;AAAO,YAAQ,EAAC;AAAhB,sBADN,CAAP;AAGH,C;;;;;;;;;;;;;;;ACZD;AACA;AAEe,SAASK,yBAAT,CAAmChG,KAAnC,EAAqF;AAChG,sBACI,iDAAC,+DAAD;AAAK,YAAQ,EAAC,UAAd;AAAyB,WAAO,EAAC;AAAjC,kBACI,iDAAC,+DAAD;AAAkB,WAAO,EAAC;AAA1B,KAA4CA,KAA5C,EADJ,eAEI,iDAAC,+DAAD;AACI,OAAG,EAAE,CADT;AAEI,QAAI,EAAE,CAFV;AAGI,UAAM,EAAE,CAHZ;AAII,SAAK,EAAE,CAJX;AAKI,YAAQ,EAAC,UALb;AAMI,WAAO,EAAC,MANZ;AAOI,cAAU,EAAC,QAPf;AAQI,kBAAc,EAAC;AARnB,kBAUI,iDAAC,+DAAD;AAAY,WAAO,EAAC,SAApB;AAA8B,aAAS,EAAC,KAAxC;AAA8C,SAAK,EAAC;AAApD,KAAwEiG,IAAI,CAACC,KAAL,CACpElG,KAAK,CAACmG,KAD8D,CAAxE,OAVJ,CAFJ,CADJ;AAmBH,C;;;;;;;;;;;;ACvBD;AAGe,SAASP,cAAT,CAAoEQ,SAApE,EAAkGC,IAAlG,EAAsHC,KAAtH,EAAmK;AAAA,kBAChJC,+CAAQ,CAAC,CAAD,CADwI;AAAA,MACvKC,OADuK;AAAA,MAC9JC,UAD8J;;AAE9K,MAAMN,KAAK,GAAGG,KAAK,GAAGA,KAAK,CAACD,IAAD,CAAR,GAAiBpC,SAApC;AAEAyC,kDAAS,CAAC;AAAA,WAAML,IAAN,aAAMA,IAAN,uBAAMA,IAAI,CAAEM,SAAN,CAAgBP,SAAhB,EAA2B,YAAM;AAC7CK,gBAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AACH,KAFe,CAAN;AAAA,GAAD,EAEL,CAACH,IAAD,EAAOG,OAAP,CAFK,CAAT;AAIA,SAAOL,KAAP;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASS,gBAAT,CAA0BC,YAA1B,EAAkD;AAAA,oBAC7C/B,oBAAU,CAAqBC,sBAArB,CADmC;AAAA,MACrDC,GADqD,eACrDA,GADqD;;AAAA,kBAEnCuB,kBAAQ,CAAW,EAAX,CAF2B;AAAA,MAEtDO,KAFsD;AAAA,MAE/CC,QAF+C;;AAI7D,MAAM7B,OAAO,GAAGU,iCAAc,CAACoB,gCAAD,EAAgBhC,GAAhB,EAAqB;AAAA,WAAMA,GAAG,CAACE,OAAJ,CAAY;AAAE+B,eAAS,EAAE,IAAb;AAAmB7B,gBAAU,EAAE;AAA/B,KAAZ,CAAN;AAAA,GAArB,CAA9B;AACA,MAAM8B,WAAW,GAAGhC,OAAO,CAAC1C,MAAR,CAAe,UAAAjB,MAAM;AAAA,WAAIA,MAAM,CAAC4F,UAAP,CAAkBC,iCAAlB,CAAJ;AAAA,GAArB,CAApB;AACA,MAAMC,SAAS,GAAGnC,OAAO,CACpB1C,MADa,CACN,UAAAjB,MAAM;AAAA,WAAI,CAACA,MAAM,CAAC4F,UAAP,CAAkBC,iCAAlB,CAAL;AAAA,GADA,EACwC;AADxC,GAEbxE,GAFa,CAET,UAAArB,MAAM;AAAA;;AAAA,8BAAIA,MAAM,CAACtB,OAAP,CAAe,CAAf,CAAJ,oDAAI,gBAAmBuB,QAAnB,CAA4BC,mEAA5B,CAAJ;AAAA,GAFG,EAGbe,MAHa,CAGN,UAAA8E,GAAG;AAAA,WAAI,CAAC,CAACA,GAAN;AAAA,GAHG,CAAlB;AAKAC,mCAAc;AAAA,4FAAC,iBAAOC,OAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACPV,mBADO,GACW,EADX;;AAAA,mBAEPD,YAFO;AAAA;AAAA;AAAA;;AAGPC,mBAAK,GAAGW,qCAAoB,GAAG7E,GAAvB,CAA2B,UAAA1B,IAAI;AAAA,uBAAIA,IAAI,CAACwG,IAAT;AAAA,eAA/B,CAAR;AAHO;AAAA;;AAAA;AAKDC,uBALC,GAKqB,EALrB,EAMP;;AANO,0DAOgBN,SAPhB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOI7F,sBAPJ;AAAA;AAAA,qBAQGA,QAAQ,CAACoG,OAAT,CAAiB,IAAjB,CARH;;AAAA;AASGC,gCATH,GASwBrG,QAAQ,CAACsG,QATjC;AAUH,kBAAID,kBAAkB,KAAK5D,SAAvB,IAAoC0D,SAAS,CAACI,OAAV,CAAkBF,kBAAlB,IAAwC,CAAhF,EACIF,SAAS,CAACK,IAAV,CAAeH,kBAAf;;AAXD;AAAA;AAAA;;AAAA;AAAA,2DAekBX,WAflB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAeIe,wBAfJ;AAgBGC,kBAhBH,GAgBUD,UAAU,CAAC3F,QAAX,CAAoB;AAAEG,4BAAY,EAAE2E,iCAAcA;AAA9B,eAApB,EAAsD,CAAtD,CAhBV;AAiBGe,yBAjBH,GAiBiBC,2CAAA,CAAkBC,0CAAlB,CAjBjB;AAAA;AAAA;AAAA,qBAmBoBH,IAAI,CAACI,yBAAL,CAA+BH,WAA/B,CAnBpB;;AAAA;AAmBOI,kBAnBP;AAAA,+BAoBoCA,IAAI,CAACC,QAAL,CAAgD,iBAAhD,CApBpC,EAoBcX,mBApBd;AAqBC,kBAAIA,mBAAkB,KAAK5D,SAAvB,IAAoC0D,SAAS,CAACI,OAAV,CAAkBF,mBAAlB,IAAwC,CAAhF,EACIF,SAAS,CAACK,IAAV,CAAeH,mBAAf;AAtBL;AAAA;;AAAA;AAAA;AAAA;AAyBCY,qBAAO,CAACC,IAAR;;AAzBD;AAAA;AAAA;;AAAA;AA4BP5B,mBAAK,GAAGa,SAAS,CAAC/E,GAAV,CAAc,UAAA+F,EAAE;AAAA;;AAAA,gDAAIC,0DAAyC,CAACD,EAAD,CAA7C,0DAAI,sBAA+CjB,IAAnD;AAAA,eAAhB,EACHlF,MADG,CACI,UAAAkF,IAAI;AAAA,uBAAI,CAAC,CAACA,IAAN;AAAA,eADR,CAAR;;AA5BO;AA+BX,kBAAIF,OAAJ,EAAa;AACHqB,sBADG,GACMC,wBAAM,CAAChC,KAAD,CADZ;AAETC,wBAAQ,CAAC8B,MAAD,CAAR;AACH;;AAlCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,OAmCX,CAAC3D,OAAO,CAACtC,GAAR,CAAY,UAAAmD,GAAG;AAAA,WAAIA,GAAG,CAAClD,EAAR;AAAA,GAAf,EAA2B4B,IAA3B,EAAD,EAAoC4C,SAAS,CAACzE,GAAV,CAAc,UAAA0E,GAAG;AAAA,WAAIA,GAAG,CAACzE,EAAR;AAAA,GAAjB,EAA6B4B,IAA7B,EAApC,EAAyEoC,YAAzE,CAnCW,CAAd;AAoCA,SAAOC,KAAP;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzDD;AACA;AACA;AACA;AACA;AACA,IAAMiC,YAAY,gBAAGC,cAAI,CAAC;AAAA,SAAM,oGAAN;AAAA,CAAD,CAAzB;AAEA,IAAMC,eAAe,GAAG,YAAxB;AAEe,SAASC,qBAAT,GAAiC;AAC5C,MAAMC,IAAI,GAAGF,eAAb;;AAD4C,kBAEN1C,kBAAQ,CAAC,KAAD,CAFF;AAAA,MAErC6C,WAFqC;AAAA,MAExBC,cAFwB;;AAAA,mBAGlB9C,kBAAQ,CAAC,EAAD,CAHU;AAAA,MAGrC+C,KAHqC;AAAA,MAG9BC,QAH8B;;AAAA,yBAIDC,2CAAe,CAACL,IAAD,CAJd;AAAA,MAIpCM,eAJoC,oBAIpCA,eAJoC;AAAA,MAInBC,aAJmB,oBAInBA,aAJmB;;AAK5C,MAAMC,QAAQ,GAAGP,WAAjB;AACA,MAAM5C,OAAO,GAAGkD,aAAH,aAAGA,aAAH,uBAAGA,aAAa,CAAG,CAAH,CAAb,CAAmBlD,OAAnC;;AAEA,MAAMoD,WAAW;AAAA,4FAAG,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,kBADU,GACHD,KAAK,CAAC,CAAD,CADF;;AAAA,mBAEZC,IAFY;AAAA;AAAA;AAAA;;AAAA;AAIRT,4BAAc,CAAC,IAAD,CAAd;AAJQ;AAAA,qBAKFI,eAAe,CAACxF,SAAD,EAAY6F,IAAZ,CALb;;AAAA;AAAA;AAORT,4BAAc,CAAC,KAAD,CAAd;AAPQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXO,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAYA,MAAMG,WAAW;AAAA,6FAAG;AAAA;AAAA;AAAA;AAAA;AAChB,kBAAI;AACAR,wBAAQ,CAAC,EAAD,CAAR;AACAF,8BAAc,CAAC,IAAD,CAAd;AACAI,+BAAe,CAACxF,SAAD,EAAYA,SAAZ,CAAf;AACH,eAJD,SAKQ;AACJoF,8BAAc,CAAC,KAAD,CAAd;AACH;;AARe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXU,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAWA,sBAAO,oBAAC,mBAAD,qBACH,oBAAC,yBAAD;AACI,SAAK,EAAEZ;AADX,IADG,eAGH,oBAAC,0BAAD,QACKG,KAAK,iBAAI,oBAAC,oBAAD;AAAO,YAAQ,EAAC;AAAhB,KAAyBA,KAAzB,CADd,EAEK9C,OAAO,iBAAI,oBAAC,yBAAD;AAAY,WAAO,EAAC;AAApB,8BAAoC,kCAAOA,OAAP,CAApC,CAFhB,EAGK,CAAC,EAACkD,aAAD,aAACA,aAAD,eAACA,aAAa,CAAEpE,MAAhB,CAAD,iBAA2B,oBAAC,mBAAD;AAAM,SAAK;AAAX,KACvBoE,aAAa,CAAC9G,GAAd,CAAkB,UAAAoH,IAAI;AAAA,wBAAI,oBAAC,uBAAD;AAAU,SAAG,EAAEA,IAAI,CAACnC;AAApB,oBACvB,oBAAC,2BAAD;AAAc,aAAO,EAAEmC,IAAI,CAAC5J,IAA5B;AAAkC,eAAS,SAAO4J,IAAI,CAACnC,kBAAL,CAAwBoC,QAAxB,CAAiC,EAAjC;AAAlD,MADuB,CAAJ;AAAA,GAAtB,CADuB,CAHhC,CAHG,eAYH,oBAAC,0BAAD,QACK,CAACb,WAAD,iBAAgB,oBAAC,uBAAD,qBAAU,oBAAC,YAAD;AAAc,QAAI,EAAE,iBAApB;AAAuC,mBAAe,EAAEQ;AAAxD,IAAV,CADrB,EAEK,CAACR,WAAD,KAAgBM,aAAhB,aAAgBA,aAAhB,uBAAgBA,aAAa,CAAEpE,MAA/B,kBAAyC,oBAAC,qBAAD;AAAQ,YAAQ,EAAEqE,QAAlB;AAA4B,WAAO,EAAC,MAApC;AAA2C,mBAAa,OAAxD;AAAiE,WAAO,EAAEI;AAA1E,aAF9C,CAZG,CAAP;AAmBH,C;;;;AC3DD;AACA;AACA;CAEA;;AACA;AACA;AACA;AACA;AAEe,SAASG,gBAAT,GAA4B;AAAA,oBACvBpF,oBAAU,CAAqBC,sBAArB,CADa;AAAA,MAC/BC,GAD+B,eAC/BA,GAD+B;;AAEvC,MAAMmF,eAAe,GAAGC,qCAAkB,EAA1C;AACA,MAAMC,QAAQ,GAAG9H,4BAAS,CAACyC,GAAD,EAAM,UAAAG,CAAC;AAAA,WAAIA,CAAC,CAACkF,QAAN;AAAA,GAAP,CAA1B;AACA,MAAMC,aAAa,GAAG1D,gBAAgB,CAACyD,QAAD,CAAtC;AAEA,sBACI,oBAAC,mBAAD;AAAM,aAAS,MAAf;AAAgB,WAAO,EAAE;AAAzB,kBACI,oBAAC,mBAAD,oBAAUF,eAAV;AAA2B,QAAI,MAA/B;AAAgC,OAAG,EAAC;AAApC,mBACI,oBAAC,qBAAD,OADJ,CADJ,EAIKG,aAAa,CAAC1H,GAAd,CAAkB,UAAA2H,YAAY;AAAA,wBAC3B,oBAAC,mBAAD,oBACQJ,eADR;AAEI,UAAI,MAFR;AAGI,SAAG,mBAAiBI;AAHxB,qBAKI,oBAAC,2BAAD;AAAc,UAAI,EAAEA;AAApB,MALJ,CAD2B;AAAA,GAA9B,CAJL,CADJ;AAgBH,C;;;;;;;;;;;;;;;;;;AChCD;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AAEO,SAASC,iBAAT,CAA2BxK,KAA3B,EAIJ;AAAA,MACSuB,MADT,GAC+CvB,KAD/C,CACSuB,MADT;AAAA,MACiByI,IADjB,GAC+ChK,KAD/C,CACiBgK,IADjB;AAAA,MACuBS,mBADvB,GAC+CzK,KAD/C,CACuByK,mBADvB;;AAAA,oBAEiB3F,oBAAU,CAAqBC,sBAArB,CAF3B;AAAA,MAESC,GAFT,eAESA,GAFT;;AAAA,qBAGsBF,oBAAU,CAAC4F,0BAAD,CAHhC;AAAA,MAGSnB,QAHT,gBAGSA,QAHT;;AAAA,kBAIiChD,kBAAQ,CAAC,CAAD,CAJzC;AAAA,MAIQoE,QAJR;AAAA,MAIkBC,WAJlB;;AAKC,MAAMC,YAAY,GAAGtI,4BAAS,CAAChB,MAAD,EAAS,UAAAuJ,CAAC;AAAA,WAAIA,CAAJ,aAAIA,CAAJ,uBAAIA,CAAC,CAAED,YAAP;AAAA,GAAV,CAA9B;AACA,MAAME,MAAM,GACRN,mBAAmB,IAClB,CAAAT,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAExD,OAAN,MACGqE,YADH,aACGA,YADH,uBACGA,YAAY,CAAErE,OADjB,KAEGwE,0CAAgB,CAACH,YAAD,EAAeb,IAAf,CAJxB;AAKA,MAAMiB,QAAQ,GAAG1I,4BAAS,CAAChB,MAAD,EAAS,UAAAuJ,CAAC;AAAA,WAAI,CAAC,EAACA,CAAD,aAACA,CAAD,eAACA,CAAC,CAAEG,QAAJ,CAAL;AAAA,GAAV,CAA1B;AACA,MAAMC,OAAO,GAAG,CAAC3J,MAAD,IAAW,CAACyI,IAA5B;AACA,MAAML,QAAQ,GAAGsB,QAAjB;AACA,MAAMzD,OAAO,GAAG2D,6BAAU,EAA1B;;AAEA,MAAMC,cAAc;AAAA,4FAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACf7J,MAAM,CAAC0J,QADQ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAGfL,yBAAW,CAAC,CAAD,CAAX;AACArJ,oBAAM,CAAC0J,QAAP,GAAkB,IAAlB,CAJe,CAIQ;;AACjBI,8BALS,GAKU,CAACR,YAAD,CALV;AAAA;AAAA,qBAMTS,2CAAiB,CAACtG,GAAD,EAAMgF,IAAN,EAAYqB,gBAAZ,EAA8BZ,mBAA9B,EAAmD,UAAAc,IAAI,EAAI;AAC9E,oBAAI/D,OAAO,EAAX,EAAeoD,WAAW,CAACW,IAAD,CAAX;AAClB,eAFsB,CANR;;AAAA;AASf;AACAhK,oBAAM,CAACsJ,YAAP,GAAsB5G,SAAtB;AAVe;AAAA;;AAAA;AAAA;AAAA;AAYf,kBAAIuD,OAAO,EAAX,EAAe+B,QAAQ,aAAR;;AAZA;AAAA;AAcfhI,oBAAM,CAAC0J,QAAP,GAAkB,KAAlB;AAde;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdG,cAAc;AAAA;AAAA;AAAA,KAApB,CAhBD,CAkCC;;;AACA,SAAOF,OAAO,GAAG,IAAH,GAAUD,QAAQ,gBAC5B,oBAAC,wCAAD;AAA2B,SAAK,EAAEN;AAAlC,IAD4B,GAE5BI,MAAM,gBACN,oBAAC,qBAAD;AACI,kBAAW,0BADf;AAEI,YAAQ,EAAEpB,QAFd;AAGI,WAAO,EAAC,WAHZ;AAII,SAAK,EAAE,SAJX;AAKI,WAAO,EAAEyB;AALb,aADM,GAUNP,YAAY,gBACZ,oBAAC,0BAAD;AAAO,YAAQ,EAAC;AAAhB,mBADY,gBAGZ,oBAAC,0BAAD;AAAO,YAAQ,EAAC;AAAhB,6BAfJ;AAiBH,C;;;;ACvED;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASW,gBAAT,CAA0BxL,KAA1B,EAAuD;AAAA,MAC3CuB,MAD2C,GAChCvB,KADgC,CAC3CuB,MAD2C;AAEnD,MAAMkK,KAAK,GAAGC,mCAAgB,EAA9B;AACA,MAAMb,YAAY,GAAGtI,4BAAS,CAAChB,MAAD,EAAS,UAAAuJ,CAAC;AAAA,WAAIA,CAAC,CAACD,YAAN;AAAA,GAAV,CAA9B;AACA,MAAMb,IAAI,GACNa,YAAY,KACZY,KADY,aACZA,KADY,uBACZA,KAAK,CAAEE,IAAP,CACI,UAAAxG,CAAC;AAAA,WAAI0F,YAAY,CAAChD,kBAAb,IAAmC1C,CAAC,CAAC0C,kBAAzC;AAAA,GADL,CADY,CADhB;AAMA,sBACI,oBAAC,yBAAD;AACI,UAAM,EAAEtG,MADZ;AAEI,gBAAY,EAAE,IAFlB,CAGI;AAHJ;AAII,UAAM,eAAE,oBAAC,iBAAD;AAAmB,YAAM,EAAEA,MAA3B;AAAmC,UAAI,EAAEyI;AAAzC;AAJZ,IADJ;AAQH;;AAEc,SAAS4B,gBAAT,GAA4B;AAAA,oBACvB9G,oBAAU,CAAqBC,sBAArB,CADa;AAAA,MAC/BC,GAD+B,eAC/BA,GAD+B;;AAEvC,MAAM6G,QAAQ,GAAGC,gBAAM,CAAC,KAAD,CAAvB;AACA,MAAM3B,eAAe,GAAGC,qCAAkB,EAA1C;AACA,MAAMC,QAAQ,GAAG9H,4BAAS,CAACyC,GAAD,EAAM,UAAAG,CAAC;AAAA,WAAIA,CAAC,CAACkF,QAAN;AAAA,GAAP,CAA1B;AACA,MAAMnF,OAAO,GAAG6G,6BAAU,CACtB;AACI9E,aAAS,EAAE,IADf;AAEI7B,cAAU,EAAE,IAFhB;AAGI4G,oBAAgB,EAAE,IAHtB;AAIInE,sBAAkB,EAAE;AAJxB,GADsB,EAOtB,CAACwC,QAAD,CAPsB,CAAV,CAQd7H,MARc,CAQP,UAAAuD,GAAG;AAAA,WAAIsE,QAAQ,IAAI,CAACtE,GAAG,CAACoB,UAAJ,CAAeC,iCAAf,CAAjB;AAAA,GARI,CAAhB;AASA,MAAM6E,UAAU,GAAG1J,4BAAS,CAACyC,GAAD,EAAM;AAAA,WAAME,OAAO,CAACgH,IAAR,CAAa,UAAAnG,GAAG;AAAA,aAAIA,GAAG,CAACkF,QAAR;AAAA,KAAhB,CAAN;AAAA,GAAN,CAA5B;AACA,MAAMQ,KAAK,GAAGC,mCAAgB,EAA9B;;AAfuC,WAgBxBS,IAhBwB;AAAA;AAAA,IA0BvC;;;AA1BuC;AAAA,yFAgBvC;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ,EAACV,KAAD,aAACA,KAAD,eAACA,KAAK,CAAEnG,MAAR,KAAkB2G,UAAlB,IAAgCJ,QAAQ,CAACO,OADjD;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAEI3D,qBAAO,CAAC4D,GAAR;AAFJ;AAIQR,sBAAQ,CAACO,OAAT,GAAmB,IAAnB;AAJR;AAAA,qBAKcE,uCAAa,CAACtH,GAAD,CAL3B;;AAAA;AAAA;AAOQ6G,sBAAQ,CAACO,OAAT,GAAmB,KAAnB;AAPR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAhBuC;AAAA;AAAA;;AA2BvC1F,qBAAS,CAAC,YAAM;AACZyF,QAAI;AACP,GAFQ,EAEN,CAACF,UAAD,EAAaR,KAAb,CAFM,CAAT;AAGA/E,qBAAS,CACL;AAAA,WACI1B,GAAG,CAAC2B,SAAJ,CAAc,CAACK,gCAAD,EAAgBuF,wCAAhB,CAAd,EAAsD;AAAA,aAAMJ,IAAI,EAAV;AAAA,KAAtD,CADJ;AAAA,GADK,EAGL,EAHK,CAAT;AAMA,sBACI,oBAAC,mBAAD;AAAM,aAAS,MAAf;AAAgB,WAAO,EAAE;AAAzB,KACKjH,OAAO,CAACtC,GAAR,CAAY,UAAArB,MAAM;AAAA,wBACf,oBAAC,mBAAD;AAAM,SAAG,EAAEA,MAAM,CAACsB,EAAlB;AAAsB,UAAI;AAA1B,OAA+BsH,eAA/B,gBACI,oBAAC,gBAAD;AAAkB,YAAM,EAAE5I;AAA1B,MADJ,CADe;AAAA,GAAlB,CADL,CADJ;AASH,C;;;;;;;;;;;;AClFD;CAEA;;AACA;AACA;CAEA;;AACA;AACA;AAEe,SAASiL,aAAT,GAAyB;AAAA,oBACpB1H,oBAAU,CAAqBC,sBAArB,CADU;AAAA,MAC5BC,GAD4B,eAC5BA,GAD4B;;AAAA,qBAErBF,oBAAU,CAAiB2H,yBAAjB,CAFW;AAAA,MAE5BC,EAF4B,gBAE5BA,EAF4B;;AAAA,qBAGRC,qCAAW,EAHH;AAAA,MAG5BC,eAH4B,gBAG5BA,eAH4B;;AAAA,kBAIJrG,kBAAQ,CAACvB,GAAG,CAACqF,QAAL,CAJJ;AAAA,MAI7BA,QAJ6B;AAAA,MAInBwC,WAJmB;;AAKpC,MAAMlF,SAAS,GAAG+E,EAAH,aAAGA,EAAH,uBAAGA,EAAE,CAAE/E,SAAtB;;AAEA,MAAMmF,cAAc;AAAA,4FAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACbC,eADa,GACT,CAAC1C,QADQ;AAEnBwC,yBAAW,CAACE,CAAD,CAAX;;AAFmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdD,cAAc;AAAA;AAAA;AAAA,KAApB;;AAIA,MAAM/C,WAAW;AAAA,6FAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACVpC,SAAS,CAACqF,KAAV,EADU;;AAAA;AAEhBJ,6BAAe,CAAC,mBAAD,EAAsB;AACjCK,uBAAO,EAAE;AADwB,eAAtB,CAAf;;AAFgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXlD,WAAW;AAAA;AAAA;AAAA,KAAjB,CAXoC,CAkBpC;;;AACArD,qBAAS,CAAC,YAAM;AACZ1B,OAAG,CAACqF,QAAJ,GAAeA,QAAf;AACA,WAAO,YAAM;AAAErF,SAAG,CAACqF,QAAJ,GAAe,KAAf;AAAsB,KAArC;AACH,GAHQ,EAGN,CAACA,QAAD,CAHM,CAAT;AAKA,sBAAQ,uDACJ,oBAAC,oBAAD;AAAO,YAAQ,EAAC;AAAhB,kBACI,oBAAC,qBAAD;AAAQ,SAAK,EAAEA,QAAf;AAAyB,YAAQ,EAAEyC;AAAnC,IADJ,eAEI,oBAAC,yBAAD;AAAY,aAAS,EAAC,MAAtB;AAA6B,WAAO,EAAC;AAArC,qBAFJ,eAKI,oBAAC,kBAAD;AAAK,MAAE,EAAE;AAAT,kBACI,oBAAC,yBAAD;AAAY,aAAS,EAAC,MAAtB;AAA6B,WAAO,EAAC;AAArC,8SADJ,CALJ,CADI,EAcHzC,QAAQ,iBAAI,oBAAC,oBAAD;AAAO,YAAQ,EAAC;AAAhB,kBACT,oBAAC,qBAAD;AAAQ,QAAI,EAAC,OAAb;AAAqB,WAAO,EAAC,UAA7B;AAAwC,YAAQ,EAAE,CAAC1C,SAAnD;AAA8D,WAAO,EAAEoC,WAAvE;AAAoF,aAAS,eAAE,oBAAC,4BAAD;AAA/F,mBADS,eAIT,oBAAC,kBAAD;AAAK,MAAE,EAAE;AAAT,kBACI,oBAAC,yBAAD;AAAY,aAAS,EAAC,MAAtB;AAA6B,WAAO,EAAC;AAArC,kHADJ,CAJS,CAdT,CAAR;AAyBH,C;;;;;;;;;;AC3DD;CAEA;;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;AAEA,IAAMmD,IAAI,GAAG,SAAPA,IAAO,CAACvE,EAAD;AAAA,SACTA,EAAE,GAAMA,EAAE,CAACwE,KAAT,SAAkBxE,EAAE,CAACd,kBAArB,SAA2Cc,EAAE,CAACnC,OAA9C,GAA0D,EADnD;AAAA,CAAb;;AAGA,SAAS4G,cAAT,GAA0B;AAAA;;AAAA,oBACNtI,oBAAU,CAAqBC,sBAArB,CADJ;AAAA,MACdC,GADc,eACdA,GADc;;AAEtB,MAAME,OAAO,GAAG6G,6BAAU,CAAC;AACvB9E,aAAS,EAAE,IADY;AAEvB7B,cAAU,EAAE,IAFW;AAGvB4G,oBAAgB,EAAE;AAHK,GAAD,CAA1B;AAKA,MAAMrE,SAAS,GAAG+D,mCAAgB,EAAlC;AACA,MAAM2B,MAAM,GAAGvE,wBAAM,CAACnB,SAAS,CAAC/E,GAAV,CAAc,UAAA+F,EAAE;AAAA,WAAIA,EAAE,CAACwE,KAAP;AAAA,GAAhB,CAAD,CAArB;;AARsB,kBASU5G,kBAAQ,CAACrB,OAAD,aAACA,OAAD,oCAACA,OAAO,CAAG,CAAH,CAAR,8CAAC,UAAcrC,EAAf,CATlB;AAAA,MASf0B,QATe;AAAA,MASL+I,WATK;;AAAA,mBAUc/G,kBAAQ,CAAS2G,IAAI,CAACvF,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAG,CAAH,CAAV,CAAb,CAVtB;AAAA,MAUf4F,UAVe;AAAA,MAUHC,aAVG;;AAAA,mBAWIjH,kBAAQ,CAAS,CAAA8G,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAG,CAAH,CAAN,KAAe,EAAxB,CAXZ;AAAA,MAWfF,KAXe;AAAA,MAWRM,QAXQ;;AAatB,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CACvBC,EADuB,EAEtB;AACD,QAAM9K,EAAE,GAAG8K,EAAE,CAACC,MAAH,CAAUzH,KAArB;AACAmH,eAAW,CAACzK,EAAD,CAAX;AACH,GALD;;AAMA,MAAMgL,iBAAiB,GAAG,SAApBA,iBAAoB,CACtBF,EADsB,EAErB;AACD,QAAMR,KAAK,GAAGQ,EAAE,CAACC,MAAH,CAAUzH,KAAxB;AACAsH,YAAQ,CAACN,KAAD,CAAR;AACH,GALD;;AAMA,MAAMW,oBAAoB,GAAG,SAAvBA,oBAAuB,CACzBH,EADyB,EAExB;AACD,QAAM9K,EAAE,GAAG8K,EAAE,CAACC,MAAH,CAAUzH,KAArB;AACAqH,iBAAa,CAAC3K,EAAD,CAAb;AACH,GALD;;AAOA,MAAMtB,MAAM,GAAGyD,GAAG,CAACqB,IAAJ,CAAS9B,QAAT,CAAf;AACA,MAAMyF,IAAI,GAAGrC,SAAS,CAACgE,IAAV,CAAe,UAAAhD,EAAE;AAAA,WAAIuE,IAAI,CAACvE,EAAD,CAAJ,KAAa4E,UAAjB;AAAA,GAAjB,CAAb;AAEA,sBACI,oBAAC,mBAAD;AAAM,aAAS,MAAf;AAAgB,WAAO,EAAE;AAAzB,kBACI,oBAAC,mBAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,oBAAC,8BAAD;AACI,cAAU,EAAC,iBADf;AAEI,SAAK,EAAEhJ,QAFX;AAGI,YAAQ,EAAEmJ;AAHd,KAKKxI,OALL,aAKKA,OALL,uBAKKA,OAAO,CAAEtC,GAAT,CAAa,UAAAmD,GAAG;AAAA,wBACb,oBAAC,uBAAD;AAAU,SAAG,EAAEA,GAAG,CAAClD,EAAnB;AAAuB,WAAK,EAAEkD,GAAG,CAAClD;AAAlC,OACKkD,GAAG,CAACgI,QAAJ,EADL,CADa;AAAA,GAAhB,CALL,CADJ,EAYKxJ,QAAQ,iBACL,oBAAC,4BAAD;AAAe,UAAM,EAAES,GAAG,CAACqB,IAAJ,CAAS9B,QAAT;AAAvB,IAbR,CADJ,eAiBI,oBAAC,mBAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,oBAAC,mBAAD;AAAM,aAAS,MAAf;AAAgB,aAAS,EAAC,KAA1B;AAAgC,WAAO,EAAE;AAAzC,kBACI,oBAAC,mBAAD;AAAM,QAAI;AAAV,kBACI,oBAAC,8BAAD;AACI,cAAU,EAAC,mBADf;AAEI,SAAK,EAAE4I,KAFX;AAGI,YAAQ,EAAEU;AAHd,KAKKR,MALL,aAKKA,MALL,uBAKKA,MAAM,CAAEzK,GAAR,CAAY,UAAAuK,KAAK;AAAA,wBACd,oBAAC,uBAAD;AAAU,SAAG,EAAEA,KAAf;AAAsB,WAAK,EAAEA;AAA7B,OACKA,KADL,CADc;AAAA,GAAjB,CALL,CADJ,CADJ,eAcI,oBAAC,mBAAD;AAAM,QAAI;AAAV,kBACI,oBAAC,8BAAD;AACI,cAAU,EAAC,iBADf;AAEI,SAAK,EAAEI,UAFX;AAGI,YAAQ,EAAEO;AAHd,KAKKnG,SALL,aAKKA,SALL,uBAKKA,SAAS,CACJnF,MADL,CACY,UAAAmG,EAAE;AAAA,WAAIA,EAAE,CAACwE,KAAH,KAAaA,KAAjB;AAAA,GADd,EAEIvK,GAFJ,CAEQ,UAAA+F,EAAE;AAAA,wBACH,oBAAC,uBAAD;AAAU,SAAG,EAAEuE,IAAI,CAACvE,EAAD,CAAnB;AAAyB,WAAK,EAAEuE,IAAI,CAACvE,EAAD;AAApC,OACKA,EAAE,CAACvI,IADR,wBAEI,oBAAC,yBAAD;AAAY,aAAO,EAAC;AAApB,OACKuI,EAAE,CAACnC,OADR,mBAEUmC,EAAE,CAACd,kBAAH,CAAsBoC,QAAtB,CACF,EADE,CAFV,CAFJ,CADG;AAAA,GAFV,CALL,CADJ,CAdJ,CADJ,CAjBJ,eAuDI,oBAAC,mBAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,oBAAC,iBAAD;AACI,UAAM,EAAE1I,MADZ;AAEI,QAAI,EAAEyI,IAFV;AAGI,uBAAmB,EAAE;AAHzB,IADJ,CAvDJ,CADJ;AAiEH;;AAEc,SAASgE,mBAAT,GAA+B;AAAA,mBACZzH,kBAAQ,CAAC,KAAD,CADI;AAAA,MACnC0H,OADmC;AAAA,MAC1BC,UAD0B;;AAE1C,MAAMC,YAAY;AAAA,4FAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACXpB,eADW,GACP,CAACkB,OADM;AAEjBC,wBAAU,CAACnB,CAAD,CAAV;;AAFiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZoB,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAKA,sBACI,uDACI,oBAAC,oBAAD;AAAO,YAAQ,EAAC;AAAhB,kBACI,oBAAC,qBAAD;AAAQ,SAAK,EAAEF,OAAf;AAAwB,YAAQ,EAAEE;AAAlC,IADJ,eAEI,oBAAC,yBAAD;AAAY,aAAS,EAAC,MAAtB;AAA6B,WAAO,EAAC;AAArC,mBAFJ,eAKI,oBAAC,kBAAD;AAAK,MAAE,EAAE;AAAT,kBACI,oBAAC,yBAAD;AAAY,aAAS,EAAC,MAAtB;AAA6B,WAAO,EAAC;AAArC,gEADJ,CALJ,CADJ,EAYKF,OAAO,iBACJ,oBAAC,oBAAD;AAAO,YAAQ,EAAC;AAAhB,kBACI,oBAAC,cAAD,OADJ,CAbR,CADJ;AAoBH,C;;AClJD;AACA;AACA;AACA;CAEA;;AACA;AACA;AACA;AAEe,SAASG,KAAT,GAAiB;AAAA,kBACN7H,kBAAQ,CAAC,CAAD,CADF;AAAA,MACrB8H,GADqB;AAAA,MAChBC,MADgB;;AAE5B,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CACpBC,KADoB,EAEpBC,QAFoB,EAGnB;AACDH,UAAM,CAACG,QAAD,CAAN;AACH,GALD;;AAOA,sBACI,oBAAC,kBAAD;AAAK,MAAE,EAAE;AAAT,kBACI,oBAAC,2BAAD,OADJ,eAEI,oBAAC,mBAAD;AACI,SAAK,EAAEJ,GADX;AAEI,YAAQ,EAAEE,eAFd;AAGI,kBAAW;AAHf,kBAKI,oBAAC,kBAAD;AAAK,SAAK;AAAV,KAA2BG,6BAAS,CAAC,CAAD,CAApC,EALJ,eAMI,oBAAC,kBAAD;AAAK,SAAK;AAAV,KAA6BA,6BAAS,CAAC,CAAD,CAAtC,EANJ,CAFJ,eAUI,oBAAC,uBAAD;AAAU,SAAK,EAAEL,GAAjB;AAAsB,SAAK,EAAE;AAA7B,kBACI,oBAAC,gBAAD,OADJ,CAVJ,eAaI,oBAAC,uBAAD;AAAU,SAAK,EAAEA,GAAjB;AAAsB,SAAK,EAAE;AAA7B,kBACI,oBAAC,gBAAD,OADJ,CAbJ,eAgBI,oBAAC,aAAD,OAhBJ,eAiBI,oBAAC,mBAAD,OAjBJ,CADJ;AAqBH,C;;ACxCD;AACA;AAEe,SAASM,IAAT,GAAgB;AAC3B,sBAAO,uDACH,mDADG,eAEH,oMAFG,eAOH,oBAAC,KAAD,OAPG,CAAP;AASH,C","file":"component---src-pages-tools-updater-tsx-f4687fbd9ee3b7945a44.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { chainPropTypes } from '@material-ui/utils';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'block',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center'\n  },\n\n  /* Styles applied to the root element if `component=\"video, audio, picture, iframe, or img\"`. */\n  media: {\n    width: '100%'\n  },\n\n  /* Styles applied to the root element if `component=\"picture or img\"`. */\n  img: {\n    // ⚠️ object-fit is not supported by IE 11.\n    objectFit: 'cover'\n  }\n};\nvar MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nvar CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      image = props.image,\n      src = props.src,\n      style = props.style,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"component\", \"image\", \"src\", \"style\"]);\n\n  var isMediaComponent = MEDIA_COMPONENTS.indexOf(Component) !== -1;\n  var composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: \"url(\\\"\".concat(image, \"\\\")\")\n  }, style) : style;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className, isMediaComponent && classes.media, \"picture img\".indexOf(Component) !== -1 && classes.img),\n    ref: ref,\n    style: composedStyle,\n    src: isMediaComponent ? image || src : undefined\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardMedia'\n})(CardMedia);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport withStyles from '../styles/withStyles';\nimport IconButton from '../IconButton';\nexport var styles = {\n  root: {\n    padding: 9\n  },\n  checked: {},\n  disabled: {},\n  input: {\n    cursor: 'inherit',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    margin: 0,\n    padding: 0,\n    zIndex: 1\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      classes = props.classes,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"autoFocus\", \"checked\", \"checkedIcon\", \"classes\", \"className\", \"defaultChecked\", \"disabled\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"]);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v5: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n  return /*#__PURE__*/React.createElement(IconButton, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className, checked && classes.checked, disabled && classes.disabled),\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"input\", _extends({\n    autoFocus: autoFocus,\n    checked: checkedProp,\n    defaultChecked: defaultChecked,\n    className: classes.input,\n    disabled: disabled,\n    id: hasLabelFor && id,\n    name: name,\n    onChange: handleInputChange,\n    readOnly: readOnly,\n    ref: inputRef,\n    required: required,\n    tabIndex: tabIndex,\n    type: type,\n    value: value\n  }, inputProps)), checked ? checkedIcon : icon);\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateSwitchBase'\n})(SwitchBase);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // @inheritedComponent IconButton\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle',\n      // For correct alignment with the text.\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&$checked': {\n        transform: 'translateX(20px)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4,\n        '&$checked': {\n          transform: 'translateX(16px)'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = /*#__PURE__*/React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge], size === \"small\" && classes[\"size\".concat(capitalize(size))])\n  }, /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteForever');\n\nexports.default = _default;","import { ButtonProps } from \"@material-ui/core\"\nimport { Button } from \"gatsby-theme-material-ui\"\nimport React from \"react\"\nimport { JDService } from \"../../jacdac-ts/src/jdom/service\"\n\nexport default function ServiceButton(\n    props: { service: JDService; onClick?: () => void } & ButtonProps\n) {\n    const { service, onClick, ...others } = props\n    return (\n        <Button\n            {...others}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={onClick}\n        >\n            {service.name}\n        </Button>\n    )\n}\n","import React, { ReactNode } from 'react';\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles } from '@material-ui/core/styles';\n// tslint:disable-next-line: no-submodule-imports\nimport Card from '@material-ui/core/Card';\n// tslint:disable-next-line: no-submodule-imports\nimport CardContent from '@material-ui/core/CardContent';\nimport { JDDevice } from '../../jacdac-ts/src/jdom/device';\nimport { SRV_CTRL, SRV_LOGGER, ControlReg } from '../../jacdac-ts/src/jdom/constants';\nimport ServiceButton from './ServiceButton';\nimport useChange from '../jacdac/useChange';\nimport { navigate } from \"gatsby\";\nimport { JDService } from '../../jacdac-ts/src/jdom/service';\nimport { CardActions, createStyles } from '@material-ui/core';\nimport DeviceCardHeader from './DeviceCardHeader';\nimport { useRegisterUnpackedValue } from '../jacdac/useRegisterValue';\nimport { DeviceLostAlert } from './alert/DeviceLostAlert';\n\nconst useStyles = makeStyles(() => createStyles({\n    root: {\n    },\n    bullet: {\n        display: 'inline-block',\n        margin: '0 2px',\n        transform: 'scale(0.8)',\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n}));\n\nfunction navigateToService(service: JDService) {\n    const spec = service.specification;\n    if (spec)\n        navigate(`/services/${spec.shortId}/`) // todo spec\n}\n\nfunction DeviceDescription(props: { device: JDDevice }) {\n    const { device } = props;\n    const register = device?.service(0)?.register(ControlReg.DeviceDescription)\n    const [description] = useRegisterUnpackedValue<[string]>(register)\n    return <span>{description || \"\"}</span>\n}\n\nexport default function DeviceCard(props: {\n    device: JDDevice,\n    children?: ReactNode,\n    action?: JSX.Element | JSX.Element[],\n    content?: JSX.Element | JSX.Element[],\n    showDeviceId?: boolean,\n    showServices?: boolean,\n    showTemperature?: boolean,\n    showFirmware?: boolean,\n    showDescription?: boolean\n}) {\n    const { device, children, action, content,\n        showDeviceId,\n        showDescription, showTemperature, showFirmware, showServices } = props;\n    const classes = useStyles();\n    const services = useChange(device, () => device.services()\n        .filter(service => service.serviceClass != SRV_CTRL && service.serviceClass != SRV_LOGGER));\n\n    return (\n        <Card className={classes.root}>\n            <DeviceCardHeader device={device}\n                showDeviceId={showDeviceId}\n                showTemperature={showTemperature}\n                showFirmware={showFirmware}\n                showMedia={true} />\n            {(showDescription || content) &&\n                <CardContent>\n                    {<DeviceLostAlert device={device} />}\n                    {showDescription && <DeviceDescription device={device} />}\n                    {content}\n                </CardContent>}\n            <CardActions>\n                {action}\n                {showServices && services?.map(service => <ServiceButton key={service.id} service={service} onClick={() => navigateToService(service)} />)}\n            </CardActions>\n            {children}\n        </Card>\n    );\n}\n","import { CardMedia, CardMediaProps, createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    media: {\n        height: 0,\n        paddingTop: '75%', // 4:3\n    }\n}));\n\n/*\n        [theme.breakpoints.down('lg')]: {\n            paddingTop: '56.72%', // 16:9\n        },\n        [theme.breakpoints.down('xs')]: {\n            paddingTop: '18%',\n        },\n        [theme.breakpoints.down('md')]: { // 6:3\n            paddingTop: '50%',\n        }\n*/\n\nexport default function CardMediaWithSkeleton(props: CardMediaProps) {\n    const { image, src, className, ...others } = props;\n    const classes = useStyles();\n    const hasImage = !!image || !!src;\n    return hasImage ?\n        <CardMedia className={className || classes.media} {...others} image={image} src={src} />\n        : <></>;\n}","import React from \"react\";\nimport { JDDevice } from \"../../jacdac-ts/src/jdom/device\";\nimport useDeviceSpecification from \"../jacdac/useDeviceSpecification\";\nimport useDeviceImage from \"./devices/useDeviceImage\";\nimport CardMediaWithSkeleton from \"./ui/CardMediaWithSkeleton\";\n\nexport default function DeviceCardMedia(props: { device: JDDevice }) {\n    const { device } = props;\n    const specification = useDeviceSpecification(device)\n    const imageUrl = useDeviceImage(specification)\n\n    return <CardMediaWithSkeleton\n        image={imageUrl}\n        title={specification?.name}\n    />\n}","import { ControlReg } from \"../../jacdac-ts/src/jdom/constants\"\nimport { CardHeader, Chip, Typography } from \"@material-ui/core\"\n// tslint:disable-next-line: no-submodule-imports\nimport { Link } from \"gatsby-theme-material-ui\"\nimport { JDDevice } from \"../../jacdac-ts/src/jdom/device\"\nimport React from \"react\"\nimport { useRegisterUnpackedValue } from \"../jacdac/useRegisterValue\"\nimport DeviceActions from \"./DeviceActions\"\nimport DeviceName from \"./devices/DeviceName\"\nimport DeviceCardMedia from \"./DeviceCardMedia\"\nimport useDeviceSpecification from \"../jacdac/useDeviceSpecification\"\nimport { identifierToUrlPath } from \"../../jacdac-ts/src/jdom/spec\"\nimport DeviceAvatar from \"./devices/DeviceAvatar\"\n\nfunction DeviceFirmwareVersionChip(props: { device: JDDevice }) {\n    const { device } = props\n    const firmwareVersionRegister = device\n        ?.service(0)\n        ?.register(ControlReg.FirmwareVersion)\n    const [firmwareVersion] = useRegisterUnpackedValue<[string]>(\n        firmwareVersionRegister\n    )\n\n    return (\n        (firmwareVersion && <Chip size=\"small\" label={firmwareVersion} />) || (\n            <></>\n        )\n    )\n}\n\nfunction DeviceTemperatureChip(props: { device: JDDevice }) {\n    const { device } = props\n    const tempRegister = device?.service(0)?.register(ControlReg.McuTemperature)\n    const [temperature] = useRegisterUnpackedValue<[number]>(tempRegister)\n    return (\n        (temperature !== undefined && (\n            <Chip size=\"small\" label={`${temperature}°`} />\n        )) || <></>\n    )\n}\n\nexport default function DeviceCardHeader(props: {\n    device: JDDevice\n    showAvatar?: boolean\n    showDeviceId?: boolean\n    showFirmware?: boolean\n    showTemperature?: boolean\n    showMedia?: boolean\n    showSettings?: boolean\n}) {\n    const {\n        device,\n        showFirmware,\n        showTemperature,\n        showMedia,\n        showDeviceId,\n        showAvatar,\n        showSettings,\n    } = props\n    const specification = useDeviceSpecification(device)\n\n    return (\n        <>\n            {showMedia && <DeviceCardMedia device={device} />}\n            <CardHeader\n                avatar={showAvatar && <DeviceAvatar device={device} />}\n                action={<DeviceActions device={device} showReset={true} showSettings={showSettings} />}\n                title={\n                    <Link\n                        color=\"textPrimary\"\n                        to={`/devices/${\n                            identifierToUrlPath(specification?.id) || \"\"\n                        }`}\n                    >\n                        <DeviceName device={device} />\n                    </Link>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"caption\" gutterBottom>\n                            {[\n                                specification?.name,\n                                showDeviceId && device.deviceId,\n                            ]\n                                .filter(s => !!s)\n                                .join(\", \")}\n                        </Typography>\n                        {showFirmware && (\n                            <DeviceFirmwareVersionChip device={device} />\n                        )}\n                        {showTemperature && (\n                            <DeviceTemperatureChip device={device} />\n                        )}\n                    </>\n                }\n            />\n        </>\n    )\n}\n","// tslint:disable-next-line: no-submodule-imports\nimport { Box, createStyles, makeStyles } from \"@material-ui/core\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React, { useContext } from \"react\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport ConnectButton from \"../../jacdac/ConnectButton\"\nimport { NoSsr } from \"@material-ui/core\"\nimport useChange from \"../../jacdac/useChange\"\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        button: {\n            marginLeft: theme.spacing(2),\n        },\n    })\n)\n\nfunction NoSsrConnectAlert(props: { serviceClass?: number }) {\n    const classes = useStyles()\n    const { serviceClass } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { transports } = bus\n    const devices = useChange(bus, b => b.devices({ serviceClass, ignoreSelf: true }))\n    const spec = serviceSpecificationFromClassIdentifier(serviceClass)\n\n    // don't show if no transport, some devices\n    if (!transports.length || devices?.length) return null\n\n    return (\n        <Box displayPrint=\"none\">\n            <Alert severity=\"info\" closeable={true}>\n                {!spec && <span>Did you connect your device?</span>}\n                {spec && <span>Did you connect a {spec.name} device?</span>}\n                {transports.map(transport => (\n                    <ConnectButton\n                        key={transport.type}\n                        transport={transport}\n                        className={classes.button}\n                        full={true}\n                        transparent={true}\n                    />\n                ))}\n            </Alert>\n        </Box>\n    )\n}\n\nexport default function ConnectAlert(props: { serviceClass?: number }) {\n    return (\n        <NoSsr>\n            <NoSsrConnectAlert {...props} />\n        </NoSsr>\n    )\n}\n","import React from \"react\";\nimport { LOST, FOUND } from \"../../../jacdac-ts/src/jdom/constants\";\nimport { JDDevice } from \"../../../jacdac-ts/src/jdom/device\";\nimport useEventRaised from \"../../jacdac/useEventRaised\";\nimport Alert from \"../ui/Alert\";\n\nexport function DeviceLostAlert(props: { device: JDDevice }) {\n    const { device } = props;\n    const lost = useEventRaised([LOST, FOUND], device, dev => !!dev?.lost)\n    return <>\n        {lost && <Alert severity=\"info\">Device lost...</Alert>}\n    </>\n}","import React from \"react\"\nimport { CircularProgressProps, Box, CircularProgress, Typography } from \"@material-ui/core\";\n\nexport default function CircularProgressWithLabel(props: CircularProgressProps & { value: number }) {\n    return (\n        <Box position=\"relative\" display=\"inline-flex\">\n            <CircularProgress variant=\"determinate\" {...props} />\n            <Box\n                top={0}\n                left={0}\n                bottom={0}\n                right={0}\n                position=\"absolute\"\n                display=\"flex\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n            >\n                <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\n                    props.value,\n                )}%`}</Typography>\n            </Box>\n        </Box>\n    );\n}","import { useState, useEffect } from \"react\";\nimport { JDEventSource } from \"../../jacdac-ts/src/jdom/eventsource\";\n\nexport default function useEventRaised<TEventSource extends JDEventSource, TValue>(eventName: string | string[], node: TEventSource, query?: (n: TEventSource) => TValue): TValue {\n    const [version, setVersion] = useState(0)\n    const value = query ? query(node) : undefined\n\n    useEffect(() => node?.subscribe(eventName, () => {\n        setVersion(version + 1)\n    }), [node, version])\n\n    return value;\n}\n","import { useContext, useState } from \"react\";\nimport { deviceSpecificationFromFirmwareIdentifier, deviceSpecifications } from \"../../../jacdac-ts/src/jdom/spec\";\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\";\nimport useEffectAsync from \"../useEffectAsync\";\nimport { unique } from \"../../../jacdac-ts/src/jdom/utils\";\nimport { BootloaderCmd, ControlReg, DEVICE_CHANGE, SRV_BOOTLOADER } from \"../../../jacdac-ts/src/jdom/constants\";\nimport useEventRaised from \"../../jacdac/useEventRaised\";\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\";\n\nexport default function useFirmwareRepos(showAllRepos?: boolean) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const [repos, setRepos] = useState<string[]>([])\n\n    const devices = useEventRaised(DEVICE_CHANGE, bus, () => bus.devices({ announced: true, ignoreSelf: true }))\n    const bootloaders = devices.filter(device => device.hasService(SRV_BOOTLOADER));\n    const registers = devices\n        .filter(device => !device.hasService(SRV_BOOTLOADER)) // not a bootloader\n        .map(device => device.service(0)?.register(ControlReg.FirmwareIdentifier))\n        .filter(reg => !!reg);\n\n    useEffectAsync(async (mounted) => {\n        let repos: string[] = [];\n        if (showAllRepos)\n            repos = deviceSpecifications().map(spec => spec.repo);\n        else {\n            const firmwares: number[] = [];\n            // ask firmware registers\n            for (const register of registers) {\n                await register.refresh(true)\n                const firmwareIdentifier = register.intValue;\n                if (firmwareIdentifier !== undefined && firmwares.indexOf(firmwareIdentifier) < 0)\n                    firmwares.push(firmwareIdentifier);\n            }\n\n            // ask bootloaders\n            for (const bootloader of bootloaders) {\n                const boot = bootloader.services({ serviceClass: SRV_BOOTLOADER })[0];\n                const bl_announce = Packet.onlyHeader(BootloaderCmd.Info)\n                try {\n                    const resp = await boot.sendCmdAwaitResponseAsync(bl_announce);\n                    const [, , , firmwareIdentifier] = resp.jdunpack<[number, number, number, number]>(\"u32 u32 u32 u32\");\n                    if (firmwareIdentifier !== undefined && firmwares.indexOf(firmwareIdentifier) < 0)\n                        firmwares.push(firmwareIdentifier);\n                }\n                catch (e) {\n                    console.warn(`bootloader firmware identifier failed`, e)\n                }\n            }\n            repos = firmwares.map(fw => deviceSpecificationFromFirmwareIdentifier(fw)?.repo)\n                .filter(repo => !!repo);\n        }\n        if (mounted) {\n            const urepos = unique(repos);\n            setRepos(urepos)\n        }\n    }, [devices.map(dev => dev.id).join(), registers.map(reg => reg.id).join(), showAllRepos])\n    return repos;\n}","import React, { lazy, useState } from \"react\"\nimport { Button, Card, CardHeader, CardActions, CardContent, ListItem, List, ListItemText, Typography } from \"@material-ui/core\";\nimport { useFirmwareBlob } from \"./useFirmwareBlobs\";\nimport Alert from \"../ui/Alert\";\nimport Suspense from \"../ui/Suspense\"\nconst ImportButton = lazy(() => import(\"../ImportButton\"))\n\nconst LOCAL_FILE_SLUG = \"local file\";\n\nexport default function LocalFileFirmwareCard() {\n    const slug = LOCAL_FILE_SLUG;\n    const [downloading, setDownloading] = useState(false)\n    const [error, setError] = useState(\"\")\n    const { setFirmwareFile, firmwareBlobs } = useFirmwareBlob(slug)\n    const disabled = downloading;\n    const version = firmwareBlobs?.[0].version\n\n    const handleFiles = async (files: File[]) => {\n        const file = files[0]\n        if (file) {\n            try {\n                setDownloading(true)\n                await setFirmwareFile(undefined, file)\n            } finally {\n                setDownloading(false)\n            }\n        }\n    }\n\n    const handleClear = async () => {\n        try {\n            setError(\"\")\n            setDownloading(true)\n            setFirmwareFile(undefined, undefined)\n        }\n        finally {\n            setDownloading(false)\n        }\n    }\n\n    return <Card>\n        <CardHeader\n            title={slug} />\n        <CardContent>\n            {error && <Alert severity=\"error\">{error}</Alert>}\n            {version && <Typography variant=\"body2\">version <code>{version}</code></Typography>}\n            {!!firmwareBlobs?.length && <List dense>\n                {firmwareBlobs.map(blob => <ListItem key={blob.firmwareIdentifier}>\n                    <ListItemText primary={blob.name} secondary={`0x${blob.firmwareIdentifier.toString(16)}`} />\n                </ListItem>)}\n            </List>}\n        </CardContent>\n        <CardActions>\n            {!downloading && <Suspense><ImportButton text={\"Import UF2 file\"} onFilesUploaded={handleFiles} /></Suspense>}\n            {!downloading && firmwareBlobs?.length && <Button disabled={disabled} variant=\"text\" arial-label={\"Clear\"} onClick={handleClear}>\n                Clear\n            </Button>}\n        </CardActions>\n    </Card>\n}","import { Grid } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport useGridBreakpoints from \"../useGridBreakpoints\"\nimport FirmwareCard from \"./FirmwareCard\"\n// tslint:disable-next-line: no-submodule-imports\nimport useFirmwareRepos from \"./useFirmwareRepos\"\nimport LocalFileFirmwareCard from \"./LocalFileFirmwareCard\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport useChange from \"../../jacdac/useChange\"\n\nexport default function FirmwareCardGrid() {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const gridBreakpoints = useGridBreakpoints()\n    const safeBoot = useChange(bus, b => b.safeBoot)\n    const firmwareRepos = useFirmwareRepos(safeBoot)\n\n    return (\n        <Grid container spacing={2}>\n            <Grid {...gridBreakpoints} item key=\"localfile\">\n                <LocalFileFirmwareCard />\n            </Grid>\n            {firmwareRepos.map(firmwareRepo => (\n                <Grid\n                    {...gridBreakpoints}\n                    item\n                    key={`firmwarerepo${firmwareRepo}`}\n                >\n                    <FirmwareCard slug={firmwareRepo} />\n                </Grid>\n            ))}\n        </Grid>\n    )\n}\n","import { Button } from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport React, { useContext, useState } from \"react\"\nimport { JDDevice } from \"../../../jacdac-ts/src/jdom/device\"\nimport {\n    flashFirmwareBlob,\n    updateApplicable,\n    FirmwareBlob,\n} from \"../../../jacdac-ts/src/jdom/flashing\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport CircularProgressWithLabel from \"../ui/CircularProgressWithLabel\"\nimport AppContext from \"../AppContext\"\nimport useChange from \"../../jacdac/useChange\"\nimport useMounted from \"./../hooks/useMounted\"\n\nexport function FlashDeviceButton(props: {\n    device: JDDevice\n    blob: FirmwareBlob\n    ignoreFirmwareCheck?: boolean\n}) {\n    const { device, blob, ignoreFirmwareCheck } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { setError } = useContext(AppContext)\n    const [progress, setProgress] = useState(0)\n    const firmwareInfo = useChange(device, d => d?.firmwareInfo)\n    const update =\n        ignoreFirmwareCheck ||\n        (blob?.version &&\n            firmwareInfo?.version &&\n            updateApplicable(firmwareInfo, blob))\n    const flashing = useChange(device, d => !!d?.flashing)\n    const missing = !device || !blob\n    const disabled = flashing\n    const mounted = useMounted()\n\n    const handleFlashing = async () => {\n        if (device.flashing) return\n        try {\n            setProgress(0)\n            device.flashing = true // don't refresh registers while flashing\n            const updateCandidates = [firmwareInfo]\n            await flashFirmwareBlob(bus, blob, updateCandidates, ignoreFirmwareCheck, prog => {\n                if (mounted()) setProgress(prog)\n            })\n            // trigger info\n            device.firmwareInfo = undefined\n        } catch (e) {\n            if (mounted()) setError(e)\n        } finally {\n            device.flashing = false\n        }\n    }\n\n    // tslint:disable-next-line: react-this-binding-issue\n    return missing ? null : flashing ? (\n        <CircularProgressWithLabel value={progress} />\n    ) : update ? (\n        <Button\n            aria-label=\"flash firmware to device\"\n            disabled={disabled}\n            variant=\"contained\"\n            color={\"primary\"}\n            onClick={handleFlashing}\n        >\n            Flash\n        </Button>\n    ) : firmwareInfo ? (\n        <Alert severity=\"success\">Up to date!</Alert>\n    ) : (\n        <Alert severity=\"info\">No firmware available</Alert>\n    )\n}\n","import { Grid } from \"@material-ui/core\"\nimport React, { useContext, useEffect, useRef } from \"react\"\nimport {\n    DEVICE_CHANGE,\n    FIRMWARE_BLOBS_CHANGE,\n    SRV_BOOTLOADER,\n} from \"../../jacdac-ts/src/jdom/constants\"\nimport { JDDevice } from \"../../jacdac-ts/src/jdom/device\"\nimport { scanFirmwares } from \"../../jacdac-ts/src/jdom/flashing\"\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\"\nimport DeviceCard from \"./DeviceCard\"\nimport useGridBreakpoints from \"./useGridBreakpoints\"\nimport useChange from \"../jacdac/useChange\"\nimport useDevices from \"./hooks/useDevices\"\nimport useFirmwareBlobs from \"./firmware/useFirmwareBlobs\"\nimport { FlashDeviceButton } from \"./firmware/FlashDeviceButton\"\n\nfunction UpdateDeviceCard(props: { device: JDDevice }) {\n    const { device } = props\n    const blobs = useFirmwareBlobs()\n    const firmwareInfo = useChange(device, d => d.firmwareInfo)\n    const blob =\n        firmwareInfo &&\n        blobs?.find(\n            b => firmwareInfo.firmwareIdentifier == b.firmwareIdentifier\n        )\n\n    return (\n        <DeviceCard\n            device={device}\n            showFirmware={true}\n            // tslint:disable-next-line: react-this-binding-issue\n            action={<FlashDeviceButton device={device} blob={blob} />}\n        />\n    )\n}\n\nexport default function UpdateDeviceList() {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const scanning = useRef(false)\n    const gridBreakpoints = useGridBreakpoints()\n    const safeBoot = useChange(bus, b => b.safeBoot)\n    const devices = useDevices(\n        {\n            announced: true,\n            ignoreSelf: true,\n            ignoreSimulators: true,\n            firmwareIdentifier: true,\n        },\n        [safeBoot]\n    ).filter(dev => safeBoot || !dev.hasService(SRV_BOOTLOADER))\n    const isFlashing = useChange(bus, () => devices.some(dev => dev.flashing))\n    const blobs = useFirmwareBlobs()\n    async function scan() {\n        if (!blobs?.length || isFlashing || scanning.current) return\n        console.log(`start scanning bus`)\n        try {\n            scanning.current = true\n            await scanFirmwares(bus)\n        } finally {\n            scanning.current = false\n        }\n    }\n    // load indexed db file once\n    useEffect(() => {\n        scan()\n    }, [isFlashing, blobs])\n    useEffect(\n        () =>\n            bus.subscribe([DEVICE_CHANGE, FIRMWARE_BLOBS_CHANGE], () => scan()),\n        []\n    )\n\n    return (\n        <Grid container spacing={2}>\n            {devices.map(device => (\n                <Grid key={device.id} item {...gridBreakpoints}>\n                    <UpdateDeviceCard device={device} />\n                </Grid>\n            ))}\n        </Grid>\n    )\n}\n","import { Box, Button, Switch, Typography } from \"@material-ui/core\";\nimport React, { useContext, useEffect, useState } from \"react\";\n// tslint:disable-next-line: no-submodule-imports\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\";\nimport Alert from \"../ui/Alert\";\nimport DbContext, { DbContextProps } from \"../DbContext\";\n// tslint:disable-next-line: match-default-export-name tslint:disable-next-line: no-submodule-imports\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport { useSnackbar } from \"notistack\";\n\nexport default function SafeBootAlert() {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { db } = useContext<DbContextProps>(DbContext)\n    const { enqueueSnackbar } = useSnackbar();\n    const [safeBoot, setSafeBoot] = useState(bus.safeBoot);\n    const firmwares = db?.firmwares;\n\n    const handleRecovery = async () => {\n        const v = !safeBoot;\n        setSafeBoot(v);\n    }\n    const handleClear = async () => {\n        await firmwares.clear();\n        enqueueSnackbar(\"firmwares cleared\", {\n            variant: \"info\"\n        })\n    }\n\n    // turn on and off safeboot mode\n    useEffect(() => {\n        bus.safeBoot = safeBoot;\n        return () => { bus.safeBoot = false }\n    }, [safeBoot]);\n\n    return (<>\n        <Alert severity=\"info\">\n            <Switch value={safeBoot} onChange={handleRecovery} />\n            <Typography component=\"span\" variant=\"body1\">\n                recovery mode\n                </Typography>\n            <Box mr={1}>\n                <Typography component=\"span\" variant=\"caption\">\n                    If your module is malfunctioning from the start, you can flash it in bootloader mode.\n                    Turn on recovery mode and unplug/replug any malfunctioning device to switch it to bootloader mode (glowing status LED).\n                    Once your module is flashed, turn off recovery mode and unplug/replug your module again.\n                    </Typography>\n            </Box>\n        </Alert>\n        {safeBoot && <Alert severity=\"warning\">\n            <Button size=\"small\" variant=\"outlined\" disabled={!firmwares} onClick={handleClear} startIcon={<DeleteForeverIcon />}>\n                clear cache\n            </Button>\n            <Box mr={1}>\n                <Typography component=\"span\" variant=\"caption\">\n                    Delete all firmware cached in the browser. The firmware will have to be deleted again from this interface.\n                    </Typography>\n            </Box>\n        </Alert>}\n    </>)\n}\n","import { Box, Grid, MenuItem, Switch, Typography } from \"@material-ui/core\"\nimport React, { ChangeEvent, useContext, useState } from \"react\"\n// tslint:disable-next-line: no-submodule-imports\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport Alert from \"../ui/Alert\"\nimport useDevices from \"../hooks/useDevices\"\nimport { JDDevice } from \"../../../jacdac-ts/src/jdom/device\"\nimport SelectWithLabel from \"../ui/SelectWithLabel\"\nimport useFirmwareBlobs from \"./useFirmwareBlobs\"\nimport { FirmwareBlob } from \"../../../jacdac-ts/src/jdom/flashing\"\nimport DeviceActions from \"../DeviceActions\"\nimport { FlashDeviceButton } from \"./FlashDeviceButton\"\nimport { unique } from \"../../../jacdac-ts/src/jdom/utils\"\n\nconst fwid = (fw: FirmwareBlob) =>\n    fw ? `${fw.store},${fw.firmwareIdentifier},${fw.version}` : \"\"\n\nfunction ManualFirmware() {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const devices = useDevices({\n        announced: true,\n        ignoreSelf: true,\n        ignoreSimulators: true,\n    })\n    const firmwares = useFirmwareBlobs()\n    const stores = unique(firmwares.map(fw => fw.store))\n    const [deviceId, setDeviceId] = useState(devices?.[0]?.id)\n    const [firmwareId, setFirmwareId] = useState<string>(fwid(firmwares?.[0]))\n    const [store, setStore] = useState<string>(stores?.[0] || \"\")\n\n    const handleDeviceChange = (\n        ev: ChangeEvent<{ name?: string; value: unknown }>\n    ) => {\n        const id = ev.target.value as string\n        setDeviceId(id)\n    }\n    const handleStoreChange = (\n        ev: ChangeEvent<{ name?: string; value: unknown }>\n    ) => {\n        const store = ev.target.value as string\n        setStore(store)\n    }\n    const handleFirmwareChange = (\n        ev: ChangeEvent<{ name?: string; value: unknown }>\n    ) => {\n        const id = ev.target.value as string\n        setFirmwareId(id)\n    }\n\n    const device = bus.node(deviceId) as JDDevice\n    const blob = firmwares.find(fw => fwid(fw) === firmwareId)\n\n    return (\n        <Grid container spacing={1}>\n            <Grid item xs={12}>\n                <SelectWithLabel\n                    helperText=\"choose a device\"\n                    value={deviceId}\n                    onChange={handleDeviceChange}\n                >\n                    {devices?.map(dev => (\n                        <MenuItem key={dev.id} value={dev.id}>\n                            {dev.describe()}\n                        </MenuItem>\n                    ))}\n                </SelectWithLabel>\n                {deviceId && (\n                    <DeviceActions device={bus.node(deviceId) as JDDevice} />\n                )}\n            </Grid>\n            <Grid item xs={12}>\n                <Grid container direction=\"row\" spacing={1}>\n                    <Grid item>\n                        <SelectWithLabel\n                            helperText=\"choose a firmware\"\n                            value={store}\n                            onChange={handleStoreChange}\n                        >\n                            {stores?.map(store => (\n                                <MenuItem key={store} value={store}>\n                                    {store}\n                                </MenuItem>\n                            ))}\n                        </SelectWithLabel>\n                    </Grid>\n                    <Grid item>\n                        <SelectWithLabel\n                            helperText=\"choose a module\"\n                            value={firmwareId}\n                            onChange={handleFirmwareChange}\n                        >\n                            {firmwares\n                                ?.filter(fw => fw.store === store)\n                                .map(fw => (\n                                    <MenuItem key={fwid(fw)} value={fwid(fw)}>\n                                        {fw.name} &nbsp;\n                                        <Typography variant=\"caption\">\n                                            {fw.version}, &nbsp;\n                                            {`0x${fw.firmwareIdentifier.toString(\n                                                16\n                                            )}`}\n                                        </Typography>\n                                    </MenuItem>\n                                ))}\n                        </SelectWithLabel>\n                    </Grid>\n                </Grid>\n            </Grid>\n            <Grid item xs={12}>\n                <FlashDeviceButton\n                    device={device}\n                    blob={blob}\n                    ignoreFirmwareCheck={true}\n                />\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default function ManualFirmwareAlert() {\n    const [enabled, setEnabled] = useState(false)\n    const handleToggle = async () => {\n        const v = !enabled\n        setEnabled(v)\n    }\n\n    return (\n        <>\n            <Alert severity=\"info\">\n                <Switch value={enabled} onChange={handleToggle} />\n                <Typography component=\"span\" variant=\"body1\">\n                    manual mode\n                </Typography>\n                <Box mr={1}>\n                    <Typography component=\"span\" variant=\"caption\">\n                        Manually select which firmware to upload on your device.\n                    </Typography>\n                </Box>\n            </Alert>\n            {enabled && (\n                <Alert severity=\"warning\">\n                    <ManualFirmware />\n                </Alert>\n            )}\n        </>\n    )\n}\n","import { Box, Tab, Tabs } from \"@material-ui/core\"\nimport React, { useState } from \"react\"\nimport TabPanel, { a11yProps } from \"../ui/TabPanel\"\nimport ConnectAlert from \"../alert/ConnectAlert\"\nimport FirmwareCardGrid from \"../firmware/FirmwareCardGrid\"\n// tslint:disable-next-line: no-submodule-imports\nimport UpdateDeviceList from \"../UpdateDeviceList\"\nimport SafeBootAlert from \"../firmware/SafeBootAlert\"\nimport ManualFirmwareAlert from \"../firmware/ManualFirmwareAlert\"\n\nexport default function Flash() {\n    const [tab, setTab] = useState(0)\n    const handleTabChange = (\n        event: React.ChangeEvent<unknown>,\n        newValue: number\n    ) => {\n        setTab(newValue)\n    }\n\n    return (\n        <Box mb={2}>\n            <ConnectAlert />\n            <Tabs\n                value={tab}\n                onChange={handleTabChange}\n                aria-label=\"View specification formats\"\n            >\n                <Tab label={`Updates`} {...a11yProps(1)} />\n                <Tab label={`Firmwares`} {...a11yProps(0)} />\n            </Tabs>\n            <TabPanel value={tab} index={0}>\n                <UpdateDeviceList />\n            </TabPanel>\n            <TabPanel value={tab} index={1}>\n                <FirmwareCardGrid />\n            </TabPanel>\n            <SafeBootAlert />\n            <ManualFirmwareAlert />\n        </Box>\n    )\n}\n","import React from \"react\"\nimport Flash from \"../../components/tools/Flash\"\n\nexport default function Page() {\n    return <>\n        <h1>Firmware Updater</h1>\n        <p>\n        This page allows you to update your Jacdac module with new firmware. Find the latest UF2 firmware file from your manufacturer \nand import it with the button below.\n            \n        </p>\n        <Flash />\n    </>\n}"],"sourceRoot":""}