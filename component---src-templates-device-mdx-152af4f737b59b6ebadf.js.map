{"version":3,"sources":["webpack:///./node_modules/@material-ui/core/esm/Card/Card.js","webpack:///./node_modules/@material-ui/core/esm/CardHeader/CardHeader.js","webpack:///./src/components/ui/Snippet.tsx","webpack:///./node_modules/@material-ui/core/esm/internal/svg-icons/Cancel.js","webpack:///./node_modules/@material-ui/core/esm/Chip/Chip.js","webpack:///./node_modules/@material-ui/icons/Launch.js","webpack:///./src/components/hooks/useWindowEvent.ts","webpack:///./src/components/makecode/useMakeCodeRenderer.ts","webpack:///./src/components/makecode/MakeCodeSimulator.tsx","webpack:///./src/components/makecode/MakeCodeSnippet.tsx","webpack:///./src/components/CodeBlock.tsx","webpack:///./node_modules/@material-ui/icons/Fingerprint.js","webpack:///./src/components/DeviceDTDLSnippet.tsx","webpack:///./src/components/DeviceSpecificationSource.tsx","webpack:///./src/components/DeviceSpecification.tsx","webpack:///./src/templates/device.mdx","webpack:///./src/components/Page.tsx","webpack:///./src/components/useGridBreakpoints.ts","webpack:///./src/components/IDChip.tsx","webpack:///./src/components/ServiceSpecificationStatusAlert.tsx","webpack:///./src/components/ui/PaperBox.tsx","webpack:///./src/components/ServiceSpecificationCard.tsx","webpack:///./src/components/devices/useDeviceImage.ts","webpack:///./node_modules/@material-ui/core/esm/CardActions/CardActions.js","webpack:///./node_modules/@material-ui/core/esm/CardContent/CardContent.js","webpack:///./node_modules/@material-ui/icons/GetApp.js","webpack:///./jacdac-ts/src/azure-iot/dtdl.ts"],"names":["Snippet","props","value","mode","download","url","caption","v","className","useWindowEvent","type","listener","passive","deps","useEffect","window","undefined","addEventListener","removeEventListener","concat","parseMakeCodeSnippet","source","ghost","code","meta","dependencies","test","front","parts","replace","split","length","m","name","push","snippet","mkcds","makeCodeServices","filter","info","src","indexOf","client","qName","default","map","repo","forEach","dep","unique","useMakeCodeRenderer","useContext","MakeCodeSnippetContext","target","rendererUrl","lang","iframeId","pendingRequests","useMemo","sendRequest","req","iframe","document","getElementById","dataset","ready","contentWindow","postMessage","render","console","log","f","createElement","id","style","position","left","bottom","width","height","body","appendChild","Math","random","options","snippetMode","Promise","resolve","reject","handleMessage","ev","msg","data","Object","keys","k","r","useStyles","makeStyles","theme","createStyles","root","root2","paddingTop","top","border","MakeCodeSimulator","simUrl","JacdacContext","bus","frameRef","useRef","classes","encodeURIComponent","join","origin","URL","subscribe","PACKET_SEND","PACKET_PROCESS","pkt","packetSent","channel","broadcast","toBuffer","sender","current","MakeCodeSnippet","renderedSource","JSON","parse","rendered","tabs","editor","setEditor","useState","tab","setTab","handleTabChange","event","newValue","withPrefix","TraceSnippet","lazy","HighlightedCode","children","downloadName","downloadText","DarkModeContext","darkMode","language","DARK_THEME","LIGHT_THEME","valueUri","defaultProps","tokens","getLineProps","getTokenProps","float","line","index","lineProps","key","token","CodeBlock","trim","DeviceDTDLSnippet","dev","inlineServices","dtdl","stringify","deviceSpecificationToDTDL","flexGrow","backgroundColor","palette","background","paper","marginBottom","spacing","pre","margin","padding","whiteSpec","DeviceSpecificationSource","deviceSpecification","showSpecification","showDTDL","showJSON","spec","n","i","a11yProps","DeviceSpecification","device","showSource","gridBreakpoints","useGridBreakpoints","imageUrl","useDeviceImage","link","identifierToUrlPath","escapeDeviceIdentifier","company","description","firmwares","firmware","toString","services","sc","serviceSpecificationFromClassIdentifier","shortId","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","deviceSpecificationFromIdentifier","pageContext","node","isMDXComponent","Page","itemCount","AppContext","drawerType","xs","sm","md","lg","xl","DrawerType","None","IDChip","PacketsContext","packetFilter","setPacketFilter","setFilter","setDrawerType","ids","filtered","handleFilterClick","Packets","icon","title","StatusAlert","specification","status","ServiceSpecificationStatusAlert","React","memo","PaperBox","elevation","bgcolor","others","useTheme","ServiceSpecificationCard","serviceClass","showReleaseStatus","showServiceClass","classIdentifier","srv","hostDefinition","hostDefinitionFromServiceClass","handleSimulatorClick","addHost","navigate","VIRTUAL_DEVICE_NODE_NAME","notes","suffix","DTDL_REFERENCE_URL","DTDL_NAME","DTDL_CONTEXT","toDTMI","segments","version","seg","toLowerCase","toUnit","fields","field","unit","units","semantic","rad","m2","s","ms","us","K","C","F","g","mA","uA","A","mV","uV","V","enumDTDI","en","enumSchema","valueSchema","enumValues","members","escapeName","displayName","enumValue","fieldType","isFloat","isSimpleType","shift","enums","objectSchema","schemas","arraySchema","schema","elementSchema","toSchema","supportsArray","startRepeats","repeatIndex","findIndex","nonRepeat","slice","repeats","packetToDTDL","types","const","rw","ro","kind","writable","escapeDisplayName","serviceSpecificationToDTDL","serviceSpecificationDTMI","contents","packets","derived","internal","e","c","extends","serviceSpecificationFromName","hasEvents","find","hasEnums","serviceSpecificationToComponent","deviceSpecificationDTMI","DTMIToRoute","dtmi","route","uniqueServices","uniqueMap","names","shortName","count"],"mappings":"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nE,gBAAgB;;AAEhB,iFAAiF,KAAK;AACtF;AACA;AACA;AACA;AACA;AACA,yBAAyB,6CAAS;AAClC,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL,uGAAuG,KAAK;AAC5G;AACA;AACA,yBAAyB,6CAAS;AAClC;AACA,KAAK;;AAEL,yGAAyG,KAAK;AAC9G;AACA;AACA,yBAAyB,6CAAS;AAClC;AACA,KAAK;;AAEL;AACA;AACA;AACA,yBAAyB,6CAAS;AAClC;AACA,KAAK;;AAEL;AACA;AACA;AACA,yBAAyB,6CAAS;AAClC;AACA,KAAK;;AAEL;AACA;AACA;AACA,yBAAyB,6CAAS;AAClC;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,yBAAyB,wCAAI;AAC7B,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,yBAAyB,wCAAI;AAC7B;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,yBAAyB,wCAAI;AAC7B;AACA,KAAK;AACL;;AAEA;AACA,cAAc;;AAEd;AACA,mBAAmB;;AAEnB;AACA,0BAA0B;;AAE1B;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wCAAI;AACnB;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,aAAa,wCAAI;AACjB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,aAAa,wCAAI;AACjB;AACA;AACA;AACA,KAAK;;AAEL;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","file":"component---src-templates-device-mdx-152af4f737b59b6ebadf.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 16\n  },\n\n  /* Styles applied to the avatar element. */\n  avatar: {\n    flex: '0 0 auto',\n    marginRight: 16\n  },\n\n  /* Styles applied to the action element. */\n  action: {\n    flex: '0 0 auto',\n    alignSelf: 'flex-start',\n    marginTop: -8,\n    marginRight: -8\n  },\n\n  /* Styles applied to the content wrapper element. */\n  content: {\n    flex: '1 1 auto'\n  },\n\n  /* Styles applied to the title Typography element. */\n  title: {},\n\n  /* Styles applied to the subheader Typography element. */\n  subheader: {}\n};\nvar CardHeader = /*#__PURE__*/React.forwardRef(function CardHeader(props, ref) {\n  var action = props.action,\n      avatar = props.avatar,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      subheaderProp = props.subheader,\n      subheaderTypographyProps = props.subheaderTypographyProps,\n      titleProp = props.title,\n      titleTypographyProps = props.titleTypographyProps,\n      other = _objectWithoutProperties(props, [\"action\", \"avatar\", \"classes\", \"className\", \"component\", \"disableTypography\", \"subheader\", \"subheaderTypographyProps\", \"title\", \"titleTypographyProps\"]);\n\n  var title = titleProp;\n\n  if (title != null && title.type !== Typography && !disableTypography) {\n    title = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: avatar ? 'body2' : 'h5',\n      className: classes.title,\n      component: \"span\",\n      display: \"block\"\n    }, titleTypographyProps), title);\n  }\n\n  var subheader = subheaderProp;\n\n  if (subheader != null && subheader.type !== Typography && !disableTypography) {\n    subheader = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: avatar ? 'body2' : 'body1',\n      className: classes.subheader,\n      color: \"textSecondary\",\n      component: \"span\",\n      display: \"block\"\n    }, subheaderTypographyProps), subheader);\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), avatar && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.avatar\n  }, avatar), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content\n  }, title, subheader), action && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardHeader'\n})(CardHeader);","import { IconButton, Typography } from \"@material-ui/core\"\nimport { Link } from \"gatsby-theme-material-ui\"\nimport React, { useContext } from \"react\"\nimport CodeBlock from \"../CodeBlock\"\n\nexport default function Snippet(props: {\n    value: string | (() => string),\n    mode?: string,\n    download?: string;\n    url?: string;\n    caption?: string | JSX.Element | JSX.Element[];\n}) {\n    const { value, mode, download, url, caption } = props\n    const v: string = typeof value === 'function' ? value() : value;\n    const className = mode && `language-${mode === \"sts\" ? \"ts\" : mode}`\n    return <>\n        <CodeBlock className={className} downloadName={download} downloadText={download && v} url={url}>{v}</CodeBlock>\n        {caption && <Typography variant=\"caption\">{caption}</Typography>}\n    </>\n}","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"\n}), 'Cancel');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport CancelIcon from '../internal/svg-icons/Cancel';\nimport withStyles from '../styles/withStyles';\nimport { emphasize, fade } from '../styles/colorManipulator';\nimport useForkRef from '../utils/useForkRef';\nimport unsupportedProp from '../utils/unsupportedProp';\nimport capitalize from '../utils/capitalize';\nimport ButtonBase from '../ButtonBase';\nexport var styles = function styles(theme) {\n  var backgroundColor = theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700];\n  var deleteIconColor = fade(theme.palette.text.primary, 0.26);\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(13),\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: 32,\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      borderRadius: 32 / 2,\n      whiteSpace: 'nowrap',\n      transition: theme.transitions.create(['background-color', 'box-shadow']),\n      // label will inherit this from root, then `clickable` class overrides this for both\n      cursor: 'default',\n      // We disable the focus ring for mouse, touch and keyboard users.\n      outline: 0,\n      textDecoration: 'none',\n      border: 'none',\n      // Remove `button` border\n      padding: 0,\n      // Remove `button` padding\n      verticalAlign: 'middle',\n      boxSizing: 'border-box',\n      '&$disabled': {\n        opacity: 0.5,\n        pointerEvents: 'none'\n      },\n      '& $avatar': {\n        marginLeft: 5,\n        marginRight: -6,\n        width: 24,\n        height: 24,\n        color: theme.palette.type === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n        fontSize: theme.typography.pxToRem(12)\n      },\n      '& $avatarColorPrimary': {\n        color: theme.palette.primary.contrastText,\n        backgroundColor: theme.palette.primary.dark\n      },\n      '& $avatarColorSecondary': {\n        color: theme.palette.secondary.contrastText,\n        backgroundColor: theme.palette.secondary.dark\n      },\n      '& $avatarSmall': {\n        marginLeft: 4,\n        marginRight: -4,\n        width: 18,\n        height: 18,\n        fontSize: theme.typography.pxToRem(10)\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      height: 24\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `onClick` is defined or `clickable={true}`. */\n    clickable: {\n      userSelect: 'none',\n      WebkitTapHighlightColor: 'transparent',\n      cursor: 'pointer',\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(backgroundColor, 0.08)\n      },\n      '&:active': {\n        boxShadow: theme.shadows[1]\n      }\n    },\n\n    /* Styles applied to the root element if `onClick` and `color=\"primary\"` is defined or `clickable={true}`. */\n    clickableColorPrimary: {\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(theme.palette.primary.main, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onClick` and `color=\"secondary\"` is defined or `clickable={true}`. */\n    clickableColorSecondary: {\n      '&:hover, &:focus': {\n        backgroundColor: emphasize(theme.palette.secondary.main, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` is defined. */\n    deletable: {\n      '&:focus': {\n        backgroundColor: emphasize(backgroundColor, 0.08)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` and `color=\"primary\"` is defined. */\n    deletableColorPrimary: {\n      '&:focus': {\n        backgroundColor: emphasize(theme.palette.primary.main, 0.2)\n      }\n    },\n\n    /* Styles applied to the root element if `onDelete` and `color=\"secondary\"` is defined. */\n    deletableColorSecondary: {\n      '&:focus': {\n        backgroundColor: emphasize(theme.palette.secondary.main, 0.2)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"`. */\n    outlined: {\n      backgroundColor: 'transparent',\n      border: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.text.primary, theme.palette.action.hoverOpacity)\n      },\n      '& $avatar': {\n        marginLeft: 4\n      },\n      '& $avatarSmall': {\n        marginLeft: 2\n      },\n      '& $icon': {\n        marginLeft: 4\n      },\n      '& $iconSmall': {\n        marginLeft: 2\n      },\n      '& $deleteIcon': {\n        marginRight: 5\n      },\n      '& $deleteIconSmall': {\n        marginRight: 3\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"primary\"`. */\n    outlinedPrimary: {\n      color: theme.palette.primary.main,\n      border: \"1px solid \".concat(theme.palette.primary.main),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    outlinedSecondary: {\n      color: theme.palette.secondary.main,\n      border: \"1px solid \".concat(theme.palette.secondary.main),\n      '$clickable&:hover, $clickable&:focus, $deletable&:focus': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity)\n      }\n    },\n    // TODO v5: remove\n\n    /* Styles applied to the `avatar` element. */\n    avatar: {},\n\n    /* Styles applied to the `avatar` element if `size=\"small\"`. */\n    avatarSmall: {},\n\n    /* Styles applied to the `avatar` element if `color=\"primary\"`. */\n    avatarColorPrimary: {},\n\n    /* Styles applied to the `avatar` element if `color=\"secondary\"`. */\n    avatarColorSecondary: {},\n\n    /* Styles applied to the `icon` element. */\n    icon: {\n      color: theme.palette.type === 'light' ? theme.palette.grey[700] : theme.palette.grey[300],\n      marginLeft: 5,\n      marginRight: -6\n    },\n\n    /* Styles applied to the `icon` element if `size=\"small\"`. */\n    iconSmall: {\n      width: 18,\n      height: 18,\n      marginLeft: 4,\n      marginRight: -4\n    },\n\n    /* Styles applied to the `icon` element if `color=\"primary\"`. */\n    iconColorPrimary: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the `icon` element if `color=\"secondary\"`. */\n    iconColorSecondary: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the label `span` element. */\n    label: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      paddingLeft: 12,\n      paddingRight: 12,\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the label `span` element if `size=\"small\"`. */\n    labelSmall: {\n      paddingLeft: 8,\n      paddingRight: 8\n    },\n\n    /* Styles applied to the `deleteIcon` element. */\n    deleteIcon: {\n      WebkitTapHighlightColor: 'transparent',\n      color: deleteIconColor,\n      height: 22,\n      width: 22,\n      cursor: 'pointer',\n      margin: '0 5px 0 -6px',\n      '&:hover': {\n        color: fade(deleteIconColor, 0.4)\n      }\n    },\n\n    /* Styles applied to the `deleteIcon` element if `size=\"small\"`. */\n    deleteIconSmall: {\n      height: 16,\n      width: 16,\n      marginRight: 4,\n      marginLeft: -4\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"primary\"` and `variant=\"default\"`. */\n    deleteIconColorPrimary: {\n      color: fade(theme.palette.primary.contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.primary.contrastText\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"secondary\"` and `variant=\"default\"`. */\n    deleteIconColorSecondary: {\n      color: fade(theme.palette.secondary.contrastText, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.secondary.contrastText\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"primary\"` and `variant=\"outlined\"`. */\n    deleteIconOutlinedColorPrimary: {\n      color: fade(theme.palette.primary.main, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.primary.main\n      }\n    },\n\n    /* Styles applied to the deleteIcon element if `color=\"secondary\"` and `variant=\"outlined\"`. */\n    deleteIconOutlinedColorSecondary: {\n      color: fade(theme.palette.secondary.main, 0.7),\n      '&:hover, &:active': {\n        color: theme.palette.secondary.main\n      }\n    }\n  };\n};\n\nfunction isDeleteKeyboardEvent(keyboardEvent) {\n  return keyboardEvent.key === 'Backspace' || keyboardEvent.key === 'Delete';\n}\n/**\n * Chips represent complex entities in small blocks, such as a contact.\n */\n\n\nvar Chip = /*#__PURE__*/React.forwardRef(function Chip(props, ref) {\n  var avatarProp = props.avatar,\n      classes = props.classes,\n      className = props.className,\n      clickableProp = props.clickable,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      ComponentProp = props.component,\n      deleteIconProp = props.deleteIcon,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      iconProp = props.icon,\n      label = props.label,\n      onClick = props.onClick,\n      onDelete = props.onDelete,\n      onKeyDown = props.onKeyDown,\n      onKeyUp = props.onKeyUp,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'default' : _props$variant,\n      other = _objectWithoutProperties(props, [\"avatar\", \"classes\", \"className\", \"clickable\", \"color\", \"component\", \"deleteIcon\", \"disabled\", \"icon\", \"label\", \"onClick\", \"onDelete\", \"onKeyDown\", \"onKeyUp\", \"size\", \"variant\"]);\n\n  var chipRef = React.useRef(null);\n  var handleRef = useForkRef(chipRef, ref);\n\n  var handleDeleteIconClick = function handleDeleteIconClick(event) {\n    // Stop the event from bubbling up to the `Chip`\n    event.stopPropagation();\n\n    if (onDelete) {\n      onDelete(event);\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target && isDeleteKeyboardEvent(event)) {\n      // will be handled in keyUp, otherwise some browsers\n      // might init navigation\n      event.preventDefault();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  var handleKeyUp = function handleKeyUp(event) {\n    // Ignore events from children of `Chip`.\n    if (event.currentTarget === event.target) {\n      if (onDelete && isDeleteKeyboardEvent(event)) {\n        onDelete(event);\n      } else if (event.key === 'Escape' && chipRef.current) {\n        chipRef.current.blur();\n      }\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  };\n\n  var clickable = clickableProp !== false && onClick ? true : clickableProp;\n  var small = size === 'small';\n  var Component = ComponentProp || (clickable ? ButtonBase : 'div');\n  var moreProps = Component === ButtonBase ? {\n    component: 'div'\n  } : {};\n  var deleteIcon = null;\n\n  if (onDelete) {\n    var customClasses = clsx(color !== 'default' && (variant === \"default\" ? classes[\"deleteIconColor\".concat(capitalize(color))] : classes[\"deleteIconOutlinedColor\".concat(capitalize(color))]), small && classes.deleteIconSmall);\n    deleteIcon = deleteIconProp && /*#__PURE__*/React.isValidElement(deleteIconProp) ? /*#__PURE__*/React.cloneElement(deleteIconProp, {\n      className: clsx(deleteIconProp.props.className, classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    }) : /*#__PURE__*/React.createElement(CancelIcon, {\n      className: clsx(classes.deleteIcon, customClasses),\n      onClick: handleDeleteIconClick\n    });\n  }\n\n  var avatar = null;\n\n  if (avatarProp && /*#__PURE__*/React.isValidElement(avatarProp)) {\n    avatar = /*#__PURE__*/React.cloneElement(avatarProp, {\n      className: clsx(classes.avatar, avatarProp.props.className, small && classes.avatarSmall, color !== 'default' && classes[\"avatarColor\".concat(capitalize(color))])\n    });\n  }\n\n  var icon = null;\n\n  if (iconProp && /*#__PURE__*/React.isValidElement(iconProp)) {\n    icon = /*#__PURE__*/React.cloneElement(iconProp, {\n      className: clsx(classes.icon, iconProp.props.className, small && classes.iconSmall, color !== 'default' && classes[\"iconColor\".concat(capitalize(color))])\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (avatar && icon) {\n      console.error('Material-UI: The Chip component can not handle the avatar ' + 'and the icon prop at the same time. Pick one.');\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    role: clickable || onDelete ? 'button' : undefined,\n    className: clsx(classes.root, className, color !== 'default' && [classes[\"color\".concat(capitalize(color))], clickable && classes[\"clickableColor\".concat(capitalize(color))], onDelete && classes[\"deletableColor\".concat(capitalize(color))]], variant !== \"default\" && [classes.outlined, {\n      'primary': classes.outlinedPrimary,\n      'secondary': classes.outlinedSecondary\n    }[color]], disabled && classes.disabled, small && classes.sizeSmall, clickable && classes.clickable, onDelete && classes.deletable),\n    \"aria-disabled\": disabled ? true : undefined,\n    tabIndex: clickable || onDelete ? 0 : undefined,\n    onClick: onClick,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    ref: handleRef\n  }, moreProps, other), avatar || icon, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.label, small && classes.labelSmall)\n  }, label), deleteIcon);\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiChip'\n})(Chip);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'Launch');\n\nexports.default = _default;","import { DependencyList, useEffect } from \"react\"\n\nexport default function useWindowEvent<K extends keyof WindowEventMap>(type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    passive = false,\n    deps: DependencyList) {\n    useEffect(() => {\n        if (typeof window === \"undefined\")\n            return undefined; // SSR\n\n        // initiate the event handler\n        window.addEventListener<K>(type, listener, passive)\n\n        // this will clean up the event every time the component is re-rendered\n        return () => {\n            window.removeEventListener<K>(type, listener)\n        }\n    }, [type, listener, passive].concat(deps || []))\n}","import { useMemo, useContext } from \"react\";\nimport { unique } from \"../../../jacdac-ts/src/jdom/utils\";\nimport { makeCodeServices } from \"../../../jacdac-ts/src/jdom/spec\"\nimport useWindowEvent from \"../hooks/useWindowEvent\"\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\n\nexport interface MakeCodeSnippetSource {\n    code: string;\n    ghost?: string;\n    meta: {\n        editor?: string;\n        snippet?: boolean;\n        dependencies: string[];\n    }\n}\n\nexport interface MakeCodeSnippetRendered {\n    uri?: string;\n    width?: number;\n    height?: number;\n    error?: string;\n}\n\n\n\nexport function parseMakeCodeSnippet(source: string): MakeCodeSnippetSource {\n    let ghost: string;\n    let code: string;\n    const meta: {\n        editor?: string;\n        snippet?: boolean;\n        dependencies: string[];\n    } = {\n        dependencies: []\n    }\n\n    if (/^---\\n/.test(source)) {\n        let front: string;\n        const parts = source.replace(/^---\\n/, '').split(/---\\n/gm)\n        switch (parts.length) {\n            case 1: front = ghost = undefined; code = source; break;\n            case 2: [front, code] = parts; break;\n            default: [front, ghost, code] = parts; break;\n        }\n\n        // parse front matter\n        front?.replace(/(.+):\\s*(.+)\\s*\\n/g, (m, name, value) => {\n            switch (name) {\n                case \"dep\": meta.dependencies.push(value); break;\n                case \"snippet\": meta.snippet = !!value; break;\n                default: meta[name] = value;\n            }\n            return \"\";\n        })\n    } else {\n        code = source;\n    }\n\n    // sniff services\n    const mkcds = makeCodeServices()\n    mkcds.filter(info => {\n        const src = (ghost || \"\") + \"\\n\" + (code || \"\");\n        return src.indexOf(info.client.qName) > -1\n            || (info.client.default && src.indexOf(info.client.default) > -1);\n    }).map(info => `${info.client.name.replace(/^pxt-/, '')}=github:${info.client.repo}`)\n        .forEach(dep => meta.dependencies.push(dep));\n\n    // add jacdac by default\n    if (!meta.dependencies.length)\n        meta.dependencies.push(\"jacdac=github:microsoft/pxt-jacdac\");\n\n    // ensure unique deps\n    meta.dependencies = unique(meta.dependencies);\n\n    return {\n        code,\n        ghost,\n        meta\n    }\n}\n\ninterface RenderBlocksRequestMessage {\n    type: \"renderblocks\",\n    id: string;\n    code: string;\n    ghost?: string;\n    options?: {\n        packageId?: string;\n        package?: string;\n        snippetMode?: boolean;\n        dependencies?: string[];\n    }\n}\n\ninterface RenderBlocksResponseMessage {\n    source: \"makecode\",\n    type: \"renderblocks\",\n    id: string;\n    uri?: string;\n    css?: string;\n    svg?: string;\n    width?: number;\n    height?: number;\n    error?: string;\n}\n\ninterface RenderBlocksRequentResponse {\n    req: RenderBlocksRequestMessage,\n    resolve: (resp: RenderBlocksResponseMessage) => void,\n    reject: (e: unknown) => void\n}\n\nexport function useMakeCodeRenderer() {\n    const { target, rendererUrl } = useContext(MakeCodeSnippetContext);\n    const lang = \"\"\n    const iframeId = \"makecoderenderer\" + target;\n    const pendingRequests = useMemo<{\n        [index: string]: RenderBlocksRequentResponse\n    }>(() => ({}), [target, lang]);\n\n    const sendRequest = (req: RenderBlocksRequestMessage) => {\n        const iframe = typeof document !== \"undefined\" && document.getElementById(iframeId) as HTMLIFrameElement;\n        if (iframe?.dataset.ready)\n            iframe?.contentWindow.postMessage(req, rendererUrl);\n    }\n\n    const render = (source: MakeCodeSnippetSource): Promise<MakeCodeSnippetRendered> => {\n        const { code, ghost, meta } = source;\n        const { dependencies, snippet } = meta;\n\n        // spin up iframe on demans\n        if (typeof document !== \"undefined\" && !document.getElementById(iframeId)) {\n            console.log(`mkcd: loading iframe`)\n            const f = document.createElement(\"iframe\");\n            f.id = iframeId;\n            f.style.position = \"absolute\";\n            f.style.left = \"0\";\n            f.style.bottom = \"0\";\n            f.style.width = \"1px\";\n            f.style.height = \"1px\";\n            f.src = `${rendererUrl}?render=1${lang ? `&lang=${lang}` : ''}`;\n            document.body.appendChild(f);\n        }\n\n        const req: RenderBlocksRequestMessage = {\n            type: \"renderblocks\",\n            id: \"r\" + Math.random(),\n            code,\n            ghost,\n            options: {\n                dependencies,\n                snippetMode: snippet\n            }\n        }\n        return new Promise<RenderBlocksResponseMessage>((resolve, reject) => {\n            pendingRequests[req.id] = { req, resolve, reject }\n            sendRequest(req);\n        })\n    }\n\n    // listen for messages\n    const handleMessage = (ev: MessageEvent) => {\n        const msg = ev.data;\n        if (msg.source != \"makecode\") return;\n        switch (msg.type) {\n            case \"renderready\": {\n                console.log(`mkcd: renderer ready, ${Object.keys(pendingRequests).length} pending`)\n                const iframe = typeof document !== \"undefined\" && document.getElementById(iframeId)\n                if (iframe) {\n                    console.log(`flushing messages`)\n                    iframe.dataset.ready = \"1\"\n                    Object.keys(pendingRequests)\n                        .forEach(k => sendRequest(pendingRequests[k].req));\n                }\n                break;\n            }\n            case \"renderblocks\": {\n                const id = msg.id; // this is the id you sent\n                const r = pendingRequests[id];\n                if (!r) return;\n                delete pendingRequests[id];\n                r.resolve(msg as RenderBlocksResponseMessage);\n                break;\n            }\n        }\n    }\n\n    useWindowEvent(\"message\", handleMessage, false, [])\n\n    return {\n        render\n    }\n}\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { PACKET_PROCESS, PACKET_SEND } from \"../../../jacdac-ts/src/jdom/constants\";\nimport { PacketMessage } from \"../../../jacdac-ts/src/jdom/iframebridgeclient\";\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\";\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\";\nimport useWindowEvent from \"../hooks/useWindowEvent\";\nimport PaperBox from \"../ui/PaperBox\";\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\nimport { MakeCodeSnippetSource } from \"./useMakeCodeRenderer\";\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        width: \"100%\",\n    },\n    root2: {\n        position: \"relative\",\n        paddingTop: \"86.75%\"\n    },\n    iframe: {\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n        border: \"none\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nexport default function MakeCodeSimulator(props: { snippet: MakeCodeSnippetSource }) {\n    const { simUrl } = useContext(MakeCodeSnippetContext);\n    const { snippet } = props;\n    const { code, ghost, meta } = snippet;\n    const { dependencies } = meta;\n    const { bus } = useContext<JacdacContextProps>(JacdacContext);\n    const frameRef = useRef<HTMLIFrameElement>();\n    const classes = useStyles();\n\n    const src = `${ghost || \"\"}\\n${code || \"\"}`;\n    const url = `${simUrl}#single=1&fullscren=1&nofooter=1&deps=${encodeURIComponent(dependencies.join(','))}&code=${encodeURIComponent(src)}`\n    const origin = new URL(url).origin;\n\n    useEffect(() => bus.subscribe([PACKET_SEND, PACKET_PROCESS], (pkt: Packet) => {\n        this.packetSent++;\n        const msg: PacketMessage = {\n            type: \"messagepacket\",\n            channel: \"jacdac\",\n            broadcast: true,\n            data: pkt.toBuffer(),\n            sender: pkt.sender\n        }\n        frameRef.current?.contentWindow?.postMessage(msg, origin);\n    }))\n\n    return <PaperBox>\n        <div className={classes.root}>\n            <div className={classes.root2}>\n                <iframe ref={frameRef} className={classes.iframe} src={url} aria-label=\"MakeCode rendering iframe to generate blocks images.\" />\n            </div>\n        </div>\n    </PaperBox>\n}","import React, { useState, useMemo, useContext } from \"react\";\nimport PaperBox from \"../ui/PaperBox\"\nimport { Tab, Tabs } from '@material-ui/core';\nimport CodeBlock from \"../CodeBlock\";\nimport TabPanel from '../ui/TabPanel';\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\nimport { parseMakeCodeSnippet } from \"./useMakeCodeRenderer\";\nimport MakeCodeSimulator from \"./MakeCodeSimulator\";\nimport { withPrefix } from \"gatsby\"\ninterface Rendered {\n    url: string;\n    width: number;\n    height: number;\n}\n\nexport default function MakeCodeSnippet(props: { renderedSource: string }) {\n    const { renderedSource } = props;\n    const { source, rendered } = JSON.parse(renderedSource) as { source: string; rendered: Rendered; }\n    const { height, width, url } = rendered || {};\n    const tabs = [\"blocks\", \"typescript\", \"sim\"]\n    const { editor, setEditor } = useContext(MakeCodeSnippetContext);\n    const [tab, setTab] = useState(tabs.indexOf(editor) || 0);\n    const handleTabChange = (event: React.ChangeEvent<unknown>, newValue: number) => {\n        if (newValue < tabs.length - 1)\n            setEditor(tabs[newValue]);\n        setTab(newValue);\n    };\n    const snippet = useMemo(() => parseMakeCodeSnippet(source), [source]);\n    const { code } = snippet;\n\n    return <PaperBox>\n        <Tabs value={tab} onChange={handleTabChange} aria-label=\"Select MakeCode editor\">\n            <Tab label={\"Blocks\"} />\n            <Tab label={\"JavaScript\"} />\n            <Tab label={\"Simulator\"} />\n        </Tabs>\n        <TabPanel value={tab} index={0}>\n            <img src={withPrefix(url)} alt={source} loading=\"lazy\" />\n        </TabPanel>\n        <TabPanel value={tab} index={1}>\n            <CodeBlock className=\"typescript\">{code}</CodeBlock>\n        </TabPanel>\n        <TabPanel value={tab} index={2}>\n            <MakeCodeSimulator snippet={snippet} />\n        </TabPanel>\n    </PaperBox>\n}\n","import React, { lazy, useContext } from 'react'\nimport Highlight, { defaultProps, Language, PrismTheme } from 'prism-react-renderer'\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LIGHT_THEME from 'prism-react-renderer/themes/github';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport DARK_THEME from 'prism-react-renderer/themes/vsDark';\nimport DarkModeContext from './ui/DarkModeContext';\nimport { IconButton, Link } from 'gatsby-theme-material-ui';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport GetAppIcon from '@material-ui/icons/GetApp';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport Tooltip from './ui/Tooltip';\nimport MakeCodeSnippet from './makecode/MakeCodeSnippet';\nimport Markdown from './ui/Markdown';\nimport { Alert } from '@material-ui/lab';\nimport Suspense from './ui/Suspense';\n\nconst TraceSnippet = lazy(() => import('./TraceSnippet'));\n\nfunction HighlightedCode(props: { children: string, className?: string, downloadName?: string; downloadText?: string; url?: string; }) {\n    const { children, className, downloadName, downloadText, url } = props;\n    const { darkMode } = useContext(DarkModeContext)\n    const language = className?.replace(/language-/, '') || \"\"\n    const theme = (darkMode === \"dark\" ? DARK_THEME : LIGHT_THEME) as PrismTheme;\n    const valueUri = !!downloadText && `data:application/json;charset=UTF-8,${encodeURIComponent(downloadText)}`\n\n    return (\n        <Highlight {...defaultProps}\n            code={children}\n            language={language as Language}\n            theme={theme}\n        >\n            {({ className, style, tokens, getLineProps, getTokenProps }) => (\n                <pre className={className} style={{ ...style }}>\n                    {!!url && <Link style={({ float: \"right\" })} href={url}><Tooltip title={`Open ${url}`}><IconButton><LaunchIcon /></IconButton></Tooltip></Link>}\n                    {!!downloadText && <Link style={({ float: \"right\" })} href={valueUri} download={downloadName || \"download\"}><Tooltip title=\"Download\"><IconButton><GetAppIcon /></IconButton></Tooltip></Link>}\n                    {tokens?.map((line, index) => {\n                        const lineProps = getLineProps({ line, key: index })\n                        return (\n                            <div key={index} {...lineProps}>\n                                {line.map((token, key) => (\n                                    <span key={key}{...getTokenProps({ token, key })} />\n                                ))}\n                            </div>\n                        )\n                    }\n                    )}\n                </pre>\n            )}\n        </Highlight>\n    )\n}\n\nexport default function CodeBlock(props: { children: string, className?: string, downloadName?: string; downloadText?: string; url?: string; }) {\n    const { children, className } = props;\n    const language = className?.replace(/language-/, '') || \"\"\n\n    switch (language) {\n        case \"trace\": return <Suspense><TraceSnippet source={children} /></Suspense>;\n        case \"blocks\": return <MakeCodeSnippet renderedSource={children} />;\n        case \"info\":\n        case \"error\":\n        case \"warning\":\n        case \"success\":\n            return <Alert severity={language}>\n                <Markdown source={children.trim()} />\n            </Alert>\n        default: return <HighlightedCode {...props} />\n    }\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z\"\n}), 'Fingerprint');\n\nexports.default = _default;","import { Link } from \"gatsby-theme-material-ui\";\nimport React, { useMemo } from \"react\";\nimport { deviceSpecificationToDTDL } from \"../../jacdac-ts/src/azure-iot/dtdl\";\nimport Snippet from \"./ui/Snippet\";\n\nexport function DeviceDTDLSnippet(props: { dev: jdspec.DeviceSpec, inlineServices?: boolean }) {\n    const { dev, inlineServices } = props;\n\n    const dtdl = useMemo<string>(\n        () => JSON.stringify(deviceSpecificationToDTDL(dev, { inlineServices }), null, 2),\n        [dev]);\n\n    return <Snippet value={dtdl} mode=\"json\" download={`${dev.name}.json`}\n        caption={<><Link to=\"/dtmi\">DTDL</Link> is an open source modelling language developed by Microsoft Azure.</>} />\n}","import React, {  useState } from 'react';\n// tslint:disable-next-line: no-submodule-imports\nimport Tabs from '@material-ui/core/Tabs';\n// tslint:disable-next-line: no-submodule-imports\nimport Tab from '@material-ui/core/Tab';\nimport { Paper, createStyles, makeStyles, Theme } from '@material-ui/core';\nimport TabPanel, { a11yProps } from './ui/TabPanel';\nimport Snippet from './ui/Snippet';\nimport DeviceSpecification from './DeviceSpecification';\nimport { DeviceDTDLSnippet } from './DeviceDTDLSnippet';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper,\n        marginBottom: theme.spacing(1)\n    },\n    pre: {\n        margin: \"0\",\n        padding: \"0\",\n        backgroundColor: \"transparent\",\n        whiteSpec: \"pre-wrap\"\n    }\n}));\n\nexport default function DeviceSpecificationSource(props: {\n    deviceSpecification?: jdspec.DeviceSpec,\n    showSpecification?: boolean,\n    showDTDL?: boolean,\n    showJSON?: boolean\n}) {\n    const { deviceSpecification, showSpecification, showDTDL, showJSON } = props;\n    const classes = useStyles();\n    const [tab, setTab] = useState(0);\n    const spec = deviceSpecification\n\n    const handleTabChange = (event: React.ChangeEvent<unknown>, newValue: number) => {\n        setTab(newValue);\n    };\n\n    let index = 0;\n    return (\n        <div className={classes.root}>\n            <Paper square>\n                <Tabs value={tab} onChange={handleTabChange} aria-label=\"View specification formats\">\n                    {[\n                        showSpecification && \"Specification\",\n                        showJSON && \"JSON\",\n                        showDTDL && \"Device Twin\",\n                    ].filter(n => !!n)\n                        .map((n, i) => <Tab key={n} label={n} {...a11yProps(i)} />)}\n                </Tabs>\n                {showSpecification && <TabPanel key=\"spec\" value={tab} index={index++}>\n                    <DeviceSpecification device={spec} />\n                </TabPanel>}\n                {showJSON && <TabPanel key={`convjson`} value={tab} index={index++}>\n                    <Snippet value={JSON.stringify(spec, null, 2)} mode={\"json\"} />\n                </TabPanel>}\n                {showDTDL && <TabPanel key=\"dtdl\" value={tab} index={index++}>\n                    <DeviceDTDLSnippet dev={deviceSpecification} />\n                </TabPanel>}\n            </Paper>\n        </div>\n    );\n}\n","import React from \"react\"\nimport IDChip from \"./IDChip\";\nimport { Link } from 'gatsby-theme-material-ui';\nimport { identifierToUrlPath, serviceSpecificationFromClassIdentifier } from \"../../jacdac-ts/src/jdom/spec\"\nimport ServiceSpecificationCard from \"./ServiceSpecificationCard\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport useGridBreakpoints from \"./useGridBreakpoints\";\nimport Markdown from \"./ui/Markdown\";\nimport DeviceSpecificationSource from \"./DeviceSpecificationSource\";\nimport FirmwareCard from \"./firmware/FirmwareCard\"\nimport { escapeDeviceIdentifier } from \"../../jacdac-ts/jacdac-spec/spectool/jdspec\"\nimport useDeviceImage from \"./devices/useDeviceImage\";\n\nexport default function DeviceSpecification(props: { device: jdspec.DeviceSpec, showSource?: string }) {\n    const { device, showSource } = props;\n    const gridBreakpoints = useGridBreakpoints();\n    const imageUrl = useDeviceImage(device);\n\n    return <>\n        <h2 key=\"title\">\n            <Link to={device.link}>{device.name}</Link>\n        </h2>\n        <Typography variant=\"subtitle1\">by <Link to={`/devices/${identifierToUrlPath(escapeDeviceIdentifier(device.company))}`}>{device.company}</Link></Typography>\n        {<img alt=\"image of the device\" src={imageUrl} loading=\"lazy\" />}\n        {device.description && <Markdown source={device.description} />}\n        {device.repo && <FirmwareCard slug={device.repo} />}\n        {!!device.firmwares.length && <><h3>Firmware identifiers</h3>\n            <ul>\n                {device.firmwares.map(firmware => <li key={firmware}><IDChip id={firmware} filter={`fw:0x${firmware.toString(16)}`} /></li>)}\n            </ul></>}\n        <h3>Services</h3>\n        <Grid container spacing={2}>\n            {device.services.map(sc => serviceSpecificationFromClassIdentifier(sc))\n                .map(spec => <Grid item key={spec.shortId} {...gridBreakpoints}>\n                    <ServiceSpecificationCard specification={spec} />\n                </Grid>)}\n        </Grid>\n        {showSource && <>\n            <h2>Specification</h2>\n            <DeviceSpecificationSource deviceSpecification={device}\n                showJSON={true} showDTDL={true} />\n        </>}\n    </>\n}\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/jacdac-docs/jacdac-docs/src/components/Page.tsx\";\nimport { Link } from 'gatsby-theme-material-ui';\nimport { deviceSpecificationFromIdentifier } from \"../../jacdac-ts/src/jdom/spec\";\nimport DeviceSpecification from \"../components/DeviceSpecification\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n\n    <DeviceSpecification device={deviceSpecificationFromIdentifier(props.pageContext.node.id)} mdxType=\"DeviceSpecification\" />\n    <h2 {...{\n      \"id\": \"see-also\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#see-also\",\n        \"aria-label\": \"see also permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`See Also`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/jacdac-docs/reference/device-definition/\"\n        }}>{`device definition`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/jacdac-docs/tools/device-registration/\"\n        }}>{`device registration`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import React, { Fragment } from \"react\";\n\n// eslint-disable-next-line react/prop-types\nconst Page = ({ props, children }) => {\n    return <Fragment {...props}>{children}</Fragment>\n}\n\nexport default Page;","import { GridSize } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport AppContext, { DrawerType } from \"./AppContext\"\n\nexport interface GridBreakpoints {\n    xs?: GridSize,\n    md?: GridSize,\n    sm?: GridSize,\n    lg?: GridSize,\n    xl?: GridSize\n}\n\nexport default function useGridBreakpoints(itemCount?: number): GridBreakpoints {\n    const { drawerType } = useContext(AppContext)\n\n    if (itemCount !== undefined) {\n        switch (itemCount) {\n            case 1:\n            case 2: return { xs: 12, sm: 6, md: 6, lg: 6, xl: 6 }\n            case 3: return { xs: 12, sm: 6, md: 6, lg: 4, xl: 4 }\n        }\n    }\n\n    if (drawerType != DrawerType.None)\n        return { xs: 12, md: 6, sm: 6, lg: 6, xl: 4 }\n    else return {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 4,\n        xl: 3\n    }\n}","import React, { useContext } from \"react\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport FingerprintIcon from '@material-ui/icons/Fingerprint';\nimport { Chip, IconButton } from '@material-ui/core';\nimport PacketsContext from \"./PacketsContext\";\nimport AppContext, { DrawerType } from \"./AppContext\";\nimport Tooltip from \"./ui/Tooltip\";\n\nexport default function IDChip(props: { id: number | string, className?: string, filter?: string }) {\n    const { id, className, filter } = props\n    const { filter: packetFilter, setFilter: setPacketFilter } = useContext(PacketsContext);\n    const { setDrawerType } = useContext(AppContext)\n\n    const ids = typeof id === \"string\" ? id : `0x${id !== undefined ? (id as number).toString(16) : \"???\"}`\n    const filtered = packetFilter && packetFilter.indexOf(filter) > -1\n    const handleFilterClick = () => {\n        if (filtered)\n            setPacketFilter(packetFilter?.replace(filter, '')?.trim())\n        else\n            setPacketFilter(packetFilter?.trim() + ' ' + filter)\n        setDrawerType(DrawerType.Packets)\n    }\n    const icon = <FingerprintIcon />;\n    const title = filtered ? `remove filter ${filter}` : `add filter ${filter}`;\n    if (filter)\n        return <Tooltip title={filtered ? `remove filter ${filter}` : `add filter ${filter}`}>\n            <span>\n                <Chip className={className} size=\"small\" icon={\n                    <IconButton aria-label={title} onClick={handleFilterClick}>\n                        {icon}\n                    </IconButton>\n                } label={ids} />\n            </span>\n        </Tooltip>\n    else\n        return <Chip aria-label={title} className={className} size=\"small\" icon={icon} title={`identifier ${ids}`} label={ids} />;\n}","import React from \"react\";\nimport Alert from \"./ui/Alert\";\n\nexport function StatusAlert(props: { specification: jdspec.ServiceSpec }) {\n    const { specification } = props;\n\n    switch (specification?.status) {\n        case \"deprecated\": return <Alert severity=\"warning\">Deprecated</Alert>\n        case \"experimental\": return <Alert severity=\"info\">Experimental</Alert>\n        default: return null;\n    }\n}\n\nconst ServiceSpecificationStatusAlert = React.memo(StatusAlert);\n\nexport default ServiceSpecificationStatusAlert;","import { Box, BoxProps, Paper, PaperProps, useTheme } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function PaperBox(props: { padding?: number; elevation?: number; bgcolor?: string } & BoxProps) {\n    const { children, padding, elevation, bgcolor, ...others } = props;\n    const theme = useTheme();\n\n    return <Box {...others} bgcolor={bgcolor} mb={theme.spacing(0.25)}>\n        <Paper square elevation={elevation}>\n            {padding !== 0 && <Box p={theme.spacing(padding || 0.25)}>\n                {children}\n            </Box>}\n            {padding === 0 && children}\n        </Paper>\n    </Box>\n}","import React, { useContext } from \"react\"\nimport { Card, CardActions, CardContent, CardHeader, CardMedia, Chip, createStyles, Grid, makeStyles, Theme, Typography } from \"@material-ui/core\";\nimport { serviceSpecificationFromClassIdentifier } from \"../../jacdac-ts/src/jdom/spec\";\nimport IDChip from \"./IDChip\";\nimport { Button } from \"gatsby-theme-material-ui\";\nimport Markdown from \"./ui/Markdown\"\nimport ServiceSpecificationStatusAlert from \"./ServiceSpecificationStatusAlert\"\nimport { addHost, hostDefinitionFromServiceClass } from \"../../jacdac-ts/src/hosts/hosts\";\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\";\nimport KindIcon from \"./KindIcon\";\nimport { VIRTUAL_DEVICE_NODE_NAME } from \"../../jacdac-ts/src/jdom/constants\";\nimport { navigate } from \"gatsby\"\n\nexport default function ServiceSpecificationCard(props: {\n    serviceClass?: number,\n    specification?: jdspec.ServiceSpec,\n    showReleaseStatus?: boolean,\n    showServiceClass?: boolean\n}) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { serviceClass, specification, showReleaseStatus, showServiceClass } = props;\n    let spec = specification;\n    if (!spec && serviceClass !== undefined)\n        spec = serviceSpecificationFromClassIdentifier(serviceClass)\n    const sc = spec?.classIdentifier || serviceClass;\n    const srv = spec?.shortId || sc?.toString(16);\n    const hostDefinition = hostDefinitionFromServiceClass(sc)\n    const handleSimulatorClick = () => {\n        addHost(bus, hostDefinition.services(), hostDefinition.name)\n        navigate(\"/dashboard/\")\n    }\n\n    return <Card>\n        <CardHeader\n            title={spec?.name || \"???\"}\n            subheader={showServiceClass && srv && <IDChip id={sc} filter={`srv:${srv}`} />}\n            action={<>\n                {hostDefinition && <Chip size=\"small\"\n                    onClick={handleSimulatorClick}\n                    avatar={<KindIcon kind={VIRTUAL_DEVICE_NODE_NAME} />}\n                    aria-label=\"start simulator and open dashboard\"\n                    label=\"simulator\" />}\n            </>\n            }\n        />\n        <CardContent>\n            {spec?.notes[\"short\"] &&\n                <Typography variant=\"body2\" component=\"div\">\n                    <Markdown source={spec?.notes[\"short\"].split(\".\", 1)[0] + \".\"} />\n                </Typography>\n            }\n            {showReleaseStatus && <ServiceSpecificationStatusAlert specification={spec} />}\n        </CardContent>\n        {spec && <CardActions>\n            <Button variant=\"outlined\" aria-label={`open service ${spec.shortId} page`} to={`/services/${spec.shortId}/`}>More...</Button>\n        </CardActions>}\n    </Card>\n}","import { withPrefix } from \"gatsby-link\";\nimport { identifierToUrlPath } from \"../../../jacdac-ts/src/jdom/spec\";\n\nexport default function useDeviceImage(specification: jdspec.DeviceSpec, suffix?: string) {\n    return specification && withPrefix(`images/devices/${identifierToUrlPath(specification.id)}${suffix ? `.${suffix}` : ''}.jpg`);\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar CardActions = /*#__PURE__*/React.forwardRef(function CardActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActions'\n})(CardActions);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"\n}), 'GetApp');\n\nexports.default = _default;","/* eslint-disable @typescript-eslint/no-explicit-any */\n/***\n * Jacdac service/device specification to DTDL\n *\n *  DTDL specification: https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md.\n */\n\nimport {\n    serviceSpecificationFromClassIdentifier,\n    serviceSpecificationFromName,\n} from \"../jdom/spec\"\nimport { uniqueMap } from \"../jdom/utils\"\n\nexport const DTDL_REFERENCE_URL =\n    \"https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md\"\nexport const DTDL_NAME = \"Digital Twins Definition Language\"\nexport const DTDL_CONTEXT = \"dtmi:dtdl:context;2\"\n\n// https://github.com/Azure/digital-twin-model-identifier\n// ^dtmi:(?:_+[A-Za-z0-9]|[A-Za-z])(?:[A-Za-z0-9_]*[A-Za-z0-9])?(?::(?:_+[A-Za-z0-9]|[A-Za-z])(?:[A-Za-z0-9_]*[A-Za-z0-9])?)*;[1-9][0-9]{0,8}$\nfunction toDTMI(segments: (string | number)[], version?: number) {\n    return `dtmi:jacdac:${[...segments]\n        .map(seg =>\n            seg === undefined\n                ? \"???\"\n                : typeof seg === \"string\"\n                ? seg\n                : `x${seg.toString(16)}`\n        )\n        .map(seg => seg.replace(/(-|_)/g, \"\"))\n        .join(\":\")};${version !== undefined ? version : 1}`.toLowerCase()\n}\n\nfunction toUnit(pkt: jdspec.PacketInfo) {\n    if (pkt.fields.length !== 1) return undefined\n    const field = pkt.fields[0]\n    if (!field.unit) return undefined\n\n    /**\n     *     type Unit = \"m\" | \"kg\" | \"g\" | \"s\" | \"A\" | \"K\" | \"cd\" | \"mol\" | \"Hz\" | \"rad\" | \"sr\" | \"N\" | \"Pa\" | \"J\" | \"W\" | \"C\" | \"V\" | \"F\" | \"Ohm\"\n        | \"S\" | \"Wb\" | \"T\" | \"H\" | \"Cel\" | \"lm\" | \"lx\" | \"Bq\" | \"Gy\" | \"Sv\" | \"kat\" | \"m2\" | \"m3\" | \"l\" | \"m/s\" | \"m/s2\" | \"m3/s\" | \"l/s\"\n        | \"W/m2\" | \"cd/m2\" | \"bit\" | \"bit/s\" | \"lat\" | \"lon\" | \"pH\" | \"dB\" | \"dBW\" | \"Bspl\" | \"count\" | \"/\" | \"%RH\" | \"%EL\" | \"EL\"\n        | \"1/s\" | \"1/min\" | \"beat/min\" | \"beats\" | \"S/m\" | \"B\" | \"VA\" | \"VAs\" | \"var\" | \"vars\" | \"J/m\" | \"kg/m3\" | \"deg\";\n\n    type SecondaryUnit = \"ms\" | \"min\" | \"h\" | \"MHz\" | \"kW\" | \"kVA\" | \"kvar\" | \"Ah\" | \"Wh\" | \"kWh\"\n        | \"varh\" | \"kvarh\" | \"kVAh\" | \"Wh/km\" | \"KiB\" | \"GB\" | \"Mbit/s\" | \"B/s\" | \"MB/s\" | \"mV\" | \"mA\" | \"dBm\" | \"ug/m3\"\n        | \"mm/h\" | \"m/h\" | \"ppm\" | \"/100\" | \"/1000\" | \"hPa\" | \"mm\" | \"cm\" | \"km\" | \"km/h\";\n     */\n    const units: jdspec.SMap<{ semantic: string; unit: string }> = {\n        \"m/s2\": {\n            semantic: \"Acceleration\",\n            unit: \"metrePerSecondSquared\",\n        },\n        rad: {\n            semantic: \"Angle\",\n            unit: \"radian\",\n        },\n        \"rad/s\": {\n            semantic: \"AngularVelocity\",\n            unit: \"radianPerSecond\",\n        },\n        \"rad/s2\": {\n            semantic: \"AngularAcceleration\",\n            unit: \"radianPerSecondSquared\",\n        },\n        m: {\n            semantic: \"Length\",\n            unit: \"metre\",\n        },\n        m2: {\n            semantic: \"Area\",\n            unit: \"squareMetre\",\n        },\n        s: {\n            semantic: \"TimeSpan\",\n            unit: \"second\",\n        },\n        ms: {\n            semantic: \"TimeSpan\",\n            unit: \"millisecond\",\n        },\n        us: {\n            semantic: \"TimeSpan\",\n            unit: \"microsecond\",\n        },\n        K: {\n            semantic: \"Temperature\",\n            unit: \"kelvin\",\n        },\n        C: {\n            semantic: \"Temperature\",\n            unit: \"degreeCelsius\",\n        },\n        F: {\n            semantic: \"Temperature\",\n            unit: \"degreeFahrenheit\",\n        },\n        g: {\n            semantic: \"Acceleration\",\n            unit: \"gForce\",\n        },\n        mA: {\n            semantic: \"Current\",\n            unit: \"milliampere\",\n        },\n        uA: {\n            semantic: \"Current\",\n            unit: \"microampere\",\n        },\n        A: {\n            semantic: \"Current\",\n            unit: \"ampere\",\n        },\n        mV: {\n            semantic: \"Voltage\",\n            unit: \"millivolt\",\n        },\n        uV: {\n            semantic: \"Voltage\",\n            unit: \"microvolt\",\n        },\n        V: {\n            semantic: \"Voltage\",\n            unit: \"volt\",\n        },\n    }\n    const unit = units[field.unit]\n    if (unit) return unit\n\n    // ignoring some known units\n    if ([\"#\", \"/\"].indexOf(field.unit) > -1) return undefined\n\n    //console.warn(`unsupported unit ${field.unit}`)\n    return undefined\n}\n\n// https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md#primitive-schemas\n\nfunction enumDTDI(srv: jdspec.ServiceSpec, en: jdspec.EnumInfo): string {\n    return toDTMI([srv.classIdentifier, en.name])\n}\n\nfunction enumSchema(srv: jdspec.ServiceSpec, en: jdspec.EnumInfo): DTDLSchema {\n    const dtdl = {\n        \"@type\": \"Enum\",\n        \"@id\": enumDTDI(srv, en),\n        valueSchema: \"integer\",\n        enumValues: Object.keys(en.members).map(k => ({\n            name: escapeName(k),\n            displayName: k,\n            enumValue: en.members[k],\n        })),\n    }\n    return dtdl\n}\n\nfunction fieldType(\n    srv: jdspec.ServiceSpec,\n    pkt: jdspec.PacketInfo,\n    field: jdspec.PacketMember\n) {\n    let type: string\n    if (field.type == \"bool\") type = \"boolean\"\n    else if (field.isFloat) type = \"float\"\n    else if (field.isSimpleType) {\n        if (/^(u|i)/.test(field.type)) type = \"integer\"\n        else if (field.type === \"B\")\n            // base64 encoded binary data\n            type = \"string\"\n    } else if (field.type === \"string\" || field.type == \"string0\")\n        type = \"string\"\n    else if (field.shift && /^(u|i)/.test(field.type)) type = \"float\"\n    // decimal type\n    else {\n        const en = srv.enums[field.type]\n        if (en) type = enumDTDI(srv, en)\n    }\n\n    //if (!type)\n    //    console.warn(`unknown field type ${field.type}`, field)\n\n    return {\n        name: field.name == \"_\" ? pkt.name : field.name,\n        type: type,\n    }\n}\n\n// warps fields into an object\nfunction objectSchema(schemas: DTDLSchema[]): DTDLSchema {\n    return {\n        \"@type\": \"Object\",\n        fields: schemas,\n    }\n}\n\n// wraps a schema into an array\nfunction arraySchema(schema: string | DTDLSchema): DTDLSchema {\n    return {\n        \"@type\": \"Array\",\n        elementSchema: schema,\n    }\n}\n\n// converts JADAC pkt data layout into a DTDL schema\nfunction toSchema(\n    srv: jdspec.ServiceSpec,\n    pkt: jdspec.PacketInfo,\n    supportsArray?: boolean\n): string | DTDLSchema {\n    const fields = pkt.fields.map(field => fieldType(srv, pkt, field))\n    if (!fields.length) return undefined\n\n    // a single data entry\n    if (fields.length === 1 && !pkt.fields[0].startRepeats)\n        return fields[0].type\n\n    // map fields into schema\n    const schemas: DTDLSchema[] = fields.map(field => ({\n        name: field.name,\n        schema: field.type,\n    }))\n\n    // is there an array?\n    const repeatIndex = pkt.fields.findIndex(field => field.startRepeats)\n\n    if (repeatIndex < 0) {\n        // no array\n        // wrap schemas into an object\n        return objectSchema(schemas)\n    }\n\n    // check if arrays are supported\n    if (!supportsArray) {\n        //console.warn(`arrays not supported in ${srv.shortName}.${pkt.name}`)\n        return undefined\n    }\n\n    if (repeatIndex == 0) {\n        // the whole structure is an array\n        return arraySchema(objectSchema(schemas))\n    } else {\n        // split fields into prelude and array data\n        const nonRepeat = schemas.slice(0, repeatIndex)\n        const repeats = schemas.slice(repeatIndex)\n        return objectSchema([\n            ...nonRepeat,\n            {\n                name: \"repeat\",\n                schema: arraySchema(\n                    repeats.length > 1 ? objectSchema(repeats) : repeats[0]\n                ),\n            },\n        ])\n    }\n}\n\nfunction packetToDTDL(\n    srv: jdspec.ServiceSpec,\n    pkt: jdspec.PacketInfo\n): DTDLContent {\n    const types: jdspec.SMap<string> = {\n        const: \"Property\",\n        rw: \"Property\",\n        ro: \"Telemetry\",\n        event: \"Telemetry\",\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const dtdl: any = {\n        \"@type\": types[pkt.kind] || `Unsupported${pkt.kind}`,\n        name: pkt.name,\n        \"@id\": toDTMI([srv.classIdentifier, pkt.kind, pkt.name]),\n        description: pkt.description,\n    }\n    switch (pkt.kind) {\n        case \"report\":\n        case \"command\":\n            // https://docs.microsoft.com/en-us/azure/digital-twins/concepts-models#azure-digital-twins-dtdl-implementation-specifics\n            return undefined\n        case \"const\":\n        case \"rw\":\n        case \"ro\":\n        case \"event\": {\n            const unit = toUnit(pkt)\n            if (unit) {\n                dtdl.unit = unit.unit\n            }\n            dtdl.schema = toSchema(srv, pkt, false)\n            if (pkt.kind === \"rw\") dtdl.writable = true\n            if (!dtdl.schema && pkt.kind === \"event\") {\n                // keep a count of the events\n                dtdl[\"@type\"] = [dtdl[\"@type\"], \"Event\"]\n                dtdl.schema = toDTMI([srv.classIdentifier, \"event\"])\n            } else if (unit && unit.semantic)\n                dtdl[\"@type\"] = [dtdl[\"@type\"], unit.semantic]\n            break\n        }\n        default:\n            //console.log(`unknown packet kind ${pkt.kind}`)\n            break\n    }\n\n    if (!dtdl.schema) {\n        //console.log(`unknown schema for ${srv.name}.${pkt.name}`);\n        return undefined\n    }\n\n    return dtdl\n}\n\ninterface DTDLNode {\n    \"@type\"?: string\n    \"@id\"?: string\n    // 1-64 characters\n    // ^[a-zA-Z](?:[a-zA-Z0-9_]*[a-zA-Z0-9])?$\n    name?: string\n    displayName?: string\n    description?: string\n}\n\ninterface DTDLSchema extends DTDLNode {\n    fields?: DTDLSchema[]\n    schema?: string | DTDLSchema\n    elementSchema?: string | DTDLSchema\n}\n\ninterface DTDLContent extends DTDLNode {\n    \"@type\": \"Property\" | \"Command\" | \"Component\" | \"Interface\"\n    unit?: string\n    schema?: string | DTDLSchema\n}\n\ninterface DTDLInterface extends DTDLContent {\n    contents: DTDLContent[]\n    extends?: string | string[]\n    schemas?: (DTDLSchema | DTDLInterface)[]\n    \"@context\"?: string\n}\n\nexport function escapeName(name: string) {\n    name = name.trim().replace(/[^a-zA-Z0-9_]/g, \"_\")\n    if (!/^[a-zA-Z]/.test(name)) name = \"a\" + name\n    name = name[0].toLowerCase() + name.slice(1)\n    return name.slice(0, 64)\n}\n\nfunction escapeDisplayName(name: string) {\n    return name.slice(0, 64)\n}\n\nexport function serviceSpecificationToDTDL(\n    srv: jdspec.ServiceSpec\n): DTDLInterface {\n    const dtdl: DTDLInterface = {\n        \"@type\": \"Interface\",\n        \"@id\": serviceSpecificationDTMI(srv),\n        displayName: escapeDisplayName(srv.name),\n        description: srv.notes[\"short\"],\n        contents: srv.packets\n            .filter(pkt => !pkt.derived && !pkt.internal)\n            .map(pkt => {\n                try {\n                    return packetToDTDL(srv, pkt)\n                } catch (e) {\n                    console.log(`failed to generate DTDL for ${srv.name}`, e)\n                    return undefined\n                }\n            })\n            .filter(c => !!c),\n    }\n    if (srv.extends.length)\n        dtdl.extends = srv.extends.map(id =>\n            serviceSpecificationDTMI(serviceSpecificationFromName(id))\n        )\n\n    const hasEvents = srv.packets.find(pkt => pkt.kind === \"event\")\n    const hasEnums = Object.keys(srv.enums).length\n    if (hasEvents || hasEnums) {\n        dtdl.schemas = []\n        if (hasEvents)\n            dtdl.schemas.push({\n                \"@id\": toDTMI([srv.classIdentifier, \"event\"]),\n                \"@type\": \"Object\",\n                fields: [\n                    {\n                        name: \"count\",\n                        schema: \"integer\",\n                    },\n                ],\n            })\n        if (hasEnums)\n            dtdl.schemas = dtdl.schemas.concat(\n                Object.keys(srv.enums).map(en => enumSchema(srv, srv.enums[en]))\n            )\n    }\n    dtdl[\"@context\"] = DTDL_CONTEXT\n    return dtdl\n}\n\nexport function serviceSpecificationToComponent(\n    srv: jdspec.ServiceSpec,\n    name: string\n): any {\n    const dtdl = {\n        \"@type\": \"Component\",\n        name: name,\n        displayName: escapeDisplayName(srv.name),\n        schema: serviceSpecificationDTMI(srv),\n    }\n    return dtdl\n}\n\nexport interface DTDLGenerationOptions {\n    inlineServices?: boolean // generate all services\n}\n\nexport function serviceSpecificationDTMI(srv: jdspec.ServiceSpec) {\n    return toDTMI([\"services\", srv.classIdentifier])\n}\n\nexport function deviceSpecificationDTMI(dev: jdspec.DeviceSpec) {\n    return toDTMI([\"devices\", dev.id.replace(/-/g, \":\")])\n}\n\nexport function DTMIToRoute(dtmi: string) {\n    const route =\n        dtmi.toLowerCase().replace(/;/, \"-\").replace(/:/g, \"/\") + \".json\"\n    return route\n}\n\nexport function deviceSpecificationToDTDL(\n    dev: jdspec.DeviceSpec,\n    options?: DTDLGenerationOptions\n): any {\n    const services = dev.services.map(srv =>\n        serviceSpecificationFromClassIdentifier(srv)\n    )\n    const uniqueServices = uniqueMap(\n        services,\n        srv => srv.classIdentifier.toString(),\n        srv => srv\n    )\n    const schemas = uniqueServices.map(srv => serviceSpecificationToDTDL(srv))\n\n    // allocate names\n    const names: string[] = []\n    services.forEach((srv) => {\n        const name = escapeName(srv.shortId || srv.shortName)\n        if (names.indexOf(name) < 0) names.push(name)\n        else {\n            let count = 2\n            while (names.indexOf(name + count) > -1) count++\n            names.push(name + count)\n        }\n    })\n\n    const dtdl: DTDLInterface = {\n        \"@type\": \"Interface\",\n        \"@id\": deviceSpecificationDTMI(dev),\n        displayName: escapeDisplayName(dev.name),\n        description: dev.description,\n        contents: services.map((srv, i) =>\n            serviceSpecificationToComponent(srv, names[i])\n        ),\n        \"@context\": DTDL_CONTEXT,\n    }\n    if (options?.inlineServices) return [dtdl, ...schemas]\n    else return dtdl\n}\n"],"sourceRoot":""}