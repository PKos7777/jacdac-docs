{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/VoiceChat.js","webpack://jacdac-docs/./src/components/dashboard/DashboardSpeechSynthesis.tsx"],"names":["DashboardSpeechSynthesis","props","service","enabled","useRegister","SpeechSynthesisReg","useState","text","setText","textId","useId","handleChange","ev","newValue","target","value","handleSpeak","console","log","boolValue","sendSetAsync","jdpack","sendCmdAsync","SpeechSynthesisCmd"],"mappings":";;;;;;;AAAa;;AAEb,6BAA6B,mBAAO,CAAC,IAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,IAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBf;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASA,wBAAT,CAAkCC,KAAlC,EAAgE;AAC3E,MAAQC,OAAR,GAAoBD,KAApB,CAAQC,OAAR;AACA,MAAMC,OAAO,GAAGC,oEAAW,CAACF,OAAD,EAAUG,wGAAV,CAA3B;;AACA,kBAAwBC,+CAAQ,CAAC,QAAD,CAAhC;AAAA,MAAOC,IAAP;AAAA,MAAaC,OAAb;;AACA,MAAMC,MAAM,GAAGC,kEAAK,EAApB;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,EAAE,EAAI;AACvB,QAAMC,QAAQ,GAAGD,EAAE,CAACE,MAAH,CAAUC,KAA3B;AACAP,WAAO,CAACK,QAAD,CAAP;AACH,GAHD;;AAKA,MAAMG,WAAW;AAAA,kMAAG;AAAA;AAAA;AAAA;AAAA;AAChBC,qBAAO,CAACC,GAAR,YAAqBX,IAArB;;AADgB,kBAEXJ,OAAO,CAACgB,SAFG;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGNhB,OAAO,CAACiB,YAAR,CAAqBC,0EAAM,CAAY,IAAZ,EAAkB,CAAC,IAAD,CAAlB,CAA3B,EAAsD,IAAtD,CAHM;;AAAA;AAAA;AAAA,qBAIVnB,OAAO,CAACoB,YAAR,CACFC,oGADE,EAEFF,0EAAM,CAAW,GAAX,EAAgB,CAACd,IAAD,CAAhB,CAFJ,CAJU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXS,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAUA,sBACI,iHACI,iDAAC,+DAAD;AAAM,QAAI,MAAV;AAAW,MAAE,EAAE;AAAf,kBACI,iDAAC,+DAAD;AACI,MAAE,EAAEP,MADR;AAEI,cAAU,EAAE,KAFhB;AAGI,SAAK,EAAEF,IAHX;AAII,SAAK,EAAE,kBAJX;AAKI,cAAU,EAAE,yBALhB;AAMI,YAAQ,EAAEI,YANd;AAOI,QAAI,EAAE;AAPV,IADJ,eAUI,iDAAC,wDAAD;AACI,YAAQ,EAAE,CAACJ,IADf;AAEI,SAAK,EAAC,YAFV;AAGI,WAAO,EAAES,WAHb;AAII,QAAI,eAAE,iDAAC,2EAAD;AAJV,IAVJ,CADJ,CADJ;AAqBH,C","file":"3887-bf0d4ef5eb4b93c766ef.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12l-4-3.2V14H6V6h8v3.2L18 6v8z\"\n}), 'VoiceChat');\n\nexports.default = _default;","import React, { useState } from \"react\"\nimport {\n    SpeechSynthesisCmd,\n    SpeechSynthesisReg,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport { DashboardServiceProps } from \"./DashboardServiceWidget\"\nimport { Grid, TextField } from \"@material-ui/core\"\nimport VoiceChatIcon from \"@material-ui/icons/VoiceChat\"\nimport CmdButton from \"../CmdButton\"\nimport { jdpack } from \"../../../jacdac-ts/src/jdom/pack\"\nimport { useId } from \"react-use-id-hook\"\nimport useRegister from \"../hooks/useRegister\"\n\nexport default function DashboardSpeechSynthesis(props: DashboardServiceProps) {\n    const { service } = props\n    const enabled = useRegister(service, SpeechSynthesisReg.Enabled)\n    const [text, setText] = useState(\"jacdac\")\n    const textId = useId()\n\n    const handleChange = ev => {\n        const newValue = ev.target.value\n        setText(newValue)\n    }\n\n    const handleSpeak = async () => {\n        console.log(`speak ${text}`)\n        if (!enabled.boolValue)\n            await enabled.sendSetAsync(jdpack<[boolean]>(\"u8\", [true]), true)\n        await service.sendCmdAsync(\n            SpeechSynthesisCmd.Speak,\n            jdpack<[string]>(\"s\", [text])\n        )\n    }\n\n    return (\n        <>\n            <Grid item xs={12}>\n                <TextField\n                    id={textId}\n                    spellCheck={false}\n                    value={text}\n                    label={\"speech synthesis\"}\n                    helperText={\"Enter text to speak out\"}\n                    onChange={handleChange}\n                    type={\"text\"}\n                />\n                <CmdButton\n                    disabled={!text}\n                    title=\"speak text\"\n                    onClick={handleSpeak}\n                    icon={<VoiceChatIcon />}\n                />\n            </Grid>\n        </>\n    )\n}\n"],"sourceRoot":""}