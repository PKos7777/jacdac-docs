{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/ChevronLeft.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Clear.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/LiveTv.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Pause.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/PlayArrow.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Replay.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Save.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Stop.js","webpack://jacdac-docs/./jacdac-ts/src/jdom/logparser.ts","webpack://jacdac-docs/./src/components/TraceImportButton.tsx","webpack://jacdac-docs/./src/components/SaveTraceButton.tsx","webpack://jacdac-docs/./node_modules/@material-ui/icons/esm/FiberManualRecord.js","webpack://jacdac-docs/./src/components/TraceRecordButton.tsx","webpack://jacdac-docs/./src/components/TracePlayButton.tsx","webpack://jacdac-docs/./src/components/PacketRecorder.tsx","webpack://jacdac-docs/./src/components/AppDrawer.tsx"],"names":["parseTrace","contents","description","packets","split","forEach","ln","m","exec","length","push","timestamp","parseInt","data","fromHex","Packet","Trace","join","trim","undefined","parseLogicLog","logcontents","res","frameBytes","lastTime","tm","parseFloat","Uint8Array","info","test","replayLog","bus","frames","speed","arrayConcatMany","map","frame","fromFrame","player","TracePlayer","trace","start","ImportButton","lazy","TraceImportButton","props","icon","disabled","useContext","PacketsContext","recording","setReplayTrace","AppContext","setError","useState","importing","setImporting","handleFiles","files","file","text","txt","e","console","log","SaveTraceButton","replayTrace","ServiceManagerContext","fileStorage","saveTrace","saveText","serializeToText","TraceRecordButton","others","tracing","toggleRecording","title","color","TracePlayButton","toggleTracing","progress","PacketRecorder","clearPackets","clearBus","paused","setPaused","Toc","PacketView","JDomTreeView","DrawerSearchResults","DrawerSearchInput","useStyles","makeStyles","theme","createStyles","drawer","width","DRAWER_WIDTH","flexShrink","breakpoints","down","MOBILE_BREAKPOINT","drawerPaper","tocDrawer","TOC_DRAWER_WIDTH","tocDrawerPaper","drawerHeader","display","alignItems","padding","spacing","mixins","toolbar","justifyContent","alertButton","marginLeft","mdx","margin","fluid","flex","AppDrawer","pagePath","classes","drawerType","setDrawerType","searchQuery","open","DrawerType","showSearchResults","handleDrawerClose","toc","paper"],"mappings":"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","file":"8729-942ad37813757b536528.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2zm0 14H3V8h18v12zM9 10v8l7-4z\"\n}), 'LiveTv');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n}), 'Pause');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 5v14l11-7z\"\n}), 'PlayArrow');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"\n}), 'Replay');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 6h12v12H6z\"\n}), 'Stop');\n\nexports.default = _default;","import { arrayConcatMany, fromHex } from \"./utils\"\nimport { JDBus } from \"./bus\"\nimport Packet from \"./packet\"\nimport TracePlayer from \"./traceplayer\"\nimport Frame from \"./frame\"\nimport Trace from \"./trace\"\n\nexport function parseTrace(contents: string): Trace {\n    const description: string[] = []\n    const packets: Packet[] = []\n    contents?.split(/\\r?\\n/).forEach(ln => {\n        // parse data\n        const m = /(\\d+)\\s+([a-f0-9]{12,})/i.exec(ln)\n        if (!m) {\n            // probably junk data\n            if (packets.length == 0) description.push(ln)\n            return\n        }\n\n        const timestamp = parseInt(m[1])\n        const data = fromHex(m[2])\n        // add to array\n        packets.push(Packet.fromBinary(data, timestamp))\n    })\n    if (packets.length) return new Trace(packets, description.join(\"\\n\").trim())\n    else return undefined\n}\n\nexport function parseLogicLog(logcontents: string): Frame[] {\n    if (!logcontents) return undefined\n\n    const res: Frame[] = []\n    let frameBytes = []\n    let lastTime = 0\n    for (const ln of logcontents.split(/\\r?\\n/)) {\n        let m = /^JD (\\d+) ([0-9a-f]+)/i.exec(ln)\n        if (m) {\n            res.push({\n                timestamp: parseInt(m[1]),\n                data: fromHex(m[2]),\n            })\n            continue\n        }\n\n        /** Windows, logic 1.*\nTime [s],Value,Parity Error,Framing Error\n0.042909760000000,0x00,,Error\n0.042980320000000,0xD4,,\n0.042990240000000,0x81,,\n0.043000160000000,0x10,,\n0.043010240000000,0x00,,\n0.043020160000000,0xE8,,\n0.043030240000000,0xDF,,\n0.043040160000000,0xCB,,\n0.043050240000000,0xD1,,\n0.043060160000000,0x97,,\n0.043070240000000,0x34,,\n0.043080160000000,0x37,,\n0.043090240000000,0x48,,\n0.043100160000000,0x0C,,\n0.043110080000000,0x00,,\n0.043120160000000,0x00,,\n0.043130080000000,0x00,,\n0.043140160000000,0x00,,\n0.043150080000000,0x00,,\n0.043160160000000,0x00,,\n0.043170080000000,0x00,,\n0.043180160000000,0xCA,,\n0.043190080000000,0x1F,,\n0.043200160000000,0xDC,,\n0.043210080000000,0x12,,\n0.043220160000000,0x46,,\n0.043230080000000,0x47,,\n0.043240160000000,0x27,,\n0.043250080000000,0x1F,,\n0.043264800000000,0x00,,Error\n0.063968960000000,0x00,,Error\n         */\n        m = /^([\\d.]+),(?:Async Serial,)?.*(0x[A-F0-9][A-F0-9])/.exec(ln)\n        if (!m) continue\n        const tm = parseFloat(m[1])\n        if (lastTime && tm - lastTime > 0.1) {\n            res.push({\n                timestamp: lastTime * 1000,\n                data: new Uint8Array(frameBytes),\n                info: \"timeout\",\n            })\n            frameBytes = []\n            lastTime = 0\n        }\n\n        lastTime = tm\n        if (/(framing error|Error)/.test(ln)) {\n            if (frameBytes.length > 0)\n                res.push({\n                    timestamp: lastTime * 1000,\n                    data: new Uint8Array(frameBytes),\n                })\n            frameBytes = []\n            lastTime = 0\n        } else {\n            frameBytes.push(parseInt(m[2]))\n        }\n    }\n\n    return res\n}\n\nexport function replayLog(bus: JDBus, frames: Frame[], speed?: number): void {\n    const packets = arrayConcatMany(\n        frames.map(frame => Packet.fromFrame(frame.data, frame.timestamp))\n    )\n    const player = new TracePlayer(bus, speed)\n    player.trace = new Trace(packets)\n    player.start()\n}\n","import React, { useState, useContext, lazy } from \"react\"\nimport { parseLogicLog, parseTrace } from \"../../jacdac-ts/src/jdom/logparser\"\nimport PacketsContext from \"./PacketsContext\"\nimport Packet from \"../../jacdac-ts/src/jdom/packet\";\nimport { arrayConcatMany } from \"../../jacdac-ts/src/jdom/utils\";\nimport AppContext from \"./AppContext\"\nimport Trace from \"../../jacdac-ts/src/jdom/trace\";\n\nimport Suspense from \"./ui/Suspense\"\nconst ImportButton = lazy(() => import(\"./ImportButton\"))\n\nexport default function TraceImportButton(props: { icon?: boolean, disabled?: boolean }) {\n    const { icon, disabled } = props;\n    const { recording, setReplayTrace } = useContext(PacketsContext)\n    const { setError } = useContext(AppContext)\n    const [importing, setImporting] = useState(false)\n\n    const handleFiles = async (files: File[]) => {\n        const file = files[0]\n        if (file) {\n            try {\n                setImporting(true)\n                const txt = await file.text()\n\n                let trace: Trace;\n                // let's try a few format and see if we're lucky\n                try {\n                    trace = parseTrace(txt)\n                } catch (e) {\n                    console.log(`trace parse error`, e)\n                }\n\n                // try logic format\n                if (!trace) {\n                    try {\n                        const frames = parseLogicLog(txt) // ensure format is ok\n                        const packets = arrayConcatMany(frames.map(frame => Packet.fromFrame(frame.data, frame.timestamp)))\n                        if (packets?.length)\n                            trace = new Trace(packets);\n                    } catch (e) {\n                        console.log(`logic parse error`, e)\n                    }\n                }\n\n                // found anything?\n                if (trace) {\n                    console.log(`importing ${trace.packets.length} packets`)\n                    setReplayTrace(trace);\n                }\n                else\n                    setError(\"could not parse file\")\n            } finally {\n                setImporting(false)\n            }\n        }\n    }\n\n    return <Suspense>\n        <ImportButton icon={icon}\n            disabled={importing || recording || disabled}\n            text=\"Import Trace File\"\n            onFilesUploaded={handleFiles} />\n    </Suspense>\n}","import React, { useContext } from \"react\"\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport SaveIcon from \"@material-ui/icons/Save\"\nimport ServiceManagerContext from \"./ServiceManagerContext\"\nimport PacketsContext from \"./PacketsContext\"\nimport IconButtonWithTooltip from \"./ui/IconButtonWithTooltip\"\n\nexport default function SaveTraceButton(props: { disabled?: boolean }) {\n    const { disabled } = props\n    const { replayTrace, recording } = useContext(PacketsContext)\n    const { fileStorage } = useContext(ServiceManagerContext)\n    const saveTrace = () => {\n        fileStorage.saveText(\"trace.jd.txt\", replayTrace.serializeToText())\n    }\n    return (\n        <IconButtonWithTooltip\n            title=\"save trace\"\n            disabled={disabled || recording || !replayTrace?.packets.length}\n            size=\"small\"\n            key=\"save\"\n            onClick={saveTrace}\n        >\n            <SaveIcon />\n        </IconButtonWithTooltip>\n    )\n}\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"8\"\n}), 'FiberManualRecord');","import { FiberManualRecord } from '@material-ui/icons';\nimport React, { useContext } from \"react\";\nimport PacketsContext from \"./PacketsContext\";\nimport IconButtonWithProgress, { IconButtonWithProgressProps } from \"./ui/IconButtonWithProgress\";\n\nexport default function TraceRecordButton(props: { component?: string } & IconButtonWithProgressProps) {\n    const { disabled, ...others } = props;\n    const { recording, tracing, toggleRecording } = useContext(PacketsContext)\n    const title = recording ? \"Stop recording\" : \"Record trace\";\n    return <IconButtonWithProgress\n        {...others}\n        aria-label={title}\n        title={title}\n        indeterminate={recording}\n        disabled={disabled || tracing}\n        onClick={toggleRecording}\n        progressStyle={{ color: \"#f66\" }}>\n        {!recording && <FiberManualRecord />}\n        {recording && <FiberManualRecord style={{ color: \"#f00\" }} />}\n    </IconButtonWithProgress>\n\n}","// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport StopIcon from '@material-ui/icons/Stop';\nimport React, { useContext } from \"react\";\nimport PacketsContext from \"./PacketsContext\";\nimport IconButtonWithProgress, { IconButtonWithProgressProps } from \"./ui/IconButtonWithProgress\";\n\nexport default function TracePlayButton(props: { component?: string } & IconButtonWithProgressProps) {\n    const { disabled, ...others } = props;\n    const { toggleTracing, tracing, recording, replayTrace, progress } = useContext(PacketsContext)\n\n    return <IconButtonWithProgress\n        {...others}\n        disabled={disabled || recording || !replayTrace}\n        indeterminate={progress !== undefined}\n        title={!replayTrace ? \"Load or record a trace to replay it\" : tracing ? \"Stop trace\" : \"Play trace\"}\n        onClick={toggleTracing}\n        progress={progress !== undefined && progress * 100}>\n        {tracing ? <StopIcon /> : <PlayArrowIcon />}\n    </IconButtonWithProgress >\n}","import { Typography } from \"@material-ui/core\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ClearIcon from \"@material-ui/icons/Clear\"\nimport React, { useContext } from \"react\"\nimport PacketsContext from \"./PacketsContext\"\nimport TraceImportButton from \"./TraceImportButton\"\nimport SaveTraceButton from \"./SaveTraceButton\"\nimport TraceRecordButton from \"./TraceRecordButton\"\nimport TracePlayButton from \"./TracePlayButton\"\nimport IconButtonWithTooltip from \"./ui/IconButtonWithTooltip\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ReplayIcon from \"@material-ui/icons/Replay\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport PauseIcon from \"@material-ui/icons/Pause\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LiveTvIcon from \"@material-ui/icons/LiveTv\"\n\nexport default function PacketRecorder() {\n    const {\n        clearPackets,\n        clearBus,\n        replayTrace,\n        recording,\n        tracing,\n        paused,\n        setPaused,\n    } = useContext(PacketsContext)\n\n    return (\n        <>\n            {!recording && replayTrace && (\n                <Typography variant=\"caption\">\n                    {replayTrace.packets.length} packets\n                </Typography>\n            )}\n            <TraceImportButton icon={true} disabled={tracing || recording} />\n            <SaveTraceButton disabled={tracing || !replayTrace} />\n            |\n            <TracePlayButton size=\"small\" />\n            <TraceRecordButton size=\"small\" />|\n            <IconButtonWithTooltip\n                title={paused ? \"Resume packets\" : \"pause packets\"}\n                size=\"small\"\n                key=\"pausepackets\"\n                onClick={() => setPaused(!paused)}\n            >\n                {paused ? <LiveTvIcon /> : <PauseIcon />}\n            </IconButtonWithTooltip>\n            <IconButtonWithTooltip\n                title=\"Clear Packets\"\n                size=\"small\"\n                key=\"clearpackets\"\n                onClick={clearPackets}\n                disabled={recording || tracing}\n            >\n                <ClearIcon />\n            </IconButtonWithTooltip>\n            <IconButtonWithTooltip\n                title=\"Clear Devices\"\n                size=\"small\"\n                key=\"clearbus\"\n                onClick={clearBus}\n                disabled={recording || tracing}\n            >\n                <ReplayIcon />\n            </IconButtonWithTooltip>\n        </>\n    )\n}\n","import React, { lazy, useContext } from \"react\";\nimport { Drawer, Divider, makeStyles, createStyles } from \"@material-ui/core\";\nimport Suspense from \"./ui/Suspense\"\nimport { IconButton } from \"gatsby-theme-material-ui\";\n// tslint:disable-next-line: no-submodule-imports\nimport { DRAWER_WIDTH, MOBILE_BREAKPOINT, TOC_DRAWER_WIDTH } from \"./layout\";\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport AppContext, { DrawerType } from \"./AppContext\";\nimport PacketRecorder from \"./PacketRecorder\";\nimport DrawerToolsButtonGroup from \"./DrawerToolsButtonGroup\";\n\nconst Toc = lazy(() => import(\"./Toc\"));\nconst PacketView = lazy(() => import(\"./tools/PacketView\"));\nconst JDomTreeView = lazy(() => import(\"./tools/JDomTreeView\"));\nconst DrawerSearchResults = lazy(() => import(\"./DrawerSearchResults\"));\nconst DrawerSearchInput = lazy(() => import(\"./DrawerSearchInput\"));\n\nconst useStyles = makeStyles((theme) => createStyles({\n    drawer: {\n        width: `${DRAWER_WIDTH}rem`,\n        flexShrink: 0,\n        [theme.breakpoints.down(MOBILE_BREAKPOINT)]: {\n            width: `100%`,\n        }\n    },\n    drawerPaper: {\n        width: `${DRAWER_WIDTH}rem`,\n        [theme.breakpoints.down(MOBILE_BREAKPOINT)]: {\n            width: `100%`,\n        }\n    },\n    tocDrawer: {\n        width: `${TOC_DRAWER_WIDTH}rem`,\n        flexShrink: 0\n    },\n    tocDrawerPaper: {\n        width: `${TOC_DRAWER_WIDTH}rem`\n    },\n    drawerHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: theme.spacing(0, 1),\n        // necessary for content to be below app bar\n        ...theme.mixins.toolbar,\n        justifyContent: 'flex-start',\n    },\n    alertButton: {\n        marginLeft: theme.spacing(2)\n    },\n    mdx: {\n        margin: theme.spacing(2)\n    },\n    fluid: {\n        flex: 1\n    }\n}));\n\nexport default function AppDrawer(props: {\n    pagePath: string\n}) {\n    const { pagePath } = props;\n    const classes = useStyles()\n    const { drawerType, setDrawerType, searchQuery } = useContext(AppContext)\n    const open = drawerType !== DrawerType.None\n    const showSearchResults = drawerType === DrawerType.Toc && !!searchQuery;\n\n    const handleDrawerClose = () => {\n        setDrawerType(DrawerType.None)\n    }\n\n    if (drawerType === DrawerType.None)\n        return <></>\n\n    const toc = drawerType === DrawerType.Toc;\n    return <Drawer\n        className={toc ? classes.tocDrawer : classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n            paper: toc ? classes.tocDrawerPaper : classes.drawerPaper,\n        }}\n    >\n        <div className={classes.drawerHeader}>\n            {toc && <div className={classes.fluid}>\n                <Suspense>\n                    <DrawerSearchInput />\n                </Suspense></div>}\n            {!toc && <><PacketRecorder />\n                <span className={classes.fluid} />\n                <DrawerToolsButtonGroup showConnect={true} />\n            </>}\n            <IconButton aria-label=\"Collapse\" onClick={handleDrawerClose}>\n                <ChevronLeftIcon />\n            </IconButton>\n        </div>\n        <Divider />\n        {showSearchResults && <Suspense><DrawerSearchResults /></Suspense>}\n        {!showSearchResults && drawerType === DrawerType.Toc && <Suspense>\n            <Toc pagePath={pagePath} />\n        </Suspense>}\n        {!showSearchResults && drawerType === DrawerType.Packets\n            ? <Suspense><PacketView showTime={true} /></Suspense>\n            : drawerType === DrawerType.Dom ? <Suspense><JDomTreeView /></Suspense> : undefined}\n    </Drawer>\n}"],"sourceRoot":""}