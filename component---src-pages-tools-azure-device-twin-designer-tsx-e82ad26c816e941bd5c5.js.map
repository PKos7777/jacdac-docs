{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/Add.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Delete.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/GetApp.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Launch.js","webpack://jacdac-docs/./jacdac-ts/src/azure-iot/dtdl.ts","webpack://jacdac-docs/./src/components/AddServiceIconButton.tsx","webpack://jacdac-docs/./src/components/hooks/useWindowEvent.ts","webpack://jacdac-docs/./src/components/makecode/useMakeCodeRenderer.ts","webpack://jacdac-docs/./src/components/makecode/MakeCodeSimulator.tsx","webpack://jacdac-docs/./src/components/makecode/MakeCodeSnippet.tsx","webpack://jacdac-docs/./src/components/CodeBlock.tsx","webpack://jacdac-docs/./src/components/ServiceSpecificationSelect.tsx","webpack://jacdac-docs/./src/components/ui/PaperBox.tsx","webpack://jacdac-docs/./src/components/ui/Snippet.tsx","webpack://jacdac-docs/./src/pages/tools/azure-device-twin-designer.tsx"],"names":["DTDL_REFERENCE_URL","DTDL_NAME","DTDL_CONTEXT","objectSchema","schemas","fields","arraySchema","schema","elementSchema","escapeName","name","trim","replace","test","toLowerCase","slice","escapeDisplayName","DTDLUnits","sort","AddServiceIconButton","props","error","onAdd","children","serviceFilter","React","servicesAnchorEl","setServicesAnchorEl","servicesMenuId","useId","services","useMemo","serviceSpecifications","filter","srv","isInfrastructure","handleServiceAddClick","event","currentTarget","handleServiceAddClose","id","undefined","serviceSpecificationFromClassIdentifier","Boolean","map","classIdentifier","toString","useWindowEvent","type","listener","passive","deps","useEffect","window","addEventListener","removeEventListener","concat","parseMakeCodeSnippet","source","ghost","code","meta","dependencies","front","parts","split","length","m","value","push","snippet","mkcds","makeCodeServices","info","src","indexOf","client","qName","default","repo","forEach","dep","unique","useMakeCodeRenderer","useContext","MakeCodeSnippetContext","target","rendererUrl","lang","iframeId","pendingRequests","sendRequest","req","iframe","document","getElementById","dataset","ready","contentWindow","postMessage","render","console","log","f","createElement","style","position","left","bottom","width","height","body","appendChild","Math","random","options","snippetMode","Promise","resolve","reject","handleMessage","ev","msg","data","Object","keys","k","r","useStyles","makeStyles","createStyles","root","root2","paddingTop","top","border","MakeCodeSimulator","simUrl","JacdacContext","bus","frameRef","useRef","classes","url","encodeURIComponent","join","origin","URL","subscribe","PACKET_SEND","PACKET_PROCESS","pkt","packetSent","channel","broadcast","toBuffer","sender","current","MakeCodeSnippet","renderedSource","JSON","parse","rendered","tabs","editor","setEditor","useState","tab","setTab","handleTabChange","newValue","withPrefix","TraceSnippet","lazy","CodeSandboxButton","HighlightedCode","codeSandbox","className","downloadName","downloadText","DarkModeContext","darkMode","language","theme","DARK_THEME","LIGHT_THEME","valueUri","defaultProps","tokens","getLineProps","getTokenProps","float","line","index","lineProps","key","token","CodeBlock","minWidth","ServiceSpecificationSelect","label","serviceClass","setServiceClass","variant","fullWidth","labelId","specs","spec","shortId","handleChange","parseInt","PaperBox","padding","elevation","bgcolor","others","useTheme","spacing","Snippet","mode","download","caption","v","ComponentRow","component","onUpdate","twin","service","validateTwinComponent","nameError","serviceError","nameId","handleComponentNameChange","handleSetService","handleComponentDelete","components","splice","count","c","AzureDeviceTwinDesigner","useLocalStorage","displayName","setTwin","dtdl","contents","serviceSpecificationToComponent","dtdlSource","stringify","update","clone","handleDisplayNameChange","handleAddService","names","uniqueName","i"],"mappings":"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","file":"component---src-pages-tools-azure-device-twin-designer-tsx-e82ad26c816e941bd5c5.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"\n}), 'GetApp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'Launch');\n\nexports.default = _default;","/***\n *  DTDL specification: https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md.\n */\nexport const DTDL_REFERENCE_URL =\n    \"https://github.com/Azure/opendigitaltwins-dtdl/blob/master/DTDL/v2/dtdlv2.md\"\nexport const DTDL_NAME = \"Digital Twins Definition Language\"\nexport const DTDL_CONTEXT = \"dtmi:dtdl:context;2\"\n\n// warps fields into an object\nexport function objectSchema(schemas: DTDLSchema[]): DTDLSchema {\n    return {\n        \"@type\": \"Object\",\n        fields: schemas,\n    }\n}\n\n// wraps a schema into an array\nexport function arraySchema(schema: string | DTDLSchema): DTDLSchema {\n    return {\n        \"@type\": \"Array\",\n        elementSchema: schema,\n    }\n}\n\nexport interface DTDLNode {\n    \"@type\"?: string\n    \"@id\"?: string\n    // 1-64 characters\n    // ^[a-zA-Z](?:[a-zA-Z0-9_]*[a-zA-Z0-9])?$\n    name?: string\n    displayName?: string\n    description?: string\n}\n\nexport interface DTDLSchema extends DTDLNode {\n    fields?: DTDLSchema[]\n    schema?: string | DTDLSchema\n    elementSchema?: string | DTDLSchema\n}\n\nexport interface DTDLContent extends DTDLNode {\n    \"@type\": \"Property\" | \"Command\" | \"Component\" | \"Interface\"\n    unit?: string\n    schema?: string | DTDLSchema\n}\n\nexport interface DTDLInterface extends DTDLContent {\n    contents: DTDLContent[]\n    extends?: string | string[]\n    schemas?: (DTDLSchema | DTDLInterface)[]\n    \"@context\"?: string\n}\n\nexport function escapeName(name: string) {\n    name = name.trim().replace(/[^a-zA-Z0-9_]/g, \"_\")\n    if (!/^[a-zA-Z]/.test(name)) name = \"a\" + name\n    name = name[0].toLowerCase() + name.slice(1)\n    return name.slice(0, 64)\n}\n\nexport function escapeDisplayName(name: string) {\n    return name.slice(0, 64)\n}\n\nexport function DTDLUnits() {\n    return [\n        \"metrePerSecondSquared\",\n        \"centimetrePerSecondSquared\",\n        \"gForce\",\n        \"radian\",\n        \"degreeOfArc\",\n        \"minuteOfArc\",\n        \"secondOfArc\",\n        \"turn\",\n        \"radianPerSecondSquared\",\n        \"radianPerSecond\",\n        \"degreePerSecond\",\n        \"revolutionPerSecond\",\n        \"revolutionPerMinute\",\n        \"squareMetre\",\n        \"squareCentimetre\",\n        \"squareMillimetre\",\n        \"squareKilometre\",\n        \"hectare\",\n        \"squareFoot\",\n        \"squareInch\",\n        \"acre\",\n        \"farad\",\n        \"millifarad\",\n        \"microfarad\",\n        \"nanofarad\",\n        \"picofarad\",\n        \"ampere\",\n        \"microampere\",\n        \"milliampere\",\n        \"bitPerSecond\",\n        \"kibibitPerSecond\",\n        \"mebibitPerSecond\",\n        \"gibibitPerSecond\",\n        \"tebibitPerSecond\",\n        \"exbibitPerSecond\",\n        \"zebibitPerSecond\",\n        \"yobibitPerSecond\",\n        \"bytePerSecond\",\n        \"kibibytePerSecond\",\n        \"mebibytePerSecond\",\n        \"gibibytePerSecond\",\n        \"tebibytePerSecond\",\n        \"exbibytePerSecond\",\n        \"zebibytePerSecond\",\n        \"yobibytePerSecond\",\n        \"bit\",\n        \"kibibit\",\n        \"mebibit\",\n        \"gibibit\",\n        \"tebibit\",\n        \"exbibit\",\n        \"zebibit\",\n        \"yobibit\",\n        \"byte\",\n        \"kibibyte\",\n        \"mebibyte\",\n        \"gibibyte\",\n        \"tebibyte\",\n        \"exbibyte\",\n        \"zebibyte\",\n        \"yobibyte\",\n        \"kilogramPerCubicMetre\",\n        \"gramPerCubicMetre\",\n        \"metre\",\n        \"centimetre\",\n        \"millimetre\",\n        \"micrometre\",\n        \"nanometre\",\n        \"kilometre\",\n        \"foot\",\n        \"inch\",\n        \"mile\",\n        \"nauticalMile\",\n        \"astronomicalUnit\",\n        \"coulomb\",\n        \"joule\",\n        \"kilojoule\",\n        \"megajoule\",\n        \"gigajoule\",\n        \"electronvolt\",\n        \"megaelectronvolt\",\n        \"kilowattHour\",\n        \"newton\",\n        \"pound\",\n        \"ounce\",\n        \"ton\",\n        \"hertz\",\n        \"kilohertz\",\n        \"megahertz\",\n        \"gigahertz\",\n        \"kilogramPerCubicMetre\",\n        \"gramPerCubicMetre\",\n        \"lux\",\n        \"footcandle\",\n        \"henry\",\n        \"millihenry\",\n        \"microhenry\",\n        \"radian\",\n        \"degreeOfArc\",\n        \"minuteOfArc\",\n        \"secondOfArc\",\n        \"turn\",\n        \"radian\",\n        \"degreeOfArc\",\n        \"minuteOfArc\",\n        \"secondOfArc\",\n        \"turn\",\n        \"metre\",\n        \"centimetre\",\n        \"millimetre\",\n        \"micrometre\",\n        \"nanometre\",\n        \"kilometre\",\n        \"foot\",\n        \"inch\",\n        \"mile\",\n        \"nauticalMile\",\n        \"astronomicalUnit\",\n        \"candelaPerSquareMetre\",\n        \"watt\",\n        \"microwatt\",\n        \"milliwatt\",\n        \"kilowatt\",\n        \"megawatt\",\n        \"gigawatt\",\n        \"horsepower\",\n        \"kilowattHourPerYear\",\n        \"lumen\",\n        \"candela\",\n        \"weber\",\n        \"maxwell\",\n        \"tesla\",\n        \"kilogram\",\n        \"gram\",\n        \"milligram\",\n        \"microgram\",\n        \"tonne\",\n        \"slug\",\n        \"gramPerSecond\",\n        \"kilogramPerSecond\",\n        \"gramPerHour\",\n        \"kilogramPerHour\",\n        \"watt\",\n        \"microwatt\",\n        \"milliwatt\",\n        \"kilowatt\",\n        \"megawatt\",\n        \"gigawatt\",\n        \"horsepower\",\n        \"kilowattHourPerYear\",\n        \"pascal\",\n        \"kilopascal\",\n        \"bar\",\n        \"millibar\",\n        \"millimetresOfMercury\",\n        \"poundPerSquareInch\",\n        \"inchesOfMercury\",\n        \"inchesOfWater\",\n        \"unity percent\",\n        \"ohm\",\n        \"milliohm\",\n        \"kiloohm\",\n        \"megaohm\",\n        \"decibel\",\n        \"bel\",\n        \"kelvin\",\n        \"degreeCelsius\",\n        \"degreeFahrenheit\",\n        \"newton\",\n        \"pound\",\n        \"ounce\",\n        \"ton\",\n        \"second\",\n        \"millisecond\",\n        \"microsecond\",\n        \"nanosecond\",\n        \"minute\",\n        \"hour\",\n        \"day\",\n        \"year\",\n        \"newtonMetre\",\n        \"metrePerSecond\",\n        \"centimetrePerSecond\",\n        \"kilometrePerSecond\",\n        \"metrePerHour\",\n        \"kilometrePerHour\",\n        \"milePerHour\",\n        \"milePerSecond\",\n        \"knot\",\n        \"volt\",\n        \"millivolt\",\n        \"microvolt\",\n        \"kilovolt\",\n        \"megavolt\",\n        \"cubicMetre\",\n        \"cubicCentimetre\",\n        \"litre\",\n        \"millilitre\",\n        \"cubicFoot\",\n        \"cubicInch\",\n        \"fluidOunce\",\n        \"gallon\",\n        \"litrePerSecond\",\n        \"millilitrePerSecond\",\n        \"litrePerHour\",\n        \"millilitrePerHour\",\n    ].sort()\n}\n","import React, { useMemo } from 'react';\nimport { Menu, MenuItem, Typography } from '@material-ui/core';\nimport { isInfrastructure, serviceSpecificationFromClassIdentifier, serviceSpecifications } from '../../jacdac-ts/src/jdom/spec';\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport AddIcon from '@material-ui/icons/Add';\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport IconButtonWithTooltip from \"./ui/IconButtonWithTooltip\"\nimport { useId } from \"react-use-id-hook\"\n\nexport default function AddServiceIconButton(props: {\n    onAdd: (service: jdspec.ServiceSpec) => void,\n    serviceFilter?: (service: jdspec.ServiceSpec) => boolean,\n    error?: string,\n    children?: JSX.Element | JSX.Element[]\n}) {\n    const { error, onAdd, children, serviceFilter } = props;\n    const [servicesAnchorEl, setServicesAnchorEl] = React.useState<null | HTMLElement>(null);\n    const servicesMenuId = useId();\n    const services = useMemo(() => serviceSpecifications()\n        .filter(srv => !isInfrastructure(srv))\n        .filter(srv => !serviceFilter || serviceFilter(srv))\n        , [serviceFilter])\n\n    const handleServiceAddClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n        setServicesAnchorEl(event.currentTarget);\n    };\n    const handleServiceAddClose = (id: number) => () => {\n        setServicesAnchorEl(null);\n        if (id !== undefined) {\n            const srv = serviceSpecificationFromClassIdentifier(id);\n            onAdd(srv);\n        }\n    };\n\n    return <>\n        <IconButtonWithTooltip title=\"Add a service\" aria-controls={servicesMenuId} aria-haspopup=\"true\" onClick={handleServiceAddClick}>\n            {children || <AddIcon />}\n        </IconButtonWithTooltip>\n        <Menu\n            id={servicesMenuId}\n            anchorEl={servicesAnchorEl}\n            keepMounted\n            open={Boolean(servicesAnchorEl)}\n            onClose={handleServiceAddClose(undefined)}\n        >\n            {services.map(srv => <MenuItem key={srv.classIdentifier} value={srv.classIdentifier.toString(16)}\n                onClick={handleServiceAddClose(srv.classIdentifier)}>\n                {srv.name}\n            </MenuItem>)}\n        </Menu>\n        <Typography variant=\"caption\" color={error ? \"error\" : \"inherit\"} component=\"div\">\n            {error || \"Select one or more services.\"}\n        </Typography></>\n}","import { DependencyList, useEffect } from \"react\"\n\nexport default function useWindowEvent<K extends keyof WindowEventMap>(type: K,\n    listener: (this: Window, ev: WindowEventMap[K]) => any,\n    passive = false,\n    deps: DependencyList) {\n    useEffect(() => {\n        if (typeof window === \"undefined\")\n            return undefined; // SSR\n\n        // initiate the event handler\n        window.addEventListener<K>(type, listener, passive)\n\n        // this will clean up the event every time the component is re-rendered\n        return () => {\n            window.removeEventListener<K>(type, listener)\n        }\n    }, [type, listener, passive].concat(deps || []))\n}","import { useMemo, useContext } from \"react\";\nimport { unique } from \"../../../jacdac-ts/src/jdom/utils\";\nimport { makeCodeServices } from \"../../../jacdac-ts/src/jdom/makecode\"\nimport useWindowEvent from \"../hooks/useWindowEvent\"\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\n\nexport interface MakeCodeSnippetSource {\n    code: string;\n    ghost?: string;\n    meta: {\n        editor?: string;\n        snippet?: boolean;\n        dependencies: string[];\n    }\n}\n\nexport interface MakeCodeSnippetRendered {\n    uri?: string;\n    width?: number;\n    height?: number;\n    error?: string;\n}\n\n\n\nexport function parseMakeCodeSnippet(source: string): MakeCodeSnippetSource {\n    let ghost: string;\n    let code: string;\n    const meta: {\n        editor?: string;\n        snippet?: boolean;\n        dependencies: string[];\n    } = {\n        dependencies: []\n    }\n\n    if (/^---\\n/.test(source)) {\n        let front: string;\n        const parts = source.replace(/^---\\n/, '').split(/---\\n/gm)\n        switch (parts.length) {\n            case 1: front = ghost = undefined; code = source; break;\n            case 2: [front, code] = parts; break;\n            default: [front, ghost, code] = parts; break;\n        }\n\n        // parse front matter\n        front?.replace(/(.+):\\s*(.+)\\s*\\n/g, (m, name, value) => {\n            switch (name) {\n                case \"dep\": meta.dependencies.push(value); break;\n                case \"snippet\": meta.snippet = !!value; break;\n                default: meta[name] = value;\n            }\n            return \"\";\n        })\n    } else {\n        code = source;\n    }\n\n    // sniff services\n    const mkcds = makeCodeServices()\n    mkcds.filter(info => {\n        const src = (ghost || \"\") + \"\\n\" + (code || \"\");\n        return src.indexOf(info.client.qName) > -1\n            || (info.client.default && src.indexOf(info.client.default) > -1);\n    }).map(info => `${info.client.name.replace(/^pxt-/, '')}=github:${info.client.repo}`)\n        .forEach(dep => meta.dependencies.push(dep));\n\n    // add jacdac by default\n    if (!meta.dependencies.length)\n        meta.dependencies.push(\"jacdac=github:microsoft/pxt-jacdac\");\n\n    // ensure unique deps\n    meta.dependencies = unique(meta.dependencies);\n\n    return {\n        code,\n        ghost,\n        meta\n    }\n}\n\ninterface RenderBlocksRequestMessage {\n    type: \"renderblocks\",\n    id: string;\n    code: string;\n    ghost?: string;\n    options?: {\n        packageId?: string;\n        package?: string;\n        snippetMode?: boolean;\n        dependencies?: string[];\n    }\n}\n\ninterface RenderBlocksResponseMessage {\n    source: \"makecode\",\n    type: \"renderblocks\",\n    id: string;\n    uri?: string;\n    css?: string;\n    svg?: string;\n    width?: number;\n    height?: number;\n    error?: string;\n}\n\ninterface RenderBlocksRequentResponse {\n    req: RenderBlocksRequestMessage,\n    resolve: (resp: RenderBlocksResponseMessage) => void,\n    reject: (e: unknown) => void\n}\n\nexport function useMakeCodeRenderer() {\n    const { target, rendererUrl } = useContext(MakeCodeSnippetContext);\n    const lang = \"\"\n    const iframeId = \"makecoderenderer\" + target;\n    const pendingRequests = useMemo<{\n        [index: string]: RenderBlocksRequentResponse\n    }>(() => ({}), [target, lang]);\n\n    const sendRequest = (req: RenderBlocksRequestMessage) => {\n        const iframe = typeof document !== \"undefined\" && document.getElementById(iframeId) as HTMLIFrameElement;\n        if (iframe?.dataset.ready)\n            iframe?.contentWindow.postMessage(req, rendererUrl);\n    }\n\n    const render = (source: MakeCodeSnippetSource): Promise<MakeCodeSnippetRendered> => {\n        const { code, ghost, meta } = source;\n        const { dependencies, snippet } = meta;\n\n        // spin up iframe on demans\n        if (typeof document !== \"undefined\" && !document.getElementById(iframeId)) {\n            console.log(`mkcd: loading iframe`)\n            const f = document.createElement(\"iframe\");\n            f.id = iframeId;\n            f.style.position = \"absolute\";\n            f.style.left = \"0\";\n            f.style.bottom = \"0\";\n            f.style.width = \"1px\";\n            f.style.height = \"1px\";\n            f.src = `${rendererUrl}?render=1${lang ? `&lang=${lang}` : ''}`;\n            document.body.appendChild(f);\n        }\n\n        const req: RenderBlocksRequestMessage = {\n            type: \"renderblocks\",\n            id: \"r\" + Math.random(),\n            code,\n            ghost,\n            options: {\n                dependencies,\n                snippetMode: snippet\n            }\n        }\n        return new Promise<RenderBlocksResponseMessage>((resolve, reject) => {\n            pendingRequests[req.id] = { req, resolve, reject }\n            sendRequest(req);\n        })\n    }\n\n    // listen for messages\n    const handleMessage = (ev: MessageEvent) => {\n        const msg = ev.data;\n        if (msg.source != \"makecode\") return;\n        switch (msg.type) {\n            case \"renderready\": {\n                console.log(`mkcd: renderer ready, ${Object.keys(pendingRequests).length} pending`)\n                const iframe = typeof document !== \"undefined\" && document.getElementById(iframeId)\n                if (iframe) {\n                    console.log(`flushing messages`)\n                    iframe.dataset.ready = \"1\"\n                    Object.keys(pendingRequests)\n                        .forEach(k => sendRequest(pendingRequests[k].req));\n                }\n                break;\n            }\n            case \"renderblocks\": {\n                const id = msg.id; // this is the id you sent\n                const r = pendingRequests[id];\n                if (!r) return;\n                delete pendingRequests[id];\n                r.resolve(msg as RenderBlocksResponseMessage);\n                break;\n            }\n        }\n    }\n\n    useWindowEvent(\"message\", handleMessage, false, [])\n\n    return {\n        render\n    }\n}\n","import { createStyles, makeStyles } from \"@material-ui/core\"\nimport React, { useContext, useEffect, useRef } from \"react\"\nimport {\n    PACKET_PROCESS,\n    PACKET_SEND,\n} from \"../../../jacdac-ts/src/jdom/constants\"\nimport { PacketMessage } from \"../../../jacdac-ts/src/jdom/iframebridgeclient\"\nimport Packet from \"../../../jacdac-ts/src/jdom/packet\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport PaperBox from \"../ui/PaperBox\"\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\"\nimport { MakeCodeSnippetSource } from \"./useMakeCodeRenderer\"\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        root: {\n            width: \"100%\",\n        },\n        root2: {\n            position: \"relative\",\n            paddingTop: \"86.75%\",\n        },\n        iframe: {\n            position: \"absolute\",\n            left: 0,\n            top: 0,\n            border: \"none\",\n            width: \"100%\",\n            height: \"100%\",\n        },\n    })\n)\n\nexport default function MakeCodeSimulator(props: {\n    snippet: MakeCodeSnippetSource\n}) {\n    const { simUrl } = useContext(MakeCodeSnippetContext)\n    const { snippet } = props\n    const { code, ghost, meta } = snippet\n    const { dependencies } = meta\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const frameRef = useRef<HTMLIFrameElement>()\n    const classes = useStyles()\n\n    const src = `${ghost || \"\"}\\n${code || \"\"}`\n    const url = `${simUrl}#single=1&fullscren=1&nofooter=1&deps=${encodeURIComponent(\n        dependencies.join(\",\")\n    )}&code=${encodeURIComponent(src)}`\n    const origin = new URL(url).origin\n\n    useEffect(() =>\n        bus.subscribe([PACKET_SEND, PACKET_PROCESS], (pkt: Packet) => {\n            this.packetSent++\n            const msg: PacketMessage = {\n                type: \"messagepacket\",\n                channel: \"jacdac\",\n                broadcast: true,\n                data: pkt.toBuffer(),\n                sender: pkt.sender,\n            }\n            frameRef.current?.contentWindow?.postMessage(msg, origin)\n        })\n    )\n\n    return (\n        <PaperBox>\n            <div className={classes.root}>\n                <div className={classes.root2}>\n                    <iframe\n                        ref={frameRef}\n                        className={classes.iframe}\n                        src={url}\n                        aria-label=\"MakeCode rendering iframe to generate blocks images.\"\n                    />\n                </div>\n            </div>\n        </PaperBox>\n    )\n}\n","import React, { useState, useMemo, useContext } from \"react\";\nimport PaperBox from \"../ui/PaperBox\"\nimport { Tab, Tabs } from '@material-ui/core';\nimport CodeBlock from \"../CodeBlock\";\nimport TabPanel from '../ui/TabPanel';\nimport MakeCodeSnippetContext from \"./MakeCodeSnippetContext\";\nimport { parseMakeCodeSnippet } from \"./useMakeCodeRenderer\";\nimport MakeCodeSimulator from \"./MakeCodeSimulator\";\nimport { withPrefix } from \"gatsby\"\ninterface Rendered {\n    url: string;\n    width: number;\n    height: number;\n}\n\nexport default function MakeCodeSnippet(props: { renderedSource: string }) {\n    const { renderedSource } = props;\n    const { source, rendered } = JSON.parse(renderedSource) as { source: string; rendered: Rendered; }\n    const { height, width, url } = rendered || {};\n    const tabs = [\"blocks\", \"typescript\", \"sim\"]\n    const { editor, setEditor } = useContext(MakeCodeSnippetContext);\n    const [tab, setTab] = useState(tabs.indexOf(editor) || 0);\n    const handleTabChange = (event: React.ChangeEvent<unknown>, newValue: number) => {\n        if (newValue < tabs.length - 1)\n            setEditor(tabs[newValue]);\n        setTab(newValue);\n    };\n    const snippet = useMemo(() => parseMakeCodeSnippet(source), [source]);\n    const { code } = snippet;\n\n    return <PaperBox>\n        <Tabs value={tab} onChange={handleTabChange} aria-label=\"Select MakeCode editor\">\n            <Tab label={\"Blocks\"} />\n            <Tab label={\"JavaScript\"} />\n            <Tab label={\"Simulator\"} />\n        </Tabs>\n        <TabPanel value={tab} index={0}>\n            <img src={withPrefix(url)} alt={source} loading=\"lazy\" />\n        </TabPanel>\n        <TabPanel value={tab} index={1}>\n            <CodeBlock className=\"typescript\">{code}</CodeBlock>\n        </TabPanel>\n        <TabPanel value={tab} index={2}>\n            <MakeCodeSimulator snippet={snippet} />\n        </TabPanel>\n    </PaperBox>\n}\n","import React, { lazy, useContext } from \"react\"\nimport Highlight, {\n    defaultProps,\n    Language,\n    PrismTheme,\n} from \"prism-react-renderer\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LIGHT_THEME from \"prism-react-renderer/themes/github\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport DARK_THEME from \"prism-react-renderer/themes/vsDark\"\nimport DarkModeContext from \"./ui/DarkModeContext\"\nimport { IconButton, Link } from \"gatsby-theme-material-ui\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LaunchIcon from \"@material-ui/icons/Launch\"\nimport Tooltip from \"./ui/Tooltip\"\nimport MakeCodeSnippet from \"./makecode/MakeCodeSnippet\"\nimport Suspense from \"./ui/Suspense\"\n\nconst TraceSnippet = lazy(() => import(\"./TraceSnippet\"))\nconst CodeSandboxButton = lazy(() => import(\"./ui/CodeSandboxButton\"))\n\nfunction HighlightedCode(props: {\n    children: string\n    codeSandbox?: boolean\n    className?: string\n    downloadName?: string\n    downloadText?: string\n    url?: string\n}) {\n    const {\n        children,\n        codeSandbox,\n        className,\n        downloadName,\n        downloadText,\n        url,\n    } = props\n    const { darkMode } = useContext(DarkModeContext)\n    const language = className?.replace(/language-/, \"\") || \"\"\n    const theme = (darkMode === \"dark\" ? DARK_THEME : LIGHT_THEME) as PrismTheme\n    const valueUri =\n        !!downloadText &&\n        `data:application/json;charset=UTF-8,${encodeURIComponent(\n            downloadText\n        )}`\n\n    return (\n        <Highlight\n            {...defaultProps}\n            code={children?.replace(/[\\s\\r\\n]*$/g, \"\") || \"\"}\n            language={language as Language}\n            theme={theme}\n        >\n            {({ className, style, tokens, getLineProps, getTokenProps }) => (\n                <pre className={className} style={{ ...style }}>\n                    {!!url && (\n                        <Link style={{ float: \"right\" }} href={url}>\n                            <Tooltip title={`Open ${url}`}>\n                                <IconButton>\n                                    <LaunchIcon />\n                                </IconButton>\n                            </Tooltip>\n                        </Link>\n                    )}\n                    {!!downloadText && (\n                        <Link\n                            style={{ float: \"right\" }}\n                            href={valueUri}\n                            download={downloadName || \"download\"}\n                        >\n                            <Tooltip title=\"Download\">\n                                <IconButton>\n                                    <GetAppIcon />\n                                </IconButton>\n                            </Tooltip>\n                        </Link>\n                    )}\n                    {codeSandbox && (\n                        <div style={{ float: \"right\" }}>\n                            <Suspense>\n                                <CodeSandboxButton source={children} />\n                            </Suspense>\n                        </div>\n                    )}\n                    {tokens?.map((line, index) => {\n                        const lineProps = getLineProps({ line, key: index })\n                        return (\n                            <div key={index} {...lineProps}>\n                                {line.map((token, key) => (\n                                    <span\n                                        key={key}\n                                        {...getTokenProps({ token, key })}\n                                    />\n                                ))}\n                            </div>\n                        )\n                    })}\n                </pre>\n            )}\n        </Highlight>\n    )\n}\n\nexport default function CodeBlock(props: {\n    children: string\n    className?: string\n    downloadName?: string\n    downloadText?: string\n    url?: string\n}) {\n    const { children, className } = props\n    const language = className?.replace(/language-/, \"\") || \"\"\n\n    switch (language) {\n        case \"trace\":\n            return (\n                <Suspense>\n                    <TraceSnippet source={children} />\n                </Suspense>\n            )\n        case \"blocks\":\n            return <MakeCodeSnippet renderedSource={children} />\n        case \"vanilla\":\n            return (\n                <HighlightedCode\n                    {...props}\n                    className={\"javascript\"}\n                    codeSandbox={true}\n                />\n            )\n        default:\n            return <HighlightedCode {...props} />\n    }\n}\n","import { createStyles, makeStyles, MenuItem, TextField, Theme } from \"@material-ui/core\";\nimport React, { ChangeEvent, useState } from \"react\";\nimport { serviceSpecifications } from \"../../jacdac-ts/src/jdom/spec\"\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        root: {\n            minWidth: \"18rem\",\n        }\n    }),\n);\n\nexport default function ServiceSpecificationSelect(props: {\n    label: string,\n    serviceClass: number;\n    setServiceClass: (serviceClass: number) => void;\n    variant?: \"outlined\" | \"filled\" | \"standard\";\n    fullWidth?: boolean;\n    error?: string;\n}) {\n    const { label, serviceClass, setServiceClass, variant, fullWidth, error } = props;\n    const [labelId] = useState('select-' + Math.random());\n    const classes = useStyles();\n    const specs = serviceSpecifications().filter(spec => !/^_/.test(spec.shortId))\n\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) =>\n        setServiceClass(parseInt(event.target.value));\n\n    return <TextField\n        id={labelId}\n        className={classes.root}\n        label={label}\n        error={!!error}\n        helperText={error}\n        value={serviceClass}\n        select\n        variant={variant}\n        fullWidth={fullWidth}\n        onChange={handleChange}>\n        <MenuItem key=\"none\" value=\"NaN\">No service selected</MenuItem>\n        {specs.map(spec => <MenuItem\n            key={spec.classIdentifier}\n            value={spec.classIdentifier}>{spec.name}</MenuItem>)}\n    </TextField>\n}","import { Box, BoxProps, Paper, PaperProps, useTheme } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport default function PaperBox(props: { padding?: number; elevation?: number; bgcolor?: string } & BoxProps) {\n    const { children, padding, elevation, bgcolor, ...others } = props;\n    const theme = useTheme();\n\n    return <Box {...others} bgcolor={bgcolor} mb={theme.spacing(0.25)}>\n        <Paper square elevation={elevation}>\n            {padding !== 0 && <Box p={theme.spacing(padding || 0.25)}>\n                {children}\n            </Box>}\n            {padding === 0 && children}\n        </Paper>\n    </Box>\n}","import { Typography } from \"@material-ui/core\"\nimport React from \"react\"\nimport CodeBlock from \"../CodeBlock\"\n\nexport default function Snippet(props: {\n    value: string | (() => string)\n    mode?: string\n    download?: string\n    url?: string\n    caption?: string | JSX.Element | JSX.Element[]\n}) {\n    const { value, mode, download, url, caption } = props\n    const v: string = typeof value === \"function\" ? value() : value\n    const className = mode && `language-${mode === \"sts\" ? \"ts\" : mode}`\n    return (\n        <>\n            <CodeBlock\n                className={className}\n                downloadName={download}\n                downloadText={download && v}\n                url={url}\n            >\n                {v}\n            </CodeBlock>\n            {caption && <Typography variant=\"caption\">{caption}</Typography>}\n        </>\n    )\n}\n","import { Grid, TextField } from \"@material-ui/core\"\nimport React, { ChangeEvent, useMemo } from \"react\"\nimport { clone, uniqueName } from \"../../../jacdac-ts/src/jdom/utils\"\nimport useLocalStorage from \"../../components/useLocalStorage\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport AddServiceIconButton from \"../../components/AddServiceIconButton\"\nimport ServiceSpecificationSelect from \"../../components/ServiceSpecificationSelect\"\nimport {\n    DTDL_CONTEXT,\n    escapeName,\n    serviceSpecificationToComponent,\n} from \"../../../jacdac-ts/src/azure-iot/dtdl\"\nimport IconButtonWithTooltip from \"../../components/ui/IconButtonWithTooltip\"\nimport Snippet from \"../../components/ui/Snippet\"\nimport PaperBox from \"../../components/ui/PaperBox\"\nimport { useId } from \"react-use-id-hook\"\nimport { Link } from \"gatsby-theme-material-ui\"\n\ninterface DigitalTwinComponent {\n    name: string\n    service: jdspec.ServiceSpec\n}\n\ninterface DigitalTwinSpec {\n    displayName: string\n    components: DigitalTwinComponent[]\n}\n\nfunction ComponentRow(props: {\n    twin: DigitalTwinSpec\n    component: DigitalTwinComponent\n    onUpdate: () => void\n}) {\n    const { component, onUpdate, twin } = props\n    const { name, service } = component\n    const { nameError, serviceError } = useMemo(\n        () => validateTwinComponent(twin, component),\n        [twin, component]\n    )\n    const nameId = useId()\n    const handleComponentNameChange = (ev: ChangeEvent<HTMLInputElement>) => {\n        component.name = escapeName(ev.target.value)\n        onUpdate()\n    }\n    const handleSetService = (serviceClass: number) => {\n        component.service = serviceSpecificationFromClassIdentifier(\n            serviceClass\n        )\n        onUpdate()\n    }\n    const handleComponentDelete = () => {\n        twin.components.splice(twin.components.indexOf(component), 1)\n        onUpdate()\n    }\n    return (\n        <Grid item xs={12}>\n            <Grid container spacing={2}>\n                <Grid item xs={6}>\n                    <TextField\n                        id={nameId}\n                        fullWidth={true}\n                        error={!!nameError}\n                        variant=\"outlined\"\n                        label=\"name\"\n                        helperText={nameError}\n                        value={name}\n                        onChange={handleComponentNameChange}\n                    />\n                </Grid>\n                <Grid item>\n                    <ServiceSpecificationSelect\n                        variant=\"outlined\"\n                        label=\"service\"\n                        serviceClass={service.classIdentifier}\n                        setServiceClass={handleSetService}\n                        error={serviceError}\n                    />\n                </Grid>\n                <Grid item>\n                    <IconButtonWithTooltip\n                        title=\"Remove service\"\n                        onClick={handleComponentDelete}\n                    >\n                        <DeleteIcon />\n                    </IconButtonWithTooltip>\n                </Grid>\n            </Grid>\n        </Grid>\n    )\n}\n\nfunction validateTwinComponent(\n    twin: DigitalTwinSpec,\n    component: DigitalTwinComponent\n) {\n    let serviceError: string = undefined\n    const nameError: string = undefined\n    const count = twin.components.filter(\n        c => c.service.classIdentifier === component.service.classIdentifier\n    ).length\n    if (count > 1) serviceError = `Multiple same service not supported.`\n    return { serviceError, nameError }\n}\n\nexport default function AzureDeviceTwinDesigner() {\n    const variant = \"outlined\"\n    const [twin, setTwin] = useLocalStorage<DigitalTwinSpec>(\n        \"jacdac:digitaltwin;1\",\n        {\n            displayName: \"mydesigner\",\n            components: [],\n        } as DigitalTwinSpec\n    )\n\n    const dtdl = {\n        \"@type\": \"Interface\",\n        \"@id\": `dtmi:jacdac:devices:${escapeName(twin.displayName)},1`,\n        displayName: twin.displayName,\n        contents: twin.components.map(c =>\n            serviceSpecificationToComponent(c.service, c.name)\n        ),\n        \"@context\": DTDL_CONTEXT,\n    }\n    const dtdlSource = JSON.stringify(dtdl, null, 2)\n\n    const update = () => {\n        setTwin(clone(twin))\n    }\n    const handleDisplayNameChange = (ev: ChangeEvent<HTMLInputElement>) => {\n        twin.displayName = ev.target.value\n        update()\n    }\n    const handleAddService = (service: jdspec.ServiceSpec) => {\n        const names = twin.components.map(c => c.name)\n        twin.components.push({\n            name: uniqueName(names, service.shortId),\n            service,\n        })\n        update()\n    }\n\n    return (\n        <>\n            <h1>Azure Device Twin Designer</h1>\n            <p>\n                An{\" \"}\n                <Link href=\"https://github.com/Azure/opendigitaltwins-dtdl/\">\n                    device twin\n                </Link>{\" \"}\n                is to be used in IoT solutions such as with Azure IoT Hubs,\n                Azure IoT Plug And Play. The repository of{\" \"}\n                <Link to=\"/dtmi/\">Azure IoT Plug And Play models</Link> for\n                services can be used to resolve models.\n            </p>\n\n            <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={12}>\n                    <TextField\n                        required\n                        fullWidth={true}\n                        label=\"Display name\"\n                        placeholder=\"My device\"\n                        value={twin.displayName || \"\"}\n                        onChange={handleDisplayNameChange}\n                        variant={variant}\n                    />\n                </Grid>\n                {twin.components.map((c, i) => (\n                    <ComponentRow\n                        key={c.name}\n                        twin={twin}\n                        component={c}\n                        onUpdate={update}\n                    />\n                ))}\n                <Grid item xs={12}>\n                    <AddServiceIconButton onAdd={handleAddService} />\n                </Grid>\n                <Grid item xs={12}>\n                    <PaperBox>\n                        <Snippet\n                            value={dtdlSource}\n                            mode=\"json\"\n                            download=\"model\"\n                        />\n                    </PaperBox>\n                </Grid>\n            </Grid>\n        </>\n    )\n}\n"],"sourceRoot":""}