{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/core/esm/FormControl/FormControlContext.js","webpack://jacdac-docs/./node_modules/@material-ui/core/esm/FormControl/useFormControl.js","webpack://jacdac-docs/./node_modules/@material-ui/core/esm/internal/SwitchBase.js","webpack://jacdac-docs/./node_modules/@material-ui/core/esm/Switch/Switch.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/ArrowDropDown.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/ArrowRight.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Close.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Error.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Fingerprint.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Launch.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/Refresh.js","webpack://jacdac-docs/./node_modules/@material-ui/icons/SignalCellularConnectedNoInternet0Bar.js","webpack://jacdac-docs/./src/components/hooks/useAnalytics.ts","webpack://jacdac-docs/./src/components/CmdButton.tsx","webpack://jacdac-docs/./src/components/DeviceActions.tsx","webpack://jacdac-docs/./node_modules/@material-ui/lab/esm/TreeView/TreeViewContext.js","webpack://jacdac-docs/./node_modules/@material-ui/lab/esm/TreeView/TreeView.js","webpack://jacdac-docs/./node_modules/@material-ui/lab/esm/TreeItem/TreeItem.js","webpack://jacdac-docs/./src/components/ui/StyledTreeView.tsx","webpack://jacdac-docs/./src/components/JDomTreeView.tsx","webpack://jacdac-docs/./src/components/alert/ConnectAlert.tsx","webpack://jacdac-docs/./src/components/devices/useDeviceName.ts","webpack://jacdac-docs/./src/components/hooks/useMounted.tsx","webpack://jacdac-docs/./src/components/hooks/useServiceProvider.ts","webpack://jacdac-docs/./src/jacdac/useEventCount.ts","webpack://jacdac-docs/./src/jacdac/useEventRaised.ts","webpack://jacdac-docs/./src/jacdac/useRegisterValue.ts"],"names":["useAnalytics","page","track","ACK_RESET_DELAY","ERROR_RESET_DELAY","useStyles","makeStyles","theme","getBackgroundColor","palette","type","lighten","darken","createStyles","ack","color","fontWeight","typography","fontWeightMedium","backgroundColor","success","main","error","CmdButton","props","onClick","className","style","children","icon","title","disabled","disableReset","autoRun","trackName","trackProperties","ackResetDelay","others","useContext","AppContext","setAppError","setError","classes","useState","working","setWorking","setAck","undefined","mounted","useMounted","_disabled","run","delay","handleClick","ev","stopPropagation","statusIcon","modeClassName","elClassName","clsx","useEffect","DeviceActions","device","showSettings","showReset","hideIdentity","showStop","JacdacContext","bus","provider","useServiceProvider","settings","useChange","_","services","serviceClass","SRV_SETTINGS","handleIdentify","identify","handleReset","reset","handleStop","removeServiceProvider","handleSettings","navigate","useTreeItemStyles","root","text","secondary","action","hover","grey","content","fontWeightRegular","group","marginLeft","paddingLeft","spacing","expanded","selected","background","default","label","labelRoot","display","alignItems","padding","labelIcon","marginRight","labelText","flexGrow","StyledTreeItem","kind","labelInfo","bgColor","checked","setChecked","actions","nodeId","alert","other","checkedState","setCheckedState","handleChecked","c","DeviceTreeItem","checkboxes","serviceFilter","id","name","useDeviceName","physical","d","lost","useEventRaised","LOST","FOUND","dev","mixins","filter","srv","useTheme","showActions","useMediaQuery","breakpoints","up","dropped","qos","serviceNames","ellipseJoin","service","SRV_CTRL","SRV_LOGGER","map","r","join","indexOf","AnnounceFlagsTreeItem","announceFlags","ControlAnnounceFlags","f","toString","ServiceTreeItem","registerFilter","eventFilter","specification","isMixin","showSpecificationAction","open","packets","registers","isRegister","info","register","identifier","reg","sort","l","localeCompare","events","isEvent","event","useRegisterUnpackedValue","BaseReg","instanceName","readingRegister","reading","useRegisterHumanValue","mobile","down","MOBILE_BREAKPOINT","setDrawerType","handleSpecClick","console","log","DrawerType","SERVICE_MIXIN_NODE_NAME","SERVICE_NODE_NAME","shortId","mixin","RegisterTreeItem","lastGetAttempts","attempts","setAttempts","optional","failedGet","humanValue","visible","sendGetAsync","subscribe","GET_ATTEMPT","REGISTER_NODE_NAME","EventTreeItem","count","useEventCount","EVENT_NODE_NAME","margins","JDomTreeView","defaultExpanded","defaultSelected","defaultChecked","onChecked","onToggle","onSelect","dashboard","setExpanded","setSelected","devices","useDevices","ignoreSelf","handleToggle","nodeIds","handleSelect","v","i","splice","push","width","button","NoSsrConnectAlert","transports","b","spec","serviceSpecificationFromClassIdentifier","length","transport","ConnectAlert","includeShortId","friendlyName","useRef","current","findServiceProvider","deviceId","setCount","CHANGE","eventName","node","query","version","setVersion","value","options","setValue","REPORT_UPDATE","unpackedValue","useRegisterBoolValue","boolValue"],"mappings":";;;;;;;;;;AAA+B;AAC/B;AACA;AACA;;AAEA,yBAAyB,gDAAmB;;AAE5C,IAAI,KAAqC,EAAE,EAE1C;;AAEM;AACP,SAAS,6CAAgB;AACzB;AACA,yDAAe,kBAAkB,E;;;;;;;;;;;;;ACdF;AACuB;AACvC;AACf,SAAS,6CAAgB,CAAC,iEAAkB;AAC5C,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ0D;AACY;AACoB;AAC3D;AACP;AACqB;AACM;AACQ;AACb;AACP;AAChC;AACP;AACA;AACA,GAAG;AACH,aAAa;AACb,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA8B,gBAAgB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0CAAwB;;AAEtC,uBAAuB,gCAAa;AACpC;AACA;AACA;AACA;AACA,GAAG;AACH,wBAAwB,gCAAc;AACtC;AACA;;AAEA,uBAAuB,iCAAc;;AAErC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,mBAAmB,CAAC,yBAAU,EAAE,8BAAQ;AAC9D;AACA,eAAe,yBAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,uBAAuB,mBAAmB,UAAU,8BAAQ;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,EAAE;AACH;;AAEA,MAAqC,GAAG,CAAM;AAC9C,wDAAe,6BAAU;AACzB;AACA,CAAC,aAAa,E;;AC1I4C;AACgC;;AAE3D;AACP;AACqB;AACC;AACI;AACL;AACG;AACzC,IAAI,aAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,2BAA2B,iCAAI;AAC/B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,2BAA2B,iCAAI;AAC/B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,eAAe;;AAEf;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0CAAwB;;AAEtC,0BAA0B,mBAAmB;AAC7C;AACA,GAAG;AACH,sBAAsB,mBAAmB;AACzC,eAAe,yBAAI;AACnB;AACA;AACA,KAAK,kDAAkD,6BAAU;AACjE,GAAG,eAAe,mBAAmB,CAAC,mBAAU,EAAE,8BAAQ;AAC1D;AACA;AACA;AACA;AACA,YAAY,yBAAI,4CAA4C,6BAAU;AACtE;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG,wBAAwB,mBAAmB;AAC9C;AACA,GAAG;AACH,CAAC;AACD,MAAqC,GAAG,CAAM;AAC9C,kDAAe,6BAAU,CAAC,aAAM;AAChC;AACA,CAAC,SAAS,E;;;;;;;;;ACvMG;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;ACnBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;ACnBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;ACnBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;ACnBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;ACnBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;ACnBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;ACnBF;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASA,YAAT,GAGb;AACE,MAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM,CAAE,CAArB;;AACA,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM,CAAE,CAAtB;;AACA,SAAO;AACHD,QAAI,EAAJA,IADG;AAEHC,SAAK,EAALA;AAFG,GAAP;AAIH,C;;;;;;;;;ACrDD;AAOA;AACA;CAQA;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMC,eAAe,GAAG,GAAxB;AACA,IAAMC,iBAAiB,GAAG,IAA1B;AAEA,IAAMC,SAAS,GAAGC,6BAAU,CAAC,UAACC,KAAD,EAAkB;AAC3C,MAAMC,kBAAkB,GAAGD,KAAK,CAACE,OAAN,CAAcC,IAAd,KAAuB,OAAvB,GAAiCC,gCAAjC,GAA2CC,+BAAtE;AACA,SAAOC,+BAAY,CAAC;AAChBC,OAAG,EAAE;AACDC,WAAK,EAAE,MADN;AAEDC,gBAAU,EAAET,KAAK,CAACU,UAAN,CAAiBC,gBAF5B;AAGDC,qBAAe,EAAEZ,KAAK,CAACE,OAAN,CAAcW,OAAd,CAAsBC;AAHtC,KADW;AAMhBC,SAAK,EAAE;AACHP,WAAK,EAAE,MADJ;AAEHI,qBAAe,EAAEX,kBAAkB,CAACD,KAAK,CAACE,OAAN,CAAca,KAAd,CAAoBD,IAArB,EAA2B,GAA3B;AAFhC;AANS,GAAD,CAAnB;AAWH,CAb2B,CAA5B;AAee,SAASE,SAAT,CAAmBC,KAAnB,EAgBZ;AAAA,MAEKC,OAFL,GAeKD,KAfL,CAEKC,OAFL;AAAA,MAGKC,SAHL,GAeKF,KAfL,CAGKE,SAHL;AAAA,MAIKC,KAJL,GAeKH,KAfL,CAIKG,KAJL;AAAA,MAKKC,QALL,GAeKJ,KAfL,CAKKI,QALL;AAAA,MAMKC,IANL,GAeKL,KAfL,CAMKK,IANL;AAAA,MAOKC,KAPL,GAeKN,KAfL,CAOKM,KAPL;AAAA,MAQKC,QARL,GAeKP,KAfL,CAQKO,QARL;AAAA,MASKC,YATL,GAeKR,KAfL,CASKQ,YATL;AAAA,MAUKC,OAVL,GAeKT,KAfL,CAUKS,OAVL;AAAA,MAWKC,SAXL,GAeKV,KAfL,CAWKU,SAXL;AAAA,MAYKC,eAZL,GAeKX,KAfL,CAYKW,eAZL;AAAA,MAaKC,aAbL,GAeKZ,KAfL,CAaKY,aAbL;AAAA,MAcQC,MAdR,mDAeKb,KAfL;;AAAA,oBAiBmCc,oBAAU,CAACC,0BAAD,CAjB7C;AAAA,MAiBmBC,WAjBnB,eAiBSC,QAjBT;;AAkBC,MAAMC,OAAO,GAAGrC,SAAS,EAAzB;;AAlBD,kBAmB+BsC,kBAAQ,CAAC,KAAD,CAnBvC;AAAA,MAmBQC,OAnBR;AAAA,MAmBiBC,UAnBjB;;AAAA,mBAoBuBF,kBAAQ,CAAC,KAAD,CApB/B;AAAA,MAoBQ7B,GApBR;AAAA,MAoBagC,MApBb;;AAAA,mBAqB2BH,kBAAQ,CAACI,SAAD,CArBnC;AAAA,MAqBQzB,KArBR;AAAA,MAqBemB,QArBf;;AAAA,sBAsBmBzC,YAAY,EAtB/B;AAAA,MAsBSE,KAtBT,iBAsBSA,KAtBT;;AAuBC,MAAM8C,OAAO,GAAGC,6BAAU,EAA1B;;AAEA,MAAMC,SAAS,GAAGnB,QAAQ,IAAIa,OAA9B;;AAEA,MAAMO,GAAG;AAAA,4FAAG;AAAA;AAAA;AAAA;AAAA;AAAA,mBACJP,OADI;AAAA;AAAA;AAAA;;AAAA;;AAAA;AACY;AAEpB,kBAAIV,SAAJ,EAAehC,KAAK,CAAC,SAASgC,SAAV,EAAqBC,eAArB,CAAL;AAHP;AAKJM,sBAAQ,CAACM,SAAD,CAAR;AACAD,oBAAM,CAAC,KAAD,CAAN;AACAD,wBAAU,CAAC,IAAD,CAAV;AAPI;AAAA,qBAQEpB,OAAO,EART;;AAAA;AAAA,kBASCuB,OAAO,EATR;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAUJF,oBAAM,CAAC,IAAD,CAAN;;AAVI,kBAWCd,YAXD;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAYMoB,uBAAK,CAAChB,aAAa,IAAIjC,eAAlB,CAZX;;AAAA;AAAA,kBAaK6C,OAbL;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAcAF,oBAAM,CAAC,KAAD,CAAN;;AAdA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA,kBAiBCE,OAAO,EAjBR;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAkBJR,yBAAW,aAAX;AACAC,sBAAQ,aAAR;;AAnBI,kBAoBCT,YApBD;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAqBMoB,uBAAK,CAAChD,iBAAD,CArBX;;AAAA;AAAA,kBAsBK4C,OAAO,EAtBZ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAuBAP,sBAAQ,CAACM,SAAD,CAAR;;AAvBA;AAAA;AA0BJ,kBAAIC,OAAO,EAAX,EAAeH,UAAU,CAAC,KAAD,CAAV;AA1BX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAHM,GAAG;AAAA;AAAA;AAAA,KAAT;;AA8BA,MAAME,WAAW;AAAA,6FAAG,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAChBA,gBAAE,CAACC,eAAH;AACAJ,iBAAG;;AAFa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXE,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAKA,MAAMG,UAAU,GAAGlC,KAAK,gBAAG,oBAAC,oBAAD,OAAH,GAAmByB,SAA3C;AACA,MAAMU,aAAa,GAAGnC,KAAK,GAAGoB,OAAO,CAACpB,KAAX,GAAmBR,GAAG,GAAG4B,OAAO,CAAC5B,GAAX,GAAiBiC,SAAlE;AACA,MAAMW,WAAW,GAAGC,yBAAI,CAACjC,SAAD,EAAY+B,aAAZ,CAAxB,CAhED,CAkEC;;AACAG,qBAAS,CAAC,YAAM;AACZ,QAAI3B,OAAJ,EAAakB,GAAG;AACnB,GAFQ,EAEN,CAAClB,OAAD,CAFM,CAAT;AAIA,MAAI,CAACL,QAAD,IAAaC,IAAjB,EACI,oBACI,oBAAC,oCAAD;AACI,aAAS,EAAE6B,WADf;AAEI,SAAK,EAAE/B,KAFX;AAGI,WAAO,EAAE0B,WAHb;AAII,kBAAYvB,KAJhB;AAKI,SAAK,EAAEA,KALX;AAMI,YAAQ,EAAEoB;AANd,KAOQb,MAPR,GASKmB,UAAU,IAAI3B,IATnB,CADJ,CADJ,KAeI,oBACI,oBAAC,+BAAD;AACI,aAAS,EAAE6B,WADf;AAEI,SAAK,EAAE/B,KAFX;AAGI,aAAS,EAAEE,IAHf;AAII,WAAO,EAAE2B,UAJb;AAKI,WAAO,EAAEH,WALb;AAMI,kBAAYvB,KANhB;AAOI,SAAK,EAAEA,KAPX;AAQI,YAAQ,EAAEoB;AARd,KASQb,MATR,GAWKT,QAXL,CADJ;AAeP,C;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/JD;AAEA;CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASiC,aAAT,CAAuBrC,KAAvB,EAOZ;AAAA,MAEKsC,MAFL,GAQKtC,KARL,CAEKsC,MAFL;AAAA,MAGKC,YAHL,GAQKvC,KARL,CAGKuC,YAHL;AAAA,MAIKC,SAJL,GAQKxC,KARL,CAIKwC,SAJL;AAAA,MAKKpC,QALL,GAQKJ,KARL,CAKKI,QALL;AAAA,MAMKqC,YANL,GAQKzC,KARL,CAMKyC,YANL;AAAA,MAOKC,QAPL,GAQK1C,KARL,CAOK0C,QAPL;;AAAA,oBASiB5B,iDAAU,CAAqB6B,6DAArB,CAT3B;AAAA,MASSC,GATT,eASSA,GATT;;AAUC,MAAMC,QAAQ,GAAGC,2EAAkB,CAACR,MAAD,CAAnC;AACA,MAAMS,QAAQ,GAAGC,mEAAS,CACtBV,MADsB,EAEtB,UAAAW,CAAC;AAAA;;AAAA,yBAAIA,CAAC,CAACC,QAAF,CAAW;AAAEC,kBAAY,EAAEC,8FAAYA;AAA5B,KAAX,CAAJ,+CAAI,WAA6C,CAA7C,CAAJ;AAAA,GAFqB,CAA1B;;AAKA,MAAMC,cAAc;AAAA,kMAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACbf,MAAM,CAACgB,QAAP,EADa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdD,cAAc;AAAA;AAAA;AAAA,KAApB;;AAGA,MAAME,WAAW;AAAA,mMAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACVjB,MAAM,CAACkB,KAAP,EADU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXD,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAGA,MAAME,UAAU;AAAA,mMAAG;AAAA;AAAA;AAAA;AAAA;AACfb,iBAAG,CAACc,qBAAJ,CAA0Bb,QAA1B;;AADe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVY,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAGA,MAAME,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzBC,mEAAQ,CAAC,iBAAD,CAAR;AACH,GAFD;;AAGA,sBACI,oGACKlB,QAAQ,IAAIG,QAAZ,iBACG,iDAAC,wDAAD;AACI,aAAS,EAAC,aADd;AAEI,QAAI,EAAC,OAFT;AAGI,SAAK,EAAC,gBAHV;AAII,WAAO,EAAEY,UAJb;AAKI,QAAI,eAAE,iDAAC,sEAAD;AALV,IAFR,EAUK,CAAChB,YAAD,iBACG,iDAAC,wDAAD;AACI,aAAS,EAAC,iBADd;AAEI,QAAI,EAAC,OAFT;AAGI,SAAK,EAAC,UAHV;AAII,WAAO,EAAEY,cAJb;AAKI,QAAI,eAAE,iDAAC,6EAAD;AALV,IAXR,EAmBKd,YAAY,IAAIQ,QAAhB,iBACG,iDAAC,wDAAD;AACI,aAAS,EAAC,iBADd;AAEI,QAAI,EAAC,OAFT;AAGI,SAAK,EAAC,UAHV;AAII,WAAO,EAAEY,cAJb;AAKI,QAAI,eAAE,iDAAC,0EAAD;AALV,IApBR,EA4BKnB,SAAS,iBACN,iDAAC,wDAAD;AACI,aAAS,EAAC,cADd;AAEI,QAAI,EAAC,OAFT;AAGI,SAAK,EAAC,OAHV;AAII,WAAO,EAAEe,WAJb;AAKI,QAAI,eAAE,iDAAC,yEAAD;AALV,IA7BR,EAqCKnD,QArCL,CADJ;AAyCH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3F8B;AAC/B;AACA;AACA;;AAEA,sBAAsB,mBAAmB,GAAG;;AAE5C,IAAI,KAAqC,EAAE,EAE1C;;AAED,6DAAe,eAAe,E;;ACX4B;AACY;AACoB;AAC3D;AACP;AAC8B;AACE;AACR;AACzC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0CAAwB;;AAEtC,wBAAwB,cAAc;AACtC;AACA;;AAEA,yBAAyB,cAAc;AACvC;AACA;;AAEA,gBAAgB,YAAY,GAAG;AAC/B,qBAAqB,YAAY,GAAG;AACpC,qBAAqB,YAAY;;AAEjC,uBAAuB,gCAAa;AACpC;AACA;AACA;AACA;AACA,GAAG;AACH,wBAAwB,gCAAc;AACtC;AACA;;AAEA,wBAAwB,gCAAa;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH,wBAAwB,gCAAc;AACtC;AACA;AACA;AACA;AACA;;;AAGA,mBAAmB,iBAAiB;AACpC;AACA,GAAG;AACH,mBAAmB,iBAAiB;AACpC;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK,EAAE;;AAEP;;AAEA;AACA;AACA,KAAK;;;AAGL,gEAAgE;;AAEhE;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,yBAAyB,YAAY;AACrC,8BAA8B,YAAY;AAC1C,8BAA8B,YAAY;;AAE1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA,0BAA0B,8BAAQ,GAAG;AACrC;AACA;AACA,KAAK;AACL;AACA;AACA,iCAAiC,8BAAQ,GAAG;AAC5C;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA,yBAAyB,iBAAiB;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,GAAG;AACH,4BAA4B,iBAAiB;AAC7C,iBAAiB,8BAAQ,GAAG;;AAE5B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,8BAA8B,iBAAiB;AAC/C;AACA;;AAEA,iBAAiB,8BAAQ,GAAG;;AAE5B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb,iCAAiC,8BAAQ,GAAG;AAC5C;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA,qBAAqB,YAAY;;AAEjC,yBAAyB,cAAc;AACvC;AACA;;AAEA,EAAE,eAAe;AACjB;AACA,IAAI,sBAAsB;AAC1B,wBAAwB,oBAAoB;AAC5C;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE,eAAe;AACjB;AACA;;AAEA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA,sBAAsB,mBAAmB,CAAC,iCAAwB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,eAAe,mBAAmB,OAAO,8BAAQ;AACpD;AACA;AACA,eAAe,yBAAI;AACnB;AACA,GAAG;AACH,CAAC;AACD,MAAqC,GAAG,CAAM;AAC9C,sDAAe,6BAAU;AACzB;AACA,CAAC,WAAW,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1oB8C;AACgC;AAC1F;;AAE+B;AACP;AAC8B;AACJ;AACoB;AACjB;AACK;AACnD,IAAI,eAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,yBAAyB,iCAAI;AAC7B,OAAO;AACP;AACA,yBAAyB,iCAAI;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,gBAAgB;;AAEhB;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,uBAAQ;AACvE;AACA,cAAc,0CAAwB;;AAEtC,0BAA0B,gBAAgB,CAAC,wBAAe;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,YAAY;AAC5B,mBAAmB,YAAY;AAC/B,kBAAkB,6BAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,2BAAQ;;AAEtB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qFAAqF;;AAErF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SA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","file":"8788-4ee03ef7543c5c0810f3.js","sourcesContent":["import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nvar FormControlContext = React.createContext();\n\nif (process.env.NODE_ENV !== 'production') {\n  FormControlContext.displayName = 'FormControlContext';\n}\n\nexport function useFormControl() {\n  return React.useContext(FormControlContext);\n}\nexport default FormControlContext;","import * as React from 'react';\nimport FormControlContext from './FormControlContext';\nexport default function useFormControl() {\n  return React.useContext(FormControlContext);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport useControlled from '../utils/useControlled';\nimport useFormControl from '../FormControl/useFormControl';\nimport withStyles from '../styles/withStyles';\nimport IconButton from '../IconButton';\nexport var styles = {\n  root: {\n    padding: 9\n  },\n  checked: {},\n  disabled: {},\n  input: {\n    cursor: 'inherit',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    margin: 0,\n    padding: 0,\n    zIndex: 1\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = /*#__PURE__*/React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      classes = props.classes,\n      className = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"autoFocus\", \"checked\", \"checkedIcon\", \"classes\", \"className\", \"defaultChecked\", \"disabled\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"]);\n\n  var _useControlled = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'SwitchBase',\n    state: 'checked'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      checked = _useControlled2[0],\n      setCheckedState = _useControlled2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var newChecked = event.target.checked;\n    setCheckedState(newChecked);\n\n    if (onChange) {\n      // TODO v5: remove the second argument.\n      onChange(event, newChecked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n  return /*#__PURE__*/React.createElement(IconButton, _extends({\n    component: \"span\",\n    className: clsx(classes.root, className, checked && classes.checked, disabled && classes.disabled),\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"input\", _extends({\n    autoFocus: autoFocus,\n    checked: checkedProp,\n    defaultChecked: defaultChecked,\n    className: classes.input,\n    disabled: disabled,\n    id: hasLabelFor && id,\n    name: name,\n    onChange: handleInputChange,\n    readOnly: readOnly,\n    ref: inputRef,\n    required: required,\n    tabIndex: tabIndex,\n    type: type,\n    value: value\n  }, inputProps)), checked ? checkedIcon : icon);\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateSwitchBase'\n})(SwitchBase);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // @inheritedComponent IconButton\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle',\n      // For correct alignment with the text.\n      '@media print': {\n        colorAdjust: 'exact'\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&$checked': {\n        transform: 'translateX(20px)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n          '@media (hover: none)': {\n            backgroundColor: 'transparent'\n          }\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4,\n        '&$checked': {\n          transform: 'translateX(16px)'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = /*#__PURE__*/React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      'start': classes.edgeStart,\n      'end': classes.edgeEnd\n    }[edge], size === \"small\" && classes[\"size\".concat(capitalize(size))])\n  }, /*#__PURE__*/React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 10l5 5 5-5z\"\n}), 'ArrowDropDown');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRight');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n}), 'Error');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z\"\n}), 'Fingerprint');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'Launch');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n}), 'Refresh');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"path\", {\n  fillOpacity: \".3\",\n  d: \"M22 8V2L2 22h16V8z\"\n}), /*#__PURE__*/_react.default.createElement(\"path\", {\n  d: \"M20 22h2v-2h-2v2zm0-12v8h2v-8h-2z\"\n})), 'SignalCellularConnectedNoInternet0Bar');\n\nexports.default = _default;","/*\nrequires \"@microsoft/applicationinsights-web-basic\": \"^2.6.1\",\nimport { ApplicationInsights } from \"@microsoft/applicationinsights-web-basic\"\n\n// YOUR_INSTRUMENTATION_KEY_GOES_HERE\nconst instrumentationKey: string = undefined\nconst appInsights =\n    instrumentationKey &&\n    new ApplicationInsights({\n        instrumentationKey,\n        isStorageUseDisabled: true,\n        isCookieUseDisabled: true,\n    })\nconst page =\n    typeof window !== \"undefined\"\n        ? () =>\n              appInsights?.track({\n                  name: window.location.href,\n                  time: new Date().toUTCString(),\n                  baseType: \"PageData\",\n              })\n        : () => {}\nconst track =\n    typeof window !== \"undefined\"\n        ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (name: string, properties?: { [key: string]: any }) =>\n              appInsights?.track({\n                  name,\n                  time: new Date().toUTCString(),\n                  data: properties,\n                  baseType: \"EventData\",\n              })\n        : // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          (name, properties) => {}\nif (typeof window !== \"undefined\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ;(window as any).analytics = {\n        page,\n        track,\n    }\n}\n*/\n\nexport default function useAnalytics(): {\n    page: () => void\n    track: (name: string, properties?: { [key: string]: string | number }) => void\n} {\n    const page = () => {}\n    const track = () => {}\n    return {\n        page,\n        track,\n    }\n}\n","import {\n    createStyles,\n    darken,\n    lighten,\n    makeStyles,\n    Theme,\n} from \"@material-ui/core\"\nimport { Button } from \"gatsby-theme-material-ui\"\nimport React, {\n    CSSProperties,\n    ReactNode,\n    useContext,\n    useEffect,\n    useState,\n} from \"react\"\nimport AppContext from \"./AppContext\"\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport ErrorIcon from \"@material-ui/icons/Error\"\nimport { delay } from \"../../jacdac-ts/src/jdom/utils\"\nimport IconButtonWithTooltip from \"./ui/IconButtonWithTooltip\"\nimport useAnalytics from \"./hooks/useAnalytics\"\nimport useMounted from \"./hooks/useMounted\"\nimport clsx from \"clsx\"\n\nconst ACK_RESET_DELAY = 500\nconst ERROR_RESET_DELAY = 2000\n\nconst useStyles = makeStyles((theme: Theme) => {\n    const getBackgroundColor = theme.palette.type === \"light\" ? lighten : darken\n    return createStyles({\n        ack: {\n            color: \"#fff\",\n            fontWeight: theme.typography.fontWeightMedium,\n            backgroundColor: theme.palette.success.main,\n        },\n        error: {\n            color: \"#fff\",\n            backgroundColor: getBackgroundColor(theme.palette.error.main, 0.6),\n        },\n    })\n})\n\nexport default function CmdButton(props: {\n    onClick: () => Promise<void>\n    className?: string\n    style?: CSSProperties\n    title?: string\n    children?: ReactNode\n    icon?: JSX.Element\n    size?: \"small\" | undefined\n    variant?: \"outlined\" | \"contained\" | undefined\n    disabled?: boolean\n    disableReset?: boolean\n    autoRun?: boolean\n    trackName?: string\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    trackProperties?: { [key: string]: any }\n    ackResetDelay?: number\n}) {\n    const {\n        onClick,\n        className,\n        style,\n        children,\n        icon,\n        title,\n        disabled,\n        disableReset,\n        autoRun,\n        trackName,\n        trackProperties,\n        ackResetDelay,\n        ...others\n    } = props\n\n    const { setError: setAppError } = useContext(AppContext)\n    const classes = useStyles()\n    const [working, setWorking] = useState(false)\n    const [ack, setAck] = useState(false)\n    const [error, setError] = useState(undefined)\n    const { track } = useAnalytics()\n    const mounted = useMounted()\n\n    const _disabled = disabled || working\n\n    const run = async () => {\n        if (working) return // already working\n\n        if (trackName) track(\"cmd.\" + trackName, trackProperties)\n        try {\n            setError(undefined)\n            setAck(false)\n            setWorking(true)\n            await onClick()\n            if (!mounted()) return\n            setAck(true)\n            if (!disableReset) {\n                await delay(ackResetDelay || ACK_RESET_DELAY)\n                if (!mounted) return\n                setAck(false)\n            }\n        } catch (e) {\n            if (!mounted()) return\n            setAppError(e)\n            setError(e)\n            if (!disableReset) {\n                await delay(ERROR_RESET_DELAY)\n                if (!mounted()) return\n                setError(undefined)\n            }\n        } finally {\n            if (mounted()) setWorking(false)\n        }\n    }\n\n    const handleClick = async (ev: React.MouseEvent<HTMLButtonElement>) => {\n        ev.stopPropagation()\n        run()\n    }\n\n    const statusIcon = error ? <ErrorIcon /> : undefined\n    const modeClassName = error ? classes.error : ack ? classes.ack : undefined\n    const elClassName = clsx(className, modeClassName)\n\n    // run once\n    useEffect(() => {\n        if (autoRun) run()\n    }, [autoRun])\n\n    if (!children && icon)\n        return (\n            <IconButtonWithTooltip\n                className={elClassName}\n                style={style}\n                onClick={handleClick}\n                aria-label={title}\n                title={title}\n                disabled={_disabled}\n                {...others}\n            >\n                {statusIcon || icon}\n            </IconButtonWithTooltip>\n        )\n    else\n        return (\n            <Button\n                className={elClassName}\n                style={style}\n                startIcon={icon}\n                endIcon={statusIcon}\n                onClick={handleClick}\n                aria-label={title}\n                title={title}\n                disabled={_disabled}\n                {...others}\n            >\n                {children}\n            </Button>\n        )\n}\n","import React, { useContext } from \"react\"\nimport { JDDevice } from \"../../jacdac-ts/src/jdom/device\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport FingerprintIcon from \"@material-ui/icons/Fingerprint\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport RefreshIcon from \"@material-ui/icons/Refresh\"\nimport JacdacContext, { JacdacContextProps } from \"../jacdac/Context\"\nimport CmdButton from \"./CmdButton\"\nimport useServiceProvider from \"./hooks/useServiceProvider\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport { SRV_SETTINGS } from \"../../jacdac-ts/jacdac-spec/dist/specconstants\"\nimport useChange from \"../jacdac/useChange\"\nimport { navigate } from \"gatsby-link\"\n\nexport default function DeviceActions(props: {\n    device: JDDevice\n    showSettings?: boolean\n    showReset?: boolean\n    showStop?: boolean\n    hideIdentity?: boolean\n    children?: JSX.Element | JSX.Element[]\n}) {\n    const {\n        device,\n        showSettings,\n        showReset,\n        children,\n        hideIdentity,\n        showStop,\n    } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const provider = useServiceProvider(device)\n    const settings = useChange(\n        device,\n        _ => _.services({ serviceClass: SRV_SETTINGS })?.[0]\n    )\n\n    const handleIdentify = async () => {\n        await device.identify()\n    }\n    const handleReset = async () => {\n        await device.reset()\n    }\n    const handleStop = async () => {\n        bus.removeServiceProvider(provider)\n    }\n    const handleSettings = () => {\n        navigate(\"/tools/settings\")\n    }\n    return (\n        <>\n            {showStop && provider && (\n                <CmdButton\n                    trackName=\"device.stop\"\n                    size=\"small\"\n                    title=\"stop simulator\"\n                    onClick={handleStop}\n                    icon={<CloseIcon />}\n                />\n            )}\n            {!hideIdentity && (\n                <CmdButton\n                    trackName=\"device.identify\"\n                    size=\"small\"\n                    title=\"identify\"\n                    onClick={handleIdentify}\n                    icon={<FingerprintIcon />}\n                />\n            )}\n            {showSettings && settings && (\n                <CmdButton\n                    trackName=\"device.settings\"\n                    size=\"small\"\n                    title=\"settings\"\n                    onClick={handleSettings}\n                    icon={<SettingsIcon />}\n                />\n            )}\n            {showReset && (\n                <CmdButton\n                    trackName=\"device.reset\"\n                    size=\"small\"\n                    title=\"reset\"\n                    onClick={handleReset}\n                    icon={<RefreshIcon />}\n                />\n            )}\n            {children}\n        </>\n    )\n}\n","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nvar TreeViewContext = React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  TreeViewContext.displayName = 'TreeViewContext';\n}\n\nexport default TreeViewContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useControlled } from '@material-ui/core/utils';\nimport TreeViewContext from './TreeViewContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 0,\n    margin: 0,\n    listStyle: 'none'\n  }\n};\n\nfunction arrayDiff(arr1, arr2) {\n  if (arr1.length !== arr2.length) return true;\n\n  for (var i = 0; i < arr1.length; i += 1) {\n    if (arr1[i] !== arr2[i]) return true;\n  }\n\n  return false;\n}\n\nvar findNextFirstChar = function findNextFirstChar(firstChars, startIndex, char) {\n  for (var i = startIndex; i < firstChars.length; i += 1) {\n    if (char === firstChars[i]) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar defaultExpandedDefault = [];\nvar defaultSelectedDefault = [];\nvar TreeView = /*#__PURE__*/React.forwardRef(function TreeView(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      defaultCollapseIcon = props.defaultCollapseIcon,\n      defaultEndIcon = props.defaultEndIcon,\n      _props$defaultExpande = props.defaultExpanded,\n      defaultExpanded = _props$defaultExpande === void 0 ? defaultExpandedDefault : _props$defaultExpande,\n      defaultExpandIcon = props.defaultExpandIcon,\n      defaultParentIcon = props.defaultParentIcon,\n      _props$defaultSelecte = props.defaultSelected,\n      defaultSelected = _props$defaultSelecte === void 0 ? defaultSelectedDefault : _props$defaultSelecte,\n      _props$disableSelecti = props.disableSelection,\n      disableSelection = _props$disableSelecti === void 0 ? false : _props$disableSelecti,\n      _props$multiSelect = props.multiSelect,\n      multiSelect = _props$multiSelect === void 0 ? false : _props$multiSelect,\n      expandedProp = props.expanded,\n      onNodeSelect = props.onNodeSelect,\n      onNodeToggle = props.onNodeToggle,\n      selectedProp = props.selected,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"defaultCollapseIcon\", \"defaultEndIcon\", \"defaultExpanded\", \"defaultExpandIcon\", \"defaultParentIcon\", \"defaultSelected\", \"disableSelection\", \"multiSelect\", \"expanded\", \"onNodeSelect\", \"onNodeToggle\", \"selected\"]);\n\n  var _React$useState = React.useState(null),\n      tabbable = _React$useState[0],\n      setTabbable = _React$useState[1];\n\n  var _React$useState2 = React.useState(null),\n      focusedNodeId = _React$useState2[0],\n      setFocusedNodeId = _React$useState2[1];\n\n  var nodeMap = React.useRef({});\n  var firstCharMap = React.useRef({});\n  var visibleNodes = React.useRef([]);\n\n  var _useControlled = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'TreeView',\n    state: 'expanded'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      expanded = _useControlled2[0],\n      setExpandedState = _useControlled2[1];\n\n  var _useControlled3 = useControlled({\n    controlled: selectedProp,\n    default: defaultSelected,\n    name: 'TreeView',\n    state: 'selected'\n  }),\n      _useControlled4 = _slicedToArray(_useControlled3, 2),\n      selected = _useControlled4[0],\n      setSelectedState = _useControlled4[1];\n  /*\n   * Status Helpers\n   */\n\n\n  var isExpanded = React.useCallback(function (id) {\n    return Array.isArray(expanded) ? expanded.indexOf(id) !== -1 : false;\n  }, [expanded]);\n  var isSelected = React.useCallback(function (id) {\n    return Array.isArray(selected) ? selected.indexOf(id) !== -1 : selected === id;\n  }, [selected]);\n\n  var isTabbable = function isTabbable(id) {\n    return tabbable === id;\n  };\n\n  var isFocused = function isFocused(id) {\n    return focusedNodeId === id;\n  };\n  /*\n   * Node Helpers\n   */\n\n\n  var getNextNode = function getNextNode(id) {\n    var nodeIndex = visibleNodes.current.indexOf(id);\n\n    if (nodeIndex !== -1 && nodeIndex + 1 < visibleNodes.current.length) {\n      return visibleNodes.current[nodeIndex + 1];\n    }\n\n    return null;\n  };\n\n  var getPreviousNode = function getPreviousNode(id) {\n    var nodeIndex = visibleNodes.current.indexOf(id);\n\n    if (nodeIndex !== -1 && nodeIndex - 1 >= 0) {\n      return visibleNodes.current[nodeIndex - 1];\n    }\n\n    return null;\n  };\n\n  var getLastNode = function getLastNode() {\n    return visibleNodes.current[visibleNodes.current.length - 1];\n  };\n\n  var getFirstNode = function getFirstNode() {\n    return visibleNodes.current[0];\n  };\n\n  var getParent = function getParent(id) {\n    return nodeMap.current[id].parent;\n  };\n\n  var getNodesInRange = function getNodesInRange(a, b) {\n    var aIndex = visibleNodes.current.indexOf(a);\n    var bIndex = visibleNodes.current.indexOf(b);\n    var start = Math.min(aIndex, bIndex);\n    var end = Math.max(aIndex, bIndex);\n    return visibleNodes.current.slice(start, end + 1);\n  };\n  /*\n   * Focus Helpers\n   */\n\n\n  var focus = function focus(id) {\n    if (id) {\n      setTabbable(id);\n      setFocusedNodeId(id);\n    }\n  };\n\n  var focusNextNode = function focusNextNode(id) {\n    return focus(getNextNode(id));\n  };\n\n  var focusPreviousNode = function focusPreviousNode(id) {\n    return focus(getPreviousNode(id));\n  };\n\n  var focusFirstNode = function focusFirstNode() {\n    return focus(getFirstNode());\n  };\n\n  var focusLastNode = function focusLastNode() {\n    return focus(getLastNode());\n  };\n\n  var focusByFirstCharacter = function focusByFirstCharacter(id, char) {\n    var start;\n    var index;\n    var lowercaseChar = char.toLowerCase();\n    var firstCharIds = [];\n    var firstChars = []; // This really only works since the ids are strings\n\n    Object.keys(firstCharMap.current).forEach(function (nodeId) {\n      var firstChar = firstCharMap.current[nodeId];\n      var map = nodeMap.current[nodeId];\n      var visible = map.parent ? isExpanded(map.parent) : true;\n\n      if (visible) {\n        firstCharIds.push(nodeId);\n        firstChars.push(firstChar);\n      }\n    }); // Get start index for search based on position of currentItem\n\n    start = firstCharIds.indexOf(id) + 1;\n\n    if (start === nodeMap.current.length) {\n      start = 0;\n    } // Check remaining slots in the menu\n\n\n    index = findNextFirstChar(firstChars, start, lowercaseChar); // If not found in remaining slots, check from beginning\n\n    if (index === -1) {\n      index = findNextFirstChar(firstChars, 0, lowercaseChar);\n    } // If match was found...\n\n\n    if (index > -1) {\n      focus(firstCharIds[index]);\n    }\n  };\n  /*\n   * Expansion Helpers\n   */\n\n\n  var toggleExpansion = function toggleExpansion(event) {\n    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : focusedNodeId;\n    var newExpanded;\n\n    if (expanded.indexOf(value) !== -1) {\n      newExpanded = expanded.filter(function (id) {\n        return id !== value;\n      });\n      setTabbable(function (oldTabbable) {\n        var map = nodeMap.current[oldTabbable];\n\n        if (oldTabbable && (map && map.parent ? map.parent.id : null) === value) {\n          return value;\n        }\n\n        return oldTabbable;\n      });\n    } else {\n      newExpanded = [value].concat(expanded);\n    }\n\n    if (onNodeToggle) {\n      onNodeToggle(event, newExpanded);\n    }\n\n    setExpandedState(newExpanded);\n  };\n\n  var expandAllSiblings = function expandAllSiblings(event, id) {\n    var map = nodeMap.current[id];\n    var parent = nodeMap.current[map.parent];\n    var diff;\n\n    if (parent) {\n      diff = parent.children.filter(function (child) {\n        return !isExpanded(child);\n      });\n    } else {\n      var topLevelNodes = nodeMap.current[-1].children;\n      diff = topLevelNodes.filter(function (node) {\n        return !isExpanded(node);\n      });\n    }\n\n    var newExpanded = expanded.concat(diff);\n\n    if (diff.length > 0) {\n      setExpandedState(newExpanded);\n\n      if (onNodeToggle) {\n        onNodeToggle(event, newExpanded);\n      }\n    }\n  };\n  /*\n   * Selection Helpers\n   */\n\n\n  var lastSelectedNode = React.useRef(null);\n  var lastSelectionWasRange = React.useRef(false);\n  var currentRangeSelection = React.useRef([]);\n\n  var handleRangeArrowSelect = function handleRangeArrowSelect(event, nodes) {\n    var base = selected;\n    var start = nodes.start,\n        next = nodes.next,\n        current = nodes.current;\n\n    if (!next || !current) {\n      return;\n    }\n\n    if (currentRangeSelection.current.indexOf(current) === -1) {\n      currentRangeSelection.current = [];\n    }\n\n    if (lastSelectionWasRange.current) {\n      if (currentRangeSelection.current.indexOf(next) !== -1) {\n        base = base.filter(function (id) {\n          return id === start || id !== current;\n        });\n        currentRangeSelection.current = currentRangeSelection.current.filter(function (id) {\n          return id === start || id !== current;\n        });\n      } else {\n        base.push(next);\n        currentRangeSelection.current.push(next);\n      }\n    } else {\n      base.push(next);\n      currentRangeSelection.current.push(current, next);\n    }\n\n    if (onNodeSelect) {\n      onNodeSelect(event, base);\n    }\n\n    setSelectedState(base);\n  };\n\n  var handleRangeSelect = function handleRangeSelect(event, nodes) {\n    var base = selected;\n    var start = nodes.start,\n        end = nodes.end; // If last selection was a range selection ignore nodes that were selected.\n\n    if (lastSelectionWasRange.current) {\n      base = selected.filter(function (id) {\n        return currentRangeSelection.current.indexOf(id) === -1;\n      });\n    }\n\n    var range = getNodesInRange(start, end);\n    currentRangeSelection.current = range;\n    var newSelected = base.concat(range);\n    newSelected = newSelected.filter(function (id, i) {\n      return newSelected.indexOf(id) === i;\n    });\n\n    if (onNodeSelect) {\n      onNodeSelect(event, newSelected);\n    }\n\n    setSelectedState(newSelected);\n  };\n\n  var handleMultipleSelect = function handleMultipleSelect(event, value) {\n    var newSelected = [];\n\n    if (selected.indexOf(value) !== -1) {\n      newSelected = selected.filter(function (id) {\n        return id !== value;\n      });\n    } else {\n      newSelected = [value].concat(selected);\n    }\n\n    if (onNodeSelect) {\n      onNodeSelect(event, newSelected);\n    }\n\n    setSelectedState(newSelected);\n  };\n\n  var handleSingleSelect = function handleSingleSelect(event, value) {\n    var newSelected = multiSelect ? [value] : value;\n\n    if (onNodeSelect) {\n      onNodeSelect(event, newSelected);\n    }\n\n    setSelectedState(newSelected);\n  };\n\n  var selectNode = function selectNode(event, id) {\n    var multiple = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (id) {\n      if (multiple) {\n        handleMultipleSelect(event, id);\n      } else {\n        handleSingleSelect(event, id);\n      }\n\n      lastSelectedNode.current = id;\n      lastSelectionWasRange.current = false;\n      currentRangeSelection.current = [];\n      return true;\n    }\n\n    return false;\n  };\n\n  var selectRange = function selectRange(event, nodes) {\n    var stacked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var _nodes$start = nodes.start,\n        start = _nodes$start === void 0 ? lastSelectedNode.current : _nodes$start,\n        end = nodes.end,\n        current = nodes.current;\n\n    if (stacked) {\n      handleRangeArrowSelect(event, {\n        start: start,\n        next: end,\n        current: current\n      });\n    } else {\n      handleRangeSelect(event, {\n        start: start,\n        end: end\n      });\n    }\n\n    lastSelectionWasRange.current = true;\n    return true;\n  };\n\n  var rangeSelectToFirst = function rangeSelectToFirst(event, id) {\n    if (!lastSelectedNode.current) {\n      lastSelectedNode.current = id;\n    }\n\n    var start = lastSelectionWasRange.current ? lastSelectedNode.current : id;\n    return selectRange(event, {\n      start: start,\n      end: getFirstNode()\n    });\n  };\n\n  var rangeSelectToLast = function rangeSelectToLast(event, id) {\n    if (!lastSelectedNode.current) {\n      lastSelectedNode.current = id;\n    }\n\n    var start = lastSelectionWasRange.current ? lastSelectedNode.current : id;\n    return selectRange(event, {\n      start: start,\n      end: getLastNode()\n    });\n  };\n\n  var selectNextNode = function selectNextNode(event, id) {\n    return selectRange(event, {\n      end: getNextNode(id),\n      current: id\n    }, true);\n  };\n\n  var selectPreviousNode = function selectPreviousNode(event, id) {\n    return selectRange(event, {\n      end: getPreviousNode(id),\n      current: id\n    }, true);\n  };\n\n  var selectAllNodes = function selectAllNodes(event) {\n    return selectRange(event, {\n      start: getFirstNode(),\n      end: getLastNode()\n    });\n  };\n  /*\n   * Mapping Helpers\n   */\n\n\n  var addNodeToNodeMap = function addNodeToNodeMap(id, childrenIds) {\n    var currentMap = nodeMap.current[id];\n    nodeMap.current[id] = _extends({}, currentMap, {\n      children: childrenIds,\n      id: id\n    });\n    childrenIds.forEach(function (childId) {\n      var currentChildMap = nodeMap.current[childId];\n      nodeMap.current[childId] = _extends({}, currentChildMap, {\n        parent: id,\n        id: childId\n      });\n    });\n  };\n\n  var getNodesToRemove = React.useCallback(function (id) {\n    var map = nodeMap.current[id];\n    var nodes = [];\n\n    if (map) {\n      nodes.push(id);\n\n      if (map.children) {\n        nodes.concat(map.children);\n        map.children.forEach(function (node) {\n          nodes.concat(getNodesToRemove(node));\n        });\n      }\n    }\n\n    return nodes;\n  }, []);\n  var cleanUpFirstCharMap = React.useCallback(function (nodes) {\n    var newMap = _extends({}, firstCharMap.current);\n\n    nodes.forEach(function (node) {\n      if (newMap[node]) {\n        delete newMap[node];\n      }\n    });\n    firstCharMap.current = newMap;\n  }, []);\n  var removeNodeFromNodeMap = React.useCallback(function (id) {\n    var nodes = getNodesToRemove(id);\n    cleanUpFirstCharMap(nodes);\n\n    var newMap = _extends({}, nodeMap.current);\n\n    nodes.forEach(function (node) {\n      var map = newMap[node];\n\n      if (map) {\n        if (map.parent) {\n          var parentMap = newMap[map.parent];\n\n          if (parentMap && parentMap.children) {\n            var parentChildren = parentMap.children.filter(function (c) {\n              return c !== node;\n            });\n            newMap[map.parent] = _extends({}, parentMap, {\n              children: parentChildren\n            });\n          }\n        }\n\n        delete newMap[node];\n      }\n    });\n    nodeMap.current = newMap;\n    setFocusedNodeId(function (oldFocusedNodeId) {\n      if (oldFocusedNodeId === id) {\n        return null;\n      }\n\n      return oldFocusedNodeId;\n    });\n  }, [getNodesToRemove, cleanUpFirstCharMap]);\n\n  var mapFirstChar = function mapFirstChar(id, firstChar) {\n    firstCharMap.current[id] = firstChar;\n  };\n\n  var prevChildIds = React.useRef([]);\n\n  var _React$useState3 = React.useState(false),\n      childrenCalculated = _React$useState3[0],\n      setChildrenCalculated = _React$useState3[1];\n\n  React.useEffect(function () {\n    var childIds = [];\n    React.Children.forEach(children, function (child) {\n      if ( /*#__PURE__*/React.isValidElement(child) && child.props.nodeId) {\n        childIds.push(child.props.nodeId);\n      }\n    });\n\n    if (arrayDiff(prevChildIds.current, childIds)) {\n      nodeMap.current[-1] = {\n        parent: null,\n        children: childIds\n      };\n      childIds.forEach(function (id, index) {\n        if (index === 0) {\n          setTabbable(id);\n        }\n      });\n      visibleNodes.current = nodeMap.current[-1].children;\n      prevChildIds.current = childIds;\n      setChildrenCalculated(true);\n    }\n  }, [children]);\n  React.useEffect(function () {\n    var buildVisible = function buildVisible(nodes) {\n      var list = [];\n\n      for (var i = 0; i < nodes.length; i += 1) {\n        var item = nodes[i];\n        list.push(item);\n        var childs = nodeMap.current[item].children;\n\n        if (isExpanded(item) && childs) {\n          list = list.concat(buildVisible(childs));\n        }\n      }\n\n      return list;\n    };\n\n    if (childrenCalculated) {\n      visibleNodes.current = buildVisible(nodeMap.current[-1].children);\n    }\n  }, [expanded, childrenCalculated, isExpanded, children]);\n\n  var noopSelection = function noopSelection() {\n    return false;\n  };\n\n  return /*#__PURE__*/React.createElement(TreeViewContext.Provider, {\n    value: {\n      icons: {\n        defaultCollapseIcon: defaultCollapseIcon,\n        defaultExpandIcon: defaultExpandIcon,\n        defaultParentIcon: defaultParentIcon,\n        defaultEndIcon: defaultEndIcon\n      },\n      focus: focus,\n      focusFirstNode: focusFirstNode,\n      focusLastNode: focusLastNode,\n      focusNextNode: focusNextNode,\n      focusPreviousNode: focusPreviousNode,\n      focusByFirstCharacter: focusByFirstCharacter,\n      expandAllSiblings: expandAllSiblings,\n      toggleExpansion: toggleExpansion,\n      isExpanded: isExpanded,\n      isFocused: isFocused,\n      isSelected: isSelected,\n      selectNode: disableSelection ? noopSelection : selectNode,\n      selectRange: disableSelection ? noopSelection : selectRange,\n      selectNextNode: disableSelection ? noopSelection : selectNextNode,\n      selectPreviousNode: disableSelection ? noopSelection : selectPreviousNode,\n      rangeSelectToFirst: disableSelection ? noopSelection : rangeSelectToFirst,\n      rangeSelectToLast: disableSelection ? noopSelection : rangeSelectToLast,\n      selectAllNodes: disableSelection ? noopSelection : selectAllNodes,\n      isTabbable: isTabbable,\n      multiSelect: multiSelect,\n      getParent: getParent,\n      mapFirstChar: mapFirstChar,\n      addNodeToNodeMap: addNodeToNodeMap,\n      removeNodeFromNodeMap: removeNodeFromNodeMap\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", _extends({\n    role: \"tree\",\n    \"aria-multiselectable\": multiSelect,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTreeView'\n})(TreeView);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n/* eslint-disable jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions  */\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Typography from '@material-ui/core/Typography';\nimport Collapse from '@material-ui/core/Collapse';\nimport { fade, withStyles, useTheme } from '@material-ui/core/styles';\nimport { useForkRef } from '@material-ui/core/utils';\nimport TreeViewContext from '../TreeView/TreeViewContext';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      listStyle: 'none',\n      margin: 0,\n      padding: 0,\n      outline: 0,\n      WebkitTapHighlightColor: 'transparent',\n      '&:focus > $content $label': {\n        backgroundColor: theme.palette.action.hover\n      },\n      '&$selected > $content $label': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n      },\n      '&$selected > $content $label:hover, &$selected:focus > $content $label': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the root element when expanded. */\n    expanded: {},\n\n    /* Pseudo-class applied to the root element when selected. */\n    selected: {},\n\n    /* Styles applied to the `role=\"group\"` element. */\n    group: {\n      margin: 0,\n      padding: 0,\n      marginLeft: 17\n    },\n\n    /* Styles applied to the tree node content. */\n    content: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'center',\n      cursor: 'pointer'\n    },\n\n    /* Styles applied to the tree node icon and collapse/expand icon. */\n    iconContainer: {\n      marginRight: 4,\n      width: 15,\n      display: 'flex',\n      flexShrink: 0,\n      justifyContent: 'center',\n      '& svg': {\n        fontSize: 18\n      }\n    },\n\n    /* Styles applied to the label element. */\n    label: {\n      width: '100%',\n      paddingLeft: 4,\n      position: 'relative',\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }\n  };\n};\n\nvar isPrintableCharacter = function isPrintableCharacter(str) {\n  return str && str.length === 1 && str.match(/\\S/);\n};\n\nvar TreeItem = /*#__PURE__*/React.forwardRef(function TreeItem(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      collapseIcon = props.collapseIcon,\n      endIcon = props.endIcon,\n      expandIcon = props.expandIcon,\n      iconProp = props.icon,\n      label = props.label,\n      nodeId = props.nodeId,\n      onClick = props.onClick,\n      onLabelClick = props.onLabelClick,\n      onIconClick = props.onIconClick,\n      onFocus = props.onFocus,\n      onKeyDown = props.onKeyDown,\n      onMouseDown = props.onMouseDown,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapseIcon\", \"endIcon\", \"expandIcon\", \"icon\", \"label\", \"nodeId\", \"onClick\", \"onLabelClick\", \"onIconClick\", \"onFocus\", \"onKeyDown\", \"onMouseDown\", \"TransitionComponent\", \"TransitionProps\"]);\n\n  var _React$useContext = React.useContext(TreeViewContext),\n      contextIcons = _React$useContext.icons,\n      focus = _React$useContext.focus,\n      focusFirstNode = _React$useContext.focusFirstNode,\n      focusLastNode = _React$useContext.focusLastNode,\n      focusNextNode = _React$useContext.focusNextNode,\n      focusPreviousNode = _React$useContext.focusPreviousNode,\n      focusByFirstCharacter = _React$useContext.focusByFirstCharacter,\n      selectNode = _React$useContext.selectNode,\n      selectRange = _React$useContext.selectRange,\n      selectNextNode = _React$useContext.selectNextNode,\n      selectPreviousNode = _React$useContext.selectPreviousNode,\n      rangeSelectToFirst = _React$useContext.rangeSelectToFirst,\n      rangeSelectToLast = _React$useContext.rangeSelectToLast,\n      selectAllNodes = _React$useContext.selectAllNodes,\n      expandAllSiblings = _React$useContext.expandAllSiblings,\n      toggleExpansion = _React$useContext.toggleExpansion,\n      isExpanded = _React$useContext.isExpanded,\n      isFocused = _React$useContext.isFocused,\n      isSelected = _React$useContext.isSelected,\n      isTabbable = _React$useContext.isTabbable,\n      multiSelect = _React$useContext.multiSelect,\n      getParent = _React$useContext.getParent,\n      mapFirstChar = _React$useContext.mapFirstChar,\n      addNodeToNodeMap = _React$useContext.addNodeToNodeMap,\n      removeNodeFromNodeMap = _React$useContext.removeNodeFromNodeMap;\n\n  var nodeRef = React.useRef(null);\n  var contentRef = React.useRef(null);\n  var handleRef = useForkRef(nodeRef, ref);\n  var icon = iconProp;\n  var expandable = Boolean(Array.isArray(children) ? children.length : children);\n  var expanded = isExpanded ? isExpanded(nodeId) : false;\n  var focused = isFocused ? isFocused(nodeId) : false;\n  var tabbable = isTabbable ? isTabbable(nodeId) : false;\n  var selected = isSelected ? isSelected(nodeId) : false;\n  var icons = contextIcons || {};\n  var theme = useTheme();\n\n  if (!icon) {\n    if (expandable) {\n      if (!expanded) {\n        icon = expandIcon || icons.defaultExpandIcon;\n      } else {\n        icon = collapseIcon || icons.defaultCollapseIcon;\n      }\n\n      if (!icon) {\n        icon = icons.defaultParentIcon;\n      }\n    } else {\n      icon = endIcon || icons.defaultEndIcon;\n    }\n  }\n\n  var handleClick = function handleClick(event) {\n    if (!focused) {\n      focus(nodeId);\n    }\n\n    var multiple = multiSelect && (event.shiftKey || event.ctrlKey || event.metaKey); // If already expanded and trying to toggle selection don't close\n\n    if (expandable && !event.defaultPrevented && !(multiple && isExpanded(nodeId))) {\n      toggleExpansion(event, nodeId);\n    }\n\n    if (multiple) {\n      if (event.shiftKey) {\n        selectRange(event, {\n          end: nodeId\n        });\n      } else {\n        selectNode(event, nodeId, true);\n      }\n    } else {\n      selectNode(event, nodeId);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  var handleMouseDown = function handleMouseDown(event) {\n    if (event.shiftKey || event.ctrlKey || event.metaKey) {\n      event.preventDefault();\n    }\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n  };\n\n  var handleNextArrow = function handleNextArrow(event) {\n    if (expandable) {\n      if (expanded) {\n        focusNextNode(nodeId);\n      } else {\n        toggleExpansion(event);\n      }\n    }\n\n    return true;\n  };\n\n  var handlePreviousArrow = function handlePreviousArrow(event) {\n    if (expanded) {\n      toggleExpansion(event, nodeId);\n      return true;\n    }\n\n    var parent = getParent(nodeId);\n\n    if (parent) {\n      focus(parent);\n      return true;\n    }\n\n    return false;\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    var flag = false;\n    var key = event.key;\n\n    if (event.altKey || event.currentTarget !== event.target) {\n      return;\n    }\n\n    var ctrlPressed = event.ctrlKey || event.metaKey;\n\n    switch (key) {\n      case ' ':\n        if (nodeRef.current === event.currentTarget) {\n          if (multiSelect && event.shiftKey) {\n            flag = selectRange(event, {\n              end: nodeId\n            });\n          } else if (multiSelect) {\n            flag = selectNode(event, nodeId, true);\n          } else {\n            flag = selectNode(event, nodeId);\n          }\n        }\n\n        event.stopPropagation();\n        break;\n\n      case 'Enter':\n        if (nodeRef.current === event.currentTarget && expandable) {\n          toggleExpansion(event);\n          flag = true;\n        }\n\n        event.stopPropagation();\n        break;\n\n      case 'ArrowDown':\n        if (multiSelect && event.shiftKey) {\n          selectNextNode(event, nodeId);\n        }\n\n        focusNextNode(nodeId);\n        flag = true;\n        break;\n\n      case 'ArrowUp':\n        if (multiSelect && event.shiftKey) {\n          selectPreviousNode(event, nodeId);\n        }\n\n        focusPreviousNode(nodeId);\n        flag = true;\n        break;\n\n      case 'ArrowRight':\n        if (theme.direction === 'rtl') {\n          flag = handlePreviousArrow(event);\n        } else {\n          flag = handleNextArrow(event);\n        }\n\n        break;\n\n      case 'ArrowLeft':\n        if (theme.direction === 'rtl') {\n          flag = handleNextArrow(event);\n        } else {\n          flag = handlePreviousArrow(event);\n        }\n\n        break;\n\n      case 'Home':\n        if (multiSelect && ctrlPressed && event.shiftKey) {\n          rangeSelectToFirst(event, nodeId);\n        }\n\n        focusFirstNode();\n        flag = true;\n        break;\n\n      case 'End':\n        if (multiSelect && ctrlPressed && event.shiftKey) {\n          rangeSelectToLast(event, nodeId);\n        }\n\n        focusLastNode();\n        flag = true;\n        break;\n\n      default:\n        if (key === '*') {\n          expandAllSiblings(event, nodeId);\n          flag = true;\n        } else if (multiSelect && ctrlPressed && key.toLowerCase() === 'a') {\n          flag = selectAllNodes(event);\n        } else if (!ctrlPressed && !event.shiftKey && isPrintableCharacter(key)) {\n          focusByFirstCharacter(nodeId, key);\n          flag = true;\n        }\n\n    }\n\n    if (flag) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n  };\n\n  var handleFocus = function handleFocus(event) {\n    if (!focused && event.currentTarget === event.target) {\n      focus(nodeId);\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n\n  React.useEffect(function () {\n    if (addNodeToNodeMap) {\n      var childIds = [];\n      React.Children.forEach(children, function (child) {\n        if ( /*#__PURE__*/React.isValidElement(child) && child.props.nodeId) {\n          childIds.push(child.props.nodeId);\n        }\n      });\n      addNodeToNodeMap(nodeId, childIds);\n    }\n  }, [children, nodeId, addNodeToNodeMap]);\n  React.useEffect(function () {\n    if (removeNodeFromNodeMap) {\n      return function () {\n        removeNodeFromNodeMap(nodeId);\n      };\n    }\n\n    return undefined;\n  }, [nodeId, removeNodeFromNodeMap]);\n  React.useEffect(function () {\n    if (mapFirstChar && label) {\n      mapFirstChar(nodeId, contentRef.current.textContent.substring(0, 1).toLowerCase());\n    }\n  }, [mapFirstChar, nodeId, label]);\n  React.useEffect(function () {\n    if (focused) {\n      nodeRef.current.focus();\n    }\n  }, [focused]);\n  var ariaSelected;\n\n  if (multiSelect) {\n    ariaSelected = selected;\n  } else if (selected) {\n    // single-selection trees unset aria-selected\n    ariaSelected = true;\n  }\n\n  return /*#__PURE__*/React.createElement(\"li\", _extends({\n    className: clsx(classes.root, className, expanded && classes.expanded, selected && classes.selected),\n    role: \"treeitem\",\n    onKeyDown: handleKeyDown,\n    onFocus: handleFocus,\n    \"aria-expanded\": expandable ? expanded : null,\n    \"aria-selected\": ariaSelected,\n    ref: handleRef,\n    tabIndex: tabbable ? 0 : -1\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content,\n    onClick: handleClick,\n    onMouseDown: handleMouseDown,\n    ref: contentRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onIconClick,\n    className: classes.iconContainer\n  }, icon), /*#__PURE__*/React.createElement(Typography, {\n    onClick: onLabelClick,\n    component: \"div\",\n    className: classes.label\n  }, label)), children && /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    unmountOnExit: true,\n    className: classes.group,\n    in: expanded,\n    component: \"ul\",\n    role: \"group\"\n  }, TransitionProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTreeItem'\n})(TreeItem);","import React, { useState, ChangeEvent } from 'react';\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\n// tslint:disable-next-line: no-submodule-imports\n// tslint:disable-next-line: no-submodule-imports\nimport TreeItem, { TreeItemProps } from '@material-ui/lab/TreeItem';\n// tslint:disable-next-line: no-submodule-imports\nimport Typography from '@material-ui/core/Typography';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport KindIcon from \"../KindIcon\"\nimport { Switch } from '@material-ui/core';\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport SignalCellularConnectedNoInternet0BarIcon from '@material-ui/icons/SignalCellularConnectedNoInternet0Bar';\n\ndeclare module 'csstype' {\n    interface Properties {\n        '--tree-view-color'?: string;\n        '--tree-view-bg-color'?: string;\n    }\n}\n\nconst useTreeItemStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            color: theme.palette.text.secondary,\n            '&:hover > $content': {\n                backgroundColor: theme.palette.action.hover,\n            },\n            '&:focus > $content, &$selected > $content': {\n                backgroundColor: `var(--tree-view-bg-color, ${theme.palette.grey[400]})`,\n                color: 'var(--tree-view-color)',\n            },\n            '&:focus > $content $label, &:hover > $content $label, &$selected > $content $label': {\n                backgroundColor: 'transparent',\n            },\n        },\n        content: {\n            color: theme.palette.text.secondary,\n            fontWeight: theme.typography.fontWeightMedium,\n            '$expanded > &': {\n                fontWeight: theme.typography.fontWeightRegular,\n            },\n        },\n        group: {\n            marginLeft: 0,\n            '& $content': {\n                paddingLeft: theme.spacing(1),\n            },\n        },\n        expanded: {},\n        selected: {\n            color: theme.palette.background.default\n        },\n        label: {\n            fontWeight: 'inherit',\n            color: 'inherit',\n        },\n        labelRoot: {\n            display: 'flex',\n            alignItems: 'center',\n            padding: theme.spacing(0.5, 0),\n        },\n        labelIcon: {\n            marginRight: theme.spacing(0.5),\n        },\n        labelText: {\n            fontWeight: 'inherit',\n            flexGrow: 1,\n        },\n    }),\n);\n\nexport function StyledTreeItem(props: TreeItemProps & {\n    nodeId: string;\n    bgColor?: string;\n    color?: string;\n    kind?: string;\n    icon?: JSX.Element;\n    alert?: string;\n    labelInfo?: string;\n    labelText: string;\n    checked?: boolean;\n    setChecked?: (state: boolean) => void;\n    actions?: JSX.Element | JSX.Element[]\n}) {\n    const classes = useTreeItemStyles();\n    const { labelText, kind, icon, labelInfo, color, bgColor, checked, setChecked, actions, nodeId, alert, ...other } = props;\n    const [checkedState, setCheckedState] = useState(checked)\n\n    const handleChecked = (ev: ChangeEvent<HTMLInputElement>, c: boolean) => {\n        ev.stopPropagation()\n        setChecked(c)\n        setCheckedState(c)\n    }\n    return (\n        <TreeItem\n            nodeId={nodeId}\n            label={\n                <div className={classes.labelRoot}>\n                    {setChecked && <Switch\n                        checked={checkedState}\n                        color=\"primary\"\n                        inputProps={{ 'aria-label': 'secondary checkbox' }}\n                        onChange={handleChecked}\n                    />}\n                    {kind && <KindIcon kind={kind} className={classes.labelIcon} />}\n                    {icon}\n                    <Typography variant=\"body2\" className={classes.labelText}>\n                        {labelText}\n                    </Typography>\n                    {alert && <SignalCellularConnectedNoInternet0BarIcon />}\n                    <Typography variant=\"caption\" color=\"inherit\">\n                        {alert && <Typography variant=\"caption\" component=\"span\">\n                            {alert}\n                        </Typography>}\n                        {labelInfo}\n                        {actions}\n                    </Typography>\n                </div>\n            }\n            style={{\n                '--tree-view-color': color,\n                '--tree-view-bg-color': bgColor,\n            }}\n            classes={{\n                root: classes.root,\n                content: classes.content,\n                expanded: classes.expanded,\n                selected: classes.selected,\n                group: classes.group,\n                label: classes.label,\n            }}\n            {...other}\n        />\n    );\n}\n\nexport interface StyledTreeViewItemProps {\n    key: string;\n    expanded: string[];\n    selected: string[];\n    checked?: string[];\n    setChecked?: (id: string, value: boolean) => void;\n}\n\nexport interface StyledTreeViewProps {\n    defaultChecked?: string[];\n    defaultExpanded?: string[];\n    defaultSelected?: string[];\n    onToggle?: (expanded: string[]) => void;\n    onSelect?: (selected: string[]) => void;\n    onChecked?: (checked: string[]) => void;\n}","import React, { useContext, useState, useEffect } from \"react\"\nimport clsx from \"clsx\"\n// tslint:disable-next-line: no-submodule-imports\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\"\n// tslint:disable-next-line: no-submodule-imports\nimport TreeView from \"@material-ui/lab/TreeView\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport ArrowRightIcon from \"@material-ui/icons/ArrowRight\"\nimport { JDDevice } from \"../../jacdac-ts/src/jdom/device\"\nimport { JDEvent } from \"../../jacdac-ts/src/jdom/event\"\nimport { JDService } from \"../../jacdac-ts/src/jdom/service\"\nimport { JDRegister } from \"../../jacdac-ts/src/jdom/register\"\nimport useChange from \"../jacdac/useChange\"\nimport { isRegister, isEvent } from \"../../jacdac-ts/src/jdom/spec\"\nimport { useMediaQuery, useTheme } from \"@material-ui/core\"\nimport {\n    useRegisterHumanValue,\n    useRegisterUnpackedValue,\n} from \"../jacdac/useRegisterValue\"\nimport useEventCount from \"../jacdac/useEventCount\"\nimport DeviceActions from \"./DeviceActions\"\nimport {\n    LOST,\n    FOUND,\n    SRV_CTRL,\n    SRV_LOGGER,\n    GET_ATTEMPT,\n    BaseReg,\n    SERVICE_NODE_NAME,\n    REGISTER_NODE_NAME,\n    EVENT_NODE_NAME,\n    SERVICE_MIXIN_NODE_NAME,\n    ControlAnnounceFlags,\n} from \"../../jacdac-ts/src/jdom/constants\"\nimport useEventRaised from \"../jacdac/useEventRaised\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport { ellipseJoin } from \"../../jacdac-ts/src/jdom/utils\"\nimport { Link } from \"gatsby-theme-material-ui\"\nimport useDeviceName from \"./devices/useDeviceName\"\nimport ConnectAlert from \"./alert/ConnectAlert\"\nimport {\n    StyledTreeItem,\n    StyledTreeViewItemProps,\n    StyledTreeViewProps,\n} from \"./ui/StyledTreeView\"\n// tslint:disable-next-line: no-submodule-imports match-default-export-name\nimport LaunchIcon from \"@material-ui/icons/Launch\"\nimport AppContext, { DrawerType } from \"./AppContext\"\nimport { MOBILE_BREAKPOINT } from \"./layout\"\nimport useDevices from \"./hooks/useDevices\"\n\nfunction DeviceTreeItem(\n    props: { device: JDDevice } & StyledTreeViewItemProps & JDomTreeViewProps\n) {\n    const {\n        device,\n        checked,\n        setChecked,\n        checkboxes,\n        serviceFilter,\n        ...other\n    } = props\n    const id = device.id\n    const name = useDeviceName(device, true)\n    const physical = useChange(device, d => d.physical)\n    const kind = physical ? \"device\" : \"virtualdevice\"\n    const lost = useEventRaised([LOST, FOUND], device, dev => !!dev?.lost)\n    const services = useChange(device, () =>\n        device\n            .services({ mixins: false })\n            .filter(srv => !serviceFilter || serviceFilter(srv))\n    )\n    const theme = useTheme()\n    const showActions = useMediaQuery(theme.breakpoints.up(\"sm\"))\n    const dropped = useChange(device.qos, qos => qos.dropped)\n\n    const serviceNames = ellipseJoin(\n        services\n            .filter(\n                service =>\n                    service.serviceClass !== SRV_CTRL &&\n                    service.serviceClass !== SRV_LOGGER\n            )\n            .map(service => service.name),\n        18\n    )\n\n    const alert = lost\n        ? `lost device...`\n        : dropped > 2\n        ? `${dropped} pkt lost`\n        : undefined\n    const labelInfo = [dropped > 1 && `${dropped} lost`, serviceNames]\n        .filter(r => !!r)\n        .join(\", \")\n\n    const handleChecked = c => setChecked(id, c)\n    return (\n        <StyledTreeItem\n            nodeId={id}\n            labelText={name}\n            labelInfo={labelInfo}\n            alert={alert}\n            kind={kind}\n            checked={checked?.indexOf(id) > -1}\n            setChecked={\n                checkboxes &&\n                checkboxes.indexOf(\"device\") > -1 &&\n                setChecked &&\n                handleChecked\n            }\n            actions={\n                showActions && (\n                    <DeviceActions device={device} showReset={true} />\n                )\n            }\n        >\n            <AnnounceFlagsTreeItem device={device} />\n            {services?.map(service => (\n                <ServiceTreeItem\n                    key={service.id}\n                    service={service}\n                    checked={checked}\n                    setChecked={setChecked}\n                    checkboxes={checkboxes}\n                    {...other}\n                />\n            ))}\n        </StyledTreeItem>\n    )\n}\n\nfunction AnnounceFlagsTreeItem(props: { device: JDDevice }) {\n    const { device } = props\n    const { announceFlags, id } = device\n\n    const text = [\n        announceFlags & ControlAnnounceFlags.IsClient && \"client\",\n        announceFlags & ControlAnnounceFlags.SupportsACK && \"acks\",\n        announceFlags & ControlAnnounceFlags.SupportsBroadcast && \"broadcast\",\n        announceFlags & ControlAnnounceFlags.SupportsFrames && \"frames\",\n        (announceFlags & ControlAnnounceFlags.StatusLightRgbFade) ===\n            ControlAnnounceFlags.StatusLightMono && \"mono status LED\",\n        (announceFlags & ControlAnnounceFlags.StatusLightRgbFade) ===\n            ControlAnnounceFlags.StatusLightRgbNoFade &&\n            \"rgb no fade status LED\",\n        (announceFlags & ControlAnnounceFlags.StatusLightRgbFade) ===\n            ControlAnnounceFlags.StatusLightRgbFade && \"rgb fade status LED\",\n    ]\n        .filter(f => !!f)\n        .join(\", \")\n    return (\n        <StyledTreeItem\n            nodeId={`${id}:flags`}\n            labelText={text}\n            labelInfo={`0x${announceFlags.toString(16)}`}\n        ></StyledTreeItem>\n    )\n}\n\nfunction ServiceTreeItem(\n    props: { service: JDService } & StyledTreeViewItemProps & JDomTreeViewProps\n) {\n    const {\n        service,\n        checked,\n        setChecked,\n        checkboxes,\n        registerFilter,\n        eventFilter,\n        ...other\n    } = props\n    const { specification, mixins, isMixin } = service\n    const showSpecificationAction = false\n    const id = service.id\n    const open = checked?.indexOf(id) > -1\n    const packets = specification?.packets\n    const registers = packets\n        ?.filter(isRegister)\n        .map(info => service.register(info.identifier))\n        .filter(reg => !registerFilter || registerFilter(reg))\n        .sort((l, r) => l.name.localeCompare(r.name))\n    const events = packets\n        ?.filter(isEvent)\n        .map(info => service.event(info.identifier))\n        .filter(ev => !eventFilter || eventFilter(ev))\n    const [instanceName] = useRegisterUnpackedValue<[string]>(\n        service.register(BaseReg.InstanceName)\n    )\n    const readingRegister = service.readingRegister\n    const reading = useRegisterHumanValue(readingRegister)\n\n    const name = service.name + (instanceName ? ` ${instanceName}` : \"\")\n    const theme = useTheme()\n    const mobile = useMediaQuery(theme.breakpoints.down(MOBILE_BREAKPOINT))\n    const { setDrawerType } = useContext(AppContext)\n\n    const handleSpecClick = () => {\n        console.log(`spec click`, { mobile })\n        if (mobile) setDrawerType(DrawerType.None)\n    }\n    const handleChecked = c => setChecked(id, c)\n    return (\n        <StyledTreeItem\n            nodeId={id}\n            labelText={name}\n            labelInfo={reading}\n            kind={isMixin ? SERVICE_MIXIN_NODE_NAME : SERVICE_NODE_NAME}\n            checked={open}\n            setChecked={\n                checkboxes?.indexOf(\"service\") > -1 &&\n                setChecked &&\n                handleChecked\n            }\n            actions={\n                showSpecificationAction ? (\n                    <Link\n                        color=\"inherit\"\n                        to={`/services/${specification.shortId}/`}\n                        aria-label={\"Open specification\"}\n                        onClick={handleSpecClick}\n                    >\n                        <LaunchIcon fontSize={\"small\"} />\n                    </Link>\n                ) : undefined\n            }\n        >\n            {registers?.map(register => (\n                <RegisterTreeItem\n                    key={register.id}\n                    register={register}\n                    checked={checked}\n                    setChecked={setChecked}\n                    checkboxes={checkboxes}\n                    {...other}\n                />\n            ))}\n            {events?.map(event => (\n                <EventTreeItem\n                    key={event.id}\n                    event={event}\n                    checked={checked}\n                    setChecked={setChecked}\n                    checkboxes={checkboxes}\n                    {...other}\n                />\n            ))}\n            {mixins?.map(mixin => (\n                <ServiceTreeItem\n                    key={mixin.id}\n                    service={mixin}\n                    checked={checked}\n                    setChecked={setChecked}\n                    checkboxes={checkboxes}\n                    {...other}\n                />\n            ))}\n        </StyledTreeItem>\n    )\n}\n\nfunction RegisterTreeItem(\n    props: { register: JDRegister } & StyledTreeViewItemProps &\n        JDomTreeViewProps\n) {\n    const { register, checked, setChecked, checkboxes } = props\n    const { specification, id } = register\n    const [attempts, setAttempts] = useState(register.lastGetAttempts)\n    const optional = !!specification?.optional\n    const failedGet = attempts > 2\n    const labelText = `${specification?.name || register.id}${\n        optional ? \"?\" : \"\"\n    }`\n    const humanValue = useRegisterHumanValue(register, { visible: true })\n    const handleClick = () => register.sendGetAsync()\n\n    useEffect(\n        () =>\n            register?.subscribe(GET_ATTEMPT, () => {\n                setAttempts(register.lastGetAttempts)\n            }),\n        [register]\n    )\n\n    const handleChecked = c => {\n        setChecked(id, c)\n    }\n\n    // if register is optional and no data, hide\n    if (optional && failedGet && humanValue === undefined) return <></>\n\n    return (\n        <StyledTreeItem\n            nodeId={id}\n            labelText={labelText}\n            labelInfo={humanValue || (attempts > 0 && `#${attempts}`) || \"\"}\n            kind={specification?.kind || REGISTER_NODE_NAME}\n            alert={failedGet && !optional && humanValue === undefined && `???`}\n            checked={checked?.indexOf(id) > -1}\n            onClick={handleClick}\n            setChecked={\n                checkboxes?.indexOf(\"register\") > -1 &&\n                setChecked &&\n                handleChecked\n            }\n        />\n    )\n}\n\nfunction EventTreeItem(\n    props: { event: JDEvent } & StyledTreeViewItemProps & JDomTreeViewProps\n) {\n    const { event, checked, setChecked, checkboxes } = props\n    const { specification, id } = event\n    const count = useEventCount(event)\n\n    const handleChecked = c => {\n        setChecked(id, c)\n    }\n    return (\n        <StyledTreeItem\n            nodeId={id}\n            labelText={specification?.name || event.id}\n            labelInfo={(count || \"\") + \"\"}\n            kind={EVENT_NODE_NAME}\n            checked={checked?.indexOf(id) > -1}\n            setChecked={\n                checkboxes?.indexOf(\"event\") > -1 && setChecked && handleChecked\n            }\n        />\n    )\n}\n\nexport type CheckedMap = { [id: string]: boolean }\n\nexport interface JDomTreeViewProps extends StyledTreeViewProps {\n    // don't render links to specification\n    dashboard?: boolean\n    checkboxes?: (\"device\" | \"service\" | \"register\" | \"event\")[]\n    deviceFilter?: (devices: JDDevice) => boolean\n    serviceFilter?: (services: JDService) => boolean\n    registerFilter?: (register: JDRegister) => boolean\n    eventFilter?: (event: JDEvent) => boolean\n}\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        root: {\n            flexGrow: 1,\n        },\n        margins: {\n            marginLeft: theme.spacing(0.5),\n            marginRight: theme.spacing(0.5),\n        },\n    })\n)\n\nexport default function JDomTreeView(props: JDomTreeViewProps) {\n    const {\n        defaultExpanded,\n        defaultSelected,\n        defaultChecked,\n        onChecked,\n        onToggle,\n        onSelect,\n        checkboxes,\n        dashboard,\n        ...other\n    } = props\n    const classes = useStyles()\n    const [expanded, setExpanded] = useState<string[]>(defaultExpanded || [])\n    const [selected, setSelected] = useState<string[]>(defaultSelected || [])\n    const [checked, setChecked] = useState<string[]>(defaultChecked || [])\n    const devices = useDevices({ ignoreSelf: true })\n\n    const handleToggle = (\n        event: React.ChangeEvent<unknown>,\n        nodeIds: string[]\n    ) => {\n        setExpanded(nodeIds)\n        if (onToggle) onToggle(nodeIds)\n    }\n\n    const handleSelect = (\n        event: React.ChangeEvent<unknown>,\n        nodeIds: string[]\n    ) => {\n        setSelected(nodeIds)\n        if (onSelect) onSelect(nodeIds)\n    }\n    const handleChecked = (id: string, v: boolean) => {\n        const i = checked.indexOf(id)\n        if (!v && i > -1) checked.splice(i, 1)\n        else if (v && i < 0) checked.push(id)\n        setChecked(checked)\n        if (onChecked) onChecked(checked)\n    }\n\n    return (\n        <>\n            <ConnectAlert />\n            <TreeView\n                className={clsx(classes.root, classes.margins)}\n                defaultCollapseIcon={<ArrowDropDownIcon />}\n                defaultExpandIcon={<ArrowRightIcon />}\n                defaultEndIcon={<div style={{ width: 12 }} />}\n                expanded={expanded}\n                selected={selected}\n                onNodeToggle={handleToggle}\n                onNodeSelect={handleSelect}\n            >\n                {devices?.map(device => (\n                    <DeviceTreeItem\n                        key={device.id}\n                        device={device}\n                        checked={checked}\n                        setChecked={handleChecked}\n                        checkboxes={checkboxes}\n                        expanded={expanded}\n                        selected={selected}\n                        dashboard={dashboard}\n                        {...other}\n                    />\n                ))}\n            </TreeView>\n        </>\n    )\n}\n","// tslint:disable-next-line: no-submodule-imports\nimport { Box, createStyles, makeStyles } from \"@material-ui/core\"\n// tslint:disable-next-line: no-submodule-imports\nimport Alert from \"../ui/Alert\"\nimport React, { useContext } from \"react\"\nimport { serviceSpecificationFromClassIdentifier } from \"../../../jacdac-ts/src/jdom/spec\"\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\"\nimport ConnectButton from \"../../jacdac/ConnectButton\"\nimport { NoSsr } from \"@material-ui/core\"\nimport useChange from \"../../jacdac/useChange\"\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        button: {\n            marginLeft: theme.spacing(2),\n        },\n    })\n)\n\nfunction NoSsrConnectAlert(props: { serviceClass?: number }) {\n    const classes = useStyles()\n    const { serviceClass } = props\n    const { bus } = useContext<JacdacContextProps>(JacdacContext)\n    const { transports } = bus\n    const devices = useChange(bus, b => b.devices({ serviceClass, ignoreSelf: true }))\n    const spec = serviceSpecificationFromClassIdentifier(serviceClass)\n\n    // don't show if no transport, some devices\n    if (!transports.length || devices?.length) return null\n\n    return (\n        <Box displayPrint=\"none\">\n            <Alert severity=\"info\" closeable={true}>\n                {!spec && <span>Did you connect your device?</span>}\n                {spec && <span>Did you connect a {spec.name} device?</span>}\n                {transports.map(transport => (\n                    <ConnectButton\n                        key={transport.type}\n                        transport={transport}\n                        className={classes.button}\n                        full={true}\n                        transparent={true}\n                    />\n                ))}\n            </Alert>\n        </Box>\n    )\n}\n\nexport default function ConnectAlert(props: { serviceClass?: number }) {\n    return (\n        <NoSsr>\n            <NoSsrConnectAlert {...props} />\n        </NoSsr>\n    )\n}\n","import { JDDevice } from \"../../../jacdac-ts/src/jdom/device\";\n\nexport default function useDeviceName(device: JDDevice, includeShortId?: boolean) {\n    const name = device.friendlyName\n    let r = name;\n    if (includeShortId && name && name !== device.shortId)\n        r += ` (${device.shortId})`\n    return r;\n}","import { useEffect, useRef } from \"react\";\n\nexport default function useMounted(): () => boolean {\n    const mounted = useRef(false);\n    useEffect(() => {\n        mounted.current = true;\n        return () => { mounted.current = false; }\n    }, []);\n    return () => mounted.current;\n}","import { useContext } from \"react\";\nimport { JDDevice } from \"../../../jacdac-ts/src/jdom/device\";\nimport JacdacContext, { JacdacContextProps } from \"../../jacdac/Context\";\nimport useChange from \"../../jacdac/useChange\";\n\n/**\n * Mounts a service provider\n */\nexport default function useServiceProvider(device: JDDevice) {\n    const { bus } = useContext<JacdacContextProps>(JacdacContext);\n    const provider = useChange(bus, b => device && b.findServiceProvider(device.deviceId));\n    return provider;\n}","import { useState, useEffect } from \"react\"\nimport { JDEvent } from \"../../jacdac-ts/src/jdom/event\"\nimport { CHANGE } from \"../../jacdac-ts/src/jdom/constants\"\n\nexport default function useEventCount(event: JDEvent) {\n    const [count, setCount] = useState(event?.count || 0)\n    useEffect(() => event?.subscribe(CHANGE, () => {\n        setCount(event.count)\n    }), [event])\n\n    return count;\n}","import { useState, useEffect } from \"react\";\nimport { JDEventSource } from \"../../jacdac-ts/src/jdom/eventsource\";\n\nexport default function useEventRaised<TEventSource extends JDEventSource, TValue>(eventName: string | string[], node: TEventSource, query?: (n: TEventSource) => TValue): TValue {\n    const [version, setVersion] = useState(0)\n    const value = query ? query(node) : undefined\n\n    useEffect(() => node?.subscribe(eventName, () => {\n        setVersion(version + 1)\n    }), [node, version])\n\n    return value;\n}\n","import { useEffect, useState } from \"react\"\nimport { REPORT_UPDATE } from \"../../jacdac-ts/src/jdom/constants\"\nimport { PackedValues } from \"../../jacdac-ts/src/jdom/pack\"\nimport { JDRegister } from \"../../jacdac-ts/src/jdom/register\"\nexport interface RegisterOptions {\n    // Indicates if the HTML element is visible in view. If not, updates may be slowed or stopped.\n    visible?: boolean\n}\n\nexport function useRegisterHumanValue(\n    register: JDRegister,\n    options?: RegisterOptions\n): string {\n    const [value, setValue] = useState<string>(register?.humanValue)\n    const { visible } = options || { visible: true }\n    // update value\n    useEffect(\n        () =>\n            visible &&\n            register?.subscribe(REPORT_UPDATE, () => {\n                setValue(register?.humanValue)\n            }),\n        [register, visible]\n    )\n    return value\n}\n\nexport function useRegisterUnpackedValue<T extends PackedValues>(\n    register: JDRegister,\n    options?: RegisterOptions\n): T {\n    const [value, setValue] = useState<T>(register?.unpackedValue as T)\n    const { visible } = options || { visible: true }\n    useEffect(\n        () =>\n            visible &&\n            register?.subscribe(REPORT_UPDATE, () => {\n                setValue(register?.unpackedValue as T)\n            }),\n        [register, visible]\n    )\n    return value || ([] as T)\n}\n\nexport function useRegisterBoolValue(\n    register: JDRegister,\n    options?: RegisterOptions\n): boolean {\n    const [value, setValue] = useState<boolean>(register?.boolValue)\n    const { visible } = options || { visible: true }\n    // update value\n    useEffect(\n        () =>\n            visible &&\n            register?.subscribe(REPORT_UPDATE, () => {\n                setValue(register?.boolValue)\n            }),\n        [register, visible]\n    )\n    return value\n}\n"],"sourceRoot":""}