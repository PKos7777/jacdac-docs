{"version":3,"file":"8574-2ce81ff066c2f9e93856.js","mappings":";;;;;;;AAAa;;AAEb,6BAA6B,mBAAO,CAAC,IAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,IAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe;;;;;;;;;;;;;;;;;ACnBf;AACA;AACA;AACA;AAEe,SAASM,iBAAT,CAA2BC,KAA3B,EAAsD;AACjE,MAAM;AAAEC,IAAAA;AAAF,MAAaD,KAAnB;AACA,MAAM;AAAEE,IAAAA;AAAF,MAAeR,iDAAU,CAACE,0DAAD,CAA/B;AACA,MAAM;AAAA,OAACO,SAAD;AAAA,OAAYC;AAAZ,MAA4BT,+CAAQ,CAAC,KAAD,CAA1C;;AAEA,MAAMU,WAAW;AAAA,6GAAG,aAAY;AAC5B,UAAMC,OAAO,GAAGL,MAAhB;AACA,UAAMM,IAAI,gPAAV;;AAWA,UAAI;AACAH,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,YAAMI,CAAC,SAASC,KAAK,CACjB,uDADiB,EAEjB;AACIC,UAAAA,MAAM,EAAE,MADZ;AAEIC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAELC,YAAAA,MAAM,EAAE;AAFH,WAFb;AAMIC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,YAAAA,KAAK,EAAE;AACH,8BAAgB;AACZV,gBAAAA,OAAO,EAAE;AACLW,kBAAAA,YAAY,EAAE;AACV,iCAAa;AADH;AADT;AADG,eADb;AAQH,0BAAY;AACRX,gBAAAA;AADQ,eART;AAWH,4BAAc;AACVA,gBAAAA,OAAO,EAAEC;AADC;AAXX;AADU,WAAf;AANV,SAFiB,CAArB;AA2BA,YAAMW,IAAI,SAASV,CAAC,CAACW,IAAF,EAAnB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,YAAMI,GAAG,iCAA+BJ,IAAI,CAACK,UAApC,oBAAT;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,GAAvB;AACH,OAjCD,CAiCE,OAAOK,KAAP,EAAc;AACZzB,QAAAA,QAAQ,CAACyB,KAAD,CAAR;AACH,OAnCD,SAmCU;AACNvB,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,KAnDgB;;AAAA,oBAAXC,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAqDA,sBACI,iDAAC,oEAAD;AACI,WAAO,EAAEA,WADb;AAEI,YAAQ,EAAEF,SAFd;AAGI,SAAK,EAAC;AAHV,kBAKI,iDAAC,qEAAD,OALJ,CADJ;AASH","sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/Edit.js","webpack://jacdac-docs/./src/components/ui/CodeSandboxButton.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","import React, { useContext, useState } from \"react\"\nimport AppContext from \"../AppContext\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport IconButtonWithTooltip from \"./IconButtonWithTooltip\"\n\nexport default function CodeSandboxButton(props: { source: string }) {\n    const { source } = props\n    const { setError } = useContext(AppContext)\n    const [importing, setImporting] = useState(false)\n\n    const handleClick = async () => {\n        const content = source\n        const html = `\n<html>\n    <script src=\"./node_modules/jacdac-ts/dist/jacdac-umd.js\" />\n    <body>\n        <p>\n            Open console to see messages...\n        </p>\n        <script src=\"./index.js\" />\n    </body>\n</html>    \n        `\n        try {\n            setImporting(true)\n            const x = await fetch(\n                \"https://codesandbox.io/api/v1/sandboxes/define?json=1\",\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        Accept: \"application/json\",\n                    },\n                    body: JSON.stringify({\n                        files: {\n                            \"package.json\": {\n                                content: {\n                                    dependencies: {\n                                        \"jacdac-ts\": \"latest\",\n                                    },\n                                },\n                            },\n                            \"index.js\": {\n                                content,\n                            },\n                            \"index.html\": {\n                                content: html,\n                            },\n                        },\n                    }),\n                }\n            )\n            const data = await x.json()\n            console.log(data)\n            const url = `https://codesandbox.io/s/${data.sandbox_id}?file=/index.js`\n            window.location.href = url\n        } catch (error) {\n            setError(error)\n        } finally {\n            setImporting(false)\n        }\n    }\n\n    return (\n        <IconButtonWithTooltip\n            onClick={handleClick}\n            disabled={importing}\n            title=\"Try in CodeSandbox\"\n        >\n            <EditIcon />\n        </IconButtonWithTooltip>\n    )\n}\n"],"names":["React","useContext","useState","AppContext","EditIcon","IconButtonWithTooltip","CodeSandboxButton","props","source","setError","importing","setImporting","handleClick","content","html","x","fetch","method","headers","Accept","body","JSON","stringify","files","dependencies","data","json","console","log","url","sandbox_id","window","location","href","error"],"sourceRoot":""}