{"version":3,"sources":["webpack:///./node_modules/@material-ui/core/esm/Card/Card.js","webpack:///./node_modules/@material-ui/core/esm/CardHeader/CardHeader.js","webpack:///./src/components/useGridBreakpoints.ts","webpack:///./src/components/TraceCard.tsx","webpack:///./src/components/TraceList.tsx","webpack:///./node_modules/@material-ui/core/esm/CardActions/CardActions.js","webpack:///./node_modules/@material-ui/core/esm/CardContent/CardContent.js"],"names":["useGridBreakpoints","itemCount","useContext","AppContext","drawerType","undefined","xs","sm","md","lg","xl","DrawerType","None","TraceCard","props","name","trace","description","duration","length","PacketsContext","setReplayTrace","toggleTracing","setDrawerType","handleClick","Packets","prettyDuration","TraceList","gridBreakpoints","data","useStaticQuery","traces","allPlainText","nodes","filter","node","parent","ext","map","parseTrace","content"],"mappings":"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","file":"74-81822db3f55d535975ef.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 16\n  },\n\n  /* Styles applied to the avatar element. */\n  avatar: {\n    flex: '0 0 auto',\n    marginRight: 16\n  },\n\n  /* Styles applied to the action element. */\n  action: {\n    flex: '0 0 auto',\n    alignSelf: 'flex-start',\n    marginTop: -8,\n    marginRight: -8\n  },\n\n  /* Styles applied to the content wrapper element. */\n  content: {\n    flex: '1 1 auto'\n  },\n\n  /* Styles applied to the title Typography element. */\n  title: {},\n\n  /* Styles applied to the subheader Typography element. */\n  subheader: {}\n};\nvar CardHeader = /*#__PURE__*/React.forwardRef(function CardHeader(props, ref) {\n  var action = props.action,\n      avatar = props.avatar,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      subheaderProp = props.subheader,\n      subheaderTypographyProps = props.subheaderTypographyProps,\n      titleProp = props.title,\n      titleTypographyProps = props.titleTypographyProps,\n      other = _objectWithoutProperties(props, [\"action\", \"avatar\", \"classes\", \"className\", \"component\", \"disableTypography\", \"subheader\", \"subheaderTypographyProps\", \"title\", \"titleTypographyProps\"]);\n\n  var title = titleProp;\n\n  if (title != null && title.type !== Typography && !disableTypography) {\n    title = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: avatar ? 'body2' : 'h5',\n      className: classes.title,\n      component: \"span\",\n      display: \"block\"\n    }, titleTypographyProps), title);\n  }\n\n  var subheader = subheaderProp;\n\n  if (subheader != null && subheader.type !== Typography && !disableTypography) {\n    subheader = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: avatar ? 'body2' : 'body1',\n      className: classes.subheader,\n      color: \"textSecondary\",\n      component: \"span\",\n      display: \"block\"\n    }, subheaderTypographyProps), subheader);\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), avatar && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.avatar\n  }, avatar), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content\n  }, title, subheader), action && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardHeader'\n})(CardHeader);","import { GridSize } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport AppContext, { DrawerType } from \"./AppContext\"\n\nexport interface GridBreakpoints {\n    xs?: GridSize,\n    md?: GridSize,\n    sm?: GridSize,\n    lg?: GridSize,\n    xl?: GridSize\n}\n\nexport default function useGridBreakpoints(itemCount?: number): GridBreakpoints {\n    const { drawerType } = useContext(AppContext)\n\n    if (itemCount !== undefined) {\n        switch (itemCount) {\n            case 1:\n            case 2: return { xs: 12, sm: 6, md: 6, lg: 6, xl: 6 }\n            case 3: return { xs: 12, sm: 6, md: 6, lg: 4, xl: 4 }\n        }\n    }\n\n    if (drawerType != DrawerType.None)\n        return { xs: 12, md: 6, sm: 6, lg: 6, xl: 4 }\n    else return {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 4,\n        xl: 3\n    }\n}","import { Button, Card, CardActions, CardContent, CardHeader, Typography } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { prettyDuration } from \"../../jacdac-ts/src/jdom/pretty\";\nimport Trace from \"../../jacdac-ts/src/jdom/trace\";\nimport AppContext, { DrawerType } from \"./AppContext\";\nimport Markdown from \"./ui/Markdown\"\nimport PacketsContext from \"./PacketsContext\";\n\nexport default function TraceCard(props: { name: string, trace: Trace }) {\n    const { name, trace } = props;\n    const { description, duration, length } = trace;\n    const { setReplayTrace, toggleTracing } = useContext(PacketsContext)\n    const { setDrawerType } = useContext(AppContext)\n\n    const handleClick = () => {\n        setDrawerType(DrawerType.Packets)\n        setReplayTrace(trace)\n        toggleTracing();\n    }\n\n    return <Card>\n        <CardHeader\n            title={name}\n            subheader={`${prettyDuration(duration)}, ${length} packets`}\n        />\n        <CardContent>\n            {description && <Markdown source={description} />}\n        </CardContent>\n        <CardActions>\n            <Button onClick={handleClick} variant=\"outlined\">import</Button>\n        </CardActions>\n    </Card>\n}","import React from \"react\"\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport { parseTrace } from \"../../jacdac-ts/src/jdom/logparser\"\nimport Trace from \"../../jacdac-ts/src/jdom/trace\";\nimport { Grid } from \"@material-ui/core\";\nimport TraceCard from \"./TraceCard\";\nimport useGridBreakpoints from \"./useGridBreakpoints\"\n\nexport default function TraceList() {\n  const gridBreakpoints = useGridBreakpoints();\n  const data = useStaticQuery(graphql`\n    query {\n        allPlainText {\n          nodes {\n            content\n            parent {\n              ... on File {\n                name\n                ext\n              }\n            }\n          }\n        }\n      }`)\n  const traces: { trace: Trace; name: string }[] = data.allPlainText.nodes\n    .filter(node => node.parent?.ext === \".txt\")\n    .map(node => {\n      return {\n        trace: parseTrace(node.content as string),\n        name: node.parent.name as string\n      }\n    })\n    .filter(trace => !!trace.trace);\n\n  return <Grid container spacing={2}>\n    {traces.map(({ trace, name }) => <Grid item key={name}>\n      <TraceCard name={name} trace={trace} {...gridBreakpoints} />\n    </Grid>)}\n  </Grid >;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar CardActions = /*#__PURE__*/React.forwardRef(function CardActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActions'\n})(CardActions);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);"],"sourceRoot":""}