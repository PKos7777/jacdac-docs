{
  "@type": "Interface",
  "@id": "dtmi:jacdac:services:x1fa4c95a;1",
  "displayName": "Power",
  "description": "A power-provider service.",
  "contents": [
    {
      "@type": "Property",
      "name": "enabled",
      "@id": "dtmi:jacdac:x1fa4c95a:rw:enabled;1",
      "description": "Turn the power to the bus on/off.",
      "schema": "boolean",
      "writable": true
    },
    {
      "@type": [
        "Property",
        "Current"
      ],
      "name": "max_power",
      "@id": "dtmi:jacdac:x1fa4c95a:rw:maxpower;1",
      "description": "Limit the power provided by the service. The actual maximum limit will depend on hardware.\nThis field may be read-only in some implementations - you should read it back after setting.",
      "unit": "milliampere",
      "schema": "integer",
      "writable": true
    },
    {
      "@type": "Telemetry",
      "name": "overload",
      "@id": "dtmi:jacdac:x1fa4c95a:ro:overload;1",
      "description": "Indicates whether the power has been shut down due to overdraw.",
      "schema": "boolean"
    },
    {
      "@type": [
        "Telemetry",
        "Current"
      ],
      "name": "current_draw",
      "@id": "dtmi:jacdac:x1fa4c95a:ro:currentdraw;1",
      "description": "Present current draw from the bus.",
      "unit": "milliampere",
      "schema": "integer"
    },
    {
      "@type": [
        "Telemetry",
        "Voltage"
      ],
      "name": "battery_voltage",
      "@id": "dtmi:jacdac:x1fa4c95a:ro:batteryvoltage;1",
      "description": "Voltage on input.",
      "unit": "millivolt",
      "schema": "integer"
    },
    {
      "@type": "Telemetry",
      "name": "battery_charge",
      "@id": "dtmi:jacdac:x1fa4c95a:ro:batterycharge;1",
      "description": "Fraction of charge in the battery.",
      "schema": "float"
    },
    {
      "@type": "Property",
      "name": "battery_capacity",
      "@id": "dtmi:jacdac:x1fa4c95a:const:batterycapacity;1",
      "description": "Energy that can be delivered to the bus when battery is fully charged.\nThis excludes conversion overheads if any.",
      "schema": "integer"
    },
    {
      "@type": [
        "Property",
        "TimeSpan"
      ],
      "name": "keep_on_pulse_duration",
      "@id": "dtmi:jacdac:x1fa4c95a:rw:keeponpulseduration;1",
      "description": "Many USB power packs need current to be drawn from time to time to prevent shutdown.\nThis regulates how often and for how long such current is drawn.\nTypically a 1/8W 22 ohm resistor is used as load. This limits the duty cycle to 10%.",
      "unit": "millisecond",
      "schema": "integer",
      "writable": true
    },
    {
      "@type": [
        "Property",
        "TimeSpan"
      ],
      "name": "keep_on_pulse_period",
      "@id": "dtmi:jacdac:x1fa4c95a:rw:keeponpulseperiod;1",
      "description": "Many USB power packs need current to be drawn from time to time to prevent shutdown.\nThis regulates how often and for how long such current is drawn.\nTypically a 1/8W 22 ohm resistor is used as load. This limits the duty cycle to 10%.",
      "unit": "millisecond",
      "schema": "integer",
      "writable": true
    },
    {
      "@type": "Property",
      "name": "priority_offset",
      "@id": "dtmi:jacdac:x1fa4c95a:rw:priorityoffset;1",
      "description": "This value is added to `priority` of `active` reports, thus modifying amount of load-sharing\nbetween different supplies.\nThe `priority` is clamped to `u32` range when included in `active` reports.",
      "schema": "integer",
      "writable": true
    }
  ],
  "extends": [
    "dtmi:jacdac:services:x1ffffff3;1"
  ],
  "schemas": [
    {
      "@id": "dtmi:jacdac:x1fa4c95a:event;1",
      "@type": "Object",
      "fields": [
        {
          "name": "count",
          "schema": "integer"
        }
      ]
    }
  ],
  "@context": "dtmi:dtdl:context;2"
}