{
  "@type": "Interface",
  "@id": "dtmi:jacdac:services:x19ed364c;1",
  "displayName": "Azure IoT Hub",
  "description": "Send messages, receive commands, and work with device twins in Azure IoT Hub.",
  "contents": [
    {
      "@type": "Telemetry",
      "name": "connection_status",
      "@id": "dtmi:jacdac:x19ed364c:ro:connectionstatus;1",
      "description": "Returns `\"ok\"` when connected, and an error description otherwise.",
      "schema": "string"
    },
    {
      "@type": "Property",
      "name": "connection_string",
      "@id": "dtmi:jacdac:x19ed364c:rw:connectionstring;1",
      "description": "Connection string typically looks something like \n`HostName=my-iot-hub.azure-devices.net;DeviceId=my-dev-007;SharedAccessKey=xyz+base64key`.\nYou can get it in `Shared access policies -> iothubowner -> Connection string-primary key` in the Azure Portal.\nThis register is write-only.\nYou can use `hub_name` and `device_id` to check if connection string is set, but you cannot get the shared access key.",
      "schema": "string",
      "writable": true
    },
    {
      "@type": "Telemetry",
      "name": "hub_name",
      "@id": "dtmi:jacdac:x19ed364c:ro:hubname;1",
      "description": "Something like `my-iot-hub.azure-devices.net`; empty string when `connection_string` is not set.",
      "schema": "string"
    },
    {
      "@type": "Telemetry",
      "name": "device_id",
      "@id": "dtmi:jacdac:x19ed364c:ro:deviceid;1",
      "description": "Something like `my-dev-007`; empty string when `connection_string` is not set.",
      "schema": "string"
    },
    {
      "@type": [
        "Telemetry",
        "Event"
      ],
      "name": "connected",
      "@id": "dtmi:jacdac:x19ed364c:event:connected;1",
      "description": "Emitted upon successful connection.",
      "schema": "dtmi:jacdac:x19ed364c:event;1"
    },
    {
      "@type": "Telemetry",
      "name": "connection_error",
      "@id": "dtmi:jacdac:x19ed364c:event:connectionerror;1",
      "description": "Emitted when connection was lost.",
      "schema": "string"
    },
    {
      "@type": [
        "Telemetry",
        "Event"
      ],
      "name": "devicebound_str",
      "@id": "dtmi:jacdac:x19ed364c:event:deviceboundstr;1",
      "description": "This event is emitted upon reception of a cloud to device message, that is a string\n(doesn't contain NUL bytes) and fits in a single event packet.\nFor reliable reception, use the `subscribe` command above.",
      "schema": "dtmi:jacdac:x19ed364c:event;1"
    }
  ],
  "extends": [
    "dtmi:jacdac:services:x1ffffff3;1"
  ],
  "schemas": [
    {
      "@id": "dtmi:jacdac:x19ed364c:event;1",
      "@type": "Object",
      "fields": [
        {
          "name": "count",
          "schema": "integer"
        }
      ]
    }
  ],
  "@context": "dtmi:dtdl:context;2"
}