{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/Clear.js","webpack://jacdac-docs/./src/components/hooks/useAnalytics.ts","webpack://jacdac-docs/./src/components/CmdButton.tsx","webpack://jacdac-docs/./src/components/dashboard/DashboardHIDKeyboard.tsx","webpack://jacdac-docs/./src/components/hooks/useMounted.tsx"],"names":["useAnalytics","page","track","ACK_RESET_DELAY","ERROR_RESET_DELAY","useStyles","makeStyles","theme","getBackgroundColor","palette","type","lighten","darken","createStyles","ack","color","fontWeight","typography","fontWeightMedium","backgroundColor","success","main","error","CmdButton","props","onClick","className","style","children","icon","title","disabled","disableReset","autoRun","trackName","trackProperties","ackResetDelay","others","useContext","AppContext","setAppError","setError","classes","useState","working","setWorking","setAck","undefined","mounted","useMounted","_disabled","run","delay","handleClick","ev","stopPropagation","statusIcon","modeClassName","elClassName","clsx","useEffect","selectors","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","$","enter","escape","backspace","tab","_","capslock","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","printscreen","scrolllock","pause","insert","home","pageup","delete","end","pagedown","arrowright","arrowleft","arrowdown","arrowup","numlock","numpaddivide","numpadmultiply","numpadsubstract","numpadadd","numpadenter","numpad1","numpad2","numpad3","numpad4","numpad5","numpad6","numpad7","numpad8","numpad9","numpad0","numpaddecimal","numpadequal","f13","f14","f15","f16","f17","f18","f19","f20","f21","f22","f23","f24","execute","help","contextmenu","select","stop","again","undo","cut","copy","paste","find","mute","volumeup","volumedown","numpadcomma","reverseSelectors","Object","keys","reduce","key","modifierCodes","controlleft","HidKeyboardModifiers","controlright","altleft","altright","shiftleft","shiftright","metaleft","metaright","RightGUI","capture","cursor","borderColor","primary","action","active","renderKey","selector","modifiers","flags","values","forEach","flag","push","value","filter","join","DashboardHIDKeyboard","service","setSelector","setModifiers","received","setReceived","inputButtonRef","useRef","handleKeyDown","preventDefault","code","newSelector","toLowerCase","newModifiers","mcode","handleKeyDownReceived","toLocaleLowerCase","handleKeyUp","handleClear","current","sendCmdAsync","HidKeyboardCmd","unpacked","HidKeyboardAction","data","jdpack","clearDisabled","minWidth","length"],"mappings":"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","file":"5969-28ae651e34a83f7532f0.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\n\nexports.default = _default;","/*\nrequires \"@microsoft/applicationinsights-web-basic\": \"^2.6.1\",\nimport { ApplicationInsights } from \"@microsoft/applicationinsights-web-basic\"\n\n// YOUR_INSTRUMENTATION_KEY_GOES_HERE\nconst instrumentationKey: string = undefined\nconst appInsights =\n    instrumentationKey &&\n    new ApplicationInsights({\n        instrumentationKey,\n        isStorageUseDisabled: true,\n        isCookieUseDisabled: true,\n    })\nconst page =\n    typeof window !== \"undefined\"\n        ? () =>\n              appInsights?.track({\n                  name: window.location.href,\n                  time: new Date().toUTCString(),\n                  baseType: \"PageData\",\n              })\n        : () => {}\nconst track =\n    typeof window !== \"undefined\"\n        ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (name: string, properties?: { [key: string]: any }) =>\n              appInsights?.track({\n                  name,\n                  time: new Date().toUTCString(),\n                  data: properties,\n                  baseType: \"EventData\",\n              })\n        : // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          (name, properties) => {}\nif (typeof window !== \"undefined\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ;(window as any).analytics = {\n        page,\n        track,\n    }\n}\n*/\n\nexport default function useAnalytics(): {\n    page: () => void\n    track: (name: string, properties?: { [key: string]: string | number }) => void\n} {\n    const page = () => {}\n    const track = () => {}\n    return {\n        page,\n        track,\n    }\n}\n","import {\n    createStyles,\n    darken,\n    lighten,\n    makeStyles,\n    Theme,\n} from \"@material-ui/core\"\nimport { Button } from \"gatsby-theme-material-ui\"\nimport React, {\n    CSSProperties,\n    ReactNode,\n    useContext,\n    useEffect,\n    useState,\n} from \"react\"\nimport AppContext from \"./AppContext\"\n// tslint:disable-next-line: match-default-export-name no-submodule-imports\nimport ErrorIcon from \"@material-ui/icons/Error\"\nimport { delay } from \"../../jacdac-ts/src/jdom/utils\"\nimport IconButtonWithTooltip from \"./ui/IconButtonWithTooltip\"\nimport useAnalytics from \"./hooks/useAnalytics\"\nimport useMounted from \"./hooks/useMounted\"\nimport clsx from \"clsx\"\n\nconst ACK_RESET_DELAY = 500\nconst ERROR_RESET_DELAY = 2000\n\nconst useStyles = makeStyles((theme: Theme) => {\n    const getBackgroundColor = theme.palette.type === \"light\" ? lighten : darken\n    return createStyles({\n        ack: {\n            color: \"#fff\",\n            fontWeight: theme.typography.fontWeightMedium,\n            backgroundColor: theme.palette.success.main,\n        },\n        error: {\n            color: \"#fff\",\n            backgroundColor: getBackgroundColor(theme.palette.error.main, 0.6),\n        },\n    })\n})\n\nexport default function CmdButton(props: {\n    onClick: () => Promise<void>\n    className?: string\n    style?: CSSProperties\n    title?: string\n    children?: ReactNode\n    icon?: JSX.Element\n    size?: \"small\" | undefined\n    variant?: \"outlined\" | \"contained\" | undefined\n    disabled?: boolean\n    disableReset?: boolean\n    autoRun?: boolean\n    trackName?: string\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    trackProperties?: { [key: string]: any }\n    ackResetDelay?: number\n}) {\n    const {\n        onClick,\n        className,\n        style,\n        children,\n        icon,\n        title,\n        disabled,\n        disableReset,\n        autoRun,\n        trackName,\n        trackProperties,\n        ackResetDelay,\n        ...others\n    } = props\n\n    const { setError: setAppError } = useContext(AppContext)\n    const classes = useStyles()\n    const [working, setWorking] = useState(false)\n    const [ack, setAck] = useState(false)\n    const [error, setError] = useState(undefined)\n    const { track } = useAnalytics()\n    const mounted = useMounted()\n\n    const _disabled = disabled || working\n\n    const run = async () => {\n        if (working) return // already working\n\n        if (trackName) track(\"cmd.\" + trackName, trackProperties)\n        try {\n            setError(undefined)\n            setAck(false)\n            setWorking(true)\n            await onClick()\n            if (!mounted()) return\n            setAck(true)\n            if (!disableReset) {\n                await delay(ackResetDelay || ACK_RESET_DELAY)\n                if (!mounted) return\n                setAck(false)\n            }\n        } catch (e) {\n            if (!mounted()) return\n            setAppError(e)\n            setError(e)\n            if (!disableReset) {\n                await delay(ERROR_RESET_DELAY)\n                if (!mounted()) return\n                setError(undefined)\n            }\n        } finally {\n            if (mounted()) setWorking(false)\n        }\n    }\n\n    const handleClick = async (ev: React.MouseEvent<HTMLButtonElement>) => {\n        ev.stopPropagation()\n        run()\n    }\n\n    const statusIcon = error ? <ErrorIcon /> : undefined\n    const modeClassName = error ? classes.error : ack ? classes.ack : undefined\n    const elClassName = clsx(className, modeClassName)\n\n    // run once\n    useEffect(() => {\n        if (autoRun) run()\n    }, [autoRun])\n\n    if (!children && icon)\n        return (\n            <IconButtonWithTooltip\n                className={elClassName}\n                style={style}\n                onClick={handleClick}\n                aria-label={title}\n                title={title}\n                disabled={_disabled}\n                {...others}\n            >\n                {statusIcon || icon}\n            </IconButtonWithTooltip>\n        )\n    else\n        return (\n            <Button\n                className={elClassName}\n                style={style}\n                startIcon={icon}\n                endIcon={statusIcon}\n                onClick={handleClick}\n                aria-label={title}\n                title={title}\n                disabled={_disabled}\n                {...others}\n            >\n                {children}\n            </Button>\n        )\n}\n","import React, { useState, KeyboardEvent, useRef } from \"react\"\nimport { createStyles, Grid, makeStyles, Typography } from \"@material-ui/core\"\nimport {\n    HidKeyboardAction,\n    HidKeyboardCmd,\n    HidKeyboardModifiers,\n} from \"../../../jacdac-ts/jacdac-spec/dist/specconstants\"\nimport { DashboardServiceProps } from \"./DashboardServiceWidget\"\nimport { jdpack } from \"../../../jacdac-ts/src/jdom/pack\"\nimport CmdButton from \"../CmdButton\"\nimport ClearIcon from \"@material-ui/icons/Clear\"\nimport { delay } from \"../../../jacdac-ts/src/jdom/utils\"\n\nconst selectors = {\n    a: 0x04,\n    b: 0x05,\n    c: 0x06,\n    d: 0x07,\n    e: 0x08,\n    f: 0x09,\n    g: 0x0a,\n    h: 0x0b,\n    i: 0x0c,\n    j: 0x0d,\n    k: 0x0e,\n    l: 0x0f,\n    m: 0x10,\n    n: 0x11,\n    o: 0x12,\n    p: 0x13,\n    q: 0x14,\n    r: 0x15,\n    s: 0x16,\n    t: 0x17,\n    u: 0x18,\n    v: 0x19,\n    w: 0x1a,\n    x: 0x1b,\n    y: 0x1c,\n    z: 0x1d,\n\n    \"1\": 0x1e,\n    \"2\": 0x1f,\n    \"3\": 0x20,\n    \"4\": 0x21,\n    \"5\": 0x22,\n    \"6\": 0x23,\n    \"7\": 0x24,\n    \"8\": 0x25,\n    \"9\": 0x26,\n    \"0\": 0x27,\n\n    \"!\": 0x1e,\n    \"@\": 0x1f,\n    \"#\": 0x20,\n    $: 0x21,\n    \"%\": 0x22,\n    \"^\": 0x23,\n    \"&\": 0x24,\n    \"*\": 0x25,\n    \"(\": 0x26,\n    \")\": 0x27,\n\n    enter: 0x28,\n    escape: 0x29,\n    backspace: 0x2a,\n    tab: 0x2b,\n    \" \": 0x2c,\n    \"-\": 0x2d,\n    _: 0x2d,\n    \"=\": 0x2e,\n    \"+\": 0x2e,\n    \"[\": 0x2f,\n    \"{\": 0x2f,\n    \"]\": 0x30,\n    \"}\": 0x30,\n    \"\\\\\": 0x31,\n    \"|\": 0x31,\n    // non-US #\n    \"~\": 0x32,\n    \";\": 0x33,\n    \":\": 0x33,\n    \"'\": 0x34,\n    '\"': 0x34,\n    // grave accent tilde\n    \",\": 0x36,\n    \"<\": 0x37,\n    \".\": 0x37,\n    \">\": 0x37,\n    \"/\": 0x38,\n    \"?\": 0x38,\n    capslock: 0x39,\n    f1: 0x3a,\n    f2: 0x3b,\n    f3: 0x3c,\n    f4: 0x3d,\n    f5: 0x3e,\n    f6: 0x3f,\n    f7: 0x40,\n    f8: 0x41,\n    f9: 0x42,\n    f10: 0x43,\n    f11: 0x44,\n    f12: 0x45,\n    printscreen: 0x46,\n    scrolllock: 0x47,\n    pause: 0x48,\n    insert: 0x49,\n    home: 0x4a,\n    pageup: 0x4b,\n    delete: 0x4c,\n    end: 0x4d,\n    pagedown: 0x4e,\n    arrowright: 0x4f,\n    arrowleft: 0x50,\n    arrowdown: 0x51,\n    arrowup: 0x52,\n    numlock: 0x53,\n    numpaddivide: 0x54,\n    numpadmultiply: 0x55,\n    numpadsubstract: 0x56,\n    numpadadd: 0x57,\n    numpadenter: 0x58,\n    numpad1: 0x59,\n    numpad2: 0x5a,\n    numpad3: 0x5b,\n    numpad4: 0x5c,\n    numpad5: 0x5d,\n    numpad6: 0x5e,\n    numpad7: 0x5f,\n    numpad8: 0x60,\n    numpad9: 0x61,\n    numpad0: 0x62,\n    numpaddecimal: 0x63,\n    numpadequal: 0x67,\n    f13: 0x68,\n    f14: 0x69,\n    f15: 0x6a,\n    f16: 0x6b,\n    f17: 0x6c,\n    f18: 0x6d,\n    f19: 0x6e,\n    f20: 0x6f,\n    f21: 0x70,\n    f22: 0x71,\n    f23: 0x72,\n    f24: 0x73,\n    execute: 0x74,\n    help: 0x75,\n    contextmenu: 0x76,\n    select: 0x77,\n    stop: 0x78,\n    again: 0x79,\n    undo: 0x7a,\n    cut: 0x7b,\n    copy: 0x7c,\n    paste: 0x7d,\n    find: 0x7e,\n    mute: 0x7f,\n    volumeup: 0x80,\n    volumedown: 0x81,\n\n    numpadcomma: 0x85,\n}\nconst reverseSelectors: { [index: number]: string } = Object.keys(\n    selectors\n).reduce((r, key) => {\n    if (!r[selectors[key]]) r[selectors[key]] = key\n    return r\n}, {})\nconst modifierCodes = {\n    controlleft: HidKeyboardModifiers.LeftControl,\n    controlright: HidKeyboardModifiers.RightControl,\n    altleft: HidKeyboardModifiers.LeftAlt,\n    altright: HidKeyboardModifiers.RightAlt,\n    shiftleft: HidKeyboardModifiers.LeftShift,\n    shiftright: HidKeyboardModifiers.RightShift,\n    metaleft: HidKeyboardModifiers.LeftGUI,\n    metaright: HidKeyboardModifiers.RightGUI,\n}\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        capture: {\n            cursor: \"pointer\",\n            \"&:hover\": {\n                borderColor: theme.palette.primary.main,\n            },\n            \"&:focus\": {\n                borderColor: theme.palette.action.active,\n            },\n        },\n    })\n)\n\nfunction renderKey(selector: number, modifiers: HidKeyboardModifiers) {\n    const flags = [\n        \"ctrl\",\n        \"shift\",\n        \"alt\",\n        \"cmd\",\n        \"right ctrl\",\n        \"right shift\",\n        \"right alt\",\n        \"right cmd\",\n    ]\n    const values = []\n    flags.forEach((flag, i) => {\n        if (modifiers & (1 << i)) {\n            values.push(flag)\n        }\n    })\n    values.push(reverseSelectors[selector])\n    const value = values.filter(v => !!v).join(\" + \")\n    return value\n}\n\nexport default function DashboardHIDKeyboard(props: DashboardServiceProps) {\n    const { service } = props\n    const [selector, setSelector] = useState(0)\n    const [modifiers, setModifiers] = useState(HidKeyboardModifiers.None)\n    const [received, setReceived] = useState<string[]>([])\n    const classes = useStyles()\n    const inputButtonRef = useRef<HTMLInputElement>()\n\n    const handleKeyDown = (ev: KeyboardEvent<HTMLInputElement>) => {\n        ev.stopPropagation()\n        ev.preventDefault()\n        const { key, code } = ev\n\n        const newSelector =\n            selectors[code.toLowerCase()] || selectors[key.toLowerCase()] || 0\n        let newModifiers = modifiers\n        const mcode = modifierCodes[code.toLowerCase()]\n        if (mcode) {\n            if (newModifiers & mcode) newModifiers &= ~mcode\n            else newModifiers |= mcode\n        }\n        if (newSelector) setSelector(newSelector)\n        setModifiers(newModifiers)\n    }\n\n    const handleKeyDownReceived = (ev: KeyboardEvent<HTMLInputElement>) => {\n        ev.stopPropagation()\n        ev.preventDefault()\n        const { code } = ev\n        setReceived([...received, code.toLocaleLowerCase()])\n    }\n\n    const handleKeyUp = (ev: KeyboardEvent<HTMLInputElement>) => {\n        ev.stopPropagation()\n        ev.preventDefault()\n    }\n\n    const handleClear = async () => {\n        inputButtonRef.current.value = \"\"\n        setSelector(0)\n        setModifiers(HidKeyboardModifiers.None)\n        await service.sendCmdAsync(HidKeyboardCmd.Clear)\n    }\n\n    const handleClick = async () => {\n        setReceived([])\n        await delay(100)\n        const unpacked: [\n            [number, HidKeyboardModifiers, HidKeyboardAction][]\n        ] = [[[selector, modifiers, HidKeyboardAction.Press]]]\n        const data = jdpack(\"r: u16 u8 u8\", unpacked)\n        await service.sendCmdAsync(HidKeyboardCmd.Key, data)\n    }\n\n    const value = renderKey(selector, modifiers)\n    const clearDisabled = !selector && !modifiers\n\n    return (\n        <Grid container direction=\"column\" spacing={1}>\n            <Grid item xs={12}>\n                <Grid container>\n                    <Grid item xs>\n                        <pre\n                            style={{ minWidth: \"18rem\" }}\n                            className={classes.capture}\n                            tabIndex={0}\n                            onKeyDown={handleKeyDown}\n                            onKeyUp={handleKeyUp}\n                        >\n                            {value || \"focus and type your key combo\"}\n                        </pre>\n                    </Grid>\n                    <Grid item>\n                        <CmdButton\n                            title=\"clear keys\"\n                            disabled={clearDisabled}\n                            onClick={handleClear}\n                            icon={<ClearIcon />}\n                        />\n                    </Grid>\n                </Grid>\n            </Grid>\n            <Grid item xs={12}>\n                <pre\n                    tabIndex={0}\n                    ref={inputButtonRef}\n                    onFocus={handleClick}\n                    onKeyDown={handleKeyDownReceived}\n                >\n                    {received.length ? received.join(\" + \") : \"click to send\"}\n                </pre>\n            </Grid>\n        </Grid>\n    )\n}\n","import { useEffect, useRef } from \"react\";\n\nexport default function useMounted(): () => boolean {\n    const mounted = useRef(false);\n    useEffect(() => {\n        mounted.current = true;\n        return () => { mounted.current = false; }\n    }, []);\n    return () => mounted.current;\n}"],"sourceRoot":""}