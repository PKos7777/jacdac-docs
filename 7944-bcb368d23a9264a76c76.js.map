{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/core/esm/CardActions/CardActions.js","webpack://jacdac-docs/./src/components/TraceCard.tsx","webpack://jacdac-docs/./src/components/TraceList.tsx","webpack://jacdac-docs/./src/components/useGridBreakpoints.ts"],"names":["TraceCard","props","name","trace","description","duration","length","useContext","PacketsContext","setReplayTrace","toggleTracing","AppContext","setDrawerType","handleClick","DrawerType","prettyDuration","TraceList","gridBreakpoints","useGridBreakpoints","data","useStaticQuery","traces","allPlainText","nodes","filter","node","parent","ext","map","parseTrace","content","itemCount","drawerType","undefined","xs","sm","md","lg","xl"],"mappings":"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","file":"7944-bcb368d23a9264a76c76.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar CardActions = /*#__PURE__*/React.forwardRef(function CardActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActions'\n})(CardActions);","import { Button, Card, CardActions, CardContent, CardHeader, Typography } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { prettyDuration } from \"../../jacdac-ts/src/jdom/pretty\";\nimport Trace from \"../../jacdac-ts/src/jdom/trace\";\nimport AppContext, { DrawerType } from \"./AppContext\";\nimport Markdown from \"./ui/Markdown\"\nimport PacketsContext from \"./PacketsContext\";\n\nexport default function TraceCard(props: { name: string, trace: Trace }) {\n    const { name, trace } = props;\n    const { description, duration, length } = trace;\n    const { setReplayTrace, toggleTracing } = useContext(PacketsContext)\n    const { setDrawerType } = useContext(AppContext)\n\n    const handleClick = () => {\n        setDrawerType(DrawerType.Packets)\n        setReplayTrace(trace)\n        toggleTracing();\n    }\n\n    return <Card>\n        <CardHeader\n            title={name}\n            subheader={`${prettyDuration(duration)}, ${length} packets`}\n        />\n        <CardContent>\n            {description && <Markdown source={description} />}\n        </CardContent>\n        <CardActions>\n            <Button onClick={handleClick} variant=\"outlined\">import</Button>\n        </CardActions>\n    </Card>\n}","import React from \"react\"\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport { parseTrace } from \"../../jacdac-ts/src/jdom/logparser\"\nimport Trace from \"../../jacdac-ts/src/jdom/trace\";\nimport { Grid } from \"@material-ui/core\";\nimport TraceCard from \"./TraceCard\";\nimport useGridBreakpoints from \"./useGridBreakpoints\"\n\nexport default function TraceList() {\n  const gridBreakpoints = useGridBreakpoints();\n  const data = useStaticQuery(graphql`\n    query {\n        allPlainText {\n          nodes {\n            content\n            parent {\n              ... on File {\n                name\n                ext\n              }\n            }\n          }\n        }\n      }`)\n  const traces: { trace: Trace; name: string }[] = data.allPlainText.nodes\n    .filter(node => node.parent?.ext === \".txt\")\n    .map(node => {\n      return {\n        trace: parseTrace(node.content as string),\n        name: node.parent.name as string\n      }\n    })\n    .filter(trace => !!trace.trace);\n\n  return <Grid container spacing={2}>\n    {traces.map(({ trace, name }) => <Grid item key={name}>\n      <TraceCard name={name} trace={trace} {...gridBreakpoints} />\n    </Grid>)}\n  </Grid >;\n}","import { GridSize } from \"@material-ui/core\"\nimport React, { useContext } from \"react\"\nimport AppContext, { DrawerType } from \"./AppContext\"\n\nexport interface GridBreakpoints {\n    xs?: GridSize,\n    md?: GridSize,\n    sm?: GridSize,\n    lg?: GridSize,\n    xl?: GridSize\n}\n\nexport default function useGridBreakpoints(itemCount?: number): GridBreakpoints {\n    const { drawerType } = useContext(AppContext)\n\n    if (itemCount !== undefined) {\n        switch (itemCount) {\n            case 1:\n            case 2: return { xs: 12, sm: 6, md: 6, lg: 6, xl: 6 }\n            case 3: return { xs: 12, sm: 6, md: 6, lg: 4, xl: 4 }\n        }\n    }\n\n    if (drawerType != DrawerType.None)\n        return { xs: 12, md: 6, sm: 6, lg: 6, xl: 4 }\n    else return {\n        xs: 12,\n        sm: 6,\n        md: 4,\n        lg: 4,\n        xl: 3\n    }\n}"],"sourceRoot":""}