{"version":3,"sources":["webpack://jacdac-docs/./node_modules/@material-ui/icons/Edit.js","webpack://jacdac-docs/./src/components/ui/CodeSandboxButton.tsx"],"names":["CodeSandboxButton","props","source","useContext","AppContext","setError","useState","importing","setImporting","handleClick","content","html","fetch","method","headers","Accept","body","JSON","stringify","files","dependencies","x","json","data","console","log","url","sandbox_id","window","location","href"],"mappings":";;;;;;;AAAa;;AAEb,6BAA6B,mBAAO,CAAC,KAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,KAA+C;;AAErF,6BAA6C;AAC7C;AACA,CAAC,CAAC;AACF,SAAe;;AAEf,oCAAoC,mBAAO,CAAC,KAAO;;AAEnD,4CAA4C,mBAAO,CAAC,KAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,SAAe,Y;;;;;;;;;;;;;;;;;;;;;ACnBf;AACA;AACA;AACA;AAEe,SAASA,iBAAT,CAA2BC,KAA3B,EAAsD;AAAA,MACzDC,MADyD,GAC9CD,KAD8C,CACzDC,MADyD;;AAAA,oBAE5CC,iDAAU,CAACC,0DAAD,CAFkC;AAAA,MAEzDC,QAFyD,eAEzDA,QAFyD;;AAAA,kBAG/BC,+CAAQ,CAAC,KAAD,CAHuB;AAAA,MAG1DC,SAH0D;AAAA,MAG/CC,YAH+C;;AAKjE,MAAMC,WAAW;AAAA,kMAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,qBADU,GACAR,MADA;AAEVS,kBAFU;AAAA;AAcZH,0BAAY,CAAC,IAAD,CAAZ;AAdY;AAAA,qBAeII,KAAK,CACjB,uDADiB,EAEjB;AACIC,sBAAM,EAAE,MADZ;AAEIC,uBAAO,EAAE;AACL,kCAAgB,kBADX;AAELC,wBAAM,EAAE;AAFH,iBAFb;AAMIC,oBAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,uBAAK,EAAE;AACH,oCAAgB;AACZT,6BAAO,EAAE;AACLU,oCAAY,EAAE;AACV,uCAAa;AADH;AADT;AADG,qBADb;AAQH,gCAAY;AACRV,6BAAO,EAAPA;AADQ,qBART;AAWH,kCAAc;AACVA,6BAAO,EAAEC;AADC;AAXX;AADU,iBAAf;AANV,eAFiB,CAfT;;AAAA;AAeNU,eAfM;AAAA;AAAA,qBA0COA,CAAC,CAACC,IAAF,EA1CP;;AAAA;AA0CNC,kBA1CM;AA2CZC,qBAAO,CAACC,GAAR,CAAYF,IAAZ;AACMG,iBA5CM,iCA4C4BH,IAAI,CAACI,UA5CjC;AA6CZC,oBAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,GAAvB;AA7CY;AAAA;;AAAA;AAAA;AAAA;AA+CZrB,sBAAQ,aAAR;;AA/CY;AAAA;AAiDZG,0BAAY,CAAC,KAAD,CAAZ;AAjDY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXC,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAqDA,sBACI,iDAAC,oEAAD;AACI,WAAO,EAAEA,WADb;AAEI,YAAQ,EAAEF,SAFd;AAGI,SAAK,EAAC;AAHV,kBAKI,iDAAC,qEAAD,OALJ,CADJ;AASH,C","file":"8574-74e374a4efdab7421f99.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","import React, { useContext, useState } from \"react\"\nimport AppContext from \"../AppContext\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport IconButtonWithTooltip from \"./IconButtonWithTooltip\"\n\nexport default function CodeSandboxButton(props: { source: string }) {\n    const { source } = props\n    const { setError } = useContext(AppContext)\n    const [importing, setImporting] = useState(false)\n\n    const handleClick = async () => {\n        const content = source\n        const html = `\n<html>\n    <script src=\"./node_modules/jacdac-ts/dist/jacdac-umd.js\" />\n    <body>\n        <p>\n            Open console to see messages...\n        </p>\n        <script src=\"./index.js\" />\n    </body>\n</html>    \n        `\n        try {\n            setImporting(true)\n            const x = await fetch(\n                \"https://codesandbox.io/api/v1/sandboxes/define?json=1\",\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        Accept: \"application/json\",\n                    },\n                    body: JSON.stringify({\n                        files: {\n                            \"package.json\": {\n                                content: {\n                                    dependencies: {\n                                        \"jacdac-ts\": \"latest\",\n                                    },\n                                },\n                            },\n                            \"index.js\": {\n                                content,\n                            },\n                            \"index.html\": {\n                                content: html,\n                            },\n                        },\n                    }),\n                }\n            )\n            const data = await x.json()\n            console.log(data)\n            const url = `https://codesandbox.io/s/${data.sandbox_id}?file=/index.js`\n            window.location.href = url\n        } catch (error) {\n            setError(error)\n        } finally {\n            setImporting(false)\n        }\n    }\n\n    return (\n        <IconButtonWithTooltip\n            onClick={handleClick}\n            disabled={importing}\n            title=\"Try in CodeSandbox\"\n        >\n            <EditIcon />\n        </IconButtonWithTooltip>\n    )\n}\n"],"sourceRoot":""}